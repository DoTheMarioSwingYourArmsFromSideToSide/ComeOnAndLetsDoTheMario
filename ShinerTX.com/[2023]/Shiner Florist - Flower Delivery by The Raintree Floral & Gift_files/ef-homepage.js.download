(function(l){l.extend(l.fn,{validate:function(e){if(this.length){var i=l.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new l.validator(e,this[0]),l.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),l(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==l(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit",function(t){function e(){var e;return!i.settings.submitHandler||(i.submitButton&&(e=l("<input type='hidden'/>").attr("name",i.submitButton.name).val(l(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,t),i.submitButton&&e.remove(),!1)}return i.settings.debug&&t.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,e()):i.form()?i.pendingRequest?!(i.formSubmitted=!0):e():(i.focusInvalid(),!1)})),i)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){if(l(this[0]).is("form"))return this.validate().form();var e=!0,t=l(this[0].form).validate();return this.each(function(){e=e&&t.element(this)}),e},removeAttrs:function(e){var i={},n=this;return l.each(e.split(/\s/),function(e,t){i[t]=n.attr(t),n.removeAttr(t)}),i},rules:function(e,t){var i=this[0];if(e){var n=l.data(i.form,"validator").settings,o=n.rules,s=l.validator.staticRules(i);switch(e){case"add":l.extend(s,l.validator.normalizeRule(t)),delete s.messages,o[i.name]=s,t.messages&&(n.messages[i.name]=l.extend(n.messages[i.name],t.messages));break;case"remove":if(!t)return delete o[i.name],s;var a={};return l.each(t.split(/\s/),function(e,t){a[t]=s[t],delete s[t]}),a}}var r=l.validator.normalizeRules(l.extend({},l.validator.classRules(i),l.validator.attributeRules(i),l.validator.dataRules(i),l.validator.staticRules(i)),i);return r.required&&(e=r.required,delete r.required,r=l.extend({required:e},r)),r}}),l.extend(l.expr.pseudos,{blank:function(e){return!l.trim(""+l(e).val())},filled:function(e){return!!l.trim(""+l(e).val())},unchecked:function(e){return!l(e).prop("checked")}}),l.validator=function(e,t){this.settings=l.extend(!0,{},l.validator.defaults,e),this.currentForm=t,this.init()},l.validator.format=function(i,e){return 1===arguments.length?function(){var e=l.makeArray(arguments);return e.unshift(i),l.validator.format.apply(this,e)}:((e=2<arguments.length&&e.constructor!==Array?l.makeArray(arguments).slice(1):e).constructor!==Array&&(e=[e]),l.each(e,function(e,t){i=i.replace(RegExp("\\{"+e+"\\}","g"),function(){return t})}),i)},l.extend(l.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"is-error",validClass:"valid",errorElement:"span",focusInvalid:!0,errorContainer:l([]),errorLabelContainer:l([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){9===t.which&&""===this.elementValue(e)||!(e.name in this.submitted||e===this.lastElement)||this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):l(e)).addClass(t).removeClass(i)},unhighlight:function(e,t,i){("radio"===e.type?this.findByName(e.name):l(e)).removeClass(t).addClass(i)}},setDefaults:function(e){l.extend(l.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:l.validator.format("Please enter no more than {0} characters."),minlength:l.validator.format("Please enter at least {0} characters."),rangelength:l.validator.format("Please enter a value between {0} and {1} characters long."),range:l.validator.format("Please enter a value between {0} and {1}."),max:l.validator.format("Please enter a value less than or equal to {0}."),min:l.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var t=l.data(this[0].form,"validator"),i="on"+e.type.replace(/^validate/,"");t.settings[i]&&t.settings[i].call(t,this[0],e)}this.labelContainer=l(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||l(this.currentForm),this.containers=l(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};l.each(this.settings.groups,function(i,e){"string"==typeof e&&(e=e.split(/\s/)),l.each(e,function(e,t){n[t]=i})});var i=this.settings.rules;l.each(i,function(e,t){i[e]=l.validator.normalizeRule(t)}),l(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&l(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),l.extend(this.submitted,this.errorMap),this.invalid=l.extend({},this.errorMap),this.valid()||l(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=l(e);var t=!1!==this.check(e);return t?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t},showErrors:function(t){if(t){for(var e in l.extend(this.errorMap,t),this.errorList=[],t)this.errorList.push({message:t[e],element:this.findByName(e)[0]});this.successList=l.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){l.fn.resetForm&&l(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,i=0;for(t in e)i++;return i},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{l(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focusin")}catch(e){}},findLastActive:function(){var t=this.lastActive;return t&&1===l.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var e=this,t={};return l(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),!(this.name in t||!e.objectLength(l(this).rules()))&&(t[this.name]=!0)})},clean:function(e){return l(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return l(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=l([]),this.toHide=l([]),this.currentElements=l([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(e){var t=l(e).attr("type"),i=l(e).val();return"radio"===t||"checkbox"===t?l("input[name='"+l(e).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var e,i,n=l(t).rules(),o=!1,s=this.elementValue(t);for(i in n){var a={method:i,parameters:n[i]};try{if("dependency-mismatch"===(e=l.validator.methods[i].call(this,s,t,a.parameters))){o=!0;continue}if(o=!1,"pending"===e)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!e)return this.formatAndAdd(t,a),!1}catch(e){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+a.method+"' method.",e),e}}return o?void 0:(this.objectLength(n)&&this.successList.push(t),!0)},customDataMessage:function(e,t){return l(e).data("msg-"+t.toLowerCase())||e.attributes&&l(e).attr("data-msg-"+t.toLowerCase())},customMessage:function(e,t){e=this.settings.messages[e];return e&&(e.constructor===String?e:e[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(e,t){return this.findDefined(this.customMessage(e.name,t),this.customDataMessage(e,t),!this.settings.ignoreTitle&&e.title||void 0,l.validator.messages[t],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,t){var i=this.defaultMessage(e,t.method),n=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,t.parameters,e):n.test(i)&&(i=l.validator.format(i.replace(n,"{$1}"),t.parameters)),this.errorList.push({message:i,element:e}),this.errorMap[e.name]=i,this.submitted[e.name]=i},addWrapper:function(e){return e=this.settings.wrapper?e.add(e.parent(this.settings.wrapper)):e},defaultShowErrors:function(){for(var e,t=0;this.errorList[t];t++){var i=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return l(this.errorList).map(function(){return this.element})},showLabel:function(e,t){var i=this.errorsFor(e);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(t)):(i=l("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(t||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,l(e)):i.insertAfter(e))),!t&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,e)),this.toShow=this.toShow.add(i)},errorsFor:function(e){var t=this.idOrName(e);return this.errors().filter(function(){return l(this).attr("for")===t})},idOrName:function(e){return this.groups[e.name]||!this.checkable(e)&&e.id||e.name},validationTargetFor:function(e){return e=this.checkable(e)?this.findByName(e.name).not(this.settings.ignore)[0]:e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(e){return l(this.currentForm).find("[name='"+e+"']")},getLength:function(e,t){switch(t.nodeName.toLowerCase()){case"select":return l("option:selected",t).length;case"input":if(this.checkable(t))return this.findByName(t.name).filter(":checked").length}return e.length},depend:function(e,t){return!this.dependTypes[typeof e]||this.dependTypes[typeof e](e,t)},dependTypes:{boolean:function(e){return e},string:function(e,t){return!!l(e,t.form).length},function:function(e,t){return e(t)}},optional:function(e){var t=this.elementValue(e);return!l.validator.methods.required.call(this,t,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(e,t){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(l(this.currentForm).submit(),this.formSubmitted=!1):!t&&0===this.pendingRequest&&this.formSubmitted&&(l(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return l.data(e,"previousValue")||l.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,t){e.constructor===String?this.classRuleSettings[e]=t:l.extend(this.classRuleSettings,e)},classRules:function(e){var t={},e=l(e).attr("class");return e&&l.each(e.split(" "),function(){this in l.validator.classRuleSettings&&l.extend(t,l.validator.classRuleSettings[this])}),t},attributeRules:function(e){var t,i={},n=l(e),o=n[0].getAttribute("type");for(t in l.validator.methods){var s="required"===t?!!(s=""===(s=n.get(0).getAttribute(t))?!0:s):n.attr(t);(s=/min|max/.test(t)&&(null===o||/number|range|text/.test(o))?Number(s):s)?i[t]=s:o===t&&"range"!==o&&(i[t]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var t,i,n={},o=l(e);for(t in l.validator.methods)i=o.data("rule-"+t.toLowerCase()),void 0!==i&&(n[t]=i);return n},staticRules:function(e){var t={},i=l.data(e.form,"validator");return t=i.settings.rules?l.validator.normalizeRule(i.settings.rules[e.name])||{}:t},normalizeRules:function(n,o){return l.each(n,function(e,t){if(!1!==t){if(t.param||t.depends){var i=!0;switch(typeof t.depends){case"string":i=!!l(t.depends,o.form).length;break;case"function":i=t.depends.call(o,o)}i?n[e]=void 0===t.param||t.param:delete n[e]}}else delete n[e]}),l.each(n,function(e,t){n[e]="function"==typeof t?t(o):t}),l.each(["minlength","maxlength"],function(){n[this]&&(n[this]=Number(n[this]))}),l.each(["rangelength","range"],function(){var e;n[this]&&(Array.isArray(n[this])?n[this]=[Number(n[this][0]),Number(n[this][1])]:"string"==typeof n[this]&&(e=n[this].split(/[\s,]+/),n[this]=[Number(e[0]),Number(e[1])]))}),l.validator.autoCreateRanges&&(n.min&&n.max&&(n.range=[n.min,n.max],delete n.min,delete n.max),n.minlength&&n.maxlength&&(n.rangelength=[n.minlength,n.maxlength],delete n.minlength,delete n.maxlength)),n},normalizeRule:function(e){var t;return"string"==typeof e&&(t={},l.each(e.split(/\s/),function(){t[this]=!0}),e=t),e},addMethod:function(e,t,i){l.validator.methods[e]=t,l.validator.messages[e]=void 0!==i?i:l.validator.messages[e],t.length<3&&l.validator.addClassRules(e,l.validator.normalizeRule(e))},methods:{required:function(e,t,i){if(!this.depend(i,t))return"dependency-mismatch";if("select"!==t.nodeName.toLowerCase())return this.checkable(t)?0<this.getLength(e,t):0<e.trim().length;t=l(t).val();return t&&0<t.length},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(""+new Date(e))},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;for(var i=0,n=0,o=!1,s=(e=e.replace(/\D/g,"")).length-1;0<=s;s--){var a=e.charAt(s),n=parseInt(a,10);o&&9<(n*=2)&&(n-=9),i+=n,o=!o}return 0==i%10},minlength:function(e,t,i){e=Array.isArray(e)?e.length:this.getLength(e.trim(),t);return this.optional(t)||i<=e},maxlength:function(e,t,i){e=Array.isArray(e)?e.length:this.getLength(e.trim(),t);return this.optional(t)||e<=i},rangelength:function(e,t,i){e=Array.isArray(e)?e.length:this.getLength(e.trim(),t);return this.optional(t)||e>=i[0]&&i[1]>=e},min:function(e,t,i){return this.optional(t)||i<=e},max:function(e,t,i){return this.optional(t)||e<=i},range:function(e,t,i){return this.optional(t)||e>=i[0]&&i[1]>=e},equalTo:function(e,t,i){i=l(i);return this.settings.onfocusout&&i.off(".validate-equalTo").on("blur.validate-equalTo",function(){l(t).valid()}),e===i.val()},remote:function(n,o,e){if(this.optional(o))return"dependency-mismatch";var s=this.previousValue(o);if(this.settings.messages[o.name]||(this.settings.messages[o.name]={}),s.originalMessage=this.settings.messages[o.name].remote,this.settings.messages[o.name].remote=s.message,e="string"==typeof e?{url:e}:e,s.old===n)return s.valid;s.old=n;var a=this;this.startRequest(o);var t={};return t[o.name]=n,l.ajax(l.extend(!0,{url:e,mode:"abort",port:"validate"+o.name,dataType:"json",data:t,success:function(e){a.settings.messages[o.name].remote=s.originalMessage;var t,i=!0===e||"true"===e;i?(t=a.formSubmitted,a.prepareElement(o),a.formSubmitted=t,a.successList.push(o),delete a.invalid[o.name],a.showErrors()):(t={},e=e||a.defaultMessage(o,"remote"),t[o.name]=s.message="function"==typeof e?e(n):e,a.invalid[o.name]=!0,a.showErrors(t)),s.valid=i,a.stopRequest(o,i)}},e)),"pending"}}}),l.format=l.validator.format})(jQuery),function(n){var o,s={};n.ajaxPrefilter?n.ajaxPrefilter(function(e,t,i){var n=e.port;"abort"===e.mode&&(s[n]&&s[n].abort(),s[n]=i)}):(o=n.ajax,n.ajax=function(e){var t=("mode"in e?e:n.ajaxSettings).mode,i=("port"in e?e:n.ajaxSettings).port;return"abort"===t?(s[i]&&s[i].abort(),s[i]=o.apply(this,arguments),s[i]):o.apply(this,arguments)})}(jQuery),function(o){o.extend(o.fn,{validateDelegate:function(i,e,n){return this.on(e,function(e){var t=o(e.target);return t.is(i)?n.apply(t,arguments):void 0})}})}(jQuery),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(c){"use strict";var s,n=window.Slick||{};s=0,(n=function(e,t){var i,n,o=this;if(o.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:c(e),appendDots:c(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" aria-hidden="true" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" aria-hidden="true" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none">Slide '+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,onSetPosition:null,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0},o.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},c.extend(o,o.initials),o.activeBreakpoint=null,o.animType=null,o.animProp=null,o.breakpoints=[],o.breakpointSettings=[],o.cssTransitions=!1,o.paused=!1,o.positionProp=null,o.respondTo=null,o.shouldClick=!0,o.$slider=c(e),o.$slidesCache=null,o.transformType=null,o.transitionType=null,o.windowWidth=0,o.windowTimer=null,o.options=c.extend({},o.defaults,t),o.currentSlide=o.options.initialSlide,o.originalSettings=o.options,(i=o.options.responsive||null)&&-1<i.length){for(n in o.respondTo=o.options.respondTo||"window",i)i.hasOwnProperty(n)&&(o.breakpoints.push(i[n].breakpoint),o.breakpointSettings[i[n].breakpoint]=i[n].settings);o.breakpoints.sort(function(e,t){return t-e})}o.autoPlay=c.proxy(o.autoPlay,o),o.autoPlayClear=c.proxy(o.autoPlayClear,o),o.changeSlide=c.proxy(o.changeSlide,o),o.clickHandler=c.proxy(o.clickHandler,o),o.selectHandler=c.proxy(o.selectHandler,o),o.setPosition=c.proxy(o.setPosition,o),o.swipeHandler=c.proxy(o.swipeHandler,o),o.dragHandler=c.proxy(o.dragHandler,o),o.keyHandler=c.proxy(o.keyHandler,o),o.autoPlayIterator=c.proxy(o.autoPlayIterator,o),o.instanceUid=s++,o.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,o.init(),o.checkResponsive()}).prototype.addSlide=function(e,t,i){var n=this;if("boolean"==typeof t)i=t,t=null;else if(t<0||t>=n.slideCount)return!1;n.unload(),"number"==typeof t?0===t&&0===n.$slides.length?c(e).appendTo(n.$slideTrack):i?c(e).insertBefore(n.$slides.eq(t)):c(e).insertAfter(n.$slides.eq(t)):!0===i?c(e).prependTo(n.$slideTrack):c(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,t){c(t).attr("index",e)}),n.$slidesCache=n.$slides,n.reinit()},n.prototype.animateSlide=function(e,t){var i,n={},o=this;1===o.options.slidesToShow&&!0===o.options.adaptiveHeight&&!1===o.options.vertical&&(i=o.$slides.eq(o.currentSlide).outerHeight(!0),o.$list.animate({height:i},o.options.speed)),!0===o.options.rtl&&!1===o.options.vertical&&(e=-e),!1===o.transformsEnabled?!1===o.options.vertical?o.$slideTrack.animate({left:e},o.options.speed,o.options.easing,t):o.$slideTrack.animate({top:e},o.options.speed,o.options.easing,t):!1===o.cssTransitions?c({animStart:o.currentLeft}).animate({animStart:e},{duration:o.options.speed,easing:o.options.easing,step:function(e){!1===o.options.vertical?n[o.animType]="translate("+e+"px, 0px)":n[o.animType]="translate(0px,"+e+"px)",o.$slideTrack.css(n)},complete:function(){t&&t.call()}}):(o.applyTransition(),!1===o.options.vertical?n[o.animType]="translate3d("+e+"px, 0px, 0px)":n[o.animType]="translate3d(0px,"+e+"px, 0px)",o.$slideTrack.css(n),t&&setTimeout(function(){o.disableTransition(),t.call()},o.options.speed))},n.prototype.asNavFor=function(e){var t=null!=this.options.asNavFor?c(this.options.asNavFor).getSlick():null;null!=t&&t.slideHandler(e,!0)},n.prototype.applyTransition=function(e){var t=this,i={};!1===t.options.fade?i[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:i[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,(!1===t.options.fade?t.$slideTrack:t.$slides.eq(e)).css(i)},n.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&!0!==e.paused&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},n.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},n.prototype.autoPlayIterator=function(){var e=this;!1===e.options.infinite?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll)):(e.currentSlide-1==0&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll)):e.slideHandler(e.currentSlide+e.options.slidesToScroll)},n.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=c(e.options.prevArrow),e.$nextArrow=c(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled"))},n.prototype.buildDots=function(){var e,t,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(t='<ul class="'+i.options.dotsClass+'">',e=0;e<=i.getDotCount();e+=1)t+="<li>"+i.options.customPaging.call(this,i,e)+"</li>";i.$dots=c(t+="</ul>").appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},n.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){c(t).attr("index",e)}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?c('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0===e.options.centerMode&&(e.options.slidesToScroll=1),c("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),!0===e.options.accessibility&&e.$list.prop("tabIndex",0),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},n.prototype.checkResponsive=function(){var e,t,i,n=this,o=n.$slider.width(),s=window.innerWidth||c(window).width();if("window"===n.respondTo?i=s:"slider"===n.respondTo?i=o:"min"===n.respondTo&&(i=Math.min(s,o)),n.originalSettings.responsive&&-1<n.originalSettings.responsive.length&&null!==n.originalSettings.responsive){for(e in t=null,n.breakpoints)n.breakpoints.hasOwnProperty(e)&&i<n.breakpoints[e]&&(t=n.breakpoints[e]);null!==t?null!==n.activeBreakpoint&&t===n.activeBreakpoint||(n.activeBreakpoint=t,n.options=c.extend({},n.originalSettings,n.breakpointSettings[t]),n.refresh()):null!==n.activeBreakpoint&&(n.activeBreakpoint=null,n.options=n.originalSettings,n.refresh())}},n.prototype.changeSlide=function(e,t){var i,n,o=this;switch(c(e.target).is("a")&&e.preventDefault(),i=o.slideCount%o.options.slidesToScroll!=0?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,e.data.message){case"previous":n=0==i?o.options.slidesToScroll:o.options.slidesToShow-i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-n,!1,t);break;case"next":n=0==i?o.options.slidesToScroll:i,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+n,!1,t);break;case"index":var s,a=0===e.data.index?0:e.data.index||c(e.target).parent().index()*o.options.slidesToScroll,r=0;if((s=o.getNavigableIndexes())[a]&&s[a]===a)if(a>s[s.length-1])a=s[s.length-1];else for(var l in s){if(a<s[l]){a=r;break}r=s[l]}o.slideHandler(a,!1,t);default:return}},n.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},n.prototype.destroy=function(){var e=this;e.autoPlayClear(),e.touchObject={},c(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.parent().hasClass("slick-track")&&e.$slides.unwrap().unwrap(),e.$slides.removeClass("slick-slide slick-active slick-center slick-visible").removeAttr("index").css({position:"",left:"",top:"",zIndex:"",opacity:"",width:""}).children("a").attr("tabindex","-1"),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$list.off(".slick"),c(window).off(".slick-"+e.instanceUid),c(document).off(".slick-"+e.instanceUid)},n.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",(!1===this.options.fade?this.$slideTrack:this.$slides.eq(e)).css(t)},n.prototype.fadeSlide=function(e,t,i){var n=this;!1===n.cssTransitions?(n.$slides.eq(t).css({zIndex:1e3}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,i),n.$slides.eq(e).animate({opacity:0},n.options.speed,n.options.easing)):(n.applyTransition(t),n.applyTransition(e),n.$slides.eq(t).css({opacity:1,zIndex:1e3}),n.$slides.eq(e).css({opacity:0}),i&&setTimeout(function(){n.disableTransition(t),n.disableTransition(e),i.call()},n.options.speed))},n.prototype.filterSlides=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},n.prototype.getCurrent=function(){return this.currentSlide},n.prototype.getDotCount=function(){var e=this,t=0,i=0,n=0;if(!0===e.options.infinite)n=Math.ceil(e.slideCount/e.options.slidesToScroll);else for(;t<e.slideCount;)++n,t=i+e.options.slidesToShow,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n-1},n.prototype.getLeft=function(e){var t,i=this,n=0;return i.slideOffset=0,t=i.$slides.first().outerHeight(),!0===i.options.infinite?(i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.slideWidth*i.options.slidesToShow*-1,n=t*i.options.slidesToShow*-1),i.slideCount%i.options.slidesToScroll!=0&&e+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(n=e>i.slideCount?(i.slideOffset=(i.options.slidesToShow-(e-i.slideCount))*i.slideWidth*-1,(i.options.slidesToShow-(e-i.slideCount))*t*-1):(i.slideOffset=i.slideCount%i.options.slidesToScroll*i.slideWidth*-1,i.slideCount%i.options.slidesToScroll*t*-1))):e+i.options.slidesToShow>i.slideCount&&(i.slideOffset=(e+i.options.slidesToShow-i.slideCount)*i.slideWidth,n=(e+i.options.slidesToShow-i.slideCount)*t),i.slideCount<=i.options.slidesToShow&&(n=i.slideOffset=0),!0===i.options.centerMode&&!0===i.options.infinite?i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)-i.slideWidth:!0===i.options.centerMode&&(i.slideOffset=0,i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)),t=!1===i.options.vertical?e*i.slideWidth*-1+i.slideOffset:e*t*-1+n,!0===i.options.variableWidth&&(t=(n=i.slideCount<=i.options.slidesToShow||!1===i.options.infinite?i.$slideTrack.children(".slick-slide").eq(e):i.$slideTrack.children(".slick-slide").eq(e+i.options.slidesToShow))[0]?-1*n[0].offsetLeft:0,!0===i.options.centerMode&&(t=(n=!1===i.options.infinite?i.$slideTrack.children(".slick-slide").eq(e):i.$slideTrack.children(".slick-slide").eq(e+i.options.slidesToShow+1))[0]?-1*n[0].offsetLeft:0,t+=(i.$list.width()-n.outerWidth())/2)),t},n.prototype.getNavigableIndexes=function(){for(var e=this,t=0,i=0,n=[];t<e.slideCount;)n.push(t),t=i+e.options.slidesToScroll,i+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return n},n.prototype.getSlideCount=function(){var i=this;if(!0!==i.options.swipeToSlide)return i.options.slidesToScroll;var n=null;return i.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft+c(t).outerWidth()/2>-1*i.swipeLeft)return n=t,!1}),Math.abs(c(n).attr("index")-i.currentSlide)},n.prototype.init=function(){var e=this;c(e.$slider).hasClass("slick-initialized")||(c(e.$slider).addClass("slick-initialized"),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.updateArrows(),e.updateDots()),null!==e.options.onInit&&e.options.onInit.call(this,e)},n.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},n.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&c("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&c("li",e.$dots).on("mouseenter.slick",function(){e.paused=!0,e.autoPlayClear()}).on("mouseleave.slick",function(){e.paused=!1,e.autoPlay()})},n.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),!0===e.options.pauseOnHover&&!0===e.options.autoplay&&(e.$list.on("mouseenter.slick",function(){e.paused=!0,e.autoPlayClear()}),e.$list.on("mouseleave.slick",function(){e.paused=!1,e.autoPlay()})),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&c(e.options.slide,e.$slideTrack).on("click.slick",e.selectHandler),c(window).on("orientationchange.slick.slick-"+e.instanceUid,function(){e.checkResponsive(),e.setPosition()}),c(window).on("resize.slick.slick-"+e.instanceUid,function(){c(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=c(window).width(),e.checkResponsive(),e.setPosition()},50))}),c("*[draggable!=true]",e.$slideTrack).on("dragstart",function(e){e.preventDefault()}),c(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),c(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},n.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),!0===e.options.autoplay&&e.autoPlay()},n.prototype.keyHandler=function(e){37===e.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:"previous"}}):39===e.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:"next"}})},n.prototype.lazyLoad=function(){var e,t,i=this;function n(e){c("img[data-lazy]",e).each(function(){var e=c(this),t=c(this).attr("data-lazy");e.load(function(){e.animate({opacity:1},200)}).css({opacity:0}).attr("src",t).removeAttr("data-lazy").removeClass("slick-loading")})}!0===i.options.centerMode?t=!0===i.options.infinite?(e=i.currentSlide+(i.options.slidesToShow/2+1))+i.options.slidesToShow+2:(e=Math.max(0,i.currentSlide-(i.options.slidesToShow/2+1)),i.options.slidesToShow/2+1+2+i.currentSlide):(t=(e=i.options.infinite?i.options.slidesToShow+i.currentSlide:i.currentSlide)+i.options.slidesToShow,!0===i.options.fade&&(0<e&&e--,t<=i.slideCount&&t++)),n(i.$slider.find(".slick-slide").slice(e,t)),i.slideCount<=i.options.slidesToShow?n(i.$slider.find(".slick-slide")):i.currentSlide>=i.slideCount-i.options.slidesToShow?n(i.$slider.find(".slick-cloned").slice(0,i.options.slidesToShow)):0===i.currentSlide&&n(i.$slider.find(".slick-cloned").slice(-1*i.options.slidesToShow))},n.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},n.prototype.postSlide=function(e){var t=this;null!==t.options.onAfterChange&&t.options.onAfterChange.call(this,t,e),t.animating=!1,t.setPosition(),!(t.swipeLeft=null)===t.options.autoplay&&!1===t.paused&&t.autoPlay()},n.prototype.progressiveLazyLoad=function(){var e,t=this;0<c("img[data-lazy]",t.$slider).length&&(e=c("img[data-lazy]",t.$slider).first()).attr("src",e.attr("data-lazy")).removeClass("slick-loading").load(function(){e.removeAttr("data-lazy"),t.progressiveLazyLoad()}).error(function(){e.removeAttr("data-lazy"),t.progressiveLazyLoad()})},n.prototype.refresh=function(){var e=this,t=e.currentSlide;e.destroy(),c.extend(e,e.initials),e.init(),e.changeSlide({data:{message:"index",index:t}},!0)},n.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),!0===e.options.focusOnSelect&&c(e.options.slide,e.$slideTrack).on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),null!==e.options.onReInit&&e.options.onReInit.call(this,e)},n.prototype.removeSlide=function(e,t,i){var n=this;if(e="boolean"==typeof e?!0===(t=e)?0:n.slideCount-1:!0===t?--e:e,n.slideCount<1||e<0||e>n.slideCount-1)return!1;n.unload(),(!0===i?n.$slideTrack.children():n.$slideTrack.children(this.options.slide).eq(e)).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},n.prototype.setCSS=function(e){var t,i,n=this,o={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?e+"px":"0px",i="top"==n.positionProp?e+"px":"0px",o[n.positionProp]=e,!1===n.transformsEnabled||(!(o={})===n.cssTransitions?o[n.animType]="translate("+t+", "+i+")":o[n.animType]="translate3d("+t+", "+i+", 0px)"),n.$slideTrack.css(o)},n.prototype.setDimensions=function(){var e,t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?(e=0,t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.children(".slick-slide").each(function(){e+=Math.ceil(c(this).outerWidth(!0))}),t.$slideTrack.width(Math.ceil(e)+1)):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var i=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-i)},n.prototype.setFade=function(){var i,n=this;n.$slides.each(function(e,t){i=n.slideWidth*e*-1,!0===n.options.rtl?c(t).css({position:"relative",right:i,top:0,zIndex:800,opacity:0}):c(t).css({position:"relative",left:i,top:0,zIndex:800,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:900,opacity:1})},n.prototype.setHeight=function(){var e,t=this;1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical&&(e=t.$slides.eq(t.currentSlide).outerHeight(!0),t.$list.css("height",e))},n.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade(),null!==e.options.onSetPosition&&e.options.onSetPosition.call(this,e)},n.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&!1!==e.animType},n.prototype.setSlideClasses=function(e){var t,i,n,o=this;o.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center").children("a").attr("tabindex","-1"),t=o.$slider.find(".slick-slide"),!0===o.options.centerMode?(n=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(n<=e&&e<=o.slideCount-1-n?o.$slides.slice(e-n,e+n+1).addClass("slick-active").children("a").attr("tabindex","0"):(i=o.options.slidesToShow+e,t.slice(i-n+1,i+n+2).addClass("slick-active").children("a").attr("tabindex","0")),0===e?t.eq(t.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&t.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):0<=e&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active").children("a").attr("tabindex","0"):t.length<=o.options.slidesToShow?t.addClass("slick-active").children("a").attr("tabindex","0"):(n=o.slideCount%o.options.slidesToShow,i=!0===o.options.infinite?o.options.slidesToShow+e:e,(o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?t.slice(i-(o.options.slidesToShow-n),i+n):t.slice(i,i+o.options.slidesToShow)).addClass("slick-active").children("a").attr("tabindex","0")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},n.prototype.setupInfinite=function(){var e,t,i,n=this;if(!0===n.options.fade&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(t=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-i;--e)c(n.$slides[t=e-1]).clone(!0).attr("id","").attr("index",t-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;e<i;e+=1)t=e,c(n.$slides[t]).clone(!0).attr("id","").attr("index",t+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){c(this).attr("id","")})}},n.prototype.selectHandler=function(e){var t=this,e=(e=parseInt(c(e.target).parents(".slick-slide").attr("index")))||0;if(t.slideCount<=t.options.slidesToShow)return t.$slider.find(".slick-slide").removeClass("slick-active").children("a").attr("tabindex","-1"),t.$slides.eq(e).addClass("slick-active").children("a").attr("tabindex","0"),!0===t.options.centerMode&&(t.$slider.find(".slick-slide").removeClass("slick-center"),t.$slides.eq(e).addClass("slick-center")),void t.asNavFor(e);t.slideHandler(e)},n.prototype.slideHandler=function(e,t,i){var n,o,s,a=this;t=t||!1,!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===e||a.slideCount<=a.options.slidesToShow||(!1===t&&a.asNavFor(e),n=e,s=a.getLeft(n),t=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?t:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(e<0||e>a.getDotCount()*a.options.slidesToScroll)||!1===a.options.infinite&&!0===a.options.centerMode&&(e<0||e>a.slideCount-a.options.slidesToScroll)?!1===a.options.fade&&(n=a.currentSlide,!0!==i?a.animateSlide(t,function(){a.postSlide(n)}):a.postSlide(n)):(!0===a.options.autoplay&&clearInterval(a.autoPlayTimer),o=n<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+n:n>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:n-a.slideCount:n,a.animating=!0,null!==a.options.onBeforeChange&&e!==a.currentSlide&&a.options.onBeforeChange.call(this,a,a.currentSlide,o),e=a.currentSlide,a.currentSlide=o,a.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0!==a.options.fade?!0!==i?a.animateSlide(s,function(){a.postSlide(o)}):a.postSlide(o):!0!==i?a.fadeSlide(e,o,function(){a.postSlide(o)}):a.postSlide(o)))},n.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},n.prototype.swipeDirection=function(){var e=this,t=e.touchObject.startX-e.touchObject.curX,i=e.touchObject.startY-e.touchObject.curY,t=Math.atan2(i,t),t=Math.round(180*t/Math.PI);return(t=t<0?360-Math.abs(t):t)<=45&&0<=t||t<=360&&315<=t?!1===e.options.rtl?"left":"right":135<=t&&t<=225?!1===e.options.rtl?"right":"left":"vertical"},n.prototype.swipeEnd=function(e){var t=this;if(t.dragging=!1,t.shouldClick=!(10<t.touchObject.swipeLength),void 0===t.touchObject.curX)return!1;if(t.touchObject.swipeLength>=t.touchObject.minSwipe)switch(t.swipeDirection()){case"left":t.slideHandler(t.currentSlide+t.getSlideCount()),t.currentDirection=0,t.touchObject={};break;case"right":t.slideHandler(t.currentSlide-t.getSlideCount()),t.currentDirection=1,t.touchObject={}}else t.touchObject.startX!==t.touchObject.curX&&(t.slideHandler(t.currentSlide),t.touchObject={})},n.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},n.prototype.swipeMove=function(e){var t,i=this,n=void 0!==e.originalEvent?e.originalEvent.touches:null;return!(!i.dragging||n&&1!==n.length)&&(t=i.getLeft(i.currentSlide),i.touchObject.curX=void 0!==n?n[0].pageX:e.clientX,i.touchObject.curY=void 0!==n?n[0].pageY:e.clientY,i.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(i.touchObject.curX-i.touchObject.startX,2))),"vertical"!==i.swipeDirection()?(void 0!==e.originalEvent&&4<i.touchObject.swipeLength&&e.preventDefault(),e=(!1===i.options.rtl?1:-1)*(i.touchObject.curX>i.touchObject.startX?1:-1),!1===i.options.vertical?i.swipeLeft=t+i.touchObject.swipeLength*e:i.swipeLeft=t+i.touchObject.swipeLength*(i.$list.height()/i.listWidth)*e,!0!==i.options.fade&&!1!==i.options.touchMove&&(!0===i.animating?(i.swipeLeft=null,!1):void i.setCSS(i.swipeLeft))):void 0)},n.prototype.swipeStart=function(e){var t,i=this;if(1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return!(i.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,i.dragging=!0},n.prototype.unfilterSlides=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},n.prototype.unload=function(){var e=this;c(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&"object"!=typeof e.options.prevArrow&&e.$prevArrow.remove(),e.$nextArrow&&"object"!=typeof e.options.nextArrow&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible").css("width","").children("a").attr("tabindex","-1")},n.prototype.updateArrows=function(){var e=this,t=Math.floor(e.options.slidesToShow/2);!0===e.options.arrows&&!0!==e.options.infinite&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):(e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode||e.currentSlide>e.slideCount-e.options.slidesToShow+t&&!0===e.options.centerMode)&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},n.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},c.fn.slick=function(i){return this.each(function(e,t){t.slick=new n(t,i)})},c.fn.slickAdd=function(i,n,o){return this.each(function(e,t){t.slick.addSlide(i,n,o)})},c.fn.slickCurrentSlide=function(){return this.get(0).slick.getCurrent()},c.fn.slickFilter=function(i){return this.each(function(e,t){t.slick.filterSlides(i)})},c.fn.slickGoTo=function(i,n){return this.each(function(e,t){t.slick.changeSlide({data:{message:"index",index:parseInt(i)}},n)})},c.fn.slickNext=function(){return this.each(function(e,t){t.slick.changeSlide({data:{message:"next"}})})},c.fn.slickPause=function(){return this.each(function(e,t){t.slick.autoPlayClear(),t.slick.paused=!0})},c.fn.slickPlay=function(){return this.each(function(e,t){t.slick.paused=!1,t.slick.autoPlay()})},c.fn.slickPrev=function(){return this.each(function(e,t){t.slick.changeSlide({data:{message:"previous"}})})},c.fn.slickRemove=function(i,n){return this.each(function(e,t){t.slick.removeSlide(i,n)})},c.fn.slickRemoveAll=function(){return this.each(function(e,t){t.slick.removeSlide(null,null,!0)})},c.fn.slickGetOption=function(e){return this.get(0).slick.options[e]},c.fn.slickSetOption=function(i,n,o){return this.each(function(e,t){t.slick.options[i]=n,!0===o&&(t.slick.unload(),t.slick.reinit())})},c.fn.slickUnfilter=function(){return this.each(function(e,t){t.slick.unfilterSlides()})},c.fn.unslick=function(){return this.each(function(e,t){t.slick&&t.slick.destroy()})},c.fn.getSlick=function(){var i=null;return this.each(function(e,t){i=t.slick}),i}}),function(e,s){"use strict";function l(e,t){return new l.Instance(e,t||{})}l.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},l.HAS_POINTEREVENTS=e.navigator.pointerEnabled||e.navigator.msPointerEnabled,l.HAS_TOUCHEVENTS="ontouchstart"in e,l.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,l.NO_MOUSEEVENTS=l.HAS_TOUCHEVENTS&&e.navigator.userAgent.match(l.MOBILE_REGEX),l.EVENT_TYPES={},l.DIRECTION_DOWN="down",l.DIRECTION_LEFT="left",l.DIRECTION_UP="up",l.DIRECTION_RIGHT="right",l.POINTER_MOUSE="mouse",l.POINTER_TOUCH="touch",l.POINTER_PEN="pen",l.EVENT_START="start",l.EVENT_MOVE="move",l.EVENT_END="end",l.DOCUMENT=e.document,l.plugins=l.plugins||{},l.gestures=l.gestures||{},l.READY=!1,l.utils={extend:function(e,t,i){for(var n in t)e[n]!==s&&i||(e[n]=t[n]);return e},each:function(e,t,i){var n,o;if("forEach"in e)e.forEach(t,i);else if(e.length!==s){for(n=0,o=e.length;n<o;n++)if(!1===t.call(i,e[n],n,e))return}else for(n in e)if(e.hasOwnProperty(n)&&!1===t.call(i,e[n],n,e))return},hasParent:function(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1},getCenter:function(e){var t=[],i=[];return l.utils.each(e,function(e){t.push(void 0!==e.clientX?e.clientX:e.pageX),i.push(void 0!==e.clientY?e.clientY:e.pageY)}),{pageX:(Math.min.apply(Math,t)+Math.max.apply(Math,t))/2,pageY:(Math.min.apply(Math,i)+Math.max.apply(Math,i))/2}},getVelocity:function(e,t,i){return{x:Math.abs(t/e)||0,y:Math.abs(i/e)||0}},getAngle:function(e,t){var i=t.pageY-e.pageY,e=t.pageX-e.pageX;return 180*Math.atan2(i,e)/Math.PI},getDirection:function(e,t){var i=Math.abs(e.pageX-t.pageX);return Math.abs(e.pageY-t.pageY)<=i?0<e.pageX-t.pageX?l.DIRECTION_LEFT:l.DIRECTION_RIGHT:0<e.pageY-t.pageY?l.DIRECTION_UP:l.DIRECTION_DOWN},getDistance:function(e,t){var i=t.pageX-e.pageX,e=t.pageY-e.pageY;return Math.sqrt(i*i+e*e)},getScale:function(e,t){return 2<=e.length&&2<=t.length?this.getDistance(t[0],t[1])/this.getDistance(e[0],e[1]):1},getRotation:function(e,t){return 2<=e.length&&2<=t.length?this.getAngle(t[1],t[0])-this.getAngle(e[1],e[0]):0},isVertical:function(e){return e==l.DIRECTION_UP||e==l.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(i,e){e&&i&&i.style&&(l.utils.each(["webkit","khtml","moz","Moz","ms","o",""],function(t){l.utils.each(e,function(e){(e=t?t+e.substring(0,1).toUpperCase()+e.substring(1):e)in i.style&&(i.style[e]=e)})}),"none"==e.userSelect&&(i.onselectstart=function(){return!1}),"none"==e.userDrag&&(i.ondragstart=function(){return!1}))}},(l.Instance=function(e,t){var i=this;return l.READY||(l.event.determineEventTypes(),l.utils.each(l.gestures,function(e){l.detection.register(e)}),l.event.onTouch(l.DOCUMENT,l.EVENT_MOVE,l.detection.detect),l.event.onTouch(l.DOCUMENT,l.EVENT_END,l.detection.detect),l.READY=!0),this.element=e,this.enabled=!0,this.options=l.utils.extend(l.utils.extend({},l.defaults),t||{}),this.options.stop_browser_behavior&&l.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),l.event.onTouch(e,l.EVENT_START,function(e){i.enabled&&l.detection.startDetect(i,e)}),this}).prototype={on:function(e,t){e=e.split(" ");return l.utils.each(e,function(e){this.element.addEventListener(e,t,!1)},this),this},off:function(e,t){e=e.split(" ");return l.utils.each(e,function(e){this.element.removeEventListener(e,t,!1)},this),this},trigger:function(e,t){t=t||{};var i=l.DOCUMENT.createEvent("Event");i.initEvent(e,!0,!0),i.gesture=t;e=this.element;return(e=l.utils.hasParent(t.target,e)?t.target:e).dispatchEvent(i),this},enable:function(e){return this.enabled=e,this}};var r=null,c=!1,d=!1;l.event={bindDom:function(t,e,i){e=e.split(" ");l.utils.each(e,function(e){t.addEventListener(e,i,!1)})},onTouch:function(n,o,s){var a=this;this.bindDom(n,l.EVENT_TYPES[o],function(e){var t,i=e.type.toLowerCase();i.match(/mouse/)&&d||(i.match(/touch/)||i.match(/pointerdown/)||i.match(/mouse/)&&1===e.which?c=!0:i.match(/mouse/)&&!e.which&&(c=!1),i.match(/touch|pointer/)&&(d=!0),t=0,c&&(l.HAS_POINTEREVENTS&&o!=l.EVENT_END?t=l.PointerEvent.updatePointer(o,e):i.match(/touch/)?t=e.touches.length:d||(t=i.match(/up/)?0:1),0<t&&o==l.EVENT_END?o=l.EVENT_MOVE:t||(o=l.EVENT_END),!t&&null!==r||(r=e),s.call(l.detection,a.collectEventData(n,o,a.getTouchList(r,o),e)),l.HAS_POINTEREVENTS&&o==l.EVENT_END&&(t=l.PointerEvent.updatePointer(o,e))),t||(r=null,d=c=!1,l.PointerEvent.reset()))})},determineEventTypes:function(){var e=l.HAS_POINTEREVENTS?l.PointerEvent.getEvents():l.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];l.EVENT_TYPES[l.EVENT_START]=e[0],l.EVENT_TYPES[l.EVENT_MOVE]=e[1],l.EVENT_TYPES[l.EVENT_END]=e[2]},getTouchList:function(e){return l.HAS_POINTEREVENTS?l.PointerEvent.getTouchList():e.touches||(e.identifier=1,[e])},collectEventData:function(e,t,i,n){var o=l.POINTER_TOUCH;return(n.type.match(/mouse/)||l.PointerEvent.matchType(l.POINTER_MOUSE,n))&&(o=l.POINTER_MOUSE),{center:l.utils.getCenter(i),timeStamp:(new Date).getTime(),target:n.target,touches:i,eventType:t,pointerType:o,srcEvent:n,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return l.detection.stopDetect()}}}},l.PointerEvent={pointers:{},getTouchList:function(){var t=[];return l.utils.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(e,t){return e==l.EVENT_END?this.pointers={}:(t.identifier=t.pointerId,this.pointers[t.pointerId]=t),Object.keys(this.pointers).length},matchType:function(e,t){if(!t.pointerType)return!1;var i=t.pointerType,n={};return n[l.POINTER_MOUSE]=i===t.MSPOINTER_TYPE_MOUSE||i===l.POINTER_MOUSE,n[l.POINTER_TOUCH]=i===t.MSPOINTER_TYPE_TOUCH||i===l.POINTER_TOUCH,n[l.POINTER_PEN]=i===t.MSPOINTER_TYPE_PEN||i===l.POINTER_PEN,n[e]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},l.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(e,t){this.current||(this.stopped=!1,this.current={inst:e,startEvent:l.utils.extend({},t),lastEvent:!1,name:""},this.detect(t))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var i=this.current.inst.options;return l.utils.each(this.gestures,function(e){return this.stopped||!1===i[e.name]||!1!==e.handler.call(e,t,this.current.inst)?void 0:(this.stopDetect(),!1)},this),this.current&&(this.current.lastEvent=t),t.eventType==l.EVENT_END&&!t.touches.length-1&&this.stopDetect(),t}},stopDetect:function(){this.previous=l.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(e){var t=this.current.startEvent;!t||e.touches.length==t.touches.length&&e.touches!==t.touches||(t.touches=[],l.utils.each(e.touches,function(e){t.touches.push(l.utils.extend({},e))}));var i,n=e.timeStamp-t.timeStamp,o=e.center.pageX-t.center.pageX,s=e.center.pageY-t.center.pageY,a=l.utils.getVelocity(n,o,s),r="end"===e.eventType?(i=this.current.lastEvent&&this.current.lastEvent.interimAngle,this.current.lastEvent&&this.current.lastEvent.interimDirection):(i=this.current.lastEvent&&l.utils.getAngle(this.current.lastEvent.center,e.center),this.current.lastEvent&&l.utils.getDirection(this.current.lastEvent.center,e.center));return l.utils.extend(e,{deltaTime:n,deltaX:o,deltaY:s,velocityX:a.x,velocityY:a.y,distance:l.utils.getDistance(t.center,e.center),angle:l.utils.getAngle(t.center,e.center),interimAngle:i,direction:l.utils.getDirection(t.center,e.center),interimDirection:r,scale:l.utils.getScale(t.touches,e.touches),rotation:l.utils.getRotation(t.touches,e.touches),startEvent:t}),e},register:function(e){var t=e.defaults||{};return t[e.name]===s&&(t[e.name]=!0),l.utils.extend(l.defaults,t,!0),e.index=e.index||1e3,this.gestures.push(e),this.gestures.sort(function(e,t){return e.index<t.index?-1:e.index>t.index?1:0}),this.gestures}},l.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(e,t){if(l.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(0<t.options.drag_max_touches&&e.touches.length>t.options.drag_max_touches))switch(e.eventType){case l.EVENT_START:this.triggered=!1;break;case l.EVENT_MOVE:if(e.distance<t.options.drag_min_distance&&l.detection.current.name!=this.name)return;l.detection.current.name!=this.name&&(l.detection.current.name=this.name,t.options.correct_for_drag_min_distance&&0<e.distance)&&(i=Math.abs(t.options.drag_min_distance/e.distance),l.detection.current.startEvent.center.pageX+=e.deltaX*i,l.detection.current.startEvent.center.pageY+=e.deltaY*i,e=l.detection.extendEventData(e)),(l.detection.current.lastEvent.drag_locked_to_axis||t.options.drag_lock_to_axis&&t.options.drag_lock_min_distance<=e.distance)&&(e.drag_locked_to_axis=!0);var i=l.detection.current.lastEvent.direction;e.drag_locked_to_axis&&i!==e.direction&&(e.direction=l.utils.isVertical(i)?e.deltaY<0?l.DIRECTION_UP:l.DIRECTION_DOWN:e.deltaX<0?l.DIRECTION_LEFT:l.DIRECTION_RIGHT),this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),t.trigger(this.name+e.direction,e),(t.options.drag_block_vertical&&l.utils.isVertical(e.direction)||t.options.drag_block_horizontal&&!l.utils.isVertical(e.direction))&&e.preventDefault();break;case l.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},l.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(e,t){switch(e.eventType){case l.EVENT_START:clearTimeout(this.timer),l.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==l.detection.current.name&&t.trigger("hold",e)},t.options.hold_timeout);break;case l.EVENT_MOVE:e.distance>t.options.hold_threshold&&clearTimeout(this.timer);break;case l.EVENT_END:clearTimeout(this.timer)}}},l.gestures.Release={name:"release",index:1/0,handler:function(e,t){e.eventType==l.EVENT_END&&t.trigger(this.name,e)}},l.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(e,t){e.eventType==l.EVENT_END&&(0<t.options.swipe_max_touches&&e.touches.length<t.options.swipe_min_touches&&e.touches.length>t.options.swipe_max_touches||(e.velocityX>t.options.swipe_velocity||e.velocityY>t.options.swipe_velocity)&&(t.trigger(this.name,e),t.trigger(this.name+e.direction,e)))}},l.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(e,t){var i,n;e.eventType==l.EVENT_END&&"touchcancel"!=e.srcEvent.type&&(i=l.detection.previous,n=!1,e.deltaTime>t.options.tap_max_touchtime||e.distance>t.options.tap_max_distance||(i&&"tap"==i.name&&e.timeStamp-i.lastEvent.timeStamp<t.options.doubletap_interval&&e.distance<t.options.doubletap_distance&&(t.trigger("doubletap",e),n=!0),n&&!t.options.tap_always||(l.detection.current.name="tap",t.trigger(l.detection.current.name,e))))}},l.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(e,t){return t.options.prevent_mouseevents&&e.pointerType==l.POINTER_MOUSE?void e.stopDetect():(t.options.prevent_default&&e.preventDefault(),void(e.eventType==l.EVENT_START&&t.trigger(this.name,e)))}},l.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(e,t){if(l.detection.current.name!=this.name&&this.triggered)return t.trigger(this.name+"end",e),void(this.triggered=!1);if(!(e.touches.length<2))switch(t.options.transform_always_block&&e.preventDefault(),e.eventType){case l.EVENT_START:this.triggered=!1;break;case l.EVENT_MOVE:var i=Math.abs(1-e.scale),n=Math.abs(e.rotation);if(i<t.options.transform_min_scale&&n<t.options.transform_min_rotation)return;l.detection.current.name=this.name,this.triggered||(t.trigger(this.name+"start",e),this.triggered=!0),t.trigger(this.name,e),n>t.options.transform_min_rotation&&t.trigger("rotate",e),i>t.options.transform_min_scale&&(t.trigger("pinch",e),t.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case l.EVENT_END:this.triggered&&t.trigger(this.name+"end",e),this.triggered=!1}}},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return l}):"object"==typeof module&&"object"==typeof module.exports?module.exports=l:e.Hammer=l}(this),function(e){"use strict";function t(n,o){n.event.bindDom=function(e,t,i){o(e).on(t,function(e){var t=e.originalEvent||e;void 0===t.pageX&&(t.pageX=e.pageX,t.pageY=e.pageY),t.target||(t.target=e.target),void 0===t.which&&(t.which=t.button),t.preventDefault||(t.preventDefault=e.preventDefault),t.stopPropagation||(t.stopPropagation=e.stopPropagation),i.call(this,t)})},n.Instance.prototype.on=function(e,t){return o(this.element).on(e,t)},n.Instance.prototype.off=function(e,t){return o(this.element).off(e,t)},n.Instance.prototype.trigger=function(e,t){var i=o(this.element);return(i=i.has(t.target).length?o(t.target):i).trigger({type:e,gesture:t})},o.fn.hammer=function(i){return this.each(function(){var e=o(this),t=e.data("hammer");t?i&&n.utils.extend(t.options,i):e.data("hammer",new n(this,i||{}))})}}"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(["hammerjs","jquery"],t):t(e.Hammer,e.jQuery||e.Zepto)}(this);var $body,teleflora=teleflora||{};teleflora.createNS=function(e){var t=e.split("."),i=teleflora;"teleflora"===t[0]&&(t=t.slice(1));for(var n=0;n<t.length;n++){var o=t[n];void 0===i[o]&&(i[o]={}),i=i[o]}return i},teleflora.createNS("teleflora.body"),teleflora.body=$("body"),teleflora.createNS("teleflora.html"),teleflora.html=$("html"),teleflora.createNS("teleflora.hasTouch"),teleflora.hasTouch=window.navigator.msMaxTouchPoints||Modernizr.touch,teleflora.hasTouch&&$("body").removeClass("no-touch").addClass("touch"),teleflora.createNS("teleflora.navTrigger"),teleflora.navTrigger=$("#navTrigger"),teleflora.createNS("teleflora.nestMenu"),teleflora.nestMenu=$(".m-navbar-has-subnav"),teleflora.createNS("teleflora.menuEscape"),teleflora.menuEscape=$(".m-navbar-escape"),teleflora.createNS("teleflora.accountTrigger"),teleflora.accountTrigger=$("#accountTrigger"),teleflora.createNS("teleflora.hoverTimeout"),teleflora.hoverTimeout,teleflora.createNS("teleflora.megaNavBkgTimeout"),teleflora.megaNavBkgTimeout,teleflora.createNS("teleflora.touchTimeout"),teleflora.touchTimeout,teleflora.createNS("teleflora.quickShopExpanded"),teleflora.quickShopExpanded,teleflora.createNS("teleflora.bindNavigation"),teleflora.bindNavigation=function(e){var t=$(e).find(".m-subnav-trigger");$(document).on("focus",".nav-container > ul > li > a",function(e){teleflora.closeSubnav(t)}),$(e).hasClass("m-navbar-quickshop")?($(t).on("click",function(e){$(t).parent().hasClass("is-subnav-expanded")||(e.stopPropagation(),e.preventDefault()),teleflora.expandQuickshop(t),(!Modernizr.mq("screen and (max-width:960px)")&&teleflora.hasTouch||Modernizr.mq("screen and (max-width:960px)"))&&($("ul.m-navbar-toplevel > li.m-navbar-item").addClass("hidden"),$(".social-icons").addClass("hidden"))}),$(t).on("keydown",function(e){27==e.keyCode&&$(".m-navbar-quickshop").hasClass("is-subnav-expanded")&&teleflora.expandQuickshop(t)}),$("#quickForm #category,#quickForm #Nf,#quickForm .quickShopSubmitBtn").on("keydown",function(e){27==e.keyCode&&(teleflora.expandQuickshop(t),$("#calendarTrigger").trigger("focus")),(9==e.keyCode&&$(this).hasClass("quickShopSubmitBtn")||9==e.keyCode&&"Nf"==$(this).attr("id")&&$(".quickShopSubmitBtn").is(":disabled"))&&(Modernizr.mq("screen and (max-width:960px)")||teleflora.hasTouch||(teleflora.expandQuickshop(t),$(document.activeElement).trigger("focus")))})):(teleflora.hasTouch||Modernizr.mq("screen and (max-width:960px)")?$(t).on("click",function(e){return!(!isIBUSite||!$(e.currentTarget).hasClass("ibuMenuItem"))||void($(t).parent().hasClass("is-subnav-expanded")?teleflora.closeSubnav(t):(e.stopPropagation(),e.preventDefault(),teleflora.expandSubnav(t)))}):($(t).on("mouseenter",function(e){Modernizr.mq("screen and (max-width:960px)")||teleflora.hasTouch||teleflora.expandSubnav(t)}),$(t).on("keydown click",function(e){13==e.keyCode||"click"==e.type?$(t).parent().hasClass("is-subnav-expanded")?$(location).attr("href",$(this).attr("href")):(e.stopPropagation(),e.preventDefault(),teleflora.expandSubnav(t)):27==e.keyCode&&teleflora.closeSubnav(t)}),$(".m-navbar-secondlevel .m-navbar-link").on("keydown",function(e){27==e.keyCode&&($(".is-subnav-expanded").find(".m-subnav-trigger").trigger("focus"),teleflora.closeSubnav(t))})),$(e).on("mouseleave",function(e){e.stopPropagation(),teleflora.hasTouch||"mouseleave"!=e.type||Modernizr.mq("screen and (max-width:960px)")||teleflora.closeSubnav(t),$(document).on("focus",t,function(e){$(this).parent().hasClass("is-subnav-expanded")||teleflora.closeSubnav(t)})}))},teleflora.createNS("teleflora.executeBindings"),teleflora.executeBindings=function(){for(var e=0;e<teleflora.menuEscape.length;e++)$(teleflora.menuEscape[e]).hammer().on("tap click",function(e){teleflora.escapeSubnav(),e.gesture&&e.gesture.preventDefault()});for(e=0;e<teleflora.nestMenu.length;e++)$(teleflora.nestMenu[e]).find("img").each(function(){var e=$(this).attr("data-src");$(this).attr("src",e)}),teleflora.bindNavigation(teleflora.nestMenu[e])},teleflora.executeBindings(),teleflora.createNS("teleflora.expandSubnav"),teleflora.expandSubnav=function(e){var n=e.parent(),o=0,s=0,a=Math.floor(n.position().left);n.find(".m-navbar-secondlevel").show(),!isIBUSite||Modernizr.mq("screen and (max-width:960px)")||teleflora.hasTouch||n.find(".m-navbar-secondlevel").css({"min-width":1100,left:0});var t,i,r,l="EFlorist"!=siteVendorType?"ul.m-navbar-set":"li.m-navbar-set",c=n.find(l).length;n.find(l).each(function(){o+=$(this).outerWidth()}),isIBUSite,s=1==c&&400<o?o:o,100<(o=Math.round(o/10)+10)&&(o=100),1==c&&(t=Math.round($(n.find(l)[0]).outerWidth()/10),o=t<31?25:30<t&&t<50?50:75),n.find(".m-navbar-secondlevel").hide(),teleflora.body.hasClass("is-account-expanded")&&teleflora.toggleAccountMenu(),Modernizr.mq("screen and (max-width:960px)")||teleflora.hasTouch?!Modernizr.mq("screen and (max-width:960px)")&&teleflora.hasTouch?n.hasClass("is-subnav-expanded")||e.hasClass("is-subnav-expanded")?(clearTimeout(teleflora.megaNavBkgTimeout),teleflora.body.removeClass("is-account-expanded"),$(".m-navbar-item.is-subnav-expanded").removeClass("is-subnav-expanded").find(".m-navbar-secondlevel").fadeOut(150),$(n).find("> a").attr("aria-expanded","false"),n.removeClass("is-subnav-expanded"),$("#secondLevelBkg").removeClass("is-expanded").removeAttr("style"),n.find(".m-navbar-secondlevel").delay(50).fadeOut(0)):(n.find("ul.m-navbar-secondlevel .m-navbar-set").removeAttr("style"),$(".m-navbar-item.is-subnav-expanded").removeClass("is-subnav-expanded").find(".m-navbar-secondlevel").fadeOut(150),teleflora.body.removeClass("is-account-expanded"),n.addClass("is-subnav-expanded"),$(n).find("> a").attr("aria-expanded","true"),r=Math.round(n.find("ul.m-navbar-secondlevel").height()),t=$("#secondLevelBkg .m-navbar-pinkline").height(),n.find(".m-navbar-secondlevel > ul").css("height",r-t),$("#secondLevelBkg").addClass("is-expanded").css("height",r),isIBUSite?(n.find(".m-navbar-secondlevel").css("left","0"),$("li.m-navbar-set").innerHeight(r)):("EFlorist"!=siteVendorType?a=o<=25||o<=50||o<=75?a:75<=o&&o<100?236:0:(t=parseInt($(".m-navbar-item.m-navbar-item-first > .m-navbar-link").css("margin-left")),i=n.hasClass("m-navbar-item-first")?0:t,a=o<=25&&n.hasClass("m-navbar-item-first")?t:a,a=o<=25?a:o<=50||o<75?a-i:75<=o&&o<100?i:0,$("li.m-navbar-set").innerHeight(r)),$("#secondLevelBkg").css("left",a),n.find(".m-navbar-secondlevel").css("left",a),teleflora.currentNavlftPOS=a,teleflora.currentNavWidth=o,s?$("#secondLevelBkg").css("width",s+"px"):$("#secondLevelBkg").css("width",o+"%")),n.find(".m-navbar-secondlevel").delay(50).fadeIn(150)):(navUlHeight=$(".m-navbar-toplevel").height(),$(".m-navbar-secondlevel").css("min-height",navUlHeight),n.find(".m-navbar-secondlevel > ul").css("height","auto"),n.find(".m-navbar-secondlevel").fadeIn(0),$(".m-navbar-toplevel").toggleClass("is-subnav-expanded"),n.addClass("is-subnav-expanded"),$(n).find(">a").attr("tabIndex",-1),$(n).find(">a").attr("aria-expanded","true"),setTimeout(function(){$(".m-navbar-toplevel").hasClass("is-subnav-expanded")?($("ul.m-navbar-toplevel > li.m-navbar-item").addClass("hidden"),$("ul.m-navbar-toplevel > li.m-navbar-item.m-navbar-has-subnav.is-subnav-expanded").removeClass("hidden"),$(".m-navbar-secondlevel .m-navbar-escape").trigger("focus"),$(".social-icons").addClass("hidden")):($("ul.m-navbar-toplevel > li.m-navbar-item").removeClass("hidden"),$(".social-icons").removeClass("hidden"),$(n).find(">a").removeAttr("tabIndex"))},700),i=e.closest("li").find("ul").height(),r=$(".staticContHeight").height(),e=$("body").height(),r=r<i?i-e:r,$(".staticContHeight").css({height:r}),$("#closeNavBtn").appendTo($("li.is-subnav-expanded ul li:last-child > ul"))):(teleflora.hoverTimeout=setTimeout(function(){var e,t,i;n.find("ul.m-navbar-secondlevel .m-navbar-set").removeAttr("style"),n.hasClass("is-subnav-expanded")||($(".m-navbar-has-subnav").removeClass("is-subnav-expanded"),$(".m-navbar-secondlevel").fadeOut(150),n.addClass("is-subnav-expanded"),$(n).find("> a").attr("aria-expanded","true"),e=(e=Math.round(n.find("ul.m-navbar-secondlevel").height()))-$("#secondLevelBkg .m-navbar-pinkline").height()-5,bgElemWidth="200px",1!=n.data("adjust")?(n.find(".m-navbar-secondlevel > ul").css("height",1+e),$("#secondLevelBkg").addClass("is-expanded").css("height",5+e),n.data("height",5+e),n.data("adjust",!0)):isIBUSite?$("#secondLevelBkg").addClass("is-expanded").css("height",e):$("#secondLevelBkg").addClass("is-expanded").css("height",n.data("height")),"EFlorist"!=siteVendorType?a=o<=25||o<=50||o<=75?a:75<=o&&o<100?236:0:(t=parseInt($(".m-navbar-item.m-navbar-item-first > .m-navbar-link").css("margin-left")),i=n.hasClass("m-navbar-item-first")?0:t,a=o<=25&&n.hasClass("m-navbar-item-first")?t:a,a=o<=25?a:o<=50||o<75?a-i:75<=o&&o<100?i:0,$("li.m-navbar-set").innerHeight(e)),$("#secondLevelBkg").css("left",a),n.find(".m-navbar-secondlevel").css("left",a),teleflora.currentNavlftPOS=a,teleflora.currentNavWidth=o,s?$("#secondLevelBkg").css("width",s+"px"):$("#secondLevelBkg").css("width",o+"%"),isIBUSite&&(n.find(".m-navbar-secondlevel").css({"min-width":1100,left:0}),$("#secondLevelBkg").css({"min-width":1100,left:0}))),n.find(".m-navbar-secondlevel").delay(50).fadeIn(150)},250),teleflora.closeQuickshop($("#calendarTrigger")),clearTimeout(teleflora.megaNavBkgTimeout)),isIBUSite&&$(".m-navbar-item figure.fluid img").length&&setTimeout(function(){var t=!!window.MSInputMethodContext&&!!document.documentMode;$(".m-navbar-item figure.fluid img").each(function(){var e;$(this).hasClass("ibuImageFrame")||$(this).addClass("ibuImageFrame"),$(this).closest(".m-navbar-item figure.fluid").height(4*$(this).closest(".m-navbar-item").width()/3+"px"),t&&(void 0===(e=$(this).attr("src"))&&(e=$(this).attr("data-src")),$(this).closest(".m-navbar-item figure.fluid").css({"background-image":'url("'+e+'")',"background-size":"cover","background-position":"center center"}),$(this).css("display","none"))})},400)},teleflora.createNS("teleflora.closeSubnav"),teleflora.closeSubnav=function(e){e=e.parent();isIBUSite&&(Modernizr.mq("screen and (max-width:960px)")?$("#secondLevelBkg").css({width:"100%",left:0}):$("#secondLevelBkg").css({width:teleflora.currentNavWidth+"%",left:teleflora.currentNavlftPOS})),clearTimeout(teleflora.hoverTimeout),e.find(".m-navbar-secondlevel").fadeOut(150),e.removeClass("is-subnav-expanded"),$(e).find("> a").attr("aria-expanded","false"),teleflora.megaNavBkgTimeout=setTimeout(function(){Modernizr.mq("screen and (max-width:960px)")?$("#secondLevelBkg").removeClass("is-expanded").removeAttr("style"):$("#secondLevelBkg").removeClass("is-expanded").css({height:0})},200)},teleflora.createNS("teleflora.isInViewport"),teleflora.isInViewport=function(){var e=$(".current-sbnv-prnt").offset().top,t=e+$(".current-sbnv-prnt").outerHeight(),i=$(window).scrollTop(),n=i+$(window).height();return i<t&&e<n},teleflora.createNS("teleflora.escapeSubnav"),teleflora.escapeSubnav=function(e){(!Modernizr.mq("screen and (max-width:960px)")&&teleflora.hasTouch||Modernizr.mq("screen and (max-width:960px)"))&&($("ul.m-navbar-toplevel > li.m-navbar-item").removeClass("hidden"),$(".social-icons").removeClass("hidden"),$("a#calendarTrigger").removeClass("hidden")),setTimeout(function(){$(".m-navbar-has-subnav.current-sbnv-prnt").find(">a").removeAttr("tabIndex").trigger("focus"),0<$(".current-sbnv-prnt").length&&!teleflora.isInViewport()&&$("html, body").animate({scrollTop:$(".current-sbnv-prnt").offset().top-20},"500"),$(".m-navbar-has-subnav").removeClass("current-sbnv-prnt"),$("body").hasClass("is-navbar-expanded")||$("#navTrigger").trigger("focus")},600),$("#closeNavBtn").appendTo($("nav.m-navbar > .l-wrapper")),$(".m-navbar-toplevel").removeClass("is-subnav-expanded"),$(".m-navbar-has-subnav.is-subnav-expanded").addClass("current-sbnv-prnt"),$(".is-subnav-expanded").find("> a").attr("aria-expanded","false"),$(".is-subnav-expanded").removeClass("is-subnav-expanded"),$(".is-quickshop-expanded-tablet").removeClass("is-quickshop-expanded-tablet"),$(".is-tablet-expanded").removeClass("is-tablet-expanded"),$(".staticContHeight").removeAttr("style"),$(".m-navbar-secondlevel").css("display","none")},teleflora.createNS("teleflora.expandQuickshop"),teleflora.expandQuickshop=function(t){var e=t.parent();e.hasClass("is-subnav-expanded")?teleflora.closeQuickshop(t):(e.addClass("is-subnav-expanded"),$(e).find("> a").attr("aria-expanded","true"),$("#secondLevelBkgQS").addClass("is-expanded").addClass("is-quickshop"),e.find(".m-navbar-secondlevel").fadeIn(200),Modernizr.mq("screen and (max-width:960px)")?($(".nav-container a#calendarTrigger").addClass("hidden"),$(".m-navbar-secondlevel .m-navbar-escape").trigger("focus")):$("body").append('<div class="popupbg"></div>')),$(".popupbg").on("click",function(e){e.preventDefault(),teleflora.closeQuickshop(t)}),$(".master-header").on("click",function(e){e.preventDefault(),teleflora.closeQuickshop(t)}),$(".m-navbar-search").on("click",function(e){e.preventDefault(),Modernizr.mq("screen and (max-width:960px)")||teleflora.hasTouch||teleflora.closeQuickshop(t)})},teleflora.createNS("teleflora.closeQuickshop"),teleflora.closeQuickshop=function(e){Modernizr.mq("screen and (max-width:960px)")&&teleflora.hasTouch&&$(".nav-container a#calendarTrigger").removeClass("hidden");e=e.parent();e.find(".m-navbar-secondlevel").fadeOut(200),$("#secondLevelBkgQS").delay(500).removeClass("is-expanded"),$(".m-navbar-quickshop").removeClass("is-subnav-expanded");e.attr("id");$(".popupbg").remove()},teleflora.hasTouch&&$("nav.m-navbar").addClass("no-mobile"),teleflora.hasTouch&&($body=$("body"),$(document).on("focus","input",function(e){$body.addClass("fixfixed")}).on("blur","input",function(e){$body.removeClass("fixfixed")})),teleflora.createNS("teleflora.expandNavbar"),teleflora.expandNavbar=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,teleflora.body.attr("style","").toggleClass("is-navbar-expanded"),(!Modernizr.mq("screen and (max-width:960px)")&&teleflora.hasTouch||Modernizr.mq("screen and (max-width:960px)"))&&focusNavclose()};var pageName=$("#pageNameForlogin").val();function validateSearchForm(e){e=$(e).find(".atg_store_searchInput").val();return""!=e&&""!=e.trim()}function collapseNavbar(){teleflora.body.attr("style","").removeClass("is-navbar-expanded"),setTimeout(function(){teleflora.escapeSubnav(),$("#navTrigger").trigger("focus")},700)}function redirectToTranslatedURL(){var e="//"+$("#languageSelect").val().trim()+$(location).attr("pathname")+$(location).attr("search");location=e}"checkout"!=pageName&&"myAccount"!=pageName||$("#accountTrigger").attr("aria-expanded",!1),teleflora.createNS("teleflora.toggleAccountMenu"),teleflora.toggleAccountMenu=function(e){e.preventDefault(),$("nav.m-navbar").hasClass("is-tablet-expanded")&&!Modernizr.mq("screen and (max-width: 960px)")?$("nav.m-navbar").hasClass("is-quickshop-expanded-tablet")?teleflora.body.find(".m-account").css("top","-12.5em"):teleflora.body.find(".m-account").css("top","-27.5em"):"EFlorist"!=siteType&&teleflora.body.find(".m-account").css("top","-0.4em");e=$("#pageNameForlogin").val();$(this).find(".is-loggedin").length||"checkout"==e||"myAccount"==e?(teleflora.body.toggleClass("is-account-expanded"),$("body").hasClass("is-account-expanded")?$("#accountTrigger").attr("aria-expanded",!0):$("#accountTrigger").attr("aria-expanded",!1),setTimeout(function(){$(".is-account-expanded").length&&($(".m-account #logInEmail").length?$(".m-account #logInEmail"):$(".m-account .m-nav-list-item-link:first")).focus()},200)):($("#accountTrigger").attr("aria-expanded",!1),window.location.href=siteContextPath+"/account/login.jsp")},teleflora.accountTrigger.hammer().on("click",teleflora.toggleAccountMenu),teleflora.createNS("teleflora.doOnOrientationChange"),teleflora.doOnOrientationChange=function(){$(document.activeElement).delay(500).trigger("blur"),90!=window.orientation&&-90!=window.orientation||$("#wrapper").attr("style",""),teleflora.body.hasClass("is-account-expanded")&&teleflora.toggleAccountMenu(),teleflora.resetClasses(),"undefined"!=typeof categoryParam&&categoryParam&&teleflora.categoryOrient(),$(".m-navbar-secondlevel").fadeOut(0)},teleflora.createNS("teleflora.resetClasses"),teleflora.resetClasses=function(){$(".no-scroll").removeClass("no-scroll"),$(".is-navbar-expanded").removeClass("is-navbar-expanded"),$(".is-subnav-expanded").removeClass("is-subnav-expanded"),$(".is-quickshop").removeClass("is-quickshop"),$(".is-tablet-expanded").removeClass("is-tablet-expanded"),$(".is-quickshop-expanded-tablet").removeClass("is-quickshop-expanded-tablet"),$(".m-navbar-quickshop").find(".m-navbar-secondlevel").removeAttr("style"),$("#secondLevelBkgQS").removeClass("is-expanded"),$("#secondLevelBkg").removeClass("is-expanded").removeAttr("style")},teleflora.hasTouch&&window.addEventListener("orientationchange",teleflora.doOnOrientationChange),$("a.m-login-form-forgot-pw").on("click",function(){teleflora.body.removeClass("is-account-expanded")}),teleflora.createNS("teleflora.endecaSearch"),teleflora.endecaSearch=function(){0<$(".atg_store_searchInput").length&&$(".atg_store_searchInput").endecaSearchSuggest({minAutoSuggestInputLength:minAutoSuggestInputLength,autoSuggestServiceUrl:autoSuggestServiceUrl,defaultNavState:defaultNavState,collection:collection,productUrl:productUrl,containerClass:containerClass,defaultImage:defaultImage,dodImage:dodImage,subscImage:subscImage,serverUrl:serverUrl,nonSecureBaseUrl:nonSecureBaseUrl,siteType:siteType})},void 0===$.EndecaSearchSuggestor?$.getScript(nonSecurejsFolderPath+"/sections/ef-endeca-auto-suggest.js").done(function(e,t){teleflora.endecaSearch()}):teleflora.endecaSearch(),teleflora.createNS("teleflora.promoBannerCarousel"),teleflora.promoBannerCarousel=function(){var e=(e=void 0===e?{}:e).promoBannerIds||[];$.each(e,function(e,t){t=document.getElementById(t);t&&(promoBannerCount--,t.parentNode.removeChild(t))}),"undefined"!=typeof promoBannerCount&&(2<=promoBannerCount?($("#promobannerCaro ul>li").length?$("#promobannerCaro").removeClass("elemHide"):$("#promobannerCaro").addClass("elemHide"),$("#promobannerCaro ul>li").removeClass("promobanner-slide"),2<=promoBannerCount?$("#promobannerCaro").addClass("addSpace"):$("#promobannerCaro").removeClass("addSpace"),2<=promoBannerCount&&$(".master-header .m-supernav").hasClass("m-supernav-checkout")&&$("#promobannerCaro").addClass("dotPos"),"function"==typeof $.fn.flexslider?$("#promobannerCaro").flexslider({initDelay:0,animation:"fade",controlNav:!0,directionNav:!1,slideshowSpeed:2e3,start:function(e){e.removeClass("loading")}}):$.getScript(nonSecurejsFolderPath+"/sections/ef-flexslider.js").done(function(e,t){$("#promobannerCaro").flexslider({initDelay:0,animation:"fade",controlNav:!0,directionNav:!1,slideshowSpeed:2e3,start:function(e){e.removeClass("loading")}})})):1==promoBannerCount&&($("#promobannerCaro").removeClass("loading"),$("#promobannerCaro").removeClass("flexslider"),$("#promobannerCaro ul>li").addClass("promobanner-slide")))},teleflora.promoBannerCarousel(),teleflora.createNS("teleflora.bestsellersCarousel"),teleflora.bestsellersCarousel=function(){"EFlorist"!=siteVendorType||$(".d-grid_3 m-category-sidebar no-desktop").is(":visible")||$("#categorysidebar").empty(),$(".bestsellersCaro").flexslider({initDelay:0,animation:"fade",animationLoop:!0,pauseOnAction:!0,pauseOnHover:!0,touch:!0,itemWidth:0,itemMargin:0,minItems:1,maxItems:1,controlNav:!1,keyboard:!1,nextText:"",prevText:"",start:function(){$(".flex-direction-nav").after('<span class="flex-counter avenir">1/'+$("ul.slides li").length+"</span>"),$(".bestsellersCaro").find("li.flex-active-slide .m-product-mini").animate({opacity:1}),$(".flex-pause").click(function(){$(".bestsellersCaro").flexslider("pause"),$(".flex-pause").addClass("hidden"),$(".flex-play").removeClass("hidden"),$(".flex-play").focus()}),$(".flex-play").click(function(){$(".bestsellersCaro").flexslider("play"),$(".flex-play").addClass("hidden"),$(".flex-pause").removeClass("hidden"),$(".flex-pause").focus()})},before:function(){$(".bestsellersCaro").find("li.flex-active-slide .m-product-mini").animate({opacity:0}),$(".flex-direction-nav li.counter").animate({opacity:0})},after:function(){$(".flex-counter").text($("li.flex-active-slide").index()+1+"/"+$("ul.slides li").length),$(".flex-direction-nav li.counter").animate({opacity:1}),$(".bestsellersCaro").find("li.flex-active-slide .m-product-mini").animate({opacity:1})}})},"EFlorist"==siteVendorType&&0<$(".bestsellersCaro").length&&("function"==typeof $.fn.flexslider?teleflora.bestsellersCarousel():$.getScript(nonSecurejsFolderPath+"/sections/ef-flexslider.js").done(function(e,t){teleflora.bestsellersCarousel()})),$(document).on("change","select.mandatorySelect",function(){var e=$(".feature-select").find("option:not(:contains('Select')):selected").length,t=$(".price-select").find("option:not(:contains('Select')):selected").length;e&&t&&$(".quickShopSubmitBtn").prop("disabled",!1)}),$("#loginfileFormSubscription").on("submit",function(e){$("#loginfileFormSubscription .wId").length;if(!/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/.test($("#optinEmailAddress").val()))return!1}),$(document).ready(function(){var i=!0;0<parseFloat($("#bookmarkedNumber").html())&&i&&($("body").addClass("is-bookmarks-ready"),$("#bookmarksContent .m-product-mini").hide(),$("#bookmarksContent .flex-direction-nav").hide(),$.getScript(nonSecurejsFolderPath+"/modules/jquery.flexslider.js").done(function(e,t){$.getScript(nonSecurejsFolderPath+"/sections/ef-bookmarks-bar.js").done(function(e,t){}),i=!1})),$(document).on("focus","#closeNavBtn",function(e){e.preventDefault(),$("a.nav-close").trigger("focus")}),$(document).on("click keydown","a.nav-close",function(e){9==e.keyCode&&event.shiftKey&&(e.preventDefault(),0<$("nav .m-header-c-social-list").length&&0==$(".nav-container li.is-subnav-expanded").length?$("nav .m-header-c-social-list a:last-child").trigger("focus"):$(".m-navbar-quickshop").hasClass("is-subnav-expanded")?($(".quickShopSubmitBtn:enabled").length?$(".quickShopSubmitBtn:enabled"):$("#Nf")).trigger("focus"):0<$(".nav-container li.is-subnav-expanded").length&&$(".nav-container li.is-subnav-expanded .m-navbar-secondlevel > li.m-navbar-set ul li a").length<=1?$(".m-navbar-escape").trigger("focus"):$(".nav-container li.m-navbar-has-subnav").each(function(){($(this).hasClass("is-subnav-expanded")?$("this").find("li:last-child a"):$(".nav-container li:last-child a")).trigger("focus")})),13!=e.keyCode&&"click"!=e.type||collapseNavbar()}),$(document).on("keydown","nav.m-navbar",function(e){27==e.keyCode&&collapseNavbar()}),0===$("#search.mobile-view #atg_store_search").length&&$("nav.m-navbar").addClass("with-search")});var byogLabelsArray,languageSelectOptions=$("#languageSelect > option");function focusNavclose(){setTimeout(function(){teleflora.body.hasClass("is-navbar-expanded")?$("a.nav-close").trigger("focus"):$("a.nav-close").click()},500)}0<languageSelectOptions.length&&languageSelectOptions.each(function(){var e,t=document.location.href;null!=t&&((e=(e=(e=this.value.trim()).startsWith("http://")?e.replace("http://",""):e).startsWith("https://")?e.replace("https://",""):e).startsWith("fr1.")&&(e=e.replace("fr1.","fr.")),(t=(t=t.startsWith("http://")?t.replace("http://",""):t).startsWith("https://")?t.replace("https://",""):t).startsWith(e)&&(this.selected=!0))}),navigator.userAgent.match(/(iPhone|iPod|iPad|mac)/i)&&$.getScript(nonSecurejsFolderPath+"/apple-pay.js"),$("#navTrigger").on("keydown click",function(e){13!=e.keyCode&&"click"!=e.type||(e.preventDefault(),$("nav.m-navbar").css("display","block"),teleflora.body.hasClass("is-navbar-expanded")?collapseNavbar():teleflora.expandNavbar($(this)),$("nav.m-navbar").removeClass("no-mobile"),e=$("#bookmarkedNumber").text(),1<=(e=Math.round(e))?$("#bookmarksBar").show():$("#bookmarksBar").hide())}),teleflora.createNS("teleflora.videoTagChk"),teleflora.videoTagChk=!!Modernizr.video,$("section [id^='parallaxCollection']").each(function(){$(this).telelax()}),$(".icon-circle-down-arrow-pink").on("click",function(e){e.preventDefault();e=$(".m-homepage-quick-shop-intro");$("html, body").animate({scrollTop:$(e).offset().top-30},500)}),$(".icon-circle-down-arrow-pink_collection").on("click",function(e){e.preventDefault();e=$(this).closest("a").attr("href");$("html, body").animate({scrollTop:$(e).offset().top-30},500)}),teleflora.createNS("teleflora.getVideoId"),teleflora.getVideoId=function(e){e=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return e&&11==e[2].length?e[2]:"error"};var flyoutCart,themecolor,queryParams,affiliateModalURL,sourceCode,EmdedURL="//www.youtube.com/embed/";function productSliderInit(){$(".m-homepage-slider-row").slick({autoplay:!0,infinite:!0,autoplaySpeed:3e3,dots:!1,arrows:!0,slidesToShow:5,slidesToScroll:1,responsive:[{breakpoint:960,settings:{slidesToShow:3,slidesToScroll:3,autoplay:!0,infinite:!0,autoplaySpeed:3e3,dots:!0,arrows:!1}},{breakpoint:720,settings:{slidesToShow:2,slidesToScroll:2,autoplay:!0,infinite:!0,autoplaySpeed:3e3,dots:!0,arrows:!1}}]})}function productRotationInit(e){e.slick({autoplay:!0,autoplaySpeed:4e3,dots:!0,arrows:!0,draggable:!1,swipe:!1,focusOnChange:!0,accessibility:!1,pauseOnHover:!1,pauseOnDotsHover:!1}),$(".slick-pause").click(function(){e.slickPause(),$(".slick-pause").addClass("hidden"),$(".slick-play").removeClass("hidden"),$(".slick-play").focus()}),$(".slick-play").click(function(){e.slickPlay(),$(".slick-play").addClass("hidden"),$(".slick-pause").removeClass("hidden"),$(".slick-pause").focus()})}function cookieModalClose(){document.cookie="GDPRCookie=true;path=/",$("#cookie-banner").removeClass("is-visible")}function autoResizeImagesIfApplicable(){var t;isIBUSite&&$(".m-product-mini figure.fluid img").length&&(t=!!window.MSInputMethodContext&&!!document.documentMode,$(".m-product-mini figure.fluid img").each(function(){var e;$(this).hasClass("ibuImageFrame")||$(this).addClass("ibuImageFrame"),$(this).closest(".m-product-mini figure.fluid").height(4*$(this).closest(".m-product-mini").width()/3+"px"),t&&(void 0===(e=$(this).attr("src"))&&(e=$(this).attr("data-src")),$(this).closest(".m-product-mini figure.fluid").css({"background-image":'url("'+e+'")',"background-size":"cover","background-position":"center center"}),$(this).css("display","none"))}))}function showIBUBrandedPopOver(){"undefined"!=typeof brandedPopOverURL&&"true"!=sessionStorage.getItem("sliderDiscarded")&&($("#main-content").append('<div class="if_slider active"><button class="if_slider_exit">x</button><img src="'+brandedPopOverURL+'" alt="IF Logo"></div>'),$(function(){$(".if_slider").addClass("active"),$(".if_slider").animate({right:"0px"})}),$(".if_slider_exit").click(function(){$(".if_slider").animate({right:"-180px"}),sessionStorage.setItem("sliderDiscarded","true")}))}$(".m-homepage-video-container").each(function(e,t){$(this).find("iframe").each(function(e){var t=teleflora.getVideoId($(this).attr("src")),t=EmdedURL+t;$(this).attr("src",t)})}),"EFlorist"==siteVendorType&&($(".m-homepage-video-background").each(function(){var e=$(this).find(".m-homepage-video-hidden"),t=$(e).data("videosrc"),i=$(e).data("imgsrc"),t='<video class="m-homepage-video" preload="metadata" muted loop autoplay poster="'+i+'" src="'+t+'" id="" ></video>',i='<img class="m-homepage-bg-img" alt="" src="'+i+'"/>';Modernizr.mq("screen and (min-width:961px)")&&teleflora.videoTagChk||Modernizr.mq("screen and (min-width:760px)")&&Modernizr.touch?$(e).after(t):$(e).after(i)}),$(".m-homepage-slider-row").length&&productSliderInit(),$(".m-homepage-slider-row").css("visibility","visible"),$(".m-homepage-product-rotation").length&&productRotationInit($(".m-homepage-product-rotation")),$(".m-homepage-rotation").length&&productRotationInit($(".m-homepage-rotation")),flyoutCart=!0,$(document).on("click keydown","#altCartTrigger",function(e){"13"!=e.keyCode&&"0"!=event.button||!flyoutCart||$.getScript(nonSecurejsFolderPath+"/sections/ef-flyoutcart.js").done(function(e,t){flyoutCart=!1,$("#altCartTrigger").click()})}),$("body").on("keyup",function(e){var t;$(".m-homepage-rotation").length,$(".m-homepage-product-rotation").length;event.shiftKey||$(document.activeElement).hasClass("slick-list")&&((t=$(document.activeElement).parent()).find(".slick-slide").each(function(){void 0===$(this).find("a").attr("href")&&$(this).find("a").attr("href","#")}),t.slickGoTo(parseInt("0")),t.find(".slick-slide[index='0'] a").trigger("focus"),t.slickPause())}),$(".slick-next").on("keydown",function(e){var t=$(this).parent();event.shiftKey||9==e.keyCode&&t.slickPlay()}),$(".slick-prev").on("keydown",function(e){var t=$(this).parent();event.shiftKey&&9==e.keyCode&&(e.preventDefault(),$(".slick-slide").length,lastSlideIndex=$(".slick-active").attr("index"),setTimeout(function(){t.find(".slick-active a").trigger("focus")},100),t.slickPause())}),themecolor=$(".m-homepage-product-rotation h2").css("color"),$(".slick-prev, .slick-next").css("background-color",themecolor),$(".mason").length&&$(".mason").masonry({itemSelector:".mason-item",columnWidth:".mason-sizer",percentPosition:!0,gutter:".gutter-sizer"}),$(".mason-item").length&&$(".mason-item").each(function(e){e="mason-"+e;$(this).addClass(e)}),$(".m-homepage-parallax-window").length&&$(".m-homepage-parallax-window").parallax({imageSrc:$(".m-homepage-parallax-window").data("image-src"),naturalWidth:"1400",naturalHeight:"900",bleed:"0",speed:"0.2"}),$(window).trigger("resize")),$("#onLoadManagedModal").length&&$.when($.getScript(nonSecurejsFolderPath+"/modules/bootstrap-modalmanager.js"),$.getScript(nonSecurejsFolderPath+"/modules/bootstrap-modal.js")).done(function(e,t){var i,n;isIBUSite?(n=$("#onLoadManagedModal").attr("class").split(/\s+/),$.each(n,function(e,t){if(-1<t.indexOf("page-name-"))return i=t,!1}),i&&getCookieValue(i)||$("#onLoadManagedModal").modal({backdrop:"static",keyboard:!1})):$("#onLoadManagedModal").modal()}),showAffiliateModal&&("true"==(queryParams=new URLSearchParams(window.location.search)).get("affiliate")&&(affiliateModalURL="/modalpages/petalsAffiliateModal.jsp",sourceCode=queryParams.get("srccode"),$.ajax({url:affiliateModalURL,type:"POST",dataType:"HTML",data:{sourceCode:sourceCode},async:!1,success:function(e){$("<div id='petals-affiliate-modal-container'/>").insertAfter("#promo-banner"),$("<div class='modal-backdrop fade in' style='z-index: 1050;'></div>").insertAfter("#petals-affiliate-modal-container"),$("#petals-affiliate-modal-container").html(e)},error:function(e){console.log("Error occurred while displaying affiliate modal.")}})),$("#petals-affiliate-button").on("click",function(e){var t=$("#petals-affid").val();if(""==t||!t.replace(/\s/g,"").length)return $("#petals-affid").addClass("error-border"),$(".petals-field-error").length||$("#petals-affiliate-form-wrap").append("<div class='red petals-field-error'>Please enter the membership number.</div>"),!1;$("#petals-affid").removeClass("error-border"),$(".petals-field-error").remove();t=queryParams.get("srccode")+"-affid:"+t;$.ajax({type:"POST",url:"/common/setProfileAttributes.jsp",async:!1,data:{srcCodeAndAffId:t},complete:function(){}})})),$(".homePageEngagement").on("click",function(e){e.preventDefault();var t=$(this).data("opennewwindow"),e=$(this).attr("engagementName");url=varContextPath+"/common/setProfileAttributes.jsp",params={paramEngagementName:e},curHref=$(this).attr("href"),$(this).hasClass("pdplink")&&(params.paramNavSection=$(this).attr("navlink")),$.ajax({type:"POST",url:url,async:!1,data:params,complete:function(){t?window.open(curHref):window.location.assign(curHref)}})}),$(window).on("load",function(){var e=sessionStorage.aaapiError;void 0!==e&&""!==e&&(e='<div class="homepage-error-banner">'+e+"</div>",$(".m-homepage:nth-of-type(1)").find("section:nth-of-type(1)").prepend(e),sessionStorage.clear()),$.each($(".m-product-mini img"),function(e,t){"368"==t.naturalHeight&&$(t).attr("style","margin:22% 0")}),$.each($(".m-product img"),function(e,t){"368"==t.naturalHeight&&$(t).attr("style","margin:22% 0")})}),window.onload=function(){autoResizeImagesIfApplicable()},$(document).ready(function(){var e;setTimeout(function(){$(".bestsellersCaro .flex-direction-nav a.flex-prev").attr("aria-label","Previous"),$(".bestsellersCaro .flex-direction-nav a.flex-next").attr("aria-label","Next")},2e3),isIBUSite&&(0<$("#byoglabels").length&&(e=$("#byoglabels").val(),byogLabelsArray=e.split("~")),$("body").addClass("IBUSite"),$("#wrapper").hasClass("standard-layout")&&Modernizr.mq("screen and (min-width:960px)")&&$("#search").appendTo("header .l-wrapper"),autoResizeImagesIfApplicable(),showIBUBrandedPopOver(),defineBYOBEventsIfApplicable()),$(".searchIcon").click(function(e){e.preventDefault(),$("#searchForm").submit()}),$(window).on("orientationchange",function(){isIBUSite&&$("#wrapper").hasClass("standard-layout")&&setTimeout(function(){Modernizr.mq("screen and (min-width:961px)")?$("#search").appendTo("header .l-wrapper"):$("#search").insertBefore("nav.m-navbar .l-wrapper ul.m-navbar-toplevel")},200)}),$(window).on("resize",function(){isIBUSite&&autoResizeImagesIfApplicable()})});var skipMainFocused=!0;function getCookieValue(e){return document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)")}function redirectToBYOGProduct(){setTimeout(function(){var e;5<=$(".your-bouquet .box-selected").length&&((e=[]).push($(".byob-item.box-selected").find("p").html()),e.push($("#listbox1").find(".combo-option.option-current").html()),e.push($("#listbox2").find(".combo-option.option-current").html()),e.push($("#listbox3").find(".combo-option.option-current").html()),sessionStorage.setItem("byogNavigation",e),window.location=sessionStorage.getItem("byogProductURL"))},500)}function resetCombos(e){$("#byobSeeYourGift").addClass("disable"),$("#byobSeeYourGift").attr("disabled",!0),$.each(e,function(e,t){var i=$("div[aria-controls="+t+"]");$(i).addClass("pink-border"),$(i).removeClass("box-selected"),$("#"+t).removeClass("box-selected"),$("#"+t).addClass("pink-border"),$("#"+t).find(".combo-option").remove()}),sessionStorage.removeItem("byogProductURL"),sessionStorage.removeItem("byogNavigation")}function processStyleSelection(s){resetCombos(["listbox1","listbox2","listbox3","listbox4"]),intitializeComboOption("listbox2"),intitializeComboOption("listbox3"),intitializeComboOption("listbox4"),$.ajax({type:"GET",url:siteContextPath+"/cartridgeElements/byobNavigationJSON.jsp"+s.attr("data-navstate")+"&collectionName=Occasions",dataType:"JSON",success:function(e){if(void 0!==e.facets){const n=[];n.push({name:byogLabelsArray[1],nValue:""});for(var t=0;t<=e.facets.length;t++){var i=e.facets[t];$.each(i,function(e,t){n.push({name:e,nValue:t})})}const o=document.querySelectorAll(".occasion-preference");o.forEach(e=>{new Select(e,n,1)}),$(".byob-item").removeClass("pink-border"),$(".byob-item").removeClass("box-selected"),s.addClass("box-selected")}}})}function defineBYOBEventsIfApplicable(){null!=$("#byob")&&$("#byob").length&&($("#byob-slick-slider").slick({autoplay:!1,autoplaySpeed:4e3,dots:!0,arrows:!0,slidesToShow:2,slidesToScroll:2,infinite:!0}),$("#shop-local-product-slick-slider").slick({autoplay:!0,autoplaySpeed:4e3,dots:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,infinite:!0,responsive:[{breakpoint:960,settings:{dots:!1}}]}),$(document).on("click keydown",".byob-item-size",function(e){$(".byob-item-size").removeClass("box-selected");for(var t=$(this),i=t.find("p").text(),n=$("#listbox3").find(".combo-option"),o=0;o<n.length;o++)n[o].innerHTML==i&&(n[o].click(),t.addClass("box-selected"))}),$(document).on("click",".byob-item",function(e){return!$(this).hasClass("box-selected")&&void processStyleSelection($(this))}),$(document).on("keydown",".byob-item",function(e){var t,i;13==e.keyCode?processStyleSelection($(this)):event.shiftKey||9!=e.keyCode?!event.shiftKey||9!=e.keyCode||0<(t=parseInt($(this).attr("tabindex")))&&(event.preventDefault(),$(".styleImage").find(".byob-item").removeClass("pink-border"),setTimeout(function(){$(".styleImage").find("[tabindex='"+t-1+"']").addClass("pink-border"),$(".styleImage").find("[tabindex='"+t-1+"']").trigger("focus")},500)):(event.preventDefault(),(i=parseInt($(this).attr("tabindex"))+1)==$(".styleImage").length?$("#combo1").trigger("focus"):($(".styleImage").find(".byob-item").removeClass("pink-border"),setTimeout(function(){$(".styleImage").find("[tabindex='"+i+"']").addClass("pink-border"),$(".styleImage").find("[tabindex='"+i+"']").trigger("focus")},500)))}),$(document).on("click keydown",".byob-info-icon, a.select-size",function(){1<$("#listbox3").find(".combo-option").length&&($("#byob-select-size").show(),$(".byob-item-size img").removeClass("box-selected"),setTimeout(function(){$(".pop-up .icon-close").focus()},500))}),$(document).on("click keydown",".size-popup-close",function(e){$("#byob-select-size").hide(),setTimeout(function(){$(".byob-size").focus()},500)}))}function enableBYOBbtn(){setTimeout(function(){5<=$(".your-bouquet .box-selected").length&&($("#byob .btn").removeClass("disable"),$("#byob .btn").attr("disabled",!1))},200)}$(document).on("keydown",":focus",function(e){var t=e.keyCode||e.which;40!=t&&9!=t||!skipMainFocused||(e.preventDefault(),$(".skip-main").trigger("focus"),skipMainFocused=!1)}),$(document).on("keydown",".skip-main",function(e){e=e.keyCode||e.which;event.shiftKey||9!=e||skipMainFocused||setTimeout(function(){($(".m-supvernav-icon").is(":visible")?$(".m-supvernav-icon"):$(".m-supernav-logo a")).focus()},100)}),$(window).load(function(){$(document).on("click","body",function(e){skipMainFocused=!1}),0!=$(window).scrollTop()||$("#onLoadManagedModal").length?skipMainFocused=!1:document.activeElement.blur()}),$("#onLoadManagedModal .icon-close-modal").on("click",function(e){$("#onLoadManagedModal").modal("hide")}),$("#onLoadManagedModal .icon-close-modal, #esat-small-modalContinue, #esat-medium-modalContinue, #esat-large-modalContinue, #esat-example-modalContinue").on("click",function(e){var i,t;isIBUSite&&(t=$("#onLoadManagedModal").attr("class").split(/\s+/),$.each(t,function(e,t){if(-1<t.indexOf("page-name-"))return i=t,!1}),i&&(document.cookie=i+"=true; path=/"))}),$(document).on("keyup",".m-account",function(e){27==e.which&&($("#accountTrigger").click(),$("#accountTrigger").focus())}),$("#logInEmail,.m-account .m-nav-list-item-link:first").on("keydown",function(e){event.shiftKey&&9==e.keyCode&&(e.preventDefault(),$("#accountTrigger").click(),$("#accountTrigger").focus())}),$(".createAccountButton,.m-account .m-nav-list-item-link:last").on("keydown",function(e){event.shiftKey||9==e.keyCode&&(e.preventDefault(),$("#accountTrigger").click(),$("#accountTrigger").focus())});const SelectActions={Close:0,CloseSelect:1,First:2,Last:3,Next:4,Open:5,PageDown:6,PageUp:7,Previous:8,Select:9,Type:10};function filterOptions(e=[],t,i=[]){return e.filter(e=>{return 0===e.toLowerCase().indexOf(t.toLowerCase())&&i.indexOf(e)<0})}function getActionFromKey(e,t){var{key:i,altKey:n,ctrlKey:o,metaKey:e}=e;return!t&&["ArrowDown","ArrowUp","Enter"," "].includes(i)?SelectActions.Open:"Home"===i?SelectActions.First:"End"===i?SelectActions.Last:"Backspace"!==i&&"Clear"!==i&&(1!==i.length||" "===i||n||o||e)?t?"ArrowUp"===i&&n?SelectActions.CloseSelect:"ArrowDown"!==i||n?"ArrowUp"===i?SelectActions.Previous:"PageUp"===i?SelectActions.PageUp:"PageDown"===i?SelectActions.PageDown:"Escape"===i?SelectActions.Close:"Enter"===i||" "===i?SelectActions.CloseSelect:void 0:SelectActions.Next:void 0:SelectActions.Type}function getIndexByLetter(e,t,i=0){var n,o=[...e.slice(i),...e.slice(0,i)],i=filterOptions(o,t)[0];if(i)return e.indexOf(i);if((n=t.split("")).every(e=>e===n[0])){o=filterOptions(o,t[0]);return e.indexOf(o[0])}return-1}function getUpdatedIndex(e,t,i){switch(i){case SelectActions.First:return 0;case SelectActions.Last:return t;case SelectActions.Previous:return Math.max(0,e-1);case SelectActions.Next:return Math.min(t,e+1);case SelectActions.PageUp:return Math.max(0,e-10);case SelectActions.PageDown:return Math.min(t,e+10);default:return e}}function isScrollable(e){return e&&e.clientHeight<e.scrollHeight}function maintainScrollVisibility(e,t){var{offsetHeight:i,offsetTop:n}=e,{offsetHeight:o,scrollTop:s}=t,e=s+o<n+i;n<s?t.scrollTo(0,n):e&&t.scrollTo(0,n-o+i)}const Select=function(e,t=[],i){this.el=e,this.comboEl=e.querySelector("[role=combobox]"),this.listboxEl=e.querySelector("[role=listbox]"),this.idBase=this.comboEl.id||"combo",this.options=t,this.activeIndex=i,this.open=!1,this.searchString="",this.searchTimeout=null,e&&this.comboEl&&this.listboxEl&&this.init()};function intitializeComboOption(e){switch(e){case"listbox1":const t=[{name:byogLabelsArray[1],nValue:""}],i=document.querySelectorAll(".occasion-preference");i.forEach(e=>{new Select(e,t,0)});break;case"listbox2":const n=[{name:byogLabelsArray[2],nValue:""}],o=document.querySelectorAll(".color-prefernce");o.forEach(e=>{new Select(e,n,0)});break;case"listbox3":const s=[{name:byogLabelsArray[3],nValue:""}],a=document.querySelectorAll(".size-prefernce");a.forEach(e=>{new Select(e,s,0)});break;case"listbox4":const r=[{name:byogLabelsArray[4],nValue:""}],l=document.querySelectorAll(".price-prefernce");l.forEach(e=>{new Select(e,r,0)});break;default:return}}function emailErrorHighlight(e,t){var i=$(e).attr("id")+"-err";$(e).attr("aria-describedby",i),$(e).parent().find("."+t).attr("id",i),$(e).parent().find("."+t).attr("role","alert")}function emailErrorPlacement(e,t){var i=$(t).attr("id")+"-err";$(t).attr("aria-describedby",i),$(e).attr("id",i),$(e).attr("role","alert")}Select.prototype.init=function(){this.comboEl.innerHTML=this.options[0].name,this.comboEl.addEventListener("blur",this.onComboBlur.bind(this)),this.comboEl.addEventListener("click",this.onComboClick.bind(this)),this.comboEl.addEventListener("keydown",this.onComboKeyDown.bind(this)),this.options.map((e,t)=>{t=this.createOption(e,t);this.listboxEl.appendChild(t)})},Select.prototype.createOption=function(e,t){const i=document.createElement("div");return i.setAttribute("role","option"),i.id=`${this.idBase}-${t}`,i.className=0===t?"combo-option option-current":"combo-option",i.setAttribute("selected",`${0===t}`),i.innerText=e.name,i.setAttribute("data-nValue",e.nValue),i.addEventListener("click",e=>{e.stopPropagation(),this.onOptionClick(t)}),i.addEventListener("mousedown",this.onOptionMouseDown.bind(this)),i},Select.prototype.getSearchString=function(e){return"number"==typeof this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.searchTimeout=window.setTimeout(()=>{this.searchString=""},500),this.searchString+=e,this.searchString},Select.prototype.onComboBlur=function(){var e=this;this.ignoreBlur?this.ignoreBlur=!1:this.open&&setTimeout(function(){e.updateMenuState(!1,!1)},485)},Select.prototype.onComboClick=function(){this.updateMenuState(!this.open,!1)},Select.prototype.onComboKeyDown=function(e){var t=e["key"],i=this.options.length-1,n=getActionFromKey(e,this.open);switch(n){case SelectActions.Last:case SelectActions.First:this.updateMenuState(!0);case SelectActions.Next:case SelectActions.Previous:case SelectActions.PageUp:case SelectActions.PageDown:return e.preventDefault(),this.onOptionChange(getUpdatedIndex(this.activeIndex,i,n));case SelectActions.CloseSelect:e.preventDefault(),this.selectOption(this.activeIndex),this.processSelection(this.activeIndex);case SelectActions.Close:return e.preventDefault(),this.updateMenuState(!1);case SelectActions.Type:return this.onComboType(t);case SelectActions.Open:return e.preventDefault(),this.updateMenuState(!0)}},Select.prototype.onComboType=function(e){this.updateMenuState(!0);e=this.getSearchString(e),e=getIndexByLetter(this.options,e,this.activeIndex+1);0<=e?this.onOptionChange(e):(window.clearTimeout(this.searchTimeout),this.searchString="")},Select.prototype.onOptionChange=function(e){this.activeIndex=e,this.comboEl.setAttribute("aria-activedescendant",`${this.idBase}-${e}`);const t=this.el.querySelectorAll("[role=option]");var i;[...t].forEach(e=>{e.classList.remove("option-current")}),t[e].classList.add("option-current"),isScrollable(this.listboxEl)&&maintainScrollVisibility(t[e],this.listboxEl),0==e?((i=document.getElementById(this.idBase)).classList.add("pink-border"),i.classList.remove("box-selected"),i.closest(".select").classList.remove("green-border")):((i=document.getElementById(this.idBase)).classList.add("box-selected"),i.closest(".select").classList.add("green-border"),i.classList.remove("pink-border"))},Select.prototype.processSelection=function(e){const t=this.el.querySelectorAll("[role=option]");var l=document.getElementById(this.idBase),i="Results",n=["listbox2","listbox3","listbox4"];"combo1"==l.getAttribute("id")?(i="Colors",resetCombos(n)):"combo2"==l.getAttribute("id")?(i="Sizes",resetCombos(n=["listbox3","listbox4"])):"combo3"==l.getAttribute("id")?(i="Prices",resetCombos(n=["listbox4"])):($("#byobSeeYourGift").addClass("disable"),$("#byobSeeYourGift").attr("disabled",!0)),0==e?"combo1"==l.getAttribute("id")?(intitializeComboOption("listbox2"),intitializeComboOption("listbox3"),intitializeComboOption("listbox4")):"combo2"==l.getAttribute("id")?(intitializeComboOption("listbox3"),intitializeComboOption("listbox4")):"combo3"==l.getAttribute("id")&&intitializeComboOption("listbox4"):(e=siteContextPath+"/cartridgeElements/byobNavigationJSON.jsp"+t[e].getAttribute("data-nValue")+"&collectionName="+i,"Results"==i&&(i=""===globalCurrency||void 0===globalCurrency?"$":globalCurrency,e=e+"&so="+($(".byob-item.box-selected").find("p").html()+"~"+$("#listbox1").find(".combo-option.option-current").html()+"~"+$("#listbox2").find(".combo-option.option-current").html()+"~"+$("#listbox3").find(".combo-option.option-current").html()+"~"+$("#listbox4").find(".combo-option.option-current").html().replace(i,""))),$.ajax({type:"GET",url:e,dataType:"JSON",success:function(o){if(void 0!==o.facets){const r=[];"combo1"==l.getAttribute("id")?(intitializeComboOption("listbox3"),intitializeComboOption("listbox4"),r.push({name:byogLabelsArray[2],nValue:""}),queryClass=".color-prefernce"):"combo2"==l.getAttribute("id")?(intitializeComboOption("listbox4"),r.push({name:byogLabelsArray[3],nValue:""}),queryClass=".size-prefernce"):"combo3"==l.getAttribute("id")&&(r.push({name:byogLabelsArray[4],nValue:""}),queryClass=".price-prefernce");var s=""===globalCurrency||void 0===globalCurrency?"$":globalCurrency;if(".price-prefernce"==queryClass){let n=[],t=new Map,i=new Map;for(let e=0;e<=o.facets.length;e++){var a=o.facets[e];$.each(a,function(e,t){i.set(e,t)})}i.forEach(function(e,t,i){n.push(t)}),n.sort((e,t)=>e-t).map(function(e){t.set(e,i.get(e))}),t.forEach(function(e,t,i){r.push({name:s+parseFloat(t),nValue:e})})}else if(".size-prefernce"==queryClass){let i=new Map;for(let e=0;e<=o.facets.length;e++){var n=o.facets[e];$.each(n,function(e,t){i.set(e,t)})}let e=["Standard","Impressive","Show Stopper"],t=new Map;e.map(function(e){i.has(e)&&t.set(e,i.get(e))}),t.forEach(function(e,t,i){r.push({name:t,nValue:e})})}else for(var e=0;e<=o.facets.length;e++){var t=o.facets[e];$.each(t,function(e,t){r.push({name:e,nValue:t})})}const i=document.querySelectorAll(queryClass);i.forEach(e=>{new Select(e,r,1)})}else void 0!==o.productURL&&sessionStorage.setItem("byogProductURL",o.productURL);l.classList.add("box-selected"),l.closest(".select").classList.add("green-border"),l.classList.remove("pink-border"),enableBYOBbtn()}}))},Select.prototype.onOptionClick=function(e){this.onOptionChange(e),this.selectOption(e),this.processSelection(e);var t=this;setTimeout(function(){t.updateMenuState(!1)},485)},Select.prototype.onOptionMouseDown=function(){this.ignoreBlur=!0},Select.prototype.selectOption=function(e){this.activeIndex=e;var t=this.options[e];this.comboEl.innerHTML=t.name;const i=this.el.querySelectorAll("[role=option]");[...i].forEach(e=>{e.setAttribute("selected","false")}),i[e].setAttribute("selected","true")},Select.prototype.updateMenuState=function(e,t=!0){this.open!==e&&(this.open=e,this.comboEl.setAttribute("aria-expanded",`${e}`),e?this.el.classList.add("open"):this.el.classList.remove("open"),e=e?`${this.idBase}-${this.activeIndex}`:"",this.comboEl.setAttribute("aria-activedescendant",e),t&&this.comboEl.focus())},window.addEventListener("load",function(){0<$("#byoglabels").length&&(intitializeComboOption("listbox1"),intitializeComboOption("listbox2"),intitializeComboOption("listbox3"),intitializeComboOption("listbox4"),sessionStorage.removeItem("byogProductURL"),sessionStorage.removeItem("byogNavigation"))}),teleflora.createNS("teleflora.IsEmail"),teleflora.IsEmail=function(e){return!!/^[A-Za-z0-9_\+\.\-]+[a-zA-Z0-9]+@[A-Za-z0-9_\+\.\-]+\.[A-Za-z]{2,24}$/.test(e)},$.validator.addMethod("emailSubscription",function(e,t){return this.optional(t)||teleflora.IsEmail(e)},"Please enter a valid email address (user@domain.com)"),$.validator.addClassRules("email",{email:!0});var validateEmailSignupForm=function(e){$(e).validate({ignore:"",rules:{optinEmailAddress:{required:!0,email:!0,emailSubscription:!0}},messages:{optinEmailAddress:{required:"Email Address is a required field",email:"Please enter a valid email address (user@domain.com)",emailSubscription:"Please enter a valid email address (user@domain.com)"}},highlight:function(e,t){$(e).addClass("error-border"),$(e).parent().find("label").addClass("error-label"),$(e).parent().removeClass("is-error"),emailErrorHighlight(e,t),$("html, body").animate({scrollTop:$(".error-border").first().offset().top-120},"420")},unhighlight:function(e,t,i){$(e).removeClass("error-border"),$(e).parent().find("label").removeClass("error-label"),$(e).removeAttr("aria-describedby")},errorPlacement:function(e,t){e.insertAfter(t),emailErrorPlacement(e,t)}})};$("#emailOptinBtn").on("click",function(e){validateEmailSignupForm("#loginfileFormSubscription"),$("#optinEmailAddress").focus()}),$(".slick-dots button").on("click",function(e){setTimeout(function(){$(".slick-slide.slick-active a").focus()},800)}),$(document).ready(function(){$(".slick-next,.slick-prev").attr("tabindex","-1"),$("#searchForm")&&$("#searchForm").attr("role","search"),$("#fafsearchForm")&&$("#fafsearchForm").attr("role","search")}),$(window).on("load",function(){$(".slick-slider .slick-dots li").each(function(e){e=$(".slick-slide[index = "+e+"] img").attr("alt");e&&$(this).children("button").attr("aria-label",e)}),$(".slick-slider").each((e,t)=>{1===$(t).find(".slick-slide:not(.slick-cloned)").length&&$(t).next(".slick-scroll-buttons").remove()})}),(teleflora=teleflora||{}).analytics={eventPasFired:function(){t_events="event26",teleflora.analytics.track()},eventZoomPan:function(){t_events="event28",teleflora.analytics.track()},eventProductView:function(){t_events="undefined"!=typeof t_type_of_products&&"Custom"===t_type_of_products?"event30,prodView":"event1,prodView","undefined"==typeof omnitureZipCodeAvailable||omnitureZipCodeAvailable||(t_events+=",event17"),teleflora.analytics.track()},eventPasNoZipFound:function(){t_events="event17",teleflora.analytics.track()},eventEmailOptIn:function(){t_events="event13",teleflora.analytics.track()},eventLoginFromHeader:function(){t_events="event42",teleflora.analytics.track()},eventQuickView:function(){t_events="event27",t_quick_view="Quick View;"+$("input[id=skuId]").val(),teleflora.analytics.track()},eventCartClick:function(){t_events="scView"},eventRemoveItemFromCart:function(){t_events="scRemove",teleflora.analytics.track()},eventAddFirstItemToCart:function(){t_events="scOpen,scAdd",teleflora.analytics.track()},eventAddAdditionalItemToCart:function(){t_events="scAdd",teleflora.analytics.track()},eventZipValidationFailed:function(){t_events="event17",teleflora.analytics.track()},eventInitiatedRecalculationInCart:function(){t_events="event6",teleflora.analytics.track()},firstDeliveryPageLoad:function(){t_events="event23,event17",teleflora.analytics.track()},saveForLaterClicked:function(){t_events="event41",teleflora.analytics.track()},remindMeOfOccasionClicked:function(e){e.checked&&(t_events="event44",teleflora.analytics.track())},billingAddressSameAsDelivery:function(e){e.checked&&(t_events="event45",teleflora.analytics.track())},billingAddressSameAsDeliveryFromPayment:function(){t_events="event45",teleflora.analytics.track()},earlyDeliveryFeeClicked:function(e){e.checked&&(t_events="event43",teleflora.analytics.track())},tfRewardsOpted:function(){t_events="event10",teleflora.analytics.track()},placeOrderBtnClicked:function(){t_events="purchase",teleflora.analytics.track()},postAddOnBtnClicked:function(){t_events="event22",teleflora.analytics.track()},continueToBillingBtnClicked:function(){},trackIfSavingsAvailablePerProduct:function(){for(var e=[],t=0;t<t_yousaved.length;t++)0!=t_yousaved[t]&&t_events.indexOf("event8")<0?e.push("event8"):0<t_events.indexOf("event8")&&e.push("");""!=t_events?t_evenlts=t_events+","+e:t_events=e,teleflora.analytics.track()},track:function(){"undefined"!=typeof s&&"function"==typeof s.t&&"undefined"!=typeof t_events&&(t_events.length-t_events.lastIndexOf(",")==1&&(t_events=t_events.substr(0,t_events.length-1)),s.events=t_events,s.t(),console.info("Tracking request invoked, t_events: "+t_events),console.info("Tracking request invoked, s.events: "+s.events))},populateRefinementVars:function(){var i=[],n=[];$("input.facetCheckBox.checkbox-checked").each(function(e,t){-1===i.indexOf($(t).attr("data-facet"))&&i.push($(t).attr("data-facet")),n.push($(t).attr("data-facet")+" : "+$(t).attr("id"))}),t_refinement_type=i.join(" | "),t_refinement_attr=n.join(" | ")},addAddressFromDeliveryClicked:function(){$(this).is(":checked")&&(t_events="event29",teleflora.analytics.track())}},$().ready(function(){if("undefined"==typeof t_channel||"Sub-Category"!==t_channel&&"Search"!==t_channel||teleflora.analytics.populateRefinementVars(),"undefined"!=typeof t_channel&&t_channel.startsWith("MyAccount")&&("undefined"!=typeof addAddressSuccess&&"true"==addAddressSuccess&&(t_events+="event29"),"undefined"!=typeof newUserCreated&&"true"==newUserCreated&&(t_events+="event14")),"undefined"!=typeof orderConfirm&&1==orderConfirm&&(""!=t_events&&t_events.indexOf("purchase")<0?t_events+=",purchase":t_events="purchase"),"undefined"!=typeof arrOptInTypes)for(var e=!1,t=!1,i=0;i<arrOptInTypes.length;i++)"25"!=arrOptInTypes[i]||e?"24"!=arrOptInTypes[i]||t||(t=!0,""!=t_events?t_events+=",event10":t_events="event10"):(e=!0,""!=t_events?t_events+=",event13":t_events="event13");"undefined"!=typeof enableEnsightenTrackingCall&&"true"==enableEnsightenTrackingCall&&teleflora.analytics.track()}),$(".deliveryAddSave").on("click",teleflora.analytics.addAddressFromDeliveryClicked),$("#emailOptinBtn").on("click",teleflora.analytics.eventEmailOptIn),$(".optinMsgli").on("click",function(e){$(this).is(":checked")&&teleflora.analytics.eventEmailOptIn()}),$("#confirmationAddBtn").on("click",teleflora.analytics.postAddOnBtnClicked),$("#cartTrigger, #ShoppingCart").on("click",teleflora.analytics.eventCartClick),$("#shoppingCartBtn1").on("click",function(e){1==$("#noRewards .checkbox-checked").length&&teleflora.analytics.tfRewardsOpted()}),$("#shoppingCartBtn2").on("click",function(e){1==$("#noRewards .checkbox-checked").length&&teleflora.analytics.tfRewardsOpted()}),$("#joinRewardsBtn").on("click",teleflora.analytics.tfRewardsOpted),$("#enterDeliveryInfoSubmit").on("click",teleflora.analytics.eventPasFired),$("#zipCodeLookupBtn").on("click",teleflora.submitZipLookupPopup);