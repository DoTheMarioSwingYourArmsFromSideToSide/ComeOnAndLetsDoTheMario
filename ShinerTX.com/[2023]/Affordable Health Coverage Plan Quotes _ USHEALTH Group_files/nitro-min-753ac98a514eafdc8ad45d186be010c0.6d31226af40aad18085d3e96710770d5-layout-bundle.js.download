(function(e){e(".fl-node-5e3835d5e7d32 .pp-infobox").on("mouseenter",function(){e(".fl-node-5e3835d5e7d32 .pp-icon-wrapper").addClass(" none")});e(".fl-node-5e3835d5e7d32 .pp-infobox").on("mouseleave",function(){e(".fl-node-5e3835d5e7d32 .pp-icon-wrapper").removeClass(" none")})})(jQuery);(function(e){e(".fl-node-5e384a2c27e93 .pp-infobox").on("mouseenter",function(){e(".fl-node-5e384a2c27e93 .pp-icon-wrapper").addClass(" none")});e(".fl-node-5e384a2c27e93 .pp-infobox").on("mouseleave",function(){e(".fl-node-5e384a2c27e93 .pp-icon-wrapper").removeClass(" none")})})(jQuery);(function(e){e(".fl-node-5e384a8773b53 .pp-infobox").on("mouseenter",function(){e(".fl-node-5e384a8773b53 .pp-icon-wrapper").addClass(" none")});e(".fl-node-5e384a8773b53 .pp-infobox").on("mouseleave",function(){e(".fl-node-5e384a8773b53 .pp-icon-wrapper").removeClass(" none")})})(jQuery);(function(e){e(".fl-node-5e384ad97fb7b .pp-infobox").on("mouseenter",function(){e(".fl-node-5e384ad97fb7b .pp-icon-wrapper").addClass(" none")});e(".fl-node-5e384ad97fb7b .pp-infobox").on("mouseleave",function(){e(".fl-node-5e384ad97fb7b .pp-icon-wrapper").removeClass(" none")})})(jQuery);(function(e){e(".fl-node-5e384ae3e316a .pp-infobox").on("mouseenter",function(){e(".fl-node-5e384ae3e316a .pp-icon-wrapper").addClass(" none")});e(".fl-node-5e384ae3e316a .pp-infobox").on("mouseleave",function(){e(".fl-node-5e384ae3e316a .pp-icon-wrapper").removeClass(" none")})})(jQuery);jQuery(function(i){i(function(){i(".fl-node-5e25d7173b746 .fl-photo-img").on("mouseenter",function(e){i(this).data("title",i(this).attr("title")).removeAttr("title")}).on("mouseleave",function(e){i(this).attr("title",i(this).data("title")).data("title",null)})});window._fl_string_to_slug_regex="a-zA-Z0-9"});(function(d){PPAdvancedMenu=function(e){this.settingsId=e.id;this.nodeClass=".fl-node-"+e.id;this.wrapperClass=this.nodeClass+" .pp-advanced-menu";this.type=e.type;this.mobileToggle=e.mobile;this.mobileBelowRow="below"===e.menuPosition;this.breakpoints=e.breakpoints;this.mobileBreakpoint=e.mobileBreakpoint;this.mediaBreakpoint=e.mediaBreakpoint;this.mobileMenuType=e.mobileMenuType;this.offCanvasDirection=e.offCanvasDirection;this.postId=e.postId;this.isBuilderActive=e.isBuilderActive;this.currentBrowserWidth=window.innerWidth;this.fullScreenMenu=null;this.offCanvasMenu=null;this.$submenus=null;d(this._initMenu.bind(this));d(window).on("resize",function(e){var i=window.innerWidth;if(i!=this.currentBrowserWidth){this._initMenu();this._clickOrHover();this.currentBrowserWidth=i}}.bind(this));d("body").on("click",function(e){if("undefined"!==typeof FLBuilderConfig){return}if(d(this.wrapperClass).find(".pp-advanced-menu-mobile-toggle").hasClass("pp-active")&&"expanded"!==this.mobileToggle){if(d(e.target).parents(".fl-module-pp-advanced-menu").length>0){return}if(d(e.target).is("input")&&d(e.target).parents(".pp-advanced-menu").length>0){return}d(this.wrapperClass).find(".pp-advanced-menu-mobile-toggle").trigger("click")}d(this.wrapperClass).find(".pp-has-submenu").removeClass("focus");d(this.wrapperClass).find(".pp-has-submenu .sub-menu").removeClass("focus");d(this.wrapperClass).find(".pp-has-submenu-container").removeClass("focus")}.bind(this))};PPAdvancedMenu.prototype={nodeClass:"",wrapperClass:"",type:"",breakpoints:{},$submenus:null,fullScreenMenu:null,offCanvasMenu:null,_isMobile:function(){return window.innerWidth<=this.breakpoints.small?true:false},_isMedium:function(){return window.innerWidth<=this.breakpoints.medium?true:false},_isLarge:function(){return window.innerWidth<=this.breakpoints.large?true:false},_isCustom:function(){return window.innerWidth<=this.breakpoints.custom?true:false},_isTouch:function(){var e=" -webkit- -moz- -o- -ms- ".split(" ");var i=function(e){return window.matchMedia(e).matches};if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch){return true}var s=["(",e.join("touch-enabled),("),"heartz",")"].join("");return i(s)},_isMenuToggle:function(){if(("always"==this.mobileBreakpoint||this._isMobile()&&"mobile"==this.mobileBreakpoint||this._isMedium()&&"medium-mobile"==this.mobileBreakpoint||this._isCustom()&&"custom"==this.mobileBreakpoint)&&(d(this.nodeClass).find(".pp-advanced-menu-mobile-toggle").is(":visible")||"expanded"==this.mobileToggle)){return true}return false},_bindSettingsFormEvents:function(){},_initMenu:function(){this._menuOnFocus();this._submenuOnClick();if(d(this.nodeClass).length&&this.type=="horizontal"){this._initMegaMenus()}if(this.type=="horizontal"||this.type=="vertical"){var i=this;d(this.wrapperClass).find(".pp-has-submenu-container").on("click",function(e){if(i.mobileMenuType!=="off-canvas"&&i.mobileMenuType!=="full-screen"){if(i._isTouch()){if(!d(this).hasClass("first-click")){e.preventDefault();d(this).addClass("first-click")}}}})}if(this._isMenuToggle()||this.type=="accordion"){d(this.wrapperClass).off("mouseenter mouseleave");this._menuOnClick();this._clickOrHover()}else{d(this.wrapperClass).off("click");this._submenuOnRight();this._submenuRowZindexFix()}if(this.mobileToggle!="expanded"){this._toggleForMobile();if(this.mobileMenuType==="off-canvas"){this._initOffCanvas()}if(this.mobileMenuType==="full-screen"){this._initFullScreen()}}d(this.wrapperClass).find("li:not(.menu-item-has-children)").on("click","a",function(e){if(d(e.target).closest(".pp-menu-search-item").length>0){return}d(this.nodeClass).find(".pp-advanced-menu").removeClass("menu-open");d(this.nodeClass).find(".pp-advanced-menu").addClass("menu-close");d("html").removeClass("pp-off-canvas-menu-open");d("html").removeClass("pp-full-screen-menu-open")}.bind(this));if(d(this.wrapperClass).find(".pp-menu-search-item").length){this._toggleMenuSearch()}if(d(this.wrapperClass).find(".pp-menu-cart-item").length){this._wooUpdateParams()}},_menuOnFocus:function(){d(this.nodeClass).off("focus").on("focus","a",function(e){var i=d(e.target).parents(".menu-item").first(),s=d(e.target).parentsUntil(this.wrapperClass);d(".pp-advanced-menu .focus").removeClass("focus");i.addClass("focus");s.addClass("focus")}.bind(this)).on("focusout","a",function(e){if(d(".pp-advanced-menu .focus").hasClass("pp-has-submenu")){d(e.target).parentsUntil(this.wrapperClass).find(".pp-has-submenu-container").removeClass("first-click")}}.bind(this))},_menuOnClick:function(){var l=this;var r="";d(this.wrapperClass).off().on("click.pp-advanced-menu",".pp-has-submenu-container",function(e){if(l._isTouch()){if(!d(this).hasClass("first-click")){e.preventDefault();d(this).addClass("first-click")}}var i=d(e.target).parents(".menu-item").parent().parent().hasClass("pp-advanced-menu");if(i&&r===""){r=d(e.target).parents(".menu-item")}var s=d(e.target).parents(".pp-has-submenu").first(),n=s.children(".sub-menu").first(),t=s.children(".pp-has-submenu-container").first().find("> a").attr("href"),a=d(e.target).parents(".sub-menu"),o=d(e.target).closest(".pp-has-submenu.pp-active");if(!n.is(":visible")||d(e.target).hasClass("pp-menu-toggle")||n.is(":visible")&&(typeof t==="undefined"||t=="#")){e.preventDefault();if(d(e.target).hasClass("pp-menu-toggle")){e.stopPropagation()}}else{e.stopPropagation();window.location.href=t;return}if(d(this.wrapperClass).hasClass("pp-advanced-menu-accordion-collapse")){if(!s.parents(".menu-item").hasClass("pp-active")){d(".menu .pp-active",this.wrapperClass).not(s).removeClass("pp-active")}else if(s.parents(".menu-item").hasClass("pp-active")&&s.parent(".sub-menu").length){d(".menu .pp-active",this.wrapperClass).not(s).not(o).removeClass("pp-active")}d(".sub-menu",this.wrapperClass).not(n).not(a).slideUp("normal")}if(d(l.wrapperClass).find(".sub-menu:visible").length>0){d(l.wrapperClass).find(".sub-menu:visible").parent().addClass("pp-active")}n.slideToggle(400,function(){d(e.target).parents(".pp-has-submenu-container").parent().parent().find("> .menu-item.pp-active").removeClass("pp-active");if(r!==""){r.parent().find(".menu-item.pp-active").removeClass("pp-active");d(l.wrapperClass).find(".sub-menu").parent().removeClass("pp-active");if(d(l.wrapperClass).find(".sub-menu:visible").length>0){d(l.wrapperClass).find(".sub-menu:visible").parent().addClass("pp-active")}else{s.toggleClass("pp-active");r.removeClass("pp-active")}}else{s.toggleClass("pp-active")}if(!n.is(":visible")){n.parent().removeClass("pp-active")}});e.stopPropagation()}.bind(this))},_submenuOnClick:function(){d(this.wrapperClass+" .sub-menu").off().on("click","a",function(e){if(d(e.target).parent().hasClass("focus")){d(e.target).parentsUntil(this.wrapperClass).removeClass("focus")}}.bind(this))},_clickOrHover:function(){this.$submenus=this.$submenus||d(this.wrapperClass).find(".sub-menu");var e=d(this.wrapperClass),i=e.find(".menu");$li=e.find(".pp-has-submenu");if(this._isMenuToggle()){$li.each(function(e){if(!d(this).hasClass("pp-active")){d(this).find(".sub-menu").fadeOut()}})}else{$li.each(function(e){if(!d(this).hasClass("pp-active")){d(this).find(".sub-menu").css({display:"",opacity:""})}})}},_submenuOnRight:function(){d(this.wrapperClass).on("mouseenter focus",".pp-has-submenu",function(e){if(d(e.currentTarget).find(".sub-menu").length===0){return}var i=d(e.currentTarget),s=i.parent(),n=i.find(".sub-menu"),t=n.width(),a=0,o=window.innerWidth;if(i.closest(".pp-menu-submenu-right").length!==0){i.addClass("pp-menu-submenu-right")}else if(d("body").hasClass("rtl")){a=s.is(".sub-menu")?s.offset().left-t:i.offset().left-t;if(a<=0){i.addClass("pp-menu-submenu-right")}}else{a=s.is(".sub-menu")?s.offset().left+s.width()+t:i.offset().left+t;if(a>o){i.addClass("pp-menu-submenu-right")}}}.bind(this)).on("mouseleave",".pp-has-submenu",function(e){d(e.currentTarget).removeClass("pp-menu-submenu-right")}.bind(this))},_submenuRowZindexFix:function(e){d(this.wrapperClass).on("mouseenter","ul.menu > .pp-has-submenu",function(e){if(d(e.currentTarget).find(".sub-menu").length===0){return}d(this.nodeClass).closest(".fl-row").find(".fl-row-content").css("z-index","10")}.bind(this)).on("mouseleave","ul.menu > .pp-has-submenu",function(e){d(this.nodeClass).closest(".fl-row").find(".fl-row-content").css("z-index","")}.bind(this))},_toggleForMobile:function(){var e=null,n=null,t=this;if(this._isMenuToggle()){if(this._isMobileBelowRowEnabled()){this._placeMobileMenuBelowRow();e=d(this.wrapperClass);n=d(this.nodeClass+"-clone");n.find("ul.menu").show()}else{e=d(this.wrapperClass);n=e.find(".menu")}if(!e.find(".pp-advanced-menu-mobile-toggle").hasClass("pp-active")&&this.mobileMenuType==="default"){n.css({display:"none"})}e.on("click",".pp-advanced-menu-mobile-toggle",function(e){d(this).toggleClass("pp-active");n.slideToggle();e.stopPropagation()});n.on("click",'.menu-item > a[href*="#"]',function(e){var i=d(this).attr("href"),s="";if(i!=="#"){s=i.split("#")[1];if(d("body").find("#"+s).length>0){e.preventDefault();d(this).toggleClass("pp-active");setTimeout(function(){d("html, body").animate({scrollTop:d("#"+s).offset().top},1e3,function(){window.location.hash=s})},500);if(!t._isMenuToggle()){n.slideToggle()}}}})}else{if(this._isMobileBelowRowEnabled()){this._removeMenuFromBelowRow()}e=d(this.wrapperClass),n=e.children(".menu");e.find(".pp-advanced-menu-mobile-toggle").removeClass("pp-active");n.css({display:""})}},_initMegaMenus:function(){var e=d(this.nodeClass),i=e.closest(".fl-row-content"),s=i.width(),n=i.offset().left,t=e.find(".mega-menu"),a=e.find(".mega-menu-disabled"),o=this._isMenuToggle();if(o){t.removeClass("mega-menu").addClass("mega-menu-disabled");e.find("li.mega-menu-disabled > ul.sub-menu").css("width","");i.css("position","")}else{a.removeClass("mega-menu-disabled").addClass("mega-menu");e.find("li.mega-menu > ul.sub-menu").css("width",s+"px");i.css("position","relative")}},_initOffCanvas:function(){d("html").addClass("pp-off-canvas-menu-module");d("html").addClass("pp-off-canvas-menu-"+this.offCanvasDirection);if(this.isBuilderActive){this._toggleMenu();return}if(null===this.offCanvasMenu&&d(this.nodeClass).find(".pp-advanced-menu.off-canvas").length>0){this.offCanvasMenu=d(this.nodeClass).find(".pp-advanced-menu.off-canvas")}if(d("#pp-advanced-menu-off-canvas-"+this.settingsId).length===0&&null!==this.offCanvasMenu){this.offCanvasMenu.appendTo("body").wrap('<div id="pp-advanced-menu-off-canvas-'+this.settingsId+'" class="fl-node-'+this.settingsId+'">')}this._toggleMenu()},_initFullScreen:function(){d("html").addClass("pp-full-screen-menu-module");if(this.isBuilderActive){this._toggleMenu();return}if(null===this.offCanvasMenu&&d(this.nodeClass).find(".pp-advanced-menu.full-screen").length>0){this.fullScreenMenu=d(this.nodeClass).find(".pp-advanced-menu.full-screen");if(d("#pp-advanced-menu-full-screen-"+this.settingsId).length===0){this.fullScreenMenu.appendTo("body").wrap('<div id="pp-advanced-menu-full-screen-'+this.settingsId+'" class="fl-node-'+this.settingsId+'">')}}this._toggleMenu()},_toggleMenu:function(){var e=this;var i=true;if(e.mobileMenuType==="full-screen"){var s=window.innerHeight;d(e.nodeClass).find(".pp-menu-overlay").css("height",s+"px");d(window).on("resize",function(){s=window.innerHeight;d(e.nodeClass).find(".pp-menu-overlay").css("height",s+"px")})}d(e.nodeClass).find(".pp-advanced-menu-mobile-toggle").off("click").on("click",function(){if(i){if(d(".pp-advanced-menu.menu-open").length>0){d(".pp-advanced-menu").removeClass("menu-open");d("html").removeClass("pp-full-screen-menu-open")}}if(d(e.nodeClass).find(".pp-advanced-menu").hasClass("menu-open")){d(e.nodeClass).find(".pp-advanced-menu").removeClass("menu-open");d(e.nodeClass).find(".pp-advanced-menu").addClass("menu-close");d("html").removeClass("pp-off-canvas-menu-open");d("html").removeClass("pp-full-screen-menu-open")}else{d(e.nodeClass).find(".pp-advanced-menu").addClass("menu-open");if(e.mobileMenuType==="off-canvas"){d("html").addClass("pp-off-canvas-menu-open")}if(e.mobileMenuType==="full-screen"){d("html").addClass("pp-full-screen-menu-open")}}});d(e.nodeClass).find(".pp-advanced-menu-mobile-toggle").on("keyup",function(e){if(13===e.keyCode||13===e.which){d(this).trigger("click")}});d(e.nodeClass).find(".pp-advanced-menu .pp-menu-close-btn, .pp-clear").on("click",function(){d(e.nodeClass).find(".pp-advanced-menu").removeClass("menu-open");d(e.nodeClass).find(".pp-advanced-menu").addClass("menu-close");d("html").removeClass("pp-off-canvas-menu-open");d("html").removeClass("pp-full-screen-menu-open")});if(this.isBuilderActive){setTimeout(function(){if(d('.fl-builder-settings[data-node="'+e.settingsId+'"]').length>0){d(".pp-advanced-menu").removeClass("menu-open");d(e.nodeClass).find(".pp-advanced-menu-mobile-toggle").trigger("click")}},600);FLBuilder.addHook("settings-form-init",function(){if(!d('.fl-builder-settings[data-node="'+e.settingsId+'"]').length>0){return}if(!d(e.nodeClass).find(".pp-advanced-menu").hasClass("menu-open")){d(".pp-advanced-menu").removeClass("menu-open");d(e.nodeClass).find(".pp-advanced-menu-mobile-toggle").trigger("click")}});if(d("html").hasClass("pp-full-screen-menu-open")&&!d(e.nodeClass).find(".pp-advanced-menu").hasClass("menu-open")){d("html").removeClass("pp-full-screen-menu-open")}if(d("html").hasClass("pp-off-canvas-menu-open")&&!d(e.nodeClass).find(".pp-advanced-menu").hasClass("menu-open")){d("html").removeClass("pp-off-canvas-menu-open")}}},_isMobileBelowRowEnabled:function(){if(this.mobileMenuType==="default"){return this.mobileBelowRow&&d(this.nodeClass).closest(".fl-col").length}return false},_placeMobileMenuBelowRow:function(){if(d(this.nodeClass+"-clone").length){return}if(d("html").hasClass("fl-builder-is-showing-toolbar")){return}var e=d(this.nodeClass),i=e.clone(),s=e.closest(".fl-col");e.find("ul.menu").remove();i.addClass((this.nodeClass+"-clone").replace(".",""));i.find(".pp-advanced-menu-mobile-toggle").remove();s.after(i);if(e.hasClass("fl-animation")){i.removeClass("fl-animation")}this._menuOnClick()},_removeMenuFromBelowRow:function(){if(!d(this.nodeClass+"-clone").length){return}var e=d(this.nodeClass),i=d(this.nodeClass+"-clone"),s=i.find("ul.menu");e.find(".pp-advanced-menu-mobile-toggle").after(s);i.remove()},_toggleMenuSearch:function(){var e=d(this.wrapperClass).find(".pp-menu-search-item"),t=this;e.each(function(){var i=d(this);var e=i.find("> a"),s=i.find(".pp-search-form"),n=i.find(".pp-search-form__input");e.on("click",function(e){e.preventDefault();i.toggleClass("pp-search-active");if(i.hasClass("pp-search-active")){setTimeout(function(){n.focus();t._focusMenuSearch(n)},100)}d("body").on("click.pp-menu-search",t._hideMenuSearch.bind(t))});n.on("focus",function(){s.addClass("pp-search-form--focus")}).on("blur",function(){s.removeClass("pp-search-form--focus")})})},_hideMenuSearch:function(e){if(e!==undefined){if(d(e.target).closest(".pp-menu-search-item").length>0){return}}d(this.wrapperClass).find(".pp-menu-search-item").removeClass("pp-search-active");d("body").off("click.pp-menu-search")},_focusMenuSearch:function(e){if(e[0].setSelectionRange){var i=e.val().length*2;setTimeout(function(){e[0].setSelectionRange(i,i)},1)}else{e.val(e.val())}},_wooUpdateParams:function(){if("undefined"!==typeof wc_cart_fragments_params){wc_cart_fragments_params.wc_ajax_url+="&pp-advanced-menu-node="+this.settingsId+"&post-id="+this.postId}if("undefined"!==typeof wc_add_to_cart_params){wc_add_to_cart_params.wc_ajax_url+="&pp-advanced-menu-node="+this.settingsId+"&post-id="+this.postId}},_validClick:function(e){return e.which==1||e.which==13||e.which==32||e.which==undefined?true:false}}})(jQuery);var pp_menu_5e25e03248679;(function(e){pp_menu_5e25e03248679=new PPAdvancedMenu({id:"5e25e03248679",type:"horizontal",mobile:"hamburger",menuPosition:"below",breakpoints:{large:1200,medium:1024,small:768,custom:768},mobileBreakpoint:"medium-mobile",mediaBreakpoint:"1024",mobileMenuType:"default",offCanvasDirection:"left",fullScreenAnimation:"",postId:"8538",isBuilderActive:false})})(jQuery);(function(h){FLThemeBuilderHeaderLayout={win:null,body:null,header:null,overlay:false,hasAdminBar:false,stickyOn:"",breakpointWidth:0,init:function(){var e=h("html.fl-builder-edit").length,i=h(".fl-builder-content[data-type=header]"),s=i.find(".fl-module-menu"),n=null;if(!e&&i.length){i.imagesLoaded(h.proxy(function(){this.win=h(window);this.body=h("body");this.header=i.eq(0);this.overlay=!!Number(i.attr("data-overlay"));this.hasAdminBar=!!h("body.admin-bar").length;this.stickyOn=this.header.data("sticky-on");n=this.header.data("sticky-breakpoint");if(""==this.stickyOn){if(typeof FLBuilderLayoutConfig.breakpoints[n]!==undefined){this.breakpointWidth=FLBuilderLayoutConfig.breakpoints[n]}else{this.breakpointWidth=FLBuilderLayoutConfig.breakpoints.medium}}if(Number(i.attr("data-sticky"))){this.header.data("original-top",this.header.offset().top);this.win.on("resize",h.throttle(500,h.proxy(this._initSticky,this)));this._initSticky()}},this))}},_initSticky:function(e){var i=h(".fl-builder-content[data-type=header]"),s=this.win.width(),n=false;n=this._makeWindowSticky(s);if(n||this.breakpointWidth>0&&s>=this.breakpointWidth){this.win.on("scroll.fl-theme-builder-header-sticky",h.proxy(this._doSticky,this));if(e&&"resize"===e.type){if(this.header.hasClass("fl-theme-builder-header-sticky")){this._doSticky(e)}this._adjustStickyHeaderWidth()}if(Number(i.attr("data-shrink"))){this.header.data("original-height",this.header.outerHeight());this.win.on("resize",h.throttle(500,h.proxy(this._initShrink,this)));this._initShrink()}this._initFlyoutMenuFix(e)}else{this.win.off("scroll.fl-theme-builder-header-sticky");this.win.off("resize.fl-theme-builder-header-sticky");this.header.removeClass("fl-theme-builder-header-sticky");this.header.removeAttr("style");this.header.parent().css("padding-top","0")}},_makeWindowSticky:function(e){var i=false;switch(this.stickyOn){case"xl":i=e>FLBuilderLayoutConfig.breakpoints["large"];break;case"":case"desktop":i=e>=FLBuilderLayoutConfig.breakpoints["medium"];break;case"desktop-medium":i=e>FLBuilderLayoutConfig.breakpoints["small"];break;case"large":i=e>FLBuilderLayoutConfig.breakpoints["medium"]&&e<=FLBuilderLayoutConfig.breakpoints["large"];break;case"large-medium":i=e>FLBuilderLayoutConfig.breakpoints["small"]&&e<=FLBuilderLayoutConfig.breakpoints["large"];break;case"medium":i=e<=FLBuilderLayoutConfig.breakpoints["medium"]&&e>FLBuilderLayoutConfig.breakpoints["small"];break;case"medium-mobile":i=e<=FLBuilderLayoutConfig.breakpoints["medium"];break;case"mobile":i=e<=FLBuilderLayoutConfig.breakpoints["small"];break;case"all":i=true;break}return i},_doSticky:function(e){var i=Math.floor(this.win.scrollTop()),s=Math.floor(this.header.data("original-top")),n=this.header.hasClass("fl-theme-builder-header-sticky"),t=this.header.hasClass("fl-theme-builder-header-scrolled"),a=this.header.prevAll(".fl-builder-content"),o=parseInt(jQuery("body").css("padding-top")),l=h("#wpadminbar").length?h("#wpadminbar").outerHeight():0,r=0;if(isNaN(o)){o=0}if(this.hasAdminBar&&this.win.width()>600){i+=Math.floor(l)}if(i>s){if(!n){if(e&&("scroll"===e.type||"smartscroll"===e.type)){this.header.addClass("fl-theme-builder-header-sticky");if(this.overlay&&a.length){this.header.css("top",l)}}if(!this.overlay){this._adjustHeaderHeight()}}}else if(n){this.header.removeClass("fl-theme-builder-header-sticky");this.header.removeAttr("style");this.header.parent().css("padding-top","0")}this._adjustStickyHeaderWidth();if(i>s){if(!t){this.header.addClass("fl-theme-builder-header-scrolled")}}else if(t){this.header.removeClass("fl-theme-builder-header-scrolled")}this._flyoutMenuFix(e)},_initFlyoutMenuFix:function(e){var i=this.header,s=i.find(".fl-menu"),n=s.find(".fl-menu-mobile-flyout"),t=s.hasClass("fl-menu-responsive-flyout-push")||s.hasClass("fl-menu-responsive-flyout-push-opacity"),a=i.hasClass("fl-theme-builder-header-sticky"),o=s.hasClass("fl-menu-responsive-flyout-overlay"),l=s.hasClass("fl-flyout-right")?"right":"left",r=i.parent().is("header")?i.parent().parent():i.parent();isFullWidth=this.win.width()===i.width(),flyoutLayout="",activePos=250,headerPos=0;if(!n.length){return}if(this.win.width()>i.parent().width()){headerPos=(this.win.width()-i.width())/2}if(o){activePos=headerPos}else if(t){activePos=activePos+headerPos}n.data("activePos",activePos);if(t){flyoutLayout="push-"+l}else if(o){flyoutLayout="overlay-"+l}if(t&&!h("html").hasClass("fl-theme-builder-has-flyout-menu")){h("html").addClass("fl-theme-builder-has-flyout-menu")}if(!r.hasClass("fl-theme-builder-flyout-menu-"+flyoutLayout)){r.addClass("fl-theme-builder-flyout-menu-"+flyoutLayout)}if(!i.hasClass("fl-theme-builder-flyout-menu-overlay")&&o){i.addClass("fl-theme-builder-flyout-menu-overlay")}if(!i.hasClass("fl-theme-builder-header-full-width")&&isFullWidth){i.addClass("fl-theme-builder-header-full-width")}else if(!isFullWidth){i.removeClass("fl-theme-builder-header-full-width")}s.on("click",".fl-menu-mobile-toggle",h.proxy(function(e){if(s.find(".fl-menu-mobile-toggle.fl-active").length){h("html").addClass("fl-theme-builder-flyout-menu-active");e.stopImmediatePropagation()}else{h("html").removeClass("fl-theme-builder-flyout-menu-active")}this._flyoutMenuFix(e)},this))},_flyoutMenuFix:function(e){var i=this.header,s=i.find(".fl-menu"),n=s.find(".fl-menu-mobile-flyout"),t=s.hasClass("fl-menu-responsive-flyout-push")||s.hasClass("fl-menu-responsive-flyout-push-opacity"),a=s.hasClass("fl-flyout-right")?"right":"left",o=s.find(".fl-menu-mobile-opacity"),l="undefined"!==typeof e&&"scroll"===e.handleObj.type,r="undefined"!==typeof n.data("activePos")?n.data("activePos"):0,d=(this.win.width()-i.width())/2,u=d>0?r+4:254;if(!n.length){return}if(this.overlay){return}if(h(".fl-theme-builder-flyout-menu-active").length){if(l&&!n.hasClass("fl-menu-disable-transition")){n.addClass("fl-menu-disable-transition")}if(i.hasClass("fl-theme-builder-header-sticky")){if(!l){setTimeout(h.proxy(function(){n.css(a,"-"+r+"px")},this),1)}else{n.css(a,"-"+r+"px")}}else{n.css(a,"0px")}}else{if(n.hasClass("fl-menu-disable-transition")){n.removeClass("fl-menu-disable-transition")}if(i.hasClass("fl-theme-builder-flyout-menu-overlay")&&d>0&&d<250){if(i.hasClass("fl-theme-builder-header-sticky")){u=d+254}else{u=254}}if(e&&e.type==="resize"){u=d+254}n.css(a,"-"+u+"px")}if(e&&s.is(".fl-menu-responsive-flyout-overlay")&&h.infinitescroll){e.stopImmediatePropagation()}if(o.length){if(i.hasClass("fl-theme-builder-header-sticky")){if("0px"===o.css("left")){o.css("left","-"+d+"px")}}else{o.css("left","")}}},_adjustStickyHeaderWidth:function(){if(h("body").hasClass("fl-fixed-width")){var e=this.header.parent().width();if(this.win.width()>=992){this.header.css({margin:"0 auto","max-width":e})}else{this.header.css({margin:"","max-width":""})}}},_adjustHeaderHeight:function(){var e=this.header.prevAll(".fl-builder-content"),i=0,s=0,n=Math.floor(this.header.outerHeight()),t=parseInt(h("body").css("padding-top")),a=0,o=0;if(isNaN(t)){t=0}if(e.length){h.each(e,function(){i+=Math.floor(h(this).outerHeight())});s=2}if(this.hasAdminBar&&this.win.width()<=600){a=Math.floor(h("#wpadminbar").outerHeight())}o=Math.floor(i+n);if(n>0){var l=this.header.parent(),r=0;if(h(l).is("body")){r=Math.floor(n-a)}else{r=Math.floor(n-t-a)}h(l).css("padding-top",r-s+"px");this.header.css({"-webkit-transform":"translate(0px, -"+o+"px)","-ms-transform":"translate(0px, -"+o+"px)",transform:"translate(0px, -"+o+"px)"})}},_initShrink:function(e){if(this.win.width()>=this.breakpointWidth){this.win.on("scroll.fl-theme-builder-header-shrink",h.proxy(this._doShrink,this));this._setImageMaxHeight();if(this.win.scrollTop()>0){this._doShrink()}}else{this.header.parent().css("padding-top","0");this.win.off("scroll.fl-theme-builder-header-shrink");this._removeShrink();this._removeImageMaxHeight()}},_doShrink:function(e){var i=this.win.scrollTop(),s=this.header.data("original-top"),n=this.header.data("original-height"),a=this.header.data("shrink-image-height"),t=this.win.width(),o=this._makeWindowSticky(t),l=this.header.hasClass("fl-theme-builder-header-shrink");if(this.hasAdminBar){i+=32}if(o&&i>s+n){if(!l){this.header.addClass("fl-theme-builder-header-shrink");this.header.find("img").each(function(e){var i=h(this),s=i.closest(".max-mega-menu").length,n=i.closest(".fl-button-lightbox-content").length,t=i.closest("li.menu-item").length;if(!(n||t||s)){i.css("max-height",a)}});this.header.find(".fl-row-content-wrap").each(function(){var e=h(this);if(parseInt(e.css("padding-bottom"))>5){e.addClass("fl-theme-builder-header-shrink-row-bottom")}if(parseInt(e.css("padding-top"))>5){e.addClass("fl-theme-builder-header-shrink-row-top")}});this.header.find(".fl-module-content").each(function(){var e=h(this);if(parseInt(e.css("margin-bottom"))>5){e.addClass("fl-theme-builder-header-shrink-module-bottom")}if(parseInt(e.css("margin-top"))>5){e.addClass("fl-theme-builder-header-shrink-module-top")}})}}else if(l){this.header.find("img").css("max-height","");this._removeShrink()}if("undefined"===typeof e&&h("body").hasClass("fl-fixed-width")){if(!this.overlay){this._adjustHeaderHeight()}}},_removeShrink:function(){var e=this.header.find(".fl-row-content-wrap"),i=this.header.find(".fl-module-content");e.removeClass("fl-theme-builder-header-shrink-row-bottom");e.removeClass("fl-theme-builder-header-shrink-row-top");i.removeClass("fl-theme-builder-header-shrink-module-bottom");i.removeClass("fl-theme-builder-header-shrink-module-top");this.header.removeClass("fl-theme-builder-header-shrink")},_setImageMaxHeight:function(){var e=h("head"),i="fl-header-styles-"+this.header.data("post-id"),r="",s=this.header.find(".fl-module-content img");if(h("#"+i).length){return}s.each(function(e){var i=h(this),s=i.height(),n=i.closest(".fl-module").data("node"),t="fl-node-"+n+"-img-"+e,a=i.closest(".max-mega-menu").length,o=i.closest(".fl-button-lightbox-content").length,l=i.closest("li.menu-item").length;if(!(o||l||a)){i.addClass(t);r+="."+t+" { max-height: "+(s?s:i[0].height)+"px }"}});if(""!==r){e.append('<style id="'+i+'">'+r+"</style>")}},_removeImageMaxHeight:function(){h("#fl-header-styles-"+this.header.data("post-id")).remove()}};h(function(){FLThemeBuilderHeaderLayout.init()})})(jQuery);