SUGApp.service("globalService",["$http","SUGUtilities","$q","$window","$location",function(a,o,i,l,c){var s={};return s.getDateAndTZFormats=function(){return o.APISyncCall("get","","","m.getDateAndTimeZoneFormats",15e3)},s.getDateFormatSamples=function(e){return o.APISyncCall("post","",{ID:e},"m.getDateFormatSamples",15e3)},s.setDateAndTZFormats=function(e,t,n){return o.APISyncCall("post","",{dateformatid:e,zoneid:t,signUpDefault:n},"m.saveDateAndTZSettings",15e3)},s.setSignUpDateAndTZSettings=function(e){return o.APISyncCall("post","",e,"w.saveSignUpDateAndTZSettings",15e3)},s.getCountries=function(){return o.APISyncCallWithCaching("get","","","g.getCountries",15e3)},s.getTimeZonesByCountry=function(e){return o.APISyncCall("post","",{countrycode:e},"g.getTimeZonesByCountry",15e3)},s.getTimeZonesByZoneGroup=function(e,t,n){e={countrycode:e,zoneGroupID:t};return void 0!==n&&(e.includetzshort=n),o.APISyncCall("post","",e,"g.getTimeZonesByZoneGroup",15e3)},s.getZoneGroupsByCountry=function(e){return o.APISyncCall("post","",{countryCode:e},"g.getZoneGroupsByCountry",15e3)},s.getInternationalDateFormats=function(){return o.APISyncCall("get","","","g.getInternationalDateFormats",15e3)},s.uploadFile=function(e,t,n){var r;return void 0===e||void 0===t||void 0===n?"uploadUrl, fileObj, destDirectory are all required.":((r=new FormData).append("file",t),r.append("directory",n),a.post(e,r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e){return e}).error(function(e){return e}))},s.getEventLogByType=function(e){return o.APISyncCall("post","",e,"g.getEventLogByType",15e3)},s.hasPermission=function(e){return null!=typeof e&&o.APISyncCall("post","",e,"g.hasPermission",15e3)},s.getMemberSettings=function(e){return o.APISyncCall("post","",e,"g.getMemberSettings",15e3)},s.updateMemberSignUpSettings=function(e){return o.APISyncCall("post","",e,"g.updateMemberSignUpSettings",15e3)},s.getSetting=function(){return o.APISyncCall("post","","","g.getSetting",15e3)},s.getGlobalSettings=function(e){return o.APISyncCall("post","",e,"g.getGlobalSettings",15e3)},s.saveSetting=function(e){return o.APISyncCall("post","",e,"g.saveSetting",15e3)},s.getMemberID=function(){return o.APISyncCall("get","","","m.getMemberID")},s.getActualMemberID=function(){return o.APISyncCall("get","","","m.getActualMemberID")},s.getMemberInformation=function(e){return o.isUndefinedOrEmptyObject(e)?o.APISyncCall("get","","","m.getMemberInfo",15e3):o.APISyncCall("post","",e,"m.getMemberInfo",15e3)},s.getSettingCategory=function(e){return o.APISyncCall("post","",e,"g.getSettingCategory",15e3)},s.checkPermission=function(e){return o.APISyncCall("post","",e,"g.checkPermission",15e3)},s.getGlobalVariable=function(e){return o.APISyncCall("post","",e,"g.getGlobalVariable",15e3)},s.getMerchantConfig=function(e){return o.APISyncCall("post","",e,"g.getMerchantConfiguration",15e3)},s.isLoggedIn=function(){var t=i.defer();return s.getMemberID().then(function(e){e=o.lowerCaseKeys(e);e.data&&e.data.code&&1002===e.data.code?(l.location.reload(),t.reject(!1)):t.resolve(!0)}),t.promise},s.checkNewAdDirective=function(e){return o.APISyncCallWithCaching("post","",e,"g.useNewAdDirective",15e3)},s.isFeatureEnabled=function(e){return o.APISyncCall("post","",e,"g.isFeatureEnabled",15e3)},s.getFeatureDetailByName=function(e){return o.APISyncCall("post","",e,"g.getFeatureDetailByName",15e3)},s.getFeatureMessageAmounts=function(e){return o.APISyncCallWithCaching("post","",e,"g.getFeatureMessageAmounts",15e3,6e4)},s.checkPageAccess=function(e,t,n){var r=i.defer();return s.checkPermission({permissioncode:e}).then(function(e){!o.ajaxResultInvalid(e)&&(e=o.lowerCaseKeys(e),!(o.isIntegerGT0(n)&&e.data.data.authtype&&"P"===e.data.data.authtype&&e.data.data.listids)||e.data.data.listids.toString().split(",").some(function(e){return+e==+n}))?r.resolve(e.data.data):(void 0!==t&&t.length?l.location.href=t:c.path("/"),r.reject())}),r.promise},s.logAdBlockerUsage=function(e){return o.APISyncCall("post","",e,"c.logAdBlockerUsage",15e3)},s.sanitize=function(e){return o.APISyncCall("post","",e,"g.sanitize",15e3)},s.getInvisibleReCaptcha=function(e){return o.APISyncCall("post","",e,"g.getInvisibleReCaptcha",15e3)},s.validateInvisibleReCaptcha=function(e){return o.APISyncCall("post","",e,"g.validateInvisibleReCaptcha",15e3)},s}]);
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$injector",function(o,e){var r=e.has("$animateCss")?e.get("$animateCss"):null;return{link:function(e,t,n){function a(){t.removeClass("collapsing").addClass("collapse").css({height:"auto"})}function i(){t.css({height:"0"}),t.removeClass("collapsing").addClass("collapse")}e.$watch(n.uibCollapse,function(e){e?t.hasClass("collapse")||t.hasClass("in")?(t.css({height:t[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(t,{removeClass:"in",to:{height:"0"}}).start().finally(i):o.removeClass(t,"in",{to:{height:"0"}}).then(i)):i():(t.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(t,{addClass:"in",easing:"ease",to:{height:t[0].scrollHeight+"px"}}).start().finally(a):o.addClass(t,"in",{to:{height:t[0].scrollHeight+"px"}}).then(a))})}}}]),angular.module("ui.bootstrap.collapse").value("$collapseSuppressWarning",!1).directive("collapse",["$animate","$injector","$log","$collapseSuppressWarning",function(o,e,r,l){var s=e.has("$animateCss")?e.get("$animateCss"):null;return{link:function(e,t,n){function a(){t.removeClass("collapsing").addClass("collapse in").css({height:"auto"})}function i(){t.css({height:"0"}),t.removeClass("collapsing").addClass("collapse")}l||r.warn("collapse is now deprecated. Use uib-collapse instead."),e.$watch(n.collapse,function(e){e?t.hasClass("collapse")||t.hasClass("in")?(t.css({height:t[0].scrollHeight+"px"}).removeClass("collapse in").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),s?s(t,{to:{height:"0"}}).start().done(i):o.animate(t,{},{height:"0"}).then(i)):i():(t.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),s?s(t,{easing:"ease",to:{height:t[0].scrollHeight+"px"}}).start().done(a):o.animate(t,{},{height:t[0].scrollHeight+"px"}).then(a))})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,n,a){this.groups=[],this.closeOthers=function(t){(angular.isDefined(n.closeOthers)?e.$eval(n.closeOthers):a.closeOthers)&&angular.forEach(this.groups,function(e){e!==t&&(e.isOpen=!1)})},this.addGroup=function(t){var n=this;this.groups.push(t),t.$on("$destroy",function(e){n.removeGroup(t)})},this.removeGroup=function(e){e=this.groups.indexOf(e);-1!==e&&this.groups.splice(e,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,e,a){a.addGroup(t),t.openClass=e.openClass||"panel-open",t.panelClass=e.panelClass,t.$watch("isOpen",function(e){n.toggleClass(t.openClass,!!e),e&&a.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)}}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:["?^uibAccordionGroup","?^accordionGroup"],link:function(e,t,n,a){a=a[0]||a[1],e.$watch(function(){return a[n.uibAccordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.accordion").value("$accordionSuppressWarning",!1).controller("AccordionController",["$scope","$attrs","$controller","$log","$accordionSuppressWarning",function(e,t,n,a,i){i||a.warn("AccordionController is now deprecated. Use UibAccordionController instead."),angular.extend(this,n("UibAccordionController",{$scope:e,$attrs:t}))}]).directive("accordion",["$log","$accordionSuppressWarning",function(e,t){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"},link:function(){t||e.warn("accordion is now deprecated. Use uib-accordion instead.")}}}]).directive("accordionGroup",["$log","$accordionSuppressWarning",function(i,o){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,e,a){o||i.warn("accordion-group is now deprecated. Use uib-accordion-group instead."),a.addGroup(t),t.openClass=e.openClass||"panel-open",t.panelClass=e.panelClass,t.$watch("isOpen",function(e){n.toggleClass(t.openClass,!!e),e&&a.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)}}}}]).directive("accordionHeading",["$log","$accordionSuppressWarning",function(o,r){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,a,i){r||o.warn("accordion-heading is now deprecated. Use uib-accordion-heading instead."),a.setHeading(i(e,angular.noop))}}}]).directive("accordionTransclude",["$log","$accordionSuppressWarning",function(i,o){return{require:"^accordionGroup",link:function(e,t,n,a){o||i.warn("accordion-transclude is now deprecated. Use uib-accordion-transclude instead."),e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}]),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(e,t,n,a){e.closeable=!!t.close;n=angular.isDefined(t.dismissOnTimeout)?n(t.dismissOnTimeout)(e.$parent):null;n&&a(function(){e.close()},parseInt(n,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.alert").value("$alertSuppressWarning",!1).controller("AlertController",["$scope","$attrs","$controller","$log","$alertSuppressWarning",function(e,t,n,a,i){i||a.warn("AlertController is now deprecated. Use UibAlertController instead."),angular.extend(this,n("UibAlertController",{$scope:e,$attrs:t}))}]).directive("alert",["$log","$alertSuppressWarning",function(e,t){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"},link:function(){t||e.warn("alert is now deprecated. Use uib-alert instead.")}}}]),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",function(){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,a,e){var i=e[0],o=e[1];n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(i.activeClass,angular.equals(o.$modelValue,t.$eval(a.uibBtnRadio)))},n.on(i.toggleEvent,function(){var e;a.disabled||(e=n.hasClass(i.activeClass))&&!angular.isDefined(a.uncheckable)||t.$apply(function(){o.$setViewValue(e?null:t.$eval(a.uibBtnRadio)),o.$render()})})}}}).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(n,e,t,a){function i(){return o(t.btnCheckboxTrue,!0)}function o(e,t){return angular.isDefined(e)?n.$eval(e):t}var r=a[0],l=a[1];e.find("input").css({display:"none"}),l.$render=function(){e.toggleClass(r.activeClass,angular.equals(l.$modelValue,i()))},e.on(r.toggleEvent,function(){t.disabled||n.$apply(function(){l.$setViewValue(e.hasClass(r.activeClass)?o(t.btnCheckboxFalse,!1):i()),l.$render()})})}}}),angular.module("ui.bootstrap.buttons").value("$buttonsSuppressWarning",!1).controller("ButtonsController",["$controller","$log","$buttonsSuppressWarning",function(e,t,n){n||t.warn("ButtonsController is now deprecated. Use UibButtonsController instead."),angular.extend(this,e("UibButtonsController"))}]).directive("btnRadio",["$log","$buttonsSuppressWarning",function(r,l){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(t,n,a,e){l||r.warn("btn-radio is now deprecated. Use uib-btn-radio instead.");var i=e[0],o=e[1];n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(i.activeClass,angular.equals(o.$modelValue,t.$eval(a.btnRadio)))},n.bind(i.toggleEvent,function(){var e;a.disabled||(e=n.hasClass(i.activeClass))&&!angular.isDefined(a.uncheckable)||t.$apply(function(){o.$setViewValue(e?null:t.$eval(a.btnRadio)),o.$render()})})}}}]).directive("btnCheckbox",["$document","$log","$buttonsSuppressWarning",function(c,p,u){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(n,t,a,e){function i(){return r(a.btnCheckboxTrue,!0)}function o(){return r(a.btnCheckboxFalse,!1)}function r(e,t){e=n.$eval(e);return angular.isDefined(e)?e:t}u||p.warn("btn-checkbox is now deprecated. Use uib-btn-checkbox instead.");var l=e[0],s=e[1];t.find("input").css({display:"none"}),s.$render=function(){t.toggleClass(l.activeClass,angular.equals(s.$modelValue,i()))},t.bind(l.toggleEvent,function(){a.disabled||n.$apply(function(){s.$setViewValue((t.hasClass(l.activeClass)?o:i)()),s.$render()})}),t.on("keypress",function(e){a.disabled||32!==e.which||c[0].activeElement!==t[0]||n.$apply(function(){s.$setViewValue((t.hasClass(l.activeClass)?o:i)()),s.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$animate",function(a,t,n,i){function o(e){if(angular.isUndefined(d[e].index))return d[e];var t;for(d.length,t=0;t<d.length;++t)if(d[t].index==e)return d[t]}function r(){l();var e=+a.interval;!isNaN(e)&&0<e&&(c=n(s,e))}function l(){c&&(n.cancel(c),c=null)}function s(){var e=+a.interval;p&&!isNaN(e)&&0<e&&d.length?a.next():a.pause()}var c,p,u=this,d=u.slides=a.slides=[],m=4<=angular.version.minor,g="uib-slideDirection",h=-1,f=(u.currentSlide=null,!1);u.select=a.select=function(e,t){var n=a.indexOfSlide(e);void 0===t&&(t=n>u.getCurrentIndex()?"next":"prev"),e&&e!==u.currentSlide&&!a.$currentTransition&&(e=e,n=n,t=t,f||(angular.extend(e,{direction:t,active:!0}),angular.extend(u.currentSlide||{},{direction:t,active:!1}),i.enabled()&&!a.noTransition&&!a.$currentTransition&&e.$element&&1<u.slides.length&&(e.$element.data(g,e.direction),u.currentSlide&&u.currentSlide.$element&&u.currentSlide.$element.data(g,e.direction),a.$currentTransition=!0,m?i.on("addClass",e.$element,function(e,t){"close"===t&&(a.$currentTransition=null,i.off("addClass",e))}):e.$element.one("$animate:close",function(){a.$currentTransition=null})),u.currentSlide=e,h=n,r()))},a.$on("$destroy",function(){f=!0}),u.getCurrentIndex=function(){return u.currentSlide&&angular.isDefined(u.currentSlide.index)?+u.currentSlide.index:h},a.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:d.indexOf(e)},a.next=function(){var e=(u.getCurrentIndex()+1)%d.length;return 0==e&&a.noWrap()?void a.pause():u.select(o(e),"next")},a.prev=function(){var e=u.getCurrentIndex()-1<0?d.length-1:u.getCurrentIndex()-1;return a.noWrap()&&e==d.length-1?void a.pause():u.select(o(e),"prev")},a.isActive=function(e){return u.currentSlide===e},a.$watch("interval",r),a.$watchCollection("slides",function(e){e.length||(a.$currentTransition=null)}),a.$on("$destroy",l),a.play=function(){p||(p=!0,r())},a.pause=function(){a.noPause||(p=!1,l())},u.addSlide=function(e,t){e.$element=t,d.push(e),1===d.length||e.active?(u.select(d[d.length-1]),1===d.length&&a.play()):e.active=!1},u.removeSlide=function(e){angular.isDefined(e.index)&&d.sort(function(e,t){return+e.index>+t.index});var t=d.indexOf(e);d.splice(t,1),0<d.length&&e.active?t>=d.length?u.select(d[t-1]):u.select(d[t]):t<h&&h--,0===d.length&&(u.currentSlide=null)},a.$watch("noTransition",function(e){t.data("uib-noTransition",e)})}]).directive("uibCarousel",[function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("uibSlide",function(){return{require:"^uibCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(t,e,n,a){a.addSlide(t,e),t.$on("$destroy",function(){a.removeSlide(t)}),t.$watch("active",function(e){e&&a.select(t)})}}}).animation(".item",["$injector","$animate",function(e,r){function l(e,t,n){e.removeClass(t),n&&n()}var s="uib-noTransition",c="uib-slideDirection",p=null;return e.has("$animateCss")&&(p=e.get("$animateCss")),{beforeAddClass:function(e,t,n){var a,i,o;if("active"==t&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(s))return a=!1,t=e.data(c),o=l.bind(this,e,(i="next"==t?"left":"right")+" "+t,n),e.addClass(t),p?p(e,{addClass:i}).start().done(o):r.addClass(e,i).then(function(){a||o(),n()}),function(){a=!0};n()},beforeRemoveClass:function(e,t,n){var a,i;if("active"===t&&e.parent()&&e.parent().parent()&&!e.parent().parent().data(s))return a=!1,t="next"==e.data(c)?"left":"right",i=l.bind(this,e,t,n),p?p(e,{addClass:t}).start().done(i):r.addClass(e,t).then(function(){a||i(),n()}),function(){a=!0};n()}}}]),angular.module("ui.bootstrap.carousel").value("$carouselSuppressWarning",!1).controller("CarouselController",["$scope","$element","$controller","$log","$carouselSuppressWarning",function(e,t,n,a,i){i||a.warn("CarouselController is now deprecated. Use UibCarouselController instead."),angular.extend(this,n("UibCarouselController",{$scope:e,$element:t}))}]).directive("carousel",["$log","$carouselSuppressWarning",function(e,t){return{transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"},link:function(){t||e.warn("carousel is now deprecated. Use uib-carousel instead.")}}}]).directive("slide",["$log","$carouselSuppressWarning",function(i,o){return{require:"^carousel",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(t,e,n,a){o||i.warn("slide is now deprecated. Use uib-slide instead."),a.addSlide(t,e),t.$on("$destroy",function(){a.removeSlide(t)}),t.$watch("active",function(e){e&&a.select(t)})}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","orderByFilter",function(g,h,f){var v,b,$=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){v=h.id,this.parsers={},b={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:h.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=h.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:h.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=h.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:h.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:h.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:h.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}}},this.init(),this.parse=function(e,t,n){if(!angular.isString(e)||!t)return e;t=(t=h.DATETIME_FORMATS[t]||t).replace($,"\\$&"),h.id!==v&&this.init(),this.parsers[t]||(this.parsers[t]=(r=[],l=(o=t).split(""),angular.forEach(b,function(e,t){var n=o.indexOf(t);if(-1<n){o=o.split(""),l[n]="("+e.regex+")",o[n]="$";for(var a=n+1,i=n+t.length;a<i;a++)l[a]="",o[a]="$";o=o.join(""),r.push({index:n,apply:e.apply})}}),{regex:new RegExp("^"+l.join("")+"$"),map:f(r,"index")}));var o,r,l,t=this.parsers[t],a=t.regex,i=t.map,s=e.match(a);if(s&&s.length){for(var c,p=angular.isDate(n)&&!isNaN(n.getTime())?{year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}:(n&&g.warn("dateparser:","baseDate is not a valid date"),{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0}),u=1,d=s.length;u<d;u++){var m=i[u-1];m.apply&&m.apply.call(p,s[u])}return t=p.year,e=p.month,(a=p.date)<1||!(1===e&&28<a?29===a&&(t%4==0&&t%100!=0||t%400==0):3!==e&&5!==e&&8!==e&&10!==e||a<31)||(angular.isDate(n)&&!isNaN(n.getTime())?(c=new Date(n)).setFullYear(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0):c=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),c}}}]),angular.module("ui.bootstrap.dateparser").value("$dateParserSuppressWarning",!1).service("dateParser",["$log","$dateParserSuppressWarning","uibDateParser",function(e,t,n){t||e.warn("dateParser is now deprecated. Use uibDateParser instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(i,n){function o(e){return"static"===(t="position",((e=e).currentStyle||(n.getComputedStyle?n.getComputedStyle(e):e.style))[t]||"static");var t}return{position:function(e){var t=this.offset(e),n={top:0,left:0},a=function(e){for(var t=i[0],n=e.offsetParent||t;n&&n!==t&&o(n);)n=n.offsetParent;return n||t}(e[0]),a=(a!=i[0]&&((n=this.offset(angular.element(a))).top+=a.clientTop-a.scrollTop,n.left+=a.clientLeft-a.scrollLeft),e[0].getBoundingClientRect());return{width:a.width||e.prop("offsetWidth"),height:a.height||e.prop("offsetHeight"),top:t.top-n.top,left:t.left-n.left}},offset:function(e){var t=e[0].getBoundingClientRect();return{width:t.width||e.prop("offsetWidth"),height:t.height||e.prop("offsetHeight"),top:t.top+(n.pageYOffset||i[0].documentElement.scrollTop),left:t.left+(n.pageXOffset||i[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,n=n.split("-"),o=n[0],r=n[1]||"center",l=a?this.offset(e):this.position(e),s=t.prop("offsetWidth"),c=t.prop("offsetHeight"),p={center:function(){return l.left+l.width/2-s/2},left:function(){return l.left},right:function(){return l.left+l.width}},u={center:function(){return l.top+l.height/2-c/2},top:function(){return l.top},bottom:function(){return l.top+l.height}};switch(o){case"right":i={top:u[r](),left:p[o]()};break;case"left":i={top:u[r](),left:l.left-s};break;case"bottom":i={top:u[o](),left:p[r]()};break;default:i={top:l.top-c,left:p[r]()}}return i}}}]),angular.module("ui.bootstrap.position").value("$positionSuppressWarning",!1).service("$position",["$log","$positionSuppressWarning","$uibPosition",function(e,t,n){t||e.warn("$position is now deprecated. Use $uibPosition instead."),angular.extend(this,n)}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("uibDatepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError",function(n,a,e,i,t,o,r,l){var s=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(e,t){s[e]=angular.isDefined(a[e])?t<6?i(a[e])(n.$parent):n.$parent.$eval(a[e]):r[e]}),angular.forEach(["minDate","maxDate"],function(t){a[t]?n.$parent.$watch(e(a[t]),function(e){s[t]=e?new Date(e):null,s.refreshView()}):s[t]=r[t]?new Date(r[t]):null}),angular.forEach(["minMode","maxMode"],function(t){a[t]?n.$parent.$watch(e(a[t]),function(e){s[t]=angular.isDefined(e)?e:a[t],n[t]=s[t],("minMode"==t&&s.modes.indexOf(n.datepickerMode)<s.modes.indexOf(s[t])||"maxMode"==t&&s.modes.indexOf(n.datepickerMode)>s.modes.indexOf(s[t]))&&(n.datepickerMode=s[t])}):(s[t]=r[t]||null,n[t]=s[t])}),n.datepickerMode=n.datepickerMode||r.datepickerMode,n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(a.initDate)?(this.activeDate=n.$parent.$eval(a.initDate)||new Date,n.$parent.$watch(a.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(s.activeDate=e,s.refreshView())})):this.activeDate=new Date,n.isActive=function(e){return 0===s.compare(e.date,s.activeDate)&&(n.activeDateId=e.uid,!0)},this.init=function(e){(c=e).$render=function(){s.render()}},this.render=function(){var e;c.$viewValue&&(e=new Date(c.$viewValue),!isNaN(e)?this.activeDate=e:l||t.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')),this.refreshView()},this.refreshView=function(){var e;this.element&&(this._refreshView(),e=c.$viewValue?new Date(c.$viewValue):null,c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e)))},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(e){return this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&0<this.compare(e,this.maxDate)||a.dateDisabled&&n.dateDisabled({date:e,mode:n.datepickerMode})},this.customClass=function(e){return n.customClass({date:e,mode:n.datepickerMode})},this.split=function(e,t){for(var n=[];0<e.length;)n.push(e.splice(0,t));return n},n.select=function(e){var t;n.datepickerMode===s.minMode?((t=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0)).setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),c.$setViewValue(t),c.$render()):(s.activeDate=e,n.datepickerMode=s.modes[s.modes.indexOf(n.datepickerMode)-1])},n.move=function(e){var t=s.activeDate.getFullYear()+e*(s.step.years||0),e=s.activeDate.getMonth()+e*(s.step.months||0);s.activeDate.setFullYear(t,e,1),s.refreshView()},n.toggleMode=function(e){e=e||1,n.datepickerMode===s.maxMode&&1===e||n.datepickerMode===s.minMode&&-1===e||(n.datepickerMode=s.modes[s.modes.indexOf(n.datepickerMode)+e])},n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};n.$on("uib:datepicker.focus",function(){s.element[0].focus()}),n.keydown=function(e){var t=n.keys[e.which];!t||e.shiftKey||e.altKey||(e.preventDefault(),s.shortcutPropagation||e.stopPropagation(),"enter"===t||"space"===t?s.isDisabled(s.activeDate)||n.select(s.activeDate):!e.ctrlKey||"up"!==t&&"down"!==t?(s.handleKeyDown(t,e),s.refreshView()):n.toggleMode("up"===t?1:-1))}}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(u,e,d){function i(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?n[t]:29}var n=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=e,this.init=function(e){angular.extend(e,this),u.showWeeks=e.showWeeks,e.refreshView()},this.getDates=function(e,t){for(var n,a=new Array(t),i=new Date(e),o=0;o<t;)n=new Date(i),a[o++]=n,i.setDate(i.getDate()+1);return a},this._refreshView=function(){var e=this.activeDate.getFullYear(),t=this.activeDate.getMonth(),n=new Date(this.activeDate),e=(n.setFullYear(e,t,1),this.startingDay-n.getDay()),e=0<e?7-e:-e,n=new Date(n);0<e&&n.setDate(1-e);for(var a=this.getDates(n,42),i=0;i<42;i++)a[i]=angular.extend(this.createDateObject(a[i],this.formatDay),{secondary:a[i].getMonth()!==t,uid:u.uniqueId+"-"+i});u.labels=new Array(7);for(var o,r,l=0;l<7;l++)u.labels[l]={abbr:d(a[l].date,this.formatDayHeader),full:d(a[l].date,"EEEE")};if(u.title=d(this.activeDate,this.formatDayTitle),u.rows=this.split(a,7),u.showWeeks){u.weekNumbers=[];for(var s=(11-this.startingDay)%7,c=u.rows.length,p=0;p<c;p++)u.weekNumbers.push((o=u.rows[p][s].date,r=void 0,(o=new Date(o)).setDate(o.getDate()+4-(o.getDay()||7)),r=o.getTime(),o.setMonth(0),o.setDate(1),Math.floor(Math.round((r-o)/864e5)/7)+1))}},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},this.handleKeyDown=function(e,t){var n,a=this.activeDate.getDate();"left"===e?--a:"up"===e?a-=7:"right"===e?a+=1:"down"===e?a+=7:"pageup"===e||"pagedown"===e?(n=this.activeDate.getMonth()+("pageup"===e?-1:1),this.activeDate.setMonth(n,1),a=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),a)):"home"===e?a=1:"end"===e&&(a=i(this.activeDate.getFullYear(),this.activeDate.getMonth())),this.activeDate.setDate(a)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(i,e,o){this.step={years:1},this.element=e,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var e,t=new Array(12),n=this.activeDate.getFullYear(),a=0;a<12;a++)(e=new Date(this.activeDate)).setFullYear(n,a,1),t[a]=angular.extend(this.createDateObject(e,this.formatMonth),{uid:i.uniqueId+"-"+a});i.title=o(this.activeDate,this.formatMonthTitle),i.rows=this.split(t,3)},this.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},this.handleKeyDown=function(e,t){var n,a=this.activeDate.getMonth();"left"===e?--a:"up"===e?a-=3:"right"===e?a+=1:"down"===e?a+=3:"pageup"===e||"pagedown"===e?(n=this.activeDate.getFullYear()+("pageup"===e?-1:1),this.activeDate.setFullYear(n)):"home"===e?a=0:"end"===e&&(a=11),this.activeDate.setMonth(a)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(i,e,t){function o(e){return parseInt((e-1)/r,10)*r+1}var r;this.element=e,this.yearpickerInit=function(){r=this.yearRange,this.step={years:r}},this._refreshView=function(){for(var e,t=new Array(r),n=0,a=o(this.activeDate.getFullYear());n<r;n++)(e=new Date(this.activeDate)).setFullYear(a+n,0,1),t[n]=angular.extend(this.createDateObject(e,this.formatYear),{uid:i.uniqueId+"-"+n});i.title=[t[0].label,t[r-1].label].join(" - "),i.rows=this.split(t,5)},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?--n:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*this.step.years:"home"===e?n=o(this.activeDate.getFullYear()):"end"===e&&(n=o(this.activeDate.getFullYear())+r-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){var i=a[0],a=a[1];i.init(a)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/day.html"},require:["^?uibDatepicker","uibDaypicker","^?datepicker"],controller:"UibDaypickerController",link:function(e,t,n,a){var i=a[0]||a[2];a[1].init(i)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/month.html"},require:["^?uibDatepicker","uibMonthpicker","^?datepicker"],controller:"UibMonthpickerController",link:function(e,t,n,a){var i=a[0]||a[2];a[1].init(i)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/year.html"},require:["^?uibDatepicker","uibYearpicker","^?datepicker"],controller:"UibYearpickerController",link:function(e,t,n,a){var i=a[0]||a[2];angular.extend(i,a[1]),i.yearpickerInit(),i.refreshView()}}}).constant("uibDatepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$parse","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout",function(a,i,o,t,r,n,l,s,c,p,u,d){function m(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function g(e){return(e=angular.isNumber(e)?new Date(e):e)?angular.isDate(e)&&!isNaN(e)?e:!angular.isString(e)||(e=p.parse(e,b,a.date),isNaN(e))?void 0:e:null}function h(e,t){e=e||t;return!o.ngRequired&&!e||!(e=angular.isNumber(e)?new Date(e):e)||!(!angular.isDate(e)||isNaN(e))||!!angular.isString(e)&&(t=p.parse(e,b),!isNaN(t))}function f(e){var t=T[0],n=i[0].contains(e.target),t=void 0!==t.contains&&t.contains(e.target);!a.isOpen||n||t||a.$apply(function(){a.isOpen=!1})}function v(e){27===e.which&&a.isOpen?(e.preventDefault(),e.stopPropagation(),a.$apply(function(){a.isOpen=!1}),i[0].focus()):40!==e.which||a.isOpen||(e.preventDefault(),e.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}var b,$,w,y,k,C,D,x,M,T,O={},U=!1;a.watchData={},this.init=function(e){if(M=e,$=angular.isDefined(o.closeOnDateSelection)?a.$parent.$eval(o.closeOnDateSelection):u.closeOnDateSelection,w=angular.isDefined(o.datepickerAppendToBody)?a.$parent.$eval(o.datepickerAppendToBody):u.appendToBody,y=angular.isDefined(o.onOpenFocus)?a.$parent.$eval(o.onOpenFocus):u.onOpenFocus,k=(angular.isDefined(o.datepickerPopupTemplateUrl)?o:u).datepickerPopupTemplateUrl,C=(angular.isDefined(o.datepickerTemplateUrl)?o:u).datepickerTemplateUrl,a.showButtonBar=angular.isDefined(o.showButtonBar)?a.$parent.$eval(o.showButtonBar):u.showButtonBar,u.html5Types[o.type]?(b=u.html5Types[o.type],U=!0):(b=o.datepickerPopup||o.uibDatepickerPopup||u.datepickerPopup,o.$observe("uibDatepickerPopup",function(e,t){e=e||u.datepickerPopup;if(e!==b&&(b=e,M.$modelValue=null,!b))throw new Error("uibDatepickerPopup must have a date format specified.")})),!b)throw new Error("uibDatepickerPopup must have a date format specified.");if(U&&o.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");(D=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>")).attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":k}),(x=angular.element(D.children()[0])).attr("template-url",C),U&&"month"===o.type&&(x.attr("datepicker-mode",'"month"'),x.attr("min-mode","month")),o.datepickerOptions&&((e=a.$parent.$eval(o.datepickerOptions))&&e.initDate&&(a.initDate=e.initDate,x.attr("init-date","initDate"),delete e.initDate),angular.forEach(e,function(e,t){x.attr(m(t),e)})),angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){var e,n;o[t]&&(e=r(o[t]),a.$parent.$watch(e,function(e){a.watchData[t]=e,"minDate"!==t&&"maxDate"!==t||(O[t]=new Date(e))}),x.attr(m(t),"watchData."+t),"datepickerMode"===t)&&(n=e.assign,a.$watch("watchData."+t,function(e,t){angular.isFunction(n)&&e!==t&&n(a.$parent,e)}))}),o.dateDisabled&&x.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),o.showWeeks&&x.attr("show-weeks",o.showWeeks),o.customClass&&x.attr("custom-class","customClass({ date: date, mode: mode })"),U?M.$formatters.push(function(e){return a.date=e}):(M.$$parserName="date",M.$validators.date=h,M.$parsers.unshift(g),M.$formatters.push(function(e){return a.date=e,M.$isEmpty(e)?e:c(e,b)})),M.$viewChangeListeners.push(function(){a.date=p.parse(M.$viewValue,b,a.date)}),i.bind("keydown",v),T=t(D)(a),D.remove(),w?n.find("body").append(T):i.after(T),a.$on("$destroy",function(){!0!==a.isOpen||l.$$phase||a.$apply(function(){a.isOpen=!1}),T.remove(),i.unbind("keydown",v),n.unbind("click",f)})},a.getText=function(e){return a[e+"Text"]||u[e+"Text"]},a.isDisabled=function(e){return"today"===e&&(e=new Date),a.watchData.minDate&&a.compare(e,O.minDate)<0||a.watchData.maxDate&&0<a.compare(e,O.maxDate)},a.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},a.dateSelection=function(e){angular.isDefined(e)&&(a.date=e);e=a.date?c(a.date,b):null;i.val(e),M.$setViewValue(e),$&&(a.isOpen=!1,i[0].focus())},a.keydown=function(e){27===e.which&&(a.isOpen=!1,i[0].focus())},a.select=function(e){var t;"today"===e&&(t=new Date,angular.isDate(a.date)?(e=new Date(a.date)).setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):e=new Date(t.setHours(0,0,0,0))),a.dateSelection(e)},a.close=function(){a.isOpen=!1,i[0].focus()},a.$watch("isOpen",function(e){e?(a.position=w?s.offset(i):s.position(i),a.position.top=a.position.top+i.prop("offsetHeight"),d(function(){y&&a.$broadcast("uib:datepicker.focus"),n.bind("click",f)},0,!1)):n.unbind("click",f)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,a){var i=a[0];a[1].init(i)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.datepicker").value("$datepickerSuppressWarning",!1).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","$datepickerSuppressWarning",function(n,a,e,i,t,o,r,l,s){s||t.warn("DatepickerController is now deprecated. Use UibDatepickerController instead.");var c=this,p={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(e,t){c[e]=angular.isDefined(a[e])?t<6?i(a[e])(n.$parent):n.$parent.$eval(a[e]):r[e]}),angular.forEach(["minDate","maxDate"],function(t){a[t]?n.$parent.$watch(e(a[t]),function(e){c[t]=e?new Date(e):null,c.refreshView()}):c[t]=r[t]?new Date(r[t]):null}),angular.forEach(["minMode","maxMode"],function(t){a[t]?n.$parent.$watch(e(a[t]),function(e){c[t]=angular.isDefined(e)?e:a[t],n[t]=c[t],("minMode"==t&&c.modes.indexOf(n.datepickerMode)<c.modes.indexOf(c[t])||"maxMode"==t&&c.modes.indexOf(n.datepickerMode)>c.modes.indexOf(c[t]))&&(n.datepickerMode=c[t])}):(c[t]=r[t]||null,n[t]=c[t])}),n.datepickerMode=n.datepickerMode||r.datepickerMode,n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(a.initDate)?(this.activeDate=n.$parent.$eval(a.initDate)||new Date,n.$parent.$watch(a.initDate,function(e){e&&(p.$isEmpty(p.$modelValue)||p.$invalid)&&(c.activeDate=e,c.refreshView())})):this.activeDate=new Date,n.isActive=function(e){return 0===c.compare(e.date,c.activeDate)&&(n.activeDateId=e.uid,!0)},this.init=function(e){(p=e).$render=function(){c.render()}},this.render=function(){var e;p.$viewValue&&(e=new Date(p.$viewValue),!isNaN(e)?this.activeDate=e:l||t.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')),this.refreshView()},this.refreshView=function(){var e;this.element&&(this._refreshView(),e=p.$viewValue?new Date(p.$viewValue):null,p.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e)))},this.createDateObject=function(e,t){var n=p.$viewValue?new Date(p.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(e){return this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&0<this.compare(e,this.maxDate)||a.dateDisabled&&n.dateDisabled({date:e,mode:n.datepickerMode})},this.customClass=function(e){return n.customClass({date:e,mode:n.datepickerMode})},this.split=function(e,t){for(var n=[];0<e.length;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},n.select=function(e){var t;n.datepickerMode===c.minMode?((t=p.$viewValue?new Date(p.$viewValue):new Date(0,0,0,0,0,0,0)).setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),p.$setViewValue(t),p.$render()):(c.activeDate=e,n.datepickerMode=c.modes[c.modes.indexOf(n.datepickerMode)-1])},n.move=function(e){var t=c.activeDate.getFullYear()+e*(c.step.years||0),e=c.activeDate.getMonth()+e*(c.step.months||0);c.activeDate.setFullYear(t,e,1),c.refreshView()},n.toggleMode=function(e){e=e||1,n.datepickerMode===c.maxMode&&1===e||n.datepickerMode===c.minMode&&-1===e||(n.datepickerMode=c.modes[c.modes.indexOf(n.datepickerMode)+e])},n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};n.$on("uib:datepicker.focus",function(){c.element[0].focus()}),n.keydown=function(e){var t=n.keys[e.which];!t||e.shiftKey||e.altKey||(e.preventDefault(),c.shortcutPropagation||e.stopPropagation(),"enter"===t||"space"===t?c.isDisabled(c.activeDate)||n.select(c.activeDate):!e.ctrlKey||"up"!==t&&"down"!==t?(c.handleKeyDown(t,e),c.refreshView()):n.toggleMode("up"===t?1:-1))}}]).directive("datepicker",["$log","$datepickerSuppressWarning",function(o,r){return{replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){r||o.warn("datepicker is now deprecated. Use uib-datepicker instead.");var i=a[0],a=a[1];i.init(a)}}}]).directive("daypicker",["$log","$datepickerSuppressWarning",function(o,r){return{replace:!0,templateUrl:"template/datepicker/day.html",require:["^datepicker","daypicker"],controller:"UibDaypickerController",link:function(e,t,n,a){r||o.warn("daypicker is now deprecated. Use uib-daypicker instead.");var i=a[0];a[1].init(i)}}}]).directive("monthpicker",["$log","$datepickerSuppressWarning",function(o,r){return{replace:!0,templateUrl:"template/datepicker/month.html",require:["^datepicker","monthpicker"],controller:"UibMonthpickerController",link:function(e,t,n,a){r||o.warn("monthpicker is now deprecated. Use uib-monthpicker instead.");var i=a[0];a[1].init(i)}}}]).directive("yearpicker",["$log","$datepickerSuppressWarning",function(o,r){return{replace:!0,templateUrl:"template/datepicker/year.html",require:["^datepicker","yearpicker"],controller:"UibYearpickerController",link:function(e,t,n,a){r||o.warn("yearpicker is now deprecated. Use uib-yearpicker instead.");var i=a[0];angular.extend(i,a[1]),i.yearpickerInit(),i.refreshView()}}}]).directive("datepickerPopup",["$log","$datepickerSuppressWarning",function(o,r){return{require:["ngModel","datepickerPopup"],controller:"UibDatepickerPopupController",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(e,t,n,a){r||o.warn("datepicker-popup is now deprecated. Use uib-datepicker-popup instead.");var i=a[0];a[1].init(i)}}}]).directive("datepickerPopupWrap",["$log","$datepickerSuppressWarning",function(e,t){return{replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"},link:function(){t||e.warn("datepicker-popup-wrap is now deprecated. Use uib-datepicker-popup-wrap instead.")}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(t,n){var a=null,i=(this.open=function(e){a||(t.bind("click",i),t.bind("keydown",o)),a&&a!==e&&(a.isOpen=!1),a=e},this.close=function(e){a===e&&(a=null,t.unbind("click",i),t.unbind("keydown",o))},function(e){var t;!a||e&&"disabled"===a.getAutoClose()||(t=a.getToggleElement(),e&&t&&t[0].contains(e.target))||(t=a.getDropdownElement(),e&&"outsideClick"===a.getAutoClose()&&t&&t[0].contains(e.target))||(a.isOpen=!1,n.$$phase)||a.$apply()}),o=function(e){27===e.which?(a.focusToggleElement(),i()):a.isKeynavEnabled()&&/(38|40)/.test(e.which)&&a.isOpen&&(e.preventDefault(),e.stopPropagation(),a.focusDropdownEntry(e.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(i,o,e,t,n,r,l,s,a,c,p){var u,d,m=this,g=i.$new(),h=n.openClass,f=angular.noop,v=e.onToggle?t(e.onToggle):angular.noop,b=!1,$=!1,n=(o.addClass("dropdown"),this.init=function(){e.isOpen&&(d=t(e.isOpen),f=d.assign,i.$watch(d,function(e){g.isOpen=!!e})),b=angular.isDefined(e.dropdownAppendToBody),$=angular.isDefined(e.uibKeyboardNav),b&&m.dropdownMenu&&(a.find("body").append(m.dropdownMenu),o.on("$destroy",function(){m.dropdownMenu.remove()}))},this.toggle=function(e){return g.isOpen=arguments.length?!!e:!g.isOpen},this.isOpen=function(){return g.isOpen},g.getToggleElement=function(){return m.toggleElement},g.getAutoClose=function(){return e.autoClose||"always"},g.getElement=function(){return o},g.isKeynavEnabled=function(){return $},g.focusDropdownEntry=function(e){var t=(m.dropdownMenu?angular.element(m.dropdownMenu):angular.element(o).find("ul").eq(0)).find("a");switch(e){case 40:angular.isNumber(m.selectedOption)?m.selectedOption=m.selectedOption===t.length-1?m.selectedOption:m.selectedOption+1:m.selectedOption=0;break;case 38:angular.isNumber(m.selectedOption)?m.selectedOption=0===m.selectedOption?0:m.selectedOption-1:m.selectedOption=t.length-1}t[m.selectedOption].focus()},g.getDropdownElement=function(){return m.dropdownMenu},g.focusToggleElement=function(){m.toggleElement&&m.toggleElement[0].focus()},g.$watch("isOpen",function(e,t){var n,a;b&&m.dropdownMenu&&(n={top:(a=s.positionElements(o,m.dropdownMenu,"bottom-left",!0)).top+"px",display:e?"block":"none"},m.dropdownMenu.hasClass("dropdown-menu-right")?(n.left="auto",n.right=window.innerWidth-(a.left+o.prop("offsetWidth"))+"px"):(n.left=a.left+"px",n.right="auto"),m.dropdownMenu.css(n)),l[e?"addClass":"removeClass"](o,h).then(function(){angular.isDefined(e)&&e!==t&&v(i,{open:!!e})}),e?(m.dropdownMenuTemplateUrl&&p(m.dropdownMenuTemplateUrl).then(function(e){u=g.$new(),c(e.trim())(u,function(e){m.dropdownMenu.replaceWith(e),m.dropdownMenu=e})}),g.focusToggleElement(),r.open(g)):(m.dropdownMenuTemplateUrl&&(u&&u.$destroy(),a=angular.element('<ul class="dropdown-menu"></ul>'),m.dropdownMenu.replaceWith(a),m.dropdownMenu=a),r.close(g),m.selectedOption=null),angular.isFunction(f)&&f(i,e)}),i.$on("$locationChangeSuccess",function(){"disabled"!==g.getAutoClose()&&(g.isOpen=!1)}),i.$on("$destroy",function(){g.$destroy()}));g.$on("$destroy",n)}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,a){a.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"AC",require:"?^uibDropdown",link:function(e,t,n,a){a&&!angular.isDefined(n.dropdownNested)&&(t.addClass("dropdown-menu"),(n=n.templateUrl)&&(a.dropdownMenuTemplateUrl=n),a.dropdownMenu||(a.dropdownMenu=t))}}}).directive("uibKeyboardNav",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,a){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=a.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(a.selectedOption)?a.selectedOption=a.selectedOption===t.length-1?a.selectedOption:a.selectedOption+1:a.selectedOption=0;break;case 38:angular.isNumber(a.selectedOption)?a.selectedOption=0===a.selectedOption?0:a.selectedOption-1:a.selectedOption=t.length-1}t[a.selectedOption].focus()}})}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(t,n,a,i){var e;i&&(n.addClass("dropdown-toggle"),(i.toggleElement=n).bind("click",e=function(e){e.preventDefault(),n.hasClass("disabled")||a.disabled||t.$apply(function(){i.toggle()})}),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(e){n.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){n.unbind("click",e)}))}}}),angular.module("ui.bootstrap.dropdown").value("$dropdownSuppressWarning",!1).service("dropdownService",["$log","$dropdownSuppressWarning","uibDropdownService",function(e,t,n){t||e.warn("dropdownService is now deprecated. Use uibDropdownService instead."),angular.extend(this,n)}]).controller("DropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest","$log","$dropdownSuppressWarning",function(i,o,e,t,n,r,l,s,a,c,p,u,d){d||u.warn("DropdownController is now deprecated. Use UibDropdownController instead.");var m,g,h=this,f=i.$new(),v=n.openClass,b=angular.noop,$=e.onToggle?t(e.onToggle):angular.noop,w=!1,y=!1,d=(o.addClass("dropdown"),this.init=function(){e.isOpen&&(g=t(e.isOpen),b=g.assign,i.$watch(g,function(e){f.isOpen=!!e})),w=angular.isDefined(e.dropdownAppendToBody),y=angular.isDefined(e.uibKeyboardNav),w&&h.dropdownMenu&&(a.find("body").append(h.dropdownMenu),o.on("$destroy",function(){h.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return h.toggleElement},f.getAutoClose=function(){return e.autoClose||"always"},f.getElement=function(){return o},f.isKeynavEnabled=function(){return y},f.focusDropdownEntry=function(e){var t=(h.dropdownMenu?angular.element(h.dropdownMenu):angular.element(o).find("ul").eq(0)).find("a");switch(e){case 40:angular.isNumber(h.selectedOption)?h.selectedOption=h.selectedOption===t.length-1?h.selectedOption:h.selectedOption+1:h.selectedOption=0;break;case 38:angular.isNumber(h.selectedOption)?h.selectedOption=0===h.selectedOption?0:h.selectedOption-1:h.selectedOption=t.length-1}t[h.selectedOption].focus()},f.getDropdownElement=function(){return h.dropdownMenu},f.focusToggleElement=function(){h.toggleElement&&h.toggleElement[0].focus()},f.$watch("isOpen",function(e,t){var n,a;w&&h.dropdownMenu&&(n={top:(a=s.positionElements(o,h.dropdownMenu,"bottom-left",!0)).top+"px",display:e?"block":"none"},h.dropdownMenu.hasClass("dropdown-menu-right")?(n.left="auto",n.right=window.innerWidth-(a.left+o.prop("offsetWidth"))+"px"):(n.left=a.left+"px",n.right="auto"),h.dropdownMenu.css(n)),l[e?"addClass":"removeClass"](o,v).then(function(){angular.isDefined(e)&&e!==t&&$(i,{open:!!e})}),e?(h.dropdownMenuTemplateUrl&&p(h.dropdownMenuTemplateUrl).then(function(e){m=f.$new(),c(e.trim())(m,function(e){h.dropdownMenu.replaceWith(e),h.dropdownMenu=e})}),f.focusToggleElement(),r.open(f)):(h.dropdownMenuTemplateUrl&&(m&&m.$destroy(),a=angular.element('<ul class="dropdown-menu"></ul>'),h.dropdownMenu.replaceWith(a),h.dropdownMenu=a),r.close(f),h.selectedOption=null),angular.isFunction(b)&&b(i,e)}),i.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)}),i.$on("$destroy",function(){f.$destroy()}));f.$on("$destroy",d)}]).directive("dropdown",["$log","$dropdownSuppressWarning",function(i,o){return{controller:"DropdownController",link:function(e,t,n,a){o||i.warn("dropdown is now deprecated. Use uib-dropdown instead."),a.init()}}}]).directive("dropdownMenu",["$log","$dropdownSuppressWarning",function(i,o){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,a){a&&!angular.isDefined(n.dropdownNested)&&(o||i.warn("dropdown-menu is now deprecated. Use uib-dropdown-menu instead."),t.addClass("dropdown-menu"),(n=n.templateUrl)&&(a.dropdownMenuTemplateUrl=n),a.dropdownMenu||(a.dropdownMenu=t))}}}]).directive("keyboardNav",["$log","$dropdownSuppressWarning",function(i,o){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,a){o||i.warn("keyboard-nav is now deprecated. Use uib-keyboard-nav instead."),t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=a.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(a.selectedOption)?a.selectedOption=a.selectedOption===t.length-1?a.selectedOption:a.selectedOption+1:a.selectedOption=0;break;case 38:angular.isNumber(a.selectedOption)?a.selectedOption=0===a.selectedOption?0:a.selectedOption-1:a.selectedOption=t.length-1}t[a.selectedOption].focus()}})}}}]).directive("dropdownToggle",["$log","$dropdownSuppressWarning",function(o,r){return{require:"?^dropdown",link:function(t,n,a,i){var e;r||o.warn("dropdown-toggle is now deprecated. Use uib-dropdown-toggle instead."),i&&(n.addClass("dropdown-toggle"),(i.toggleElement=n).bind("click",e=function(e){e.preventDefault(),n.hasClass("disabled")||a.disabled||t.$apply(function(){i.toggle()})}),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(e){n.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){n.unbind("click",e)}))}}}]),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(e,t){a.push({key:e,value:t})},get:function(e){for(var t=0;t<a.length;t++)if(e==a[t].key)return a[t]},keys:function(){for(var e=[],t=0;t<a.length;t++)e.push(a[t].key);return e},top:function(){return a[a.length-1]},remove:function(e){for(var t=-1,n=0;n<a.length;n++)if(e==a[n].key){t=n;break}return a.splice(t,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(e){return{key:e,value:a[e]}})},get:function(e){return a[e]},hasKey:function(e){return!!a[e]},keys:function(){return Object.keys(a)},put:function(e,t){a[e]||(a[e]=[]),a[e].push(t)},remove:function(e,t){var n=a[e];n&&(-1!==(t=n.indexOf(t))&&n.splice(t,1),n.length||delete a[e])}}}}}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(i,e,t){function n(e,n,a){n.addClass("modal-backdrop"),a.modalInClass&&(o?o(n,{addClass:a.modalInClass}).start():i.addClass(n,a.modalInClass),e.$on(t.NOW_CLOSING_EVENT,function(e,t){t=t();(o?o(n,{removeClass:a.modalInClass}).start():i.removeClass(n,a.modalInClass)).then(t)}))}var o=null;return e.has("$animateCss")&&(o=e.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),n}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animate","$injector",function(o,r,l,e){var s=null;return e.has("$animateCss")&&(s=e.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(t,n,a){n.addClass(a.windowClass||""),n.addClass(a.windowTopClass||""),t.size=a.size,t.close=function(e){var t=o.getTop();t&&t.value.backdrop&&"static"!==t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),o.dismiss(t.key,"backdrop click"))},n.on("click",t.close),t.$isRendered=!0;var i=r.defer();a.$observe("modalRender",function(e){"true"==e&&i.resolve()}),i.promise.then(function(){var e=null,e=(a.modalInClass&&(e=s?s(n,{addClass:a.modalInClass}).start():l.addClass(n,a.modalInClass),t.$on(o.NOW_CLOSING_EVENT,function(e,t){t=t();(s?s(n,{removeClass:a.modalInClass}).start():l.removeClass(n,a.modalInClass)).then(t)})),r.when(e).then(function(){var e=n[0].querySelector("[autofocus]");(e||n[0]).focus()}),o.getTop());e&&o.modalRendered(e.key)})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(e,t,n,a,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$uibModalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(r,e,o,l,s,c,t,n,a){function p(){for(var e=-1,t=$.keys(),n=0;n<t.length;n++)$.get(t[n]).value.backdrop&&(e=n);return e}function i(t,e){var n=o.find("body").eq(0),a=$.get(t).value;$.remove(t),d(a.modalDomEl,a.modalScope,function(){var e=a.openedClass||b;w.remove(e,t),n.toggleClass(e,w.hasKey(e)),u(!0)}),h&&-1==p()&&(d(h,f,function(){0}),f=h=void 0),(e&&e.focus?e:n).focus()}function u(e){var t;0<$.length()&&(t=$.top().value).modalDomEl.toggleClass(t.windowTopClass||"",e)}function d(e,t,n){function a(){a.done||(a.done=!0,g?g(e,{event:"leave"}).start().then(function(){e.remove()}):r.leave(e),t.$destroy(),n&&n())}var i,o=null;t.$broadcast(y.NOW_CLOSING_EVENT,function(){return i||(i=c.defer(),o=i.promise),function(){i.resolve()}}),c.when(o).then(a)}function m(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var g=null;t.has("$animateCss")&&(g=t.get("$animateCss"));var h,f,v,b="modal-open",$=a.createNew(),w=n.createNew(),y={NOW_CLOSING_EVENT:"modal.stack.now-closing"};return s.$watch(p,function(e){f&&(f.index=e)}),o.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=$.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),s.$apply(function(){y.dismiss(t.key,"escape key press")});break;case 9:y.loadFocusElementList(t);var n=!1;e.shiftKey?y.isFocusInFirstItem(e)&&(n=y.focusLastFocusableElement()):y.isFocusInLastItem(e)&&(n=y.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),y.open=function(e,t){var n=o[0].activeElement,a=t.openedClass||b,e=(u(!1),$.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass,windowTopClass:t.windowTopClass}),w.put(a,e),o.find("body").eq(0)),i=p(),i=(0<=i&&!h&&((f=s.$new(!0)).index=i,(i=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>')).attr("backdrop-class",t.backdropClass),t.animation&&i.attr("modal-animation","true"),h=l(i)(f),e.append(h)),angular.element('<div uib-modal-window="modal-window"></div>')),i=(i.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,"window-top-class":t.windowTopClass,size:t.size,index:$.length()-1,animate:"animate"}).html(t.content),t.animation&&i.attr("modal-animation","true"),l(i)(t.scope));$.top().value.modalDomEl=i,$.top().value.modalOpener=n,e.append(i),e.addClass(a),y.clearFocusListCache()},y.close=function(e,t){var n=$.get(e);return n&&m(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),i(e,n.value.modalOpener),!0):!n},y.dismiss=function(e,t){var n=$.get(e);return n&&m(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),i(e,n.value.modalOpener),!0):!n},y.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},y.getTop=function(){return $.top()},y.modalRendered=function(e){e=$.get(e);e&&e.value.renderDeferred.resolve()},y.focusFirstFocusableElement=function(){return 0<v.length&&(v[0].focus(),!0)},y.focusLastFocusableElement=function(){return 0<v.length&&(v[v.length-1].focus(),!0)},y.isFocusInFirstItem=function(e){return 0<v.length&&(e.target||e.srcElement)==v[0]},y.isFocusInLastItem=function(e){return 0<v.length&&(e.target||e.srcElement)==v[v.length-1]},y.clearFocusListCache=function(){v=[]},y.loadFocusElementList=function(e){void 0!==v&&v.length||!e||(e=e.value.modalDomEl)&&e.length&&(v=e[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"))},y}]).provider("$uibModal",function(){var $={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$uibModalStack","$modalSuppressWarning","$log",function(p,u,d,m,g,h,f,v){var e={},b=null;return e.getPromiseChain=function(){return b},e.open=function(o){function e(){return t}var t,n,a,i,r=d.defer(),l=d.defer(),s=d.defer(),c={result:r.promise,opened:l.promise,rendered:s.promise,close:function(e){return h.close(c,e)},dismiss:function(e){return h.dismiss(c,e)}};if((o=angular.extend({},$.options,o)).resolve=o.resolve||{},o.template||o.templateUrl)return t=d.all([(a=o).template?d.when(a.template):m(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)].concat((a=o.resolve,n=[],angular.forEach(a,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(d.when(p.invoke(e))):angular.isString(e)?n.push(d.when(p.get(e))):n.push(d.when(e))}),n))),i=b=d.all([b]).then(e,e).then(function(n){var e=(o.scope||u).$new();e.$close=c.close,e.$dismiss=c.dismiss,e.$on("$destroy",function(){e.$$uibDestructionScheduled||e.$dismiss("$uibUnscheduledDestruction")});var t,a={},i=1;o.controller&&(a.$scope=e,a.$uibModalInstance=c,Object.defineProperty(a,"$modalInstance",{get:function(){return f||v.warn("$modalInstance is now deprecated. Use $uibModalInstance instead."),c}}),angular.forEach(o.resolve,function(e,t){a[t]=n[i++]}),t=g(o.controller,a),o.controllerAs)&&(o.bindToController&&angular.extend(t,e),e[o.controllerAs]=t),h.open(c,{scope:e,deferred:r,renderDeferred:s,content:n[0],animation:o.animation,backdrop:o.backdrop,keyboard:o.keyboard,backdropClass:o.backdropClass,windowTopClass:o.windowTopClass,windowClass:o.windowClass,windowTemplateUrl:o.windowTemplateUrl,size:o.size,openedClass:o.openedClass}),l.resolve(!0)},function(e){l.reject(e),r.reject(e)}).finally(function(){b===i&&(b=null)}),c;throw new Error("One of template or templateUrl options is required.")},e}]};return $}),angular.module("ui.bootstrap.modal").value("$modalSuppressWarning",!1).directive("modalBackdrop",["$animate","$injector","$modalStack","$log","$modalSuppressWarning",function(i,e,t,o,r){function n(e,n,a){r||o.warn("modal-backdrop is now deprecated. Use uib-modal-backdrop instead."),n.addClass("modal-backdrop"),a.modalInClass&&(l?l(n,{addClass:a.modalInClass}).start():i.addClass(n,a.modalInClass),e.$on(t.NOW_CLOSING_EVENT,function(e,t){t=t();(l?l(n,{removeClass:a.modalInClass}).start():i.removeClass(n,a.modalInClass)).then(t)}))}var l=null;return e.has("$animateCss")&&(l=e.get("$animateCss")),{replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),n}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector","$log","$modalSuppressWarning",function(o,r,l,e,s,c){var p=null;return e.has("$animateCss")&&(p=e.get("$animateCss")),{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(t,n,a){c||s.warn("modal-window is now deprecated. Use uib-modal-window instead."),n.addClass(a.windowClass||""),n.addClass(a.windowTopClass||""),t.size=a.size,t.close=function(e){var t=o.getTop();t&&t.value.backdrop&&"static"!==t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),o.dismiss(t.key,"backdrop click"))},n.on("click",t.close),t.$isRendered=!0;var i=r.defer();a.$observe("modalRender",function(e){"true"==e&&i.resolve()}),i.promise.then(function(){var e=null,e=(a.modalInClass&&(e=p?p(n,{addClass:a.modalInClass}).start():l.addClass(n,a.modalInClass),t.$on(o.NOW_CLOSING_EVENT,function(e,t){t=t();(p?p(n,{removeClass:a.modalInClass}).start():l.removeClass(n,a.modalInClass)).then(t)})),r.when(e).then(function(){var e=n[0].querySelector("[autofocus]");(e||n[0]).focus()}),o.getTop());e&&o.modalRendered(e.key)})}}}]).directive("modalAnimationClass",["$log","$modalSuppressWarning",function(n,a){return{compile:function(e,t){a||n.warn("modal-animation-class is now deprecated. Use uib-modal-animation-class instead."),t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",["$log","$modalSuppressWarning",function(o,r){return{link:function(e,t,n,a,i){r||o.warn("modal-transclude is now deprecated. Use uib-modal-transclude instead."),i(e.$parent,function(e){t.empty(),t.append(e)})}}}]).service("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap","$uibModalStack","$log","$modalSuppressWarning",function(e,t,n,a,i,o,r,l,s,c,p,u){u||p.warn("$modalStack is now deprecated. Use $uibModalStack instead."),angular.extend(this,c)}]).provider("$modal",["$uibModalProvider",function(a){angular.extend(this,a),this.$get=["$injector","$log","$modalSuppressWarning",function(e,t,n){return n||t.warn("$modal is now deprecated. Use $uibModal instead."),e.invoke(a.$get)}]}]),angular.module("ui.bootstrap.pagination",[]).controller("UibPaginationController",["$scope","$attrs","$parse",function(n,a,i){var o=this,r={$setViewValue:angular.noop},l=a.numPages?i(a.numPages).assign:angular.noop;this.init=function(e,t){r=e,this.config=t,r.$render=function(){o.render()},a.itemsPerPage?n.$parent.$watch(i(a.itemsPerPage),function(e){o.itemsPerPage=parseInt(e,10),n.totalPages=o.calculateTotalPages()}):this.itemsPerPage=t.itemsPerPage,n.$watch("totalItems",function(){n.totalPages=o.calculateTotalPages()}),n.$watch("totalPages",function(e){l(n.$parent,e),n.page>e?n.selectPage(e):r.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){n.page=parseInt(r.$viewValue,10)||1},n.selectPage=function(e,t){t&&t.preventDefault(),(!n.ngDisabled||!t)&&n.page!==e&&0<e&&e<=n.totalPages&&(t&&t.target&&t.target.blur(),r.$setViewValue(e),r.$render())},n.getText=function(e){return n[e+"Text"]||o.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("uibPagination",["$parse","uibPaginationConfig",function(r,l){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(e,t,n,a){function s(e,t,n){return{number:e,text:t,active:n}}var c,p,i,o=a[0],a=a[1];a&&(c=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):l.maxSize,p=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):l.rotate,e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):l.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):l.directionLinks,o.init(a,l),n.maxSize&&e.$parent.$watch(r(n.maxSize),function(e){c=parseInt(e,10),o.render()}),i=o.render,o.render=function(){i(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],a=1,i=t,o=angular.isDefined(c)&&c<t;o&&(p?t<(i=(a=Math.max(e-Math.floor(c/2),1))+c-1)&&(a=(i=t)-c+1):(a=(Math.ceil(e/c)-1)*c+1,i=Math.min(a+c-1,t)));for(var r=a;r<=i;r++){var l=s(r,r,r===e);n.push(l)}return o&&!p&&(1<a&&(o=s(a-1,"...",!1),n.unshift(o)),i<t)&&(a=s(i+1,"...",!1),n.push(a)),n}(e.page,e.totalPages))})}}}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(o){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(e,t,n,a){var i=a[0],a=a[1];a&&(e.align=angular.isDefined(n.align)?e.$parent.$eval(n.align):o.align,i.init(a,o))}}}]),angular.module("ui.bootstrap.pagination").value("$paginationSuppressWarning",!1).controller("PaginationController",["$scope","$attrs","$parse","$log","$paginationSuppressWarning",function(n,a,i,e,t){t||e.warn("PaginationController is now deprecated. Use UibPaginationController instead.");var o=this,r={$setViewValue:angular.noop},l=a.numPages?i(a.numPages).assign:angular.noop;this.init=function(e,t){r=e,this.config=t,r.$render=function(){o.render()},a.itemsPerPage?n.$parent.$watch(i(a.itemsPerPage),function(e){o.itemsPerPage=parseInt(e,10),n.totalPages=o.calculateTotalPages()}):this.itemsPerPage=t.itemsPerPage,n.$watch("totalItems",function(){n.totalPages=o.calculateTotalPages()}),n.$watch("totalPages",function(e){l(n.$parent,e),n.page>e?n.selectPage(e):r.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){n.page=parseInt(r.$viewValue,10)||1},n.selectPage=function(e,t){t&&t.preventDefault(),(!n.ngDisabled||!t)&&n.page!==e&&0<e&&e<=n.totalPages&&(t&&t.target&&t.target.blur(),r.$setViewValue(e),r.$render())},n.getText=function(e){return n[e+"Text"]||o.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages}}]).directive("pagination",["$parse","uibPaginationConfig","$log","$paginationSuppressWarning",function(r,l,u,d){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(e,t,n,a){function s(e,t,n){return{number:e,text:t,active:n}}d||u.warn("pagination is now deprecated. Use uib-pagination instead.");var c,p,i,o=a[0],a=a[1];a&&(c=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):l.maxSize,p=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):l.rotate,e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):l.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):l.directionLinks,o.init(a,l),n.maxSize&&e.$parent.$watch(r(n.maxSize),function(e){c=parseInt(e,10),o.render()}),i=o.render,o.render=function(){i(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],a=1,i=t,o=angular.isDefined(c)&&c<t;o&&(p?t<(i=(a=Math.max(e-Math.floor(c/2),1))+c-1)&&(a=(i=t)-c+1):(a=(Math.ceil(e/c)-1)*c+1,i=Math.min(a+c-1,t)));for(var r=a;r<=i;r++){var l=s(r,r,r===e);n.push(l)}return o&&!p&&(1<a&&(o=s(a-1,"...",!1),n.unshift(o)),i<t)&&(a=s(i+1,"...",!1),n.push(a)),n}(e.page,e.totalPages))})}}}]).directive("pager",["uibPagerConfig","$log","$paginationSuppressWarning",function(o,r,l){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(e,t,n,a){l||r.warn("pager is now deprecated. Use uib-pager instead.");var i=a[0],a=a[1];a&&(e.align=angular.isDefined(n.align)?e.$parent.$eval(n.align):o.align,i.init(a,o))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){var l={placement:"top",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},s={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},c={};this.options=function(e){angular.extend(c,e)},this.setTriggers=function(e){angular.extend(s,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,o,W,V,q,r,t,N,n){var F=n.createNew();return V.on("keypress",function(e){27===e.which&&(e=F.top())&&(e.value.close(),F.removeTop())}),function(P,E,n,I){function A(e){var e=(e||I.trigger||n).split(" "),t=e.map(function(e){return s[e]||e});return{show:e,hide:t}}I=angular.extend({},l,c,I);var e=P.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}),t=r.startSymbol(),a=r.endSymbol(),i="<div "+e+'-popup title="'+t+"title"+a+'" '+(I.useContentExp?'content-exp="contentExp()" ':'content="'+t+"content"+a+'" ')+'placement="'+t+"placement"+a+'" popup-class="'+t+"popupClass"+a+'" animation="animation" is-open="isOpen"origin-scope="origScope" style="visibility: hidden; display: block; top: -9999px; left: -9999px;"></div>';return{compile:function(e,t){var S=o(i);return function(n,a,i,e){function o(){(D.isOpen?l:r)()}function r(){var e,t;C&&!n.$eval(i[E+"Enable"])||(p(),D.title=i[E+"Title"],D.content=T?T(n):i[P],D.popupClass=i[E+"Class"],D.placement=angular.isDefined(i[E+"Placement"])?i[E+"Placement"]:I.placement,e=parseInt(i[E+"PopupDelay"],10),t=parseInt(i[E+"PopupCloseDelay"],10),D.popupDelay=isNaN(e)?I.popupDelay:e,D.popupCloseDelay=isNaN(t)?I.popupCloseDelay:t,D.popupDelay?b=b||W(s,D.popupDelay,!1):s())}function l(){t(),D.popupCloseDelay?$=$||W(c,D.popupCloseDelay,!1):c()}function s(){return t(),p(),D.content?(h||(f=D.$new(),h=S(f,function(e){y?V.find("body").append(e):a.after(e)}),O.length=0,T?(O.push(n.$watch(T,function(e){!(D.content=e)&&D.isOpen&&c()})),O.push(f.$watch(function(){x||(x=!0,f.$$postDigest(function(){x=!1,D&&D.isOpen&&m()}))}))):O.push(i.$observe(P,function(e){(!(D.content=e)&&D.isOpen?c:m)()})),O.push(i.$observe(E+"Title",function(e){D.title=e,D.isOpen&&m()})),O.push(i.$observe(E+"Placement",function(e){D.placement=e||I.placement,D.isOpen&&m()}))),void D.$evalAsync(function(){d(D.isOpen=!0),m()})):angular.noop}function t(){b&&(W.cancel(b),b=null),w&&(W.cancel(w),w=null)}function c(){t(),p(),D&&D.$evalAsync(function(){d(D.isOpen=!1),D.animation?v=v||W(u,150,!1):u()})}function p(){$&&(W.cancel($),$=null),v&&(W.cancel(v),v=null)}function u(){O.length&&(angular.forEach(O,function(e){e()}),O.length=0),v=null,h&&(h.remove(),h=null),f&&(f.$destroy(),f=null)}function d(e){M&&angular.isFunction(M.assign)&&M.assign(n,e)}function m(){h&&h.html()&&(w=w||W(function(){h.css({top:0,left:0});var e=q.positionElements(a,h,D.placement,y);e.top+="px",e.left+="px",e.visibility="visible",h.css(e),w=null},0,!1))}function g(){k.show.forEach(function(e){a.unbind(e,r)}),k.hide.forEach(function(e){e.split(" ").forEach(function(e){a[0].removeEventListener(e,l)})})}var h,f,v,b,$,w,y=!!angular.isDefined(I.appendToBody)&&I.appendToBody,k=A(void 0),C=angular.isDefined(i[E+"Enable"]),D=n.$new(!0),x=!1,M=!!angular.isDefined(i[E+"IsOpen"])&&N(i[E+"IsOpen"]),T=!!I.useContentExp&&N(i[P]),O=[],U=(D.origScope=n,D.isOpen=!1,F.add(D,{close:c}),D.contentExp=function(){return D.content},i.$observe("disabled",function(e){e&&t(),e&&D.isOpen&&c()}),M&&n.$watch(M,function(e){D&&!e===D.isOpen&&o()}),U=i[E+"Trigger"],g(),"none"!==(k=A(U)).show&&k.show.forEach(function(e,t){e===k.hide[t]?a[0].addEventListener(e,o):e&&(a[0].addEventListener(e,r),k.hide[t].split(" ").forEach(function(e){a[0].addEventListener(e,l)})),a.on("keypress",function(e){27===e.which&&l()})}),n.$eval(i[E+"Animation"])),U=(D.animation=angular.isDefined(U)?!!U:I.animation,n.$eval(i[E+"AppendToBody"]));(y=angular.isDefined(U)?U:y)&&n.$on("$locationChangeSuccess",function(){D.isOpen&&c()}),n.$on("$destroy",function(){t(),p(),g(),u(),F.remove(D),D=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(p,a,u,d){return{link:function(e,i,t){function o(){n&&(n.remove(),n=null),r&&(r.$destroy(),r=null),l&&(p.leave(l).then(function(){n=null}),n=l,l=null)}var r,n,l,s=e.$eval(t.tooltipTemplateTranscludeScope),c=0;e.$watch(a.parseAsResourceUrl(t.uibTooltipTemplateTransclude),function(n){var a=++c;n?(d(n,!0).then(function(e){var t;a===c&&(t=s.$new(),e=u(e)(t,function(e){o(),p.enter(e,i)}),l=e,(r=t).$emit("$includeContentLoaded",n))},function(){a===c&&(o(),e.$emit("$includeContentError",n))}),e.$emit("$includeContentRequested",n)):o()}),e.$on("$destroy",o)}}}]).directive("uibTooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){t.addClass("tooltip")}}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.tooltip").value("$tooltipSuppressWarning",!1).provider("$tooltip",["$uibTooltipProvider",function(a){angular.extend(this,a),this.$get=["$log","$tooltipSuppressWarning","$injector",function(e,t,n){return t||e.warn("$tooltip is now deprecated. Use $uibTooltip instead."),n.invoke(a.$get)}]}]).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest","$log","$tooltipSuppressWarning",function(p,a,u,d,m,g){return{link:function(e,i,t){g||m.warn("tooltip-template-transclude is now deprecated. Use uib-tooltip-template-transclude instead.");function o(){n&&(n.remove(),n=null),r&&(r.$destroy(),r=null),l&&(p.leave(l).then(function(){n=null}),n=l,l=null)}var r,n,l,s=e.$eval(t.tooltipTemplateTranscludeScope),c=0;e.$watch(a.parseAsResourceUrl(t.tooltipTemplateTransclude),function(n){var a=++c;n?(d(n,!0).then(function(e){var t;a===c&&(t=s.$new(),e=u(e)(t,function(e){o(),p.enter(e,i)}),l=e,(r=t).$emit("$includeContentLoaded",n))},function(){a===c&&(o(),e.$emit("$includeContentError",n))}),e.$emit("$includeContentRequested",n)):o()}),e.$on("$destroy",o)}}}]).directive("tooltipClasses",["$log","$tooltipSuppressWarning",function(a,i){return{restrict:"A",link:function(e,t,n){i||a.warn("tooltip-classes is now deprecated. Use uib-tooltip-classes instead."),e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}]).directive("tooltipPopup",["$log","$tooltipSuppressWarning",function(n,a){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){a||n.warn("tooltip-popup is now deprecated. Use uib-tooltip-popup instead."),t.addClass("tooltip")}}}]).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",["$log","$tooltipSuppressWarning",function(n,a){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html",link:function(e,t){a||n.warn("tooltip-template-popup is now deprecated. Use uib-tooltip-template-popup instead."),t.addClass("tooltip")}}}]).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",["$log","$tooltipSuppressWarning",function(n,a){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html",link:function(e,t){a||n.warn("tooltip-html-popup is now deprecated. Use uib-tooltip-html-popup instead."),t.addClass("tooltip")}}}]).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){t.addClass("popover")}}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.popover").value("$popoverSuppressWarning",!1).directive("popoverTemplatePopup",["$log","$popoverSuppressWarning",function(n,a){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html",link:function(e,t){a||n.warn("popover-template-popup is now deprecated. Use uib-popover-template-popup instead."),t.addClass("popover")}}}]).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",["$log","$popoverSuppressWarning",function(n,a){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html",link:function(e,t){a||n.warn("popover-html-popup is now deprecated. Use uib-popover-html-popup instead."),t.addClass("popover")}}}]).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",["$log","$popoverSuppressWarning",function(n,a){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html",link:function(e,t){a||n.warn("popover-popup is now deprecated. Use uib-popover-popup instead."),t.addClass("popover")}}}]).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,e,t){var i=this,o=angular.isDefined(e.animate)?a.$parent.$eval(e.animate):t.animate;this.bars=[],a.max=(angular.isDefined(a.max)?a:t).max,this.addBar=function(t,e,n){o||e.css({transition:"none"}),this.bars.push(t),t.max=a.max,t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){var e=i.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);100<e&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},a.$watch("max",function(e){i.bars.forEach(function(e){e.max=a.max,e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.progressbar").value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","uibProgressConfig","$log","$progressSuppressWarning",function(a,e,t,n,i){i||n.warn("ProgressController is now deprecated. Use UibProgressController instead.");var o=this,r=angular.isDefined(e.animate)?a.$parent.$eval(e.animate):t.animate;this.bars=[],a.max=(angular.isDefined(a.max)?a:t).max,this.addBar=function(t,e,n){r||e.css({transition:"none"}),this.bars.push(t),t.max=a.max,t.title=n&&angular.isDefined(n.title)?n.title:"progressbar",t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=o.bars.reduce(function(e,t){return e+t.percent},0);100<e&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,o.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},a.$watch("max",function(e){o.bars.forEach(function(e){e.max=a.max,e.recalculatePercentage()})})}]).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?",title:"@?"},templateUrl:"template/progressbar/progress.html",link:function(){t||e.warn("progress is now deprecated. Use uib-progress instead.")}}}]).directive("bar",["$log","$progressSuppressWarning",function(i,o){return{replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){o||i.warn("bar is now deprecated. Use uib-bar instead."),a.addBar(e,t)}}}]).directive("progressbar",["$log","$progressSuppressWarning",function(i,o){return{replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){o||i.warn("progressbar is now deprecated. Use uib-progressbar instead."),a.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}]),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(t,n,a){var i={$setViewValue:angular.noop};this.init=function(e){(i=e).$render=this.render,i.$formatters.push(function(e){return e=angular.isNumber(e)&&e<<0!==e?Math.round(e):e}),this.stateOn=angular.isDefined(n.stateOn)?t.$parent.$eval(n.stateOn):a.stateOn,this.stateOff=angular.isDefined(n.stateOff)?t.$parent.$eval(n.stateOff):a.stateOff;e=angular.isDefined(n.titles)?t.$parent.$eval(n.titles):a.titles,this.titles=angular.isArray(e)&&0<e.length?e:a.titles,e=angular.isDefined(n.ratingStates)?t.$parent.$eval(n.ratingStates):new Array(angular.isDefined(n.max)?t.$parent.$eval(n.max):a.max);t.range=this.buildTemplateObjects(e)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},t.rate=function(e){!t.readonly&&0<=e&&e<=t.range.length&&(i.$setViewValue(i.$viewValue===e?0:e),i.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=i.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=i.$viewValue}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,a){var i=a[0],a=a[1];i.init(a)}}}),angular.module("ui.bootstrap.rating").value("$ratingSuppressWarning",!1).controller("RatingController",["$scope","$attrs","$controller","$log","$ratingSuppressWarning",function(e,t,n,a,i){i||a.warn("RatingController is now deprecated. Use UibRatingController instead."),angular.extend(this,n("UibRatingController",{$scope:e,$attrs:t}))}]).directive("rating",["$log","$ratingSuppressWarning",function(o,r){return{require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,a){r||o.warn("rating is now deprecated. Use uib-rating instead.");var i=a[0],a=a[1];i.init(a)}}}]),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){var n,a=this,i=a.tabs=e.tabs=[];a.select=function(t){angular.forEach(i,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect(),t.selectCalled=!1)}),t.active=!0,t.selectCalled||(t.onSelect(),t.selectCalled=!0)},a.addTab=function(e){i.push(e),1===i.length&&!1!==e.active?e.active=!0:e.active?a.select(e):e.active=!1},a.removeTab=function(e){var t=i.indexOf(e);e.active&&1<i.length&&!n&&(e=t==i.length-1?t-1:t+1,a.select(i[e])),i.splice(t,1)},e.$on("$destroy",function(){n=!0})}]).directive("uibTabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"UibTabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(o){return{require:"^uibTabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,e,n,a,i){t.$watch("active",function(e){e&&a.select(t)}),t.disabled=!1,n.disable&&t.$parent.$watch(o(n.disable),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},a.addTab(t),t.$on("$destroy",function(){a.removeTab(t)}),t.$transcludeFn=i}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:["?^uibTab","?^tab"],link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){return{restrict:"A",require:["?^uibTabset","?^tabset"],link:function(e,n,t){var a=e.$eval(t.uibTabContentTransclude);a.$transcludeFn(a.$parent,function(e){angular.forEach(e,function(e){var t;(t=e).tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||t.hasAttribute("x-tab-heading")||t.hasAttribute("uib-tab-heading")||t.hasAttribute("data-uib-tab-heading")||t.hasAttribute("x-uib-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase()||"x-tab-heading"===t.tagName.toLowerCase()||"uib-tab-heading"===t.tagName.toLowerCase()||"data-uib-tab-heading"===t.tagName.toLowerCase()||"x-uib-tab-heading"===t.tagName.toLowerCase())?a.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.tabs").value("$tabsSuppressWarning",!1).controller("TabsetController",["$scope","$controller","$log","$tabsSuppressWarning",function(e,t,n,a){a||n.warn("TabsetController is now deprecated. Use UibTabsetController instead."),angular.extend(this,t("UibTabsetController",{$scope:e}))}]).directive("tabset",["$log","$tabsSuppressWarning",function(a,i){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){i||a.warn("tabset is now deprecated. Use uib-tabset instead."),e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}]).directive("tab",["$parse","$log","$tabsSuppressWarning",function(o,r,l){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,e,n,a,i){l||r.warn("tab is now deprecated. Use uib-tab instead."),t.$watch("active",function(e){e&&a.select(t)}),t.disabled=!1,n.disable&&t.$parent.$watch(o(n.disable),function(e){t.disabled=!!e}),t.select=function(){t.disabled||(t.active=!0)},a.addTab(t),t.$on("$destroy",function(){a.removeTab(t)}),t.$transcludeFn=i}}}]).directive("tabHeadingTransclude",["$log","$tabsSuppressWarning",function(n,a){return{restrict:"A",require:"^tab",link:function(e,t){a||n.warn("tab-heading-transclude is now deprecated. Use uib-tab-heading-transclude instead."),e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}]).directive("tabContentTransclude",["$log","$tabsSuppressWarning",function(i,o){return{restrict:"A",require:"^tabset",link:function(e,n,t){o||i.warn("tab-content-transclude is now deprecated. Use uib-tab-content-transclude instead.");var a=e.$eval(t.tabContentTransclude);a.$transcludeFn(a.$parent,function(e){angular.forEach(e,function(e){var t;(t=e).tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||t.hasAttribute("x-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase()||"x-tab-heading"===t.tagName.toLowerCase())?a.headingElement=e:n.append(e)})})}}}]),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,e,n,t,i,o,r){function l(){var e=parseInt(a.hours,10);return(a.showMeridian?0<e&&e<13:0<=e&&e<24)?(a.showMeridian&&(12===e&&(e=0),a.meridian===$[1])&&(e+=12),e):void 0}function s(){var e=parseInt(a.minutes,10);return 0<=e&&e<60?e:void 0}function c(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function p(e){u(),b.$setViewValue(new Date(v)),d(e)}function u(){b.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function d(e){var t=v.getHours(),n=v.getMinutes();a.showMeridian&&(t=0===t||12===t?12:t%12),a.hours="h"===e?t:c(t),"m"!==e&&(a.minutes=c(n)),a.meridian=v.getHours()<12?$[0]:$[1]}function m(e,t){t=new Date(e.getTime()+6e4*t),e=new Date(e);return e.setHours(t.getHours(),t.getMinutes()),e}function g(e){v=m(v,e),p()}var h,f,v=new Date,b={$setViewValue:angular.noop},$=angular.isDefined(n.meridians)?a.$parent.$eval(n.meridians):r.meridians||o.DATETIME_FORMATS.AMPMS,w=(a.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,e.removeAttr("tabindex"),this.init=function(e,t){(b=e).$render=this.render,b.$formatters.unshift(function(e){return e?new Date(e):null});e=t.eq(0),t=t.eq(1);(angular.isDefined(n.mousewheel)?a.$parent.$eval(n.mousewheel):r.mousewheel)&&this.setupMousewheelEvents(e,t),(angular.isDefined(n.arrowkeys)?a.$parent.$eval(n.arrowkeys):r.arrowkeys)&&this.setupArrowkeyEvents(e,t),a.readonlyInput=angular.isDefined(n.readonlyInput)?a.$parent.$eval(n.readonlyInput):r.readonlyInput,this.setupInputEvents(e,t)},r.hourStep),y=(n.hourStep&&a.$parent.$watch(t(n.hourStep),function(e){w=parseInt(e,10)}),r.minuteStep);n.minuteStep&&a.$parent.$watch(t(n.minuteStep),function(e){y=parseInt(e,10)}),a.$parent.$watch(t(n.min),function(e){e=new Date(e);h=isNaN(e)?void 0:e}),a.$parent.$watch(t(n.max),function(e){e=new Date(e);f=isNaN(e)?void 0:e}),a.noIncrementHours=function(){var e=m(v,60*w);return f<e||e<v&&e<h},a.noDecrementHours=function(){var e=m(v,60*-w);return e<h||v<e&&f<e},a.noIncrementMinutes=function(){var e=m(v,y);return f<e||e<v&&e<h},a.noDecrementMinutes=function(){var e=m(v,-y);return e<h||v<e&&f<e},a.noToggleMeridian=function(){return v.getHours()<13?m(v,720)>f:m(v,-720)<h},a.showMeridian=r.showMeridian,n.showMeridian&&a.$parent.$watch(t(n.showMeridian),function(e){var t;a.showMeridian=!!e,b.$error.time?(e=l(),t=s(),angular.isDefined(e)&&angular.isDefined(t)&&(v.setHours(e),p())):d()}),this.setupMousewheelEvents=function(e,t){function n(e){var t=(e=e.originalEvent?e.originalEvent:e).wheelDelta||-e.deltaY;return e.detail||0<t}e.bind("mousewheel wheel",function(e){a.$apply(n(e)?a.incrementHours():a.decrementHours()),e.preventDefault()}),t.bind("mousewheel wheel",function(e){a.$apply(n(e)?a.incrementMinutes():a.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,t){e.bind("keydown",function(e){38===e.which?(e.preventDefault(),a.incrementHours(),a.$apply()):40===e.which&&(e.preventDefault(),a.decrementHours(),a.$apply())}),t.bind("keydown",function(e){38===e.which?(e.preventDefault(),a.incrementMinutes(),a.$apply()):40===e.which&&(e.preventDefault(),a.decrementMinutes(),a.$apply())})},this.setupInputEvents=function(e,t){var n;a.readonlyInput?(a.updateHours=angular.noop,a.updateMinutes=angular.noop):(n=function(e,t){b.$setViewValue(null),b.$setValidity("time",!1),angular.isDefined(e)&&(a.invalidHours=e),angular.isDefined(t)&&(a.invalidMinutes=t)},a.updateHours=function(){var e=l(),t=s();!angular.isDefined(e)||!angular.isDefined(t)||(v.setHours(e),v<h)||f<v?n(!0):p("h")},e.bind("blur",function(e){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=c(a.hours)})}),a.updateMinutes=function(){var e=s(),t=l();!angular.isDefined(e)||!angular.isDefined(t)||(v.setMinutes(e),v<h)||f<v?n(void 0,!0):p("m")},t.bind("blur",function(e){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=c(a.minutes)})}))},this.render=function(){var e=b.$viewValue;isNaN(e)?(b.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):((v=e?e:v)<h||f<v?(b.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):u(),d())},a.showSpinners=angular.isDefined(n.showSpinners)?a.$parent.$eval(n.showSpinners):r.showSpinners,a.incrementHours=function(){a.noIncrementHours()||g(60*w)},a.decrementHours=function(){a.noDecrementHours()||g(60*-w)},a.incrementMinutes=function(){a.noIncrementMinutes()||g(y)},a.decrementMinutes=function(){a.noDecrementMinutes()||g(-y)},a.toggleMeridian=function(){a.noToggleMeridian()||g(720*(v.getHours()<12?1:-1))}}]).directive("uibTimepicker",function(){return{restrict:"EA",require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,a){var i=a[0],a=a[1];a&&i.init(a,t.find("input"))}}}),angular.module("ui.bootstrap.timepicker").value("$timepickerSuppressWarning",!1).controller("TimepickerController",["$scope","$element","$attrs","$controller","$log","$timepickerSuppressWarning",function(e,t,n,a,i,o){o||i.warn("TimepickerController is now deprecated. Use UibTimepickerController instead."),angular.extend(this,a("UibTimepickerController",{$scope:e,$element:t,$attrs:n}))}]).directive("timepicker",["$log","$timepickerSuppressWarning",function(o,r){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,a){r||o.warn("timepicker is now deprecated. Use uib-timepicker instead.");var i=a[0],a=a[1];a&&i.init(a,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(n){var a=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(e){var t=e.match(a);if(t)return{itemName:t[3],source:n(t[4]),viewMapper:n(t[2]||t[1]),modelMapper:n(t[1])};throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+e+'".')}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","uibTypeaheadParser",function(o,r,l,e,t,V,s,n,a,q,i,N){function c(){M.moveInProgress||(M.moveInProgress=!0,M.$digest()),f&&s.cancel(f),f=s(function(){M.matches.length&&p(),M.moveInProgress=!1},H)}function p(){M.position=k?i.offset(r):i.position(r),M.position.top+=r.prop("offsetHeight")}var u,d,F=[9,13,27,38,40],H=200,m=o.$eval(l.typeaheadMinLength);m||0===m||(m=1);var g,h,f,v=o.$eval(l.typeaheadWaitMs)||0,b=!1!==o.$eval(l.typeaheadEditable),$=t(l.typeaheadLoading).assign||angular.noop,L=t(l.typeaheadOnSelect),R=!!angular.isDefined(l.typeaheadSelectOnBlur)&&o.$eval(l.typeaheadSelectOnBlur),w=t(l.typeaheadNoResults).assign||angular.noop,y=l.typeaheadInputFormatter?t(l.typeaheadInputFormatter):void 0,k=!!l.typeaheadAppendToBody&&o.$eval(l.typeaheadAppendToBody),C=l.typeaheadAppendToElementId||!1,B=!1!==o.$eval(l.typeaheadFocusFirst),j=!!l.typeaheadSelectOnExact&&o.$eval(l.typeaheadSelectOnExact),D=t(l.ngModel),Y=t(l.ngModel+"($$$p)"),x=N.parse(l.uibTypeahead),M=o.$new(),t=o.$on("$destroy",function(){M.$destroy()}),T=(M.$on("$destroy",t),"typeahead-"+M.$id+"-"+Math.floor(1e4*Math.random())),O=(r.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":T}),angular.element("<div uib-typeahead-popup></div>")),U=(O.attr({id:T,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(l.typeaheadTemplateUrl)&&O.attr("template-url",l.typeaheadTemplateUrl),angular.isDefined(l.typeaheadPopupTemplateUrl)&&O.attr("popup-template-url",l.typeaheadPopupTemplateUrl),function(){M.matches=[],M.activeIdx=-1,r.attr("aria-expanded",!1)}),S=function(e){return T+"-option-"+e},_=(M.$watch("activeIdx",function(e){e<0?r.removeAttr("aria-activedescendant"):r.attr("aria-activedescendant",S(e))}),function(e,t){return!!(M.matches.length>t&&e)&&e.toUpperCase()===M.matches[t].label.toUpperCase()}),P=function(a){var i={$viewValue:a};$(o,!0),w(o,!1),V.when(x.source(o,i)).then(function(e){var t=a===u.$viewValue;if(t&&g)if(e&&0<e.length){M.activeIdx=B?0:-1,w(o,!1);for(var n=M.matches.length=0;n<e.length;n++)i[x.itemName]=e[n],M.matches.push({id:S(n),label:x.viewMapper(M,i),model:e[n]});M.query=a,p(),r.attr("aria-expanded",!0),j&&1===M.matches.length&&_(a,0)&&M.select(0)}else U(),w(o,!0);t&&$(o,!1)},function(){U(),$(o,!1),w(o,!0)})};k&&(angular.element(a).bind("resize",c),n.find("body").bind("scroll",c)),M.moveInProgress=!1,M.query=void 0;function E(){A&&s.cancel(A)}function I(e){r[0]!==e.target&&3!==e.which&&0!==M.matches.length&&(U(),q.$$phase||M.$digest())}U(),M.select=function(e){var t,n,a,i={};h=!0,i[x.itemName]=e=M.matches[e].model,t=x.modelMapper(o,i),n=o,a=t,angular.isFunction(D(o))&&d&&d.$options&&d.$options.getterSetter?Y(n,{$$$p:a}):D.assign(n,a),u.$setValidity("editable",!0),u.$setValidity("parse",!0),L(o,{$item:e,$model:t,$label:x.viewMapper(o,i)}),U(),!1!==M.$eval(l.typeaheadFocusOnSelect)&&s(function(){r[0].focus()},0,!1)},r.bind("keydown",function(e){0!==M.matches.length&&-1!==F.indexOf(e.which)&&(-1!==M.activeIdx||9!==e.which&&13!==e.which?(e.preventDefault(),40===e.which?(M.activeIdx=(M.activeIdx+1)%M.matches.length,M.$digest()):38===e.which?(M.activeIdx=(0<M.activeIdx?M.activeIdx:M.matches.length)-1,M.$digest()):13===e.which||9===e.which?M.$apply(function(){M.select(M.activeIdx)}):27===e.which&&(e.stopPropagation(),U(),M.$digest())):(U(),M.$digest()))}),r.bind("blur",function(){R&&M.matches.length&&-1!==M.activeIdx&&!h&&(h=!0,M.$apply(function(){M.select(M.activeIdx)})),h=g=!1});n.bind("click",I),o.$on("$destroy",function(){n.unbind("click",I),(k||C)&&W.remove(),k&&(angular.element(a).unbind("resize",c),n.find("body").unbind("scroll",c)),O.remove()});var A,W=e(O)(M);k?n.find("body").append(W):!1!==C?angular.element(n[0].getElementById(C)).append(W):r.after(W),this.init=function(e,t){d=t,(u=e).$parsers.unshift(function(e){return g=!0,0===m||e&&e.length>=m?0<v?(E(),t=e,A=s(function(){P(t)},v)):P(e):($(o,!1),E(),U()),b?e:e?void u.$setValidity("editable",!1):(u.$setValidity("editable",!0),null);var t}),u.$formatters.push(function(e){var t,n={};return b||u.$setValidity("editable",!0),y?(n.$model=e,y(o,n)):(n[x.itemName]=e,t=x.viewMapper(o,n),n[x.itemName]=void 0,t!==x.viewMapper(o,n)?t:e)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,a){a[2].init(a[0],a[1])}}}).directive("uibTypeaheadPopup",function(){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return 0<t.matches.length},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,i,o){return{scope:{index:"=",match:"=",query:"="},link:function(t,n,e){e=o(e.templateUrl)(t.$parent)||"template/typeahead/typeahead-match.html";a(e).then(function(e){i(e.trim())(t,function(e){n.replaceWith(e)})})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(n,e,a){var i=e.has("$sanitize");return function(e,t){return!i&&/<.*>/g.test(e)&&a.warn("Unsafe use of typeahead please use ngSanitize"),e=t?(""+e).replace(new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):e,e=i?e:n.trustAsHtml(e)}}]),angular.module("ui.bootstrap.typeahead").value("$typeaheadSuppressWarning",!1).service("typeaheadParser",["$parse","uibTypeaheadParser","$log","$typeaheadSuppressWarning",function(e,t,n,a){return a||n.warn("typeaheadParser is now deprecated. Use uibTypeaheadParser instead."),t}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$uibPosition","typeaheadParser","$log","$typeaheadSuppressWarning",function(q,N,F,H,L,R,B,j,Y,_,z){var K=[9,13,27,38,40];return{require:["ngModel","^?ngModelOptions"],link:function(o,r,l,e){function t(){T.moveInProgress||(T.moveInProgress=!0,T.$digest()),i&&H.cancel(i),i=H(function(){T.matches.length&&s(),T.moveInProgress=!1},200)}function s(){T.position=w?j.offset(r):j.position(r),T.position.top+=r.prop("offsetHeight")}z||_.warn("typeahead is now deprecated. Use uib-typeahead instead.");var c=e[0],p=e[1],n=o.$eval(l.typeaheadMinLength);n||0===n||(n=1);function a(a){var i={$viewValue:a};h(o,!0),b(o,!1),F.when(M.source(o,i)).then(function(e){var t=a===c.$viewValue;if(t&&u)if(e&&0<e.length){T.activeIdx=k?0:-1,b(o,!1);for(var n=T.matches.length=0;n<e.length;n++)i[M.itemName]=e[n],T.matches.push({id:P(n),label:M.viewMapper(T,i),model:e[n]});T.query=a,s(),r.attr("aria-expanded",!0),C&&1===T.matches.length&&V(a,0)&&T.select(0)}else S(),b(o,!0);t&&h(o,!1)},function(){S(),h(o,!1),b(o,!0)})}var u,d,i,m=o.$eval(l.typeaheadWaitMs)||0,g=!1!==o.$eval(l.typeaheadEditable),h=N(l.typeaheadLoading).assign||angular.noop,f=N(l.typeaheadOnSelect),v=!!angular.isDefined(l.typeaheadSelectOnBlur)&&o.$eval(l.typeaheadSelectOnBlur),b=N(l.typeaheadNoResults).assign||angular.noop,$=l.typeaheadInputFormatter?N(l.typeaheadInputFormatter):void 0,w=!!l.typeaheadAppendToBody&&o.$eval(l.typeaheadAppendToBody),y=l.typeaheadAppendToElementId||!1,k=!1!==o.$eval(l.typeaheadFocusFirst),C=!!l.typeaheadSelectOnExact&&o.$eval(l.typeaheadSelectOnExact),D=N(l.ngModel),x=N(l.ngModel+"($$$p)"),M=Y.parse(l.typeahead),T=o.$new(),e=o.$on("$destroy",function(){T.$destroy()}),O=(T.$on("$destroy",e),"typeahead-"+T.$id+"-"+Math.floor(1e4*Math.random())),U=(r.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":O}),angular.element("<div typeahead-popup></div>")),S=(U.attr({id:O,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(l.typeaheadTemplateUrl)&&U.attr("template-url",l.typeaheadTemplateUrl),angular.isDefined(l.typeaheadPopupTemplateUrl)&&U.attr("popup-template-url",l.typeaheadPopupTemplateUrl),function(){T.matches=[],T.activeIdx=-1,r.attr("aria-expanded",!1)}),P=function(e){return O+"-option-"+e},V=(T.$watch("activeIdx",function(e){e<0?r.removeAttr("aria-activedescendant"):r.attr("aria-activedescendant",P(e))}),function(e,t){return!!(T.matches.length>t&&e)&&e.toUpperCase()===T.matches[t].label.toUpperCase()});w&&(angular.element(R).bind("resize",t),L.find("body").bind("scroll",t)),T.moveInProgress=!1,S(),T.query=void 0;function E(){A&&H.cancel(A)}function I(e){r[0]!==e.target&&3!==e.which&&0!==T.matches.length&&(S(),B.$$phase||T.$digest())}c.$parsers.unshift(function(e){return u=!0,0===n||e&&e.length>=n?0<m?(E(),t=e,A=H(function(){a(t)},m)):a(e):(h(o,!1),E(),S()),g?e:e?void c.$setValidity("editable",!1):(c.$setValidity("editable",!0),null);var t}),c.$formatters.push(function(e){var t,n={};return g||c.$setValidity("editable",!0),$?(n.$model=e,$(o,n)):(n[M.itemName]=e,t=M.viewMapper(o,n),n[M.itemName]=void 0,t!==M.viewMapper(o,n)?t:e)}),T.select=function(e){var t,n,a,i={};d=!0,i[M.itemName]=e=T.matches[e].model,t=M.modelMapper(o,i),n=o,a=t,angular.isFunction(D(o))&&p&&p.$options&&p.$options.getterSetter?x(n,{$$$p:a}):D.assign(n,a),c.$setValidity("editable",!0),c.$setValidity("parse",!0),f(o,{$item:e,$model:t,$label:M.viewMapper(o,i)}),S(),!1!==T.$eval(l.typeaheadFocusOnSelect)&&H(function(){r[0].focus()},0,!1)},r.bind("keydown",function(e){0!==T.matches.length&&-1!==K.indexOf(e.which)&&(-1!==T.activeIdx||9!==e.which&&13!==e.which?(e.preventDefault(),40===e.which?(T.activeIdx=(T.activeIdx+1)%T.matches.length,T.$digest()):38===e.which?(T.activeIdx=(0<T.activeIdx?T.activeIdx:T.matches.length)-1,T.$digest()):13===e.which||9===e.which?T.$apply(function(){T.select(T.activeIdx)}):27===e.which&&(e.stopPropagation(),S(),T.$digest())):(S(),T.$digest()))}),r.bind("blur",function(){v&&T.matches.length&&-1!==T.activeIdx&&!d&&(d=!0,T.$apply(function(){T.select(T.activeIdx)})),d=u=!1});L.bind("click",I),o.$on("$destroy",function(){L.unbind("click",I),(w||y)&&W.remove(),w&&(angular.element(R).unbind("resize",t),L.find("body").unbind("scroll",t)),U.remove()});var A,W=q(U)(T);w?L.find("body").append(W):!1!==y?angular.element(L[0].getElementById(y)).append(W):r.after(W)}}}]).directive("typeaheadPopup",["$typeaheadSuppressWarning","$log",function(a,i){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(t,e,n){a||i.warn("typeahead-popup is now deprecated. Use uib-typeahead-popup instead."),t.templateUrl=n.templateUrl,t.isOpen=function(){return 0<t.matches.length},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}]).directive("typeaheadMatch",["$templateRequest","$compile","$parse","$typeaheadSuppressWarning","$log",function(a,i,o,r,l){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(t,n,e){r||l.warn("typeahead-match is now deprecated. Use uib-typeahead-match instead.");e=o(e.templateUrl)(t.$parent)||"template/typeahead/typeahead-match.html";a(e).then(function(e){i(e.trim())(t,function(e){n.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log","$typeaheadSuppressWarning",function(n,e,a,i){var o=e.has("$sanitize");return function(e,t){return i||a.warn("typeaheadHighlight is now deprecated. Use uibTypeaheadHighlight instead."),!o&&/<.*>/g.test(e)&&a.warn("Unsafe use of typeahead please use ngSanitize"),e=t?(""+e).replace(new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):e,e=o?e:n.trustAsHtml(e)}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" uib-collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" dropdown-nested ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" aria-valuetext="{{r.title}}"></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | uibTypeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.$$csp()||angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>');
SUGApp.service("facebookService",["$q","SUGUtilities","$window",function(e,t,n){function o(e){f.fbConnected=!!e}function s(e){f.fbLoading=!!e}function i(){s(!1),FB.Event.subscribe("auth.statusChange",function(e){"connected"===e.status?o(!0):o(!1)}),t.APISyncCall("post","","","c.getsmappid",15e3).then(function(e){e=t.lowerCaseKeys(e);angular.isDefined(e.data)&&angular.isDefined(e.data.data)&&""!==e.data.data&&f.initFB(e.data.data)})}function a(e,n){return(e=t.lowerCaseKeys(e)).status&&"connected"==e.status&&e.authresponse&&e.authresponse.accesstoken&&e.authresponse.accesstoken.length?(o(!0),n.resolve(e)):(s(!1),o(!1),n.reject("Error occured")),n}var c,r,d,u,f={fbConnected:!1,fbLoading:!1};o(!1),s(!0),f.initFB=function(e){FB.init({appId:e,status:!0,cookie:!0,xfbml:!0,version:"v7.0"})},window.FB?i():(window.fbAsyncInit=function(){i()},c=document,r="script",d="facebook-jssdk",u=c.getElementsByTagName(r)[0],c.getElementById(d)||((c=c.createElement(r)).id=d,c.src="https://connect.facebook.net/en_US/sdk.js",u.parentNode.insertBefore(c,u))),f.getFBUserInfo=function(e){e=t.lowerCaseKeys(e),e={atId:e.accesstoken,uidId:e.userid,sigId:e.signedrequest};return t.APISyncCall("post","",e,"c.getSocialMediaUser",15e3)};return f.fbLogin=function(){var n=e.defer();return window.FB?(s(!0),f.fbConnected?FB.getLoginStatus(function(e){n=a(e,n)},!0):FB.login(function(e){n=a(e,n)},{scope:"public_profile,email"})):n.reject("Facebook SDK is still loading"),n.promise},f}]);
SUGApp.service("authenticationService",["SUGUtilities",function(t){var e={logoutUser:function(){return t.APISyncCall("post","","","c.logoutUser",15e3)},forgotPassword:function(e){return t.APISyncCall("post","",e,"c.forgotPassword",15e3)},loginUser:function(e){return t.APISyncCall("post","",e,"c.loginUser",2e4)},createMember:function(e){return t.APISyncCall("post","",e,"c.createMember",15e3)},verifyDisabledAccount:function(e){return t.APISyncCall("post","",e,"c.verifyDisabledAccount",15e3)},getsmappid:function(e){return t.APISyncCall("post","",e,"c.getsmappid",15e3)},getMainNavigation:function(e){return t.APISyncCall("post","",e,"c.getMainNavigation",15e3)},passwordRulesText:function(){return t.APISyncCall("post","","","c.passwordRulesText",15e3)},validatePasswordRules:function(e){return t.APISyncCall("post","",e,"c.validatePasswordRules",15e3)},getLoginRateLimit:function(e){return t.APISyncCall("post","",e,"c.getLoginRateLimit",15e3)},changePassword:function(e){return t.APISyncCall("post","",e,"c.changePassword",15e3)},resultErrorHandler:function(e){var n="",e=t.lowerCaseKeys(e);return angular.isDefined(e.message)?angular.isArray(e.message)?angular.forEach(e.message,function(e,t){n+=e+" "}):n=e.message:n=t.isDefinedNotNullNotEmpty(e.statustext)?e.statustext:(e.status,0===e.status?"Request timeout exceeded. Make sure you are logged in and have an active session.":"An unknown error occurred while processing your request"),n}};return e}]);
SUGApp.controller("authenticationController",["$scope","$uibModalInstance","authenticationService","SUGUtilities","facebookService","$location","loginRequired","loginMessage","register","registerDisabled","$sce","$timeout","commonRegExService","$window",function(o,n,i,l,a,e,r,s,t,d,m,c,g,f){o.processing=!1,o.complete=!1,o.message="",o.register=!1,o.registerDisabled=!(!angular.isDefined(d)||!d),o.frm={},o.frm.loginemail="",o.frm.newemail="",o.frm.pword="",o.frm.remember=!1,o.frm.firstname="",o.frm.lastname="",o.frm.companyname="",o.frm.show="login",o.frm.verifytype="existing",o.errorMessages={},o.hasErrors=!1,o.btnLabel="Login",o.mainLabel="SignUpGenius Login",o.blacklistedAddress="",o.fbAuth=!1,o.fbBtnLabel="Login with Facebook",o.sugAccountRequired=r,o.loginMessage=s,o.captcha="",o.captchaValid=!1,o.showrecaptcha=!1,o.failedlogins=0,o.passwordmustbechanged=!1,o.passwordRules=[],o.hideForgotPassword=!1,l.getReCaptcha({}).then(function(e){e=l.lowerCaseKeys(e);w(e.data)&&(o.captcha=m.trustAsHtml(e.data.data.snippet),o.recaptchafeature=e.data.data.feature)}),i.getLoginRateLimit({}).then(function(e){e=l.lowerCaseKeys(e);w(e.data)&&(o.ratelimit=e.data.data)}),i.passwordRulesText({}).then(function(e){e=l.lowerCaseKeys(e);w(e.data)&&(o.passwordRules=e.data.message)}),o.showForm=function(e){o.frm.show=e,o.errorMessages={},o.hasErrors=!1,o.complete=!1,o.frm.loginemail="",o.frm.newemail="",o.frm.pword="",o.frm.firstname="",o.frm.lastname="","login"==e?(o.mainLabel="SignUpGenius Login",o.btnLabel="Login"):"register"==e?(o.mainLabel="Account Registration",o.btnLabel="Register Now"):"blacklisted"==e?(o.mainLabel="Account Login Disabled",o.btnLabel="Send Link"):(o.mainLabel="Forgot Your Password?",o.btnLabel="Submit")},o.forgotPassword=function(){var a,e;h(),o.hasErrors||(o.message="",a=o.btnLabel,o.processing=!0,o.btnLabel="Processing...",(e={}).email=o.frm.loginemail,i.forgotPassword(e).then(function(e){e=l.lowerCaseKeys(e);w(e.data)?(o.complete=!0,o.message=m.trustAsHtml(e.data.message),o.hideForgotPassword=!0):b(e.data),o.processing=!1,o.btnLabel=a}))},o.loginUser=function(){var r,e;h(),o.hasErrors||(o.message="",r=o.btnLabel,o.processing=!0,o.btnLabel="Processing...",(e={}).email=o.frm.loginemail,e.password=o.frm.pword,o.frm.remember&&(e.remember=o.frm.remember),i.loginUser(e).then(function(e){var a,e=l.lowerCaseKeys(e);w(e.data)?((a={}).data=e.data.data,a.status="loggedin",o.failedlogins=0,o.showrecaptcha=!1,o.passwordmustbechanged=a.data.passwordmustbechanged,o.memberID=e.data.data.memberID,o.captchaValid=!1,o.passwordmustbechanged?(o.frm.pword="",o.frm.show="changepassword",o.processing=!1,o.mainLabel="Password Expired",o.saveresp=a):n.close(a),e.data.data.showintermediatelogin&&-1<f.location.href.indexOf("=w.manageSignUp#")&&(f.location.href="/myaccount/resetadminid/1")):(a="data"in e.data?e.data.data:{},angular.isDefined(a.isblacklisted)&&a.isblacklisted?(o.processing=!1,o.btnLabel=r,o.blacklistedAddress=o.frm.loginemail,o.frm.pword="",o.showForm("blacklisted")):(o.failedlogins=e.data.data.failed,o.ipfailedlogins=e.data.data.recaptcha.count,o.showrecaptcha=!(!o.recaptchafeature.enabled||!(o.failedlogins>=o.recaptchafeature.displayafter_attempts||o.ipfailedlogins>=e.data.data.recaptcha.limit)),b(e.data),o.processing=!1,o.btnLabel=r))}))},o.registerUser=function(){var r,e;h(),o.hasErrors||(o.message="",r=o.btnLabel,o.processing=!0,o.btnLabel="Processing...",(e={}).email=o.frm.loginemail,e.password=o.frm.pword,e.firstname=o.frm.firstname,e.lastname=o.frm.lastname,e.companyname=o.frm.companyname,e.loginuser=!0,i.createMember(e).then(function(e){var a,e=l.lowerCaseKeys(e);w(e.data)?angular.isDefined(e.data.message)&&""!==e.data.message.toString()?(a=null,e.data.success&&(a="Account verification required"),y(e.data,a),o.frm.pword="",o.frm.firstname="",o.frm.lastname="",o.showForm("login"),r="Login"):angular.isDefined(e.data.data.memberid)&&0<parseInt(e.data.data.memberid)?((a={}).data=e.data.data,a.status="loggedin",f.startAts(e.data.data.email),n.close(a)):l.showMagnificAlert("An unknown error occurred. If this error persists, please contact support."):(r="Login",o.showForm("login"),y(e.data)),o.btnLabel=r,o.processing=!1}))},o.verifyAddress=function(){var a,e;"new"===o.frm.verifytype&&(h(),o.hasErrors)||(o.message="",a=o.btnLabel,o.processing=!0,o.btnLabel="Processing...",(e={}).email=o.frm.newemail,e.previousEmail=o.frm.loginemail,i.verifyDisabledAccount(e).then(function(e){e=l.lowerCaseKeys(e);w(e.data)?(o.complete=!0,o.message=e.data.message):b(e.data),o.processing=!1,o.btnLabel=a}))};function u(e){e?(o.processing=!0,o.fbBtnLabel="Processing...",o.fbLoading=!0):(o.processing=!1,o.fbBtnLabel=p,o.fbLoading=!1)}var p=angular.copy(o.fbBtnLabel),h=(o.loginFBUser=function(){var s={},t={};o.fbAuth=!0,o.message="",u(!0),a.fbLogin().then(function(e){e=l.lowerCaseKeys(e);if("connected"===e.status&&angular.isDefined(e.authresponse)&&angular.isDefined(e.authresponse.accesstoken))return s=e.authresponse,a.getFBUserInfo(s);u(!1)},function(e){u(!1)}).then(function(e){if(angular.isDefined(e)){var a,e=l.lowerCaseKeys(e).data,r=!1;if(e.success){if(t=e.data,angular.isDefined(t.email)&&t.email.toString().length)return(a={type:"fb"}).email=t.email,a.firstname=t.first_name||"",a.lastname=t.last_name||"",a.userid=t.id,a.authToken=s.accesstoken,o.frm.remember&&(a.remember=o.frm.remember),i.loginUser(a);l.showMagnificAlert("Invalid or missing email address. Your email address is required to log into your SignUpGenius account using Facebook.")}else l.showMagnificAlert(e.message.toString());u(!(r=!0)),r&&(o.fbAuth=!1)}}).then(function(e){var a;angular.isDefined(e)&&(e=l.lowerCaseKeys(e),w(e.data)?angular.isDefined(e.data.data.memberid)&&0<parseInt(e.data.data.memberid)?((a={}).data=e.data.data,a.status="loggedin",n.close(a)):(l.showMagnificAlert("An unknown error occurred. If this error persists, please contact support."),u(!1)):(u(!1),a="data"in e.data?e.data.data:{},angular.isDefined(a.isblacklisted)&&a.isblacklisted?(o.blacklistedAddress=t.email,o.frm.loginemail=t.email,o.frm.pword="",o.showForm("blacklisted")):b(e.data)),o.fbAuth=!1,u(!1))})},o.frmDisabled=function(){return o.fbAuth},o.errorExists=function(e){return e in o.errorMessages},o.getError=function(e){return e in o.errorMessages?o.errorMessages[e]:""},o.close=function(){n.dismiss()},function(){o.passwordErrors={},o.errorMessages={},o.hasErrors=!1;var r={loginemail:"You must enter a valid email address.",pword:"You must enter a password.",pword2:"You must confirm the password.",firstname:"You must enter a first name.",lastname:"You must enter a last name.",newemail:"You must enter a valid email address.",passwordInvalid:"The password you entered does not meet our password criteria.",passwordMatch:"The passwords do not match.",companyname:"You must enter a company name."},e=["loginemail","pword"];"register"===o.frm.show?(e=["firstname","lastname","loginemail","pword"],o.requirecompany&&e.push("companyname"),e[3],L()):"forgotpassword"===o.frm.show?(e=["loginemail"],g.emailRegEx().test(o.frm.loginemail)||(o.errorMessages.loginemail=r.loginemail)):"blacklisted"===o.frm.show&&"new"==o.frm.verifytype?e=["newemail"]:"changepassword"===o.frm.show&&(e=["pword","pword2"],L(),o.frm.pword)&&o.frm.pword2&&o.frm.pword!==o.frm.pword2&&(o.errorMessages.passwordMatch=r.passwordMatch,o.hasErrors=!0),angular.forEach(e,function(e,a){angular.isDefined(o.frm[e])&&(o.frm[e],!0)&&o.frm[e].toString().length||(o.errorMessages[e]=r[e],o.hasErrors=!0)}),("forgotpassword"!==o.frm.show&&"register"!==o.frm.show||o.captchaValid)&&("login"!==o.frm.show||!o.showrecaptcha||o.captchaValid)||(l.showMagnificAlert("Invalid captcha response."),o.hasErrors=!0)}),w=function(e){e=l.lowerCaseKeys(e);try{return angular.isDefined(e.success)&&e.success&&angular.isDefined(e.data)}catch(e){return!1}},b=function(e){e=i.resultErrorHandler(e);l.showMagnificAlert(e)},y=function(e,a){var a=a||null,r=i.resultErrorHandler(e),s=e.success?"success":"error",a=a||(e&&e.data&&e.data.messagetitle?e.data.messagetitle:e.success?"Success":"Error");l.showMagnificAlert(r,s,"",a)},L=(angular.isDefined(t)&&t&&o.showForm("register"),recaptchaCallback=function(e){l.validateCaptcha(e).then(function(e){e=l.lowerCaseKeys(e);w(e.data)?o.captchaValid=e.data.data:o.captchaValid=!1})},o.iosPositioningFix=function(e){!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&(window.scrollTo(0,0),angular.element(e.target).focus())},function(){var e={password:o.frm.pword};i.validatePasswordRules(e).then(function(e){e=l.lowerCaseKeys(e).data;e.success||(o.passwordErrorIsString="string"==typeof e.message,o.passwordErrors=e.message,o.errorMessages.passwordInvalid="The password you entered does not meet our password criteria.",o.hasErrors=!0)})}),d=(o.changepassword=function(){h(),o.captchaValid||(l.showMagnificAlert("Invalid captcha response."),o.hasErrors=!0),c(function(){var e;o.hasErrors||(e={ID:o.saveresp.data.memberid,pword:o.frm.pword},i.changePassword(e).then(function(e){e=l.lowerCaseKeys(e).data;e.success?n.close(o.saveresp):(o.hasErrors=!0,o.errorMessages=e.message)}))},2e3)},utility.getAllUrlParams());o.showcompany=void 0!==d.showcompany&&!!+d.showcompany,o.requirecompany=!(void 0===d.requirecompany||!o.showcompany||!+d.requirecompany),o.isoptional=o.requirecompany?"":" (optional)"}]);
SUGApp.service("commonRegExService",["SUGUtilities",function(n){var e={addressRegEx:function(){return new RegExp("^[0-9].*$","i")},bankAccountNumberRegEx:function(){return new RegExp("^[0-9]{3,17}$")},bankRoutingNumberRegEx:function(){return new RegExp("^[0-9]{9}$")},caGSTHSTNumberRegEx:function(){return new RegExp("^[0-9]{9}s?[A-Z]{2}s?[0-9]{4}$")},caGSTHSTNumberLowerCaseRegEx:function(){return new RegExp("^[0-9]{9}s?[a-z]{2}s?[0-9]{4}$")},caBankAccountNumberRegEx:function(){return new RegExp("^[0-9]{5,12}$")},caBankTransitRegEx:function(){return/^[0-9]{5}$/},caInstitutionNumberRegEx:function(){return/^[0-9]{3}$/},caPostalCodeRegEx:function(){return/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1}\s*\d{1}[A-Z]{1}\d{1}$/},caSinRegEx:function(){return/^(\d{3})[\-\s]?(\d{3})[\-\s]?(\d{3})$/},cityRegEx:function(){return new RegExp("^[a-zA-Z- ]+$")},einRegEx:function(){return new RegExp("[0-9]{9}")},emailRegEx:function(){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},noSpecialCharsForFileRegEx:function(){return new RegExp("^[a-zA-Z0-9- _]+$")},phoneRegEx:function(){return/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/},poboxRegEx:function(){return/^ *((#\d+)|((box|bin)[-. \/\\]?\d+)|(.*p[ \.]? ?(o|0)[-. \/\\]? *-?((box|bin)|b|(#|num)?\d+))|(p(ost)? *(o(ff(ice)?)?)? *((box|bin)|b)? *\d+)|(p *-?\/?(o)? *-?box)|post office box|((box|bin)|b) *(number|num|#)? *\d+|(num|number|#) *\d+)/i},ssnFullRegEx:function(){return new RegExp("^(?!\b(d)+\b)(?!123456789|219099999|078051120)(?!666|000|9d{2})d{3}(?!00)d{2}(?!0{4})d{4}$")},ssnLast4RegEx:function(){return new RegExp("[0-9]{4}")},uriRegEx:function(){return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/},zipcodeRegEx:function(){return new RegExp("^[0-9]{5}(?:-[0-9]{4})?$")},canadianPostalCodeRegEx:function(){return new RegExp("^(?!.*[DFIOQU])[A-VXY][0-9][A-Z] ?[0-9][A-Z][0-9]$")},validateZipOrPostalCode:function(n){return(/^\d/.test(n=void 0===n?0:n)?e.zipcodeRegEx():e.canadianPostalCodeRegEx()).test(n)}};return e}]);
SUGApp.service("memberInfoService",["sugCacheFactory","SUGUtilities","$q",function(o,s,m){this.getMemberInfo=function(e,r,t,i){void 0===i&&void 0!==e.urlid&&(i=e.urlid);var n,a,d=o.get("memberinfoservice_memberinfo",{});return r||(a=d,s.isUndefinedOrEmptyObject(a))||!s.isIntegerGT0(a.memberid)||e&&!s.keyExists(d,"datetzsettings")?e?s.APISyncCall("post","",{extendedinfo:!0,listid:void 0!==t?t:0,urlid:void 0!==i?i:""},"m.getMemberInfo").then(function(e){if(e=s.lowerCaseKeys(e.data),!s.ajaxResultInvalid(e))return o.set("memberinfoservice_memberinfo",e.data),e.data;n.reject(s.resultErrorHandler(e.data))}):s.APISyncCall("get","","","m.getMemberInfo").then(function(e){if(e=s.lowerCaseKeys(e.data),!s.ajaxResultInvalid(e))return o.set("memberinfoservice_memberinfo",e.data),e.data;n.reject(s.resultErrorHandler(e.data))}):((n=m.defer()).resolve(d),n.promise)}}]);
SUGApp.service("loginservice",["SUGUtilities",function(t){var e={getUserInfo:function(e){return t.APISyncCall("post","",e,"m.getMemberInfo",15e3)},getMainNavigation:function(){return t.APISyncCall("post","","","c.getMainNavigation",15e3)},resultErrorHandler:function(e){var n="",e=t.lowerCaseKeys(e);return angular.isDefined(e.message)?angular.isArray(e.message)?angular.forEach(e.message,function(e,t){n+=e+" "}):n=e.message:n=t.isDefinedNotNullNotEmpty(e.statustext)?e.statustext:(e.status,0===e.status?"Request timeout exceeded. Make sure you are logged in and have an active session.":"An unknown error occurred while processing your request"),n}};return e}]);
angular.module("SUGApp").requires.push("ui.bootstrap"),SUGApp.factory("loginfactory",["SUGUtilities","$sce","loginservice","$uibModal","$window","authenticationService","$filter","$location","$timeout","$q",function(a,e,i,u,d,c,t,n,r,m){var o={};return o.getLogin=function(e,t){function o(){i.getMainNavigation().then(function(e){var t,e=a.lowerCaseKeys(e);n(e.data)?((t=angular.element(document.querySelector("#main-nav"))).empty(),t.append(e.data.data)):r(e.data)})}function n(e){e=a.lowerCaseKeys(e);try{return angular.isDefined(e.success)&&e.success&&angular.isDefined(e.data)}catch(e){return}}function r(e){e=i.resultErrorHandler(e),a.showMagnificAlert(e)}function s(e){return angular.isDefined(e)}var l={};l.allowRegistration=!e,l.showregistrationfirst=t||!1,l.h=(new Date).getTime(),l.user={},l.user.loggedin=!1,l.attrs={},l.asyncSuccess=!0,l.success=!0,l.errorMessages={},l.fbAppId="",l.objForm={},l.objForm.listid=0,l.objForm.owner=0,l.objForm.urlid=utility.getUrlParamValue("urlid"),l.objForm.siid="",l.objForm.imid=0,l.objForm.usealternatename=!1,l.objForm.changemembermame=!1,l.objForm.displayfirstname="",l.objForm.displaylastname="",l.objForm.firstname="",l.objForm.lastname="",l.objForm.email="",l.objForm.savecontactinfo=!1,l.labels={cancelBtn:"Cancel",deleteBtn:"Delete",breadcrumbBtn:"Back to ",contactinfo:"Contact info:",additionalinfo:"Additional info:"},l.standardErrors={email_invalid:"You must enter a valid email address.",email_length:"Email address must not exceed 100 characters.",firstname_length:"First name must not exceed 50 charcters.",lastname_length:"Last name must not exceed 100 characters.",quantity_invalid:"The quantity must be all numeric.",savecontactinfo:"You must populate the address and/or phone information when selecting this option."},l.errormessage="Oops! Something went wrong. We can't seem to find the sign up information you've requested. If this error persists, please <a href='/help'>contact support</a>.";return l.logout=function(){l.asyncSuccess=!0,c.logoutUser().then(function(e){e=a.lowerCaseKeys(e);n(e.data)?(l.user={},l.user.loggedin=!1,s(l.attrs.thismemberid)&&delete l.attrs.thismemberid,s(l.attrs.mid)&&delete l.attrs.mid,o()):(l.asyncSuccess=!1,r(e.data))}).finally(()=>{window.sugTagManager.reset()})},l.preplogin=function(t,n,e,r){l.allowRegistration=e||!0,l.showregistrationfirst=r||!1,i.getUserInfo().then(function(e){e=a.lowerCaseKeys(e);e.data&&e.data.data&&0<e.data.data.memberid&&void 0!==n&&""!==n?d.location.href=n:l.login(t,n,l.allowRegistration,l.showregistrationfirst)})},l.login=function(e,t,n,r){var a=m.defer(),i=void 0!==e&&e;return l.allowRegistration=n||!0,l.showregistrationfirst=r||!1,u.open({templateUrl:"/view/templates/main/login.html",controller:"authenticationController",resolve:{loginRequired:function(){return i},loginMessage:function(){return""},register:function(){return!l.user.loggedin&&l.showregistrationfirst&&l.allowRegistration},registerDisabled:function(){return!l.allowRegistration}}}).result.then(function(e){s(e.status)&&"loggedin"===e.status&&s(e.data)&&s(e.data.memberid)&&0<parseInt(e.data.memberid)&&(l.user=e.data,l.user.loggedin=!0,o(),void 0!==t&&""!==t&&(d.location.href=t),a.resolve(!0))},function(e){a.reject(e)}),a.promise},l.allowRegistration&&(l.register=function(){u.open({templateUrl:"/view/templates/main/login.html",controller:"authenticationController",resolve:{loginRequired:function(){return!1},loginMessage:function(){return""},register:function(){return!0},registerDisabled:function(){return!1}}}).result.then(function(e){s(e.status)&&"loggedin"===e.status&&s(e.data)&&s(e.data.memberid)&&0<parseInt(e.data.memberid)&&(l.user=e.data,l.user.loggedin=!0,o())})}),l},o}]);
SUGApp.service("signUpFormService",["SUGUtilities","signupPageService","$q",function(a,n,s){var r={};return r.cachedMemberinfo=n.getMemberInfo(),r.cachedThemeClass=n.getThemeClassInfo(),r.cachedAttrs=n.getAttrs(),r.useSinglePageApplication=!1,r.getSignUpFormAttrs=function(e){var t=n.getAttrs();return"object"!=typeof(t="object"==typeof t&&!angular.equals(t,{})?t:r.cachedAttrs)||angular.equals(t,{})?a.APISyncCall("post","",e,"s.getSignUpFormAttrs",15e3):{data:{data:t,success:!0,message:[],code:""},status:200}},r.getSignUpTheme=function(e){var t=r.cachedThemeClass;return"object"!=typeof t||angular.equals(t,{})?a.APISyncCall("post","",e,"s.getSignUpTheme",15e3):{data:{data:t,success:r.useSinglePageApplication=!0,message:[],code:""},status:200}},r.getSignUpFormItems=function(e){return a.APISyncCall("post","",e,"s.getSignUpFormItems",15e3)},r.getUserInfo=function(e){var t=r.cachedMemberinfo;return"object"!=typeof t||angular.equals(t,{})?a.APISyncCall("post","",e,"m.getMemberInfo",15e3):(r.useSinglePageApplication=!0,(e=s.defer()).resolve({data:{data:t,success:!0,message:[],code:""},status:200}),e.promise)},r.getMainNavigation=function(){return a.APISyncCall("post","","","c.getMainNavigation",15e3)},r.processSignUp=function(e){return a.APISyncCall("post","",e,"s.processSignUpFormHandler",45e3)},r.cancelForm=function(){return n.setAttrs({}),a.APISyncCall("get","","","s.cancelSignUpForm",15e3)},r.checkSignUpAds=function(e){return a.APISyncCall("post","",e,"s.checkSignUpAds",45e3)},r.getCompletedSignUpDetail=function(e){return a.APISyncCall("post","",e,"s.getCompletedSignUpDetail",45e3)},r.removeSignupTransaction=function(e){return a.APISyncCall("post","",e,"s.removeSignupTransaction",45e3)},r.completeSignupTransaction=function(e){return a.APISyncCall("post","",e,"s.completeSignupTransaction",45e3)},r.completeWePayPayment=function(e){return a.APISyncCall("post","",e,"s.completeWePayPayment",45e3)},r.completeLumaPayPayment=function(e){return a.APISyncCall("post","",e,"s.completeLumaPayPayment",15e3)},r.getMerchantOutage=function(e){return a.APISyncCall("post","",e,"t.getMerchantOutage",15e3)},r.resultErrorHandler=function(e){var n="",e=a.lowerCaseKeys(e);return angular.isDefined(e.message)?angular.isArray(e.message)?angular.forEach(e.message,function(e,t){n+=e+" "}):n=e.message:n=a.isDefinedNotNullNotEmpty(e.statustext)?e.statustext:(e.status,0===e.status?"Request timeout exceeded. Make sure you are logged in and have an active session.":"An unknown error occurred while processing your request"),n},r}]);
SUGApp.service("signupPageService",["SUGUtilities","sugCacheFactory","$filter","$modal","$q",function(o,t,l,n,i){var s={urlparts:[],urlkey:"",tabgroupurlkey:"",tabindex:0,memberinfo:{},signupinfo:{},themeinfo:{},tabgroup:{},calendardates:{arrSignUpDates:[],displayMonth:{}},currentMonth:void 0,paginationMetadata:void 0,customThemeId:void 0},a=6e4;return s.toggleDefaultTtl=function(){a=1,setTimeout(function(){a=6e4},6e4)},s.setUrlParts=function(e){s.urlparts=e.filter(function(e){return 0===e||e})},s.getUrlParts=function(){return s.urlparts},s.setUrlKey=function(e){s.urlkey=e},s.getUrlKey=function(){return s.urlkey},s.setCustomThemeId=function(e){s.customThemeId=e},s.getCustomThemeId=function(){return s.customThemeId},s.setPortalId=function(e){t.set("embed_portalId",e)},s.getPortalId=function(){return t.get("embed_portalId",0)},s.setTabGroup=function(e){s.tabgroup=e},s.getTabGroup=function(){return s.tabgroup},s.setTabGroupUrlKey=function(e){s.tabgroupurlkey=e},s.getTabGroupUrlKey=function(){return s.tabgroupurlkey},s.setTabIndex=function(e){s.tabindex=e},s.getTabIndex=function(){return s.tabindex},s.setMemberInfo=function(e){s.memberinfo=e},s.getMemberInfo=function(){return s.memberinfo},s.setSignUpInfo=function(e){s.signupinfo=e},s.getSignUpInfo=function(){return s.signupinfo},s.setThemeInfo=function(e){s.themeinfo=e},s.getSignUpParticipantsBySlotItem=function(e){return o.APISyncCall("post","",e,"s.getSignUpParticipantsBySlotItem",3e4)},s.getThemeInfo=function(){return s.themeinfo},s.setThemeClassInfo=function(e){s.themeclassinfo=e},s.getThemeClassInfo=function(){return s.themeclassinfo},s.setAttrs=function(e){s.attrs=e},s.getAttrs=function(){return s.attrs},s.setCalendarDates=function(e){s.calendardates=e},s.getCalendarDates=function(){return s.calendardates},s.setSignUpDates=function(e){s.calendardates.arrSignUpDates=e},s.getSignUpDates=function(){return s.calendardates.arrSignUpDates},s.setDisplayMonth=function(e){s.calendardates.displayMonth=e},s.getDisplayMonth=function(){return s.calendardates.displayMonth},s.setCurrentMonth=function(e){s.currentMonth=e},s.getCurrentMonth=function(){return s.currentMonth},s.setPaginationMetadata=function(e){e.calendarview.lastCalendarMonth=new Date(e.calendarview.lastmonthwithslots),e.calendarview.firstCalendarMonth=new Date(e.calendarview.firstmonthwithslots),s.paginationMetadata=e},s.getPaginationMetadata=function(){return s.paginationMetadata},s.setEmbedPortalInfo=function(e){t.set("embed_portalBasics",e)},s.getEmbedPortalInfo=function(){return t.get("embed_portalBasics",{})},s.convertParamsToUrlParts=function(t){var n;"object"==typeof t&&(n=[],Object.keys(t).map(function(e){n.push(e),n.push(t[e])}),s.setUrlParts(n))},s.resultErrorHandler=function(e){var n="",e=o.lowerCaseKeys(e);return angular.isDefined(e.message)?angular.isArray(e.message)?angular.forEach(e.message,function(e,t){n+=e+" "}):n=e.message:n=o.isDefinedNotNullNotEmpty(e.statustext)?e.statustext:(e.status,0===e.status?"Request timeout exceeded. Make sure you are logged in and have an active session.":"An unknown error occurred while processing your request"),n},s.getAvailability=function(e,t,n,a){var r={qtyLabel:"",qtyLabelResponsive:"",btnState:"default"},o=l("number")(t),i=l("number")(e);if(0==t)switch(e){case 1:r.qtyLabel="1 slot available",r.qtyLabelResponsive=r.qtyLabelResponsive=r.qtyLabel;break;case 999999:break;default:r.qtyLabel=i+" slots available",r.qtyLabelResponsive=r.qtyLabel}else 999999==e?(r.qtyLabel=1==t?"1 slot filled (more available)":o+" slots filled (more available)",r.qtyLabelResponsive=r.qtyLabel.replace("(more available)",'<span class="visible-lg-inline-block">(more available)</span>')):e==t?(r.qtyLabel=1==t?"All slots filled":"All "+o+" slots filled",r.qtyLabelResponsive=r.qtyLabel,r.btnState="full"):(r.qtyLabel=o+" of "+i+" slots filled",r.qtyLabelResponsive=r.qtyLabel);return(a||n)&&"full"!=r.btnState&&(r.btnState="locked"),r},s.deleteItemMember=function(e){return o.APISyncCall("post","",e,"s.deleteItemMember",15e3)},s.deleteItemMemberModal=function(e,t){return n.open({templateUrl:"/view/signups/incl_dspItemMemberDeleteModal.html",controller:"deleteItemMemberModalController",resolve:{modalInfo:function(){return e},itemmember:function(){return t}}}).result},s.getsignup=function(e,t){return t=t||a,o.APISyncCallWithCaching("post","",e,"s.getSignupInfo",3e4,t)},s.gettheme=function(e){return o.APISyncCallWithCaching("post","",e,"s.getSignUpThemeByUrlId")},s.getSignupTheme=function(e){return o.APISyncCallWithCaching("post","",e,"s.getSignUpTheme")},s.gettabgroup=function(e){return o.APISyncCallWithCaching("post","",e,"s.getTabGroupDetails")},s.getSignUpParticipantsBySlotItem=function(e){return o.APISyncCall("post","",e,"s.getSignUpParticipantsBySlotItem",3e4)},s.getportalembeddata=function(a){var r=i.defer(),e=s.getEmbedPortalInfo(),t=Object.keys(e).length;return 0==t||0<t&&e.portalid!=a.portalid?o.APISyncCall("post","",a,"c.getPortalEmbedData",15e3).then(function(e){var t=o.lowerCaseKeys(e.data),n={urlkey:"",memberid:0,portalid:a.portalid,title:""};o.ajaxResultInvalid(e.data)||(n=t.data),s.setEmbedPortalInfo(n),r.resolve(n)},function(e){r.reject(e)}):r.resolve(e),r.promise},s.setFeeMessage=function(e){var t="",n=e.iswp&&angular.isDefined(e.wprate)?e.wprate:{p:0,t:0,fee_payer:"payer_from_app"},a=e.currency;return t="payer_from_app"==(e.iswp&&angular.isDefined(e.wprate.fee_payer)?e.wprate.fee_payer:"payer_from_app")&&0<l("number")(100*n.p)?"A service fee of "+l("number")(100*e.wprate.p)+"% + "+l("currency")(e.wprate.t)+" "+a+" will be added to your purchase at checkout.":t},s}]);
angular.module("SUGApp").requires.push("ui.bootstrap"),SUGApp.directive("compile",["$compile","$timeout",function(s,n){return{restrict:"A",link:function(e,t,i){n(function(){s(t.contents())(e)})}}}]).directive("socialShare",[function(){return{restrict:"EA",scope:{type:"=",destination:"=",class:"=",action:"&onClick"},replace:!0,templateUrl:"/view/templates/socialshare.html",link:function(e,t,i){},controller:function(){}}}]).directive("icsDownloadIcons",[function(){return{restrict:"EA",scope:{text:"=",type:"=",destination:"=",class:"=",height:"=",border:"=",action:"&onClick"},templateUrl:"/view/templates/icsdownloadicons.html",replace:!0,link:function(e,t,i){},controller:function(){}}}]).directive("iframeOnload",[function(){return{restrict:"EA",scope:{callBack:"&iframeOnload"},link:function(e,t,i){t.on("load",function(){e.callBack(),e.$apply()})}}}]).controller("signUpFormController",["$scope","loginfactory","SUGUtilities","$sce","$timeout","signUpFormService","$uibModal","$window","authenticationService","$filter","$location","$timeout","$filter","adService","$rootScope","$q","signupPageService","$route","globalJSService","globalService","sortableService",function(d,e,u,m,i,c,p,g,t,y,s,n,f,h,r,a,o,l,v,b,w){u.showLoading("processing"),d.loginModal=e.getLogin(!0,!1),d.initialized=!1,d.signupLoaded=!1,d.urlkey=o.getUrlKey(),d.h=(new Date).getTime(),d.user={},d.user.loggedin=!1,d.attrs={},d.signup={},d.theme={},d.asyncSuccess=!0,d.success=!0,d.errorMessages={},d.signupTitle="",d.formMainTitle="Sign Me Up",d.signupDesc="",d.datedisplay="",d.dateformat="",d.shortZone="",d.tbodyColCt=4,d.nodatesignup=!1,d.arrpaytypes=["fixed","options","noset"],d.hasPayItems=!1,d.paymentRequired=!1,d.hasPaid=!1,d.hasPaidStatus=["paid","cash","check","other"],d.paymentIsPending=!1,d.closeLock=!1,d.modifyLock=0,d.commentsRequired=!1,d.emailrequired=!1,d.qtyLimitEnabled=!1,d.socialshare=!1,d.signupQtyLimit=0,d.itemQtyLimit=0,d.customFields=[],d.cq_address=[],d.cq_phone=[],d.complete=!1,d.totalPrice=0,d.currency_symbol="$",d.currency_code="USD",d.isrsvp=!1,d.rsvpdetails={},d.rsvpheader="",d.editmode=!1,d.showsegments=!0,d.thankYouTemplate="/view/templates/signups/form/thankyou.html",d.isProcessing=!1,d.anonymous=!1,d.showreturntosulink=!1,d.rsvpitemsavailable=!1,d.editLocked=!1,d.disableState=!1,d.rItemQtyLookup={},d.winorigin=angular.isDefined(g.location.origin)?g.location.origin:g.location.protocol+"//"+g.location.host,d.hAdWidth=0,d.containerWidth=g.innerWidth,d.selectedState="",d.selectedCountry="",d.states=[],d.filteredStates=[],d.signupiswepay=!1,d.wpfeepayer="payer_from_app",d.signupislumapay=!1,d.lpfeepayer="payer_from_app",d.fbAppId="",d.backtosignupLink="",d.showTPCookie=!0,d.wpiframesrc="",d.disablesignup=!1,d.showproductimage=!1,d.usenewaddirective=!1,d.adconfig={network:"",platform:"desktop",category:"signups",section:"form",type:"",position:"",theme:"",themeid:0},d.objForm={},d.objForm.listid=0,d.objForm.owner=0,d.objForm.urlid=utility.getUrlParamValue("urlid"),d.objForm.title="",d.objForm.siid="",d.objForm.rsvpid=0,d.objForm.imid=0,d.objForm.usealternatename=!1,d.objForm.changemembermame=!1,d.objForm.displayfirstname="",d.objForm.displaylastname="",d.objForm.firstname="",d.objForm.lastname="",d.objForm.email="",d.objForm.savecontactinfo=!1,d.previewOnly="undefined"!==utility.getUrlParamValue("previewOnly")&&utility.getUrlParamValue("previewOnly"),d.pidParam="",d.invisibleRecaptcha="",d.recaptchaActive=!!d.invisibleRecaptcha.length,d.validatedData={},d.$watch("complete",function(e,t){e!==t&&!0===e&&d.showsegments&&w.triggerEvent("Order_confirmation")});function S(e){c.processSignUp(e).then(function(e){e=u.lowerCaseKeys(e);U(e.data)?(o.toggleDefaultTtl(),g.startAts(e.data.data.email),D(e.data.data)):("object"==typeof e.data.data&&"errormessages"in e.data.data?(d.errorMessages=e.data.data.errormessages,d.success=!1):A(e.data),d.isProcessing=!1,g.scrollTo(0,0))})}d.labels={submitBtn:"Sign Up Now",cancelBtn:"Cancel",deleteBtn:"Delete",breadcrumbBtn:"Back to ",signmeupfor:"Sign me up for:",contactinfo:"Contact info:",additionalinfo:"Additional info:",backtosignup:"Back to Sign Up",addtocalendar:"Add to Calendar",editmysignup:"Edit My Sign Up",editmyrsvp:"Edit My RSVP",socialshare:"Share with Friends",returntosignup:"Return to Sign Up",saveContactInfo:"Save my contact info for use on future sign ups",payLater:"Sign Up & Pay Later"},d.standardErrors={email_invalid:"You must enter a valid email address.",email_length:"Email address must not exceed 100 characters.",firstname_length:"First name must not exceed 50 charcters.",lastname_length:"Last name must not exceed 100 characters.",quantity_invalid:"The quantity must be all numeric.",savecontactinfo:"You must populate the address and/or phone information when selecting this option.",email_disallowed:"Please sign up with an individual email address."},d.errormessage="Oops! Something went wrong. We can't seem to find the sign up information you've requested. If this error persists, please <a href='/help'>contact support</a>.",d.notificationsurl=window.globalcfg.notificationsURL,b.getCountries().then(function(e){e=u.lowerCaseKeys(e);U(e.data)?d.countries=e.data:A(e)},function(e){A(e)});e=window.location.href.split("?");if(1<e.length)for(var k=e[1].split("&"),F=0,q=k.length;F<q;F++)if(k[F].toString().toLowerCase().includes("pid=")){d.pidParam="/pid/"+k[F].replace("pid=","");break}function L(){var e,t,i;if(d.useSinglePageApplication=c.useSinglePageApplication,d.backtosignupLink="/go/"+d.signup.urlid.toString().trim()+d.pidParam,d.signupTitle=m.trustAsHtml(d.signup.title.toString().trim()),d.signupDesc=m.trustAsHtml(d.signup.description.toString()),d.datedisplay=d.signup.shortdformat,d.dateformat=d.signup.shortdformat.toString().replace("mm","MM"),d.shortZone=d.signup.tzshort,d.nodatesignup=1===parseInt(d.signup.nodate),d.closeLock=0<d.signup.closelock,d.modifyLock=parseInt(d.signup.modifylockdays),d.commentsRequired=1===parseInt(d.signup.commentrequired),d.emailRequired=1===parseInt(d.signup.emailrequired),d.signupQtyLimit=d.signup.qtylimit_signup,d.itemQtyLimit=d.signup.qtylimit_slotitems,d.qtyLimitEnabled=0<d.signupQtyLimit||0<d.itemQtyLimit,d.isrsvp=1===parseInt(d.signup.usersvp),d.socialshare=1===parseInt(d.signup.socialshare),d.showsegments=d.signup.showsegments,d.listid=d.signup.id,d.signupowner=d.signup.owner,d.signupcontact=d.signup.contactname,d.signupiswepay=d.signup.iswp,d.wpfeepayer=d.signupiswepay&&j(d.signup.wprate.fee_payer)?d.signup.wprate.fee_payer:d.wpfeepayer,d.wprate=d.signupiswepay&&j(d.signup.wprate)?d.signup.wprate:{p:0,r:0},d.signupislumapay=d.signup.islp,d.lpfeepayer=d.signupislumapay&&j(d.signup.lprate.fee_payer)?d.signup.lprate.fee_payer:d.lpfeepayer,d.lprate=d.signupislumapay&&j(d.signup.lprate)?d.signup.lprate:{p:0,r:0},j(d.signup.currency)&&(d.currency_code=d.signup.currency),""===d.signupcontact.toString().trim()&&(d.signupcontact=" the sign up creator "),d.linktowebsite="",d.linktowebsitebtn="",d.signup.linktowebsite.toString().length&&2===(e=d.signup.linktowebsite.split("|")).length&&(d.linktowebsite=e[1],d.linktowebsitebtn=e[0],d.backtosignupLink=e[1],d.labels.backtosignup=e[0],d.showreturntosulink=!0,d.returntosulink="/go/"+d.signup.urlid),d.signupiswepay&&(d.wepayOutage={},e="wepayOutage",c.getMerchantOutage({feature:e}).then(function(e){(e=u.lowerCaseKeys(e.data)).success?d.wepayOutage=e.data:u.showAlert(e.message[0])})),d.showsegments&&(d.hAdWidth=190,d.containerWidth=g.innerWidth,1199<d.containerWidth&&(d.hAdWidth=330),d.thankYouTemplate="/view/templates/signups/form/altthankyou.html"),d.isrsvp){if(d.formMainTitle="My RSVP",d.labels.submitBtn="RSVP Now",j(d.attrs.rsvpid)&&""!==d.attrs.rsvpid&&(d.editmode=!0,d.labels.submitBtn="Update My RSVP"),d.objForm.rsvpresponse="",d.objForm.rsvpadult=0,d.objForm.rsvpchildren=0,d.objForm.rsvpitems=[],d.objForm.rsvpcomments="",0<d.objForm.rsvpid&&j(d.signup.rsvp)&&(d.objForm.rsvpresponse=d.signup.rsvp.rsvp.toString().toLowerCase(),d.objForm.rsvpadult=angular.isNumber(d.signup.rsvp.rsvpcount)?parseInt(d.signup.rsvp.rsvpcount):0,d.objForm.rsvpchildren=angular.isNumber(d.signup.rsvp.rsvpchildcount)?parseInt(d.signup.rsvp.rsvpchildcount):0,d.objForm.rsvpcomments=d.signup.rsvp.comment,d.editmode&&d.user.loggedin&&(""===d.signup.rsvp.displayfirstname||d.user.firstname.toString().trim()==d.signup.rsvp.displayfirstname.toString().trim()&&d.user.lastname.toString().trim()==d.signup.rsvp.displaylastname.toString().trim()||(d.objForm.usealternatename=!0,d.objForm.displayfirstname=d.signup.rsvp.displayfirstname,d.objForm.displaylastname=d.signup.rsvp.displaylastname)),d.editmode)&&!d.user.loggedin&&d.anonymous&&(d.objForm.displayfirstname=d.signup.rsvp.displayfirstname,d.objForm.displaylastname=d.signup.rsvp.displaylastname,d.objForm.firstname=d.signup.rsvp.displayfirstname,d.objForm.lastname=d.signup.rsvp.displaylastname,d.objForm.email=d.signup.rsvp.email),j(d.signup.rsvpdetails)){if(d.rsvpdetails=d.signup.rsvpdetails,d.rsvpdetails.usetime=1===parseInt(d.rsvpdetails.usetime),d.rsvpdetails.dtstarttime="",d.rsvpdetails.dtendtime="",d.rsvpheader="Will you be attending on",""!==d.rsvpdetails.starttime)try{d.rsvpdetails.dtstarttime=new Date(d.rsvpdetails.starttime),d.rsvpdetails.dtstarttime=Date.parse(d.rsvpdetails.dtstarttime),d.rsvpheader+=" "+y("date")(d.rsvpdetails.dtstarttime,"EEE")+"., "+y("date")(d.rsvpdetails.dtstarttime,d.dateformat),d.rsvpdetails.usetime&&(t=""===d.rsvpdetails.endtime?" at ":" from ",d.rsvpheader+=t+y("date")(d.rsvpdetails.dtstarttime,"h:mma").toLowerCase())}catch(e){}if(""!==d.rsvpdetails.endtime)try{d.rsvpdetails.dtendtime=new Date(d.rsvpdetails.endtime),d.rsvpdetails.dtendtime=Date.parse(d.rsvpdetails.dtendtime),d.rsvpdetails.usetime&&(d.rsvpheader+=" - "+y("date")(d.rsvpdetails.dtendtime,"h:mma").toLowerCase())}catch(e){}d.editmode&&(t=new Date,""!==d.signup.closedateutc)&&0<d.closeLock&&(i=new Date(d.signup.closedateutc),d.editLocked=i<t),d.rsvpheader=d.rsvpheader.trim(),d.rsvpdetails.usetime&&(d.rsvpheader+=" "+d.shortZone+"?"),d.items=j(d.signup.rsvpdetails.rsvpitems)&&angular.isArray(d.signup.rsvpdetails.rsvpitems)?d.signup.rsvpdetails.rsvpitems:[],I(),d.items.length&&(angular.forEach(d.items,function(e,t){d.qtyLimitEnabled&&0<d.itemQtyLimit?d.rItemQtyLookup[e.slotitemid]=d.itemQtyLimit<e.availableqty?d.itemQtyLimit:e.availableqty:d.rItemQtyLookup[e.slotitemid]=e.availableqty,0<d.rItemQtyLookup[e.slotitemid]&&(d.rsvpitemsavailable=!0)}),0!==d.objForm.rsvpid&&(j(d.signup.rsvpdetails.memberitems)&&angular.isArray(d.signup.rsvpdetails.memberitems)&&angular.forEach(d.signup.rsvpdetails.memberitems,function(e,t){var i=parseInt(e.myqty)+d.rItemQtyLookup[e.slotitemid],s={slotError:"",qtyError:"",commentError:!1};s.items=[O(e.slotitemid)],s.item=T(e.slotitemid),s.itemmemberid=e.itemmemberid,s.slotitemid=e.slotitemid,s.itemid=R(e.slotitemid),s.mycomment=e.mycomment,s.myqty=e.myqty,s.deleted=!1,s.availableqty=d.qtyLimitEnabled&&0<d.itemQtyLimit&&i>d.itemQtyLimit?d.itemQtyLimit:i,s.qty=Q(e.slotitemid),d.objForm.rsvpitems.push(s)}),d.objForm.rsvpitems.length)?d.rsvpitemsavailable=!0:d.rsvpitemsavailable&&d.addMoreRSVPItem())}}else j(d.attrs.imid)&&""!==d.attrs.imid&&(d.editmode=!0,d.labels.submitBtn="Update My Sign Up",d.labels.payLater="Update & Pay Later");d.objForm.listid=d.signup.id,d.objForm.owner=d.signup.owner,d.objForm.urlid=d.signup.urlid,d.objForm.title=d.signup.title,d.signup.hascustomfields&&j(d.signup.customfields)&&angular.isArray(d.signup.customfields)&&Y()}function C(e,t,i){var s=document.createElement("input");return s.type=e,s.name=t,s.value=i,s}c.getUserInfo().then(function(e){e=u.lowerCaseKeys(e);if(U(e.data))return d.user=e.data.data,d.user.loggedin=angular.isDefined(d.user.memberid)&&0<parseInt(d.user.memberid),b.checkNewAdDirective({fuse:"s.ProcessSignup"});d.asyncSuccess=!1,A(e.data)}).then(function(e){var t,i,e=u.lowerCaseKeys(e),e=(U(e.data)&&(d.usenewaddirective=e.data.data,d.usenewaddirective)&&(d.adconfig.themeid=d.signup.themeid,e=void 0!==r.adnetworkdatafile&&void 0!==r.adnetworkdatafile.networks?r.adnetworkdatafile.networks:{},d.adconfig.network=h.getAdNetwork(d.adconfig,e)),{});return d.previewOnly?(e.success=!0,e.message=[],e.data={},e.data.listid="undefined"!==utility.getUrlParamValue("listid")?utility.getUrlParamValue("listid"):0,e.data.siid="undefined"!==utility.getUrlParamValue("siid")?utility.getUrlParamValue("siid"):0,(t={}).data=e,(i=a.defer()).resolve(t),i.promise):(e.urlid=d.objForm.urlid,c.getSignUpFormAttrs(e))}).then(function(e){if(d.asyncSuccess){e=u.lowerCaseKeys(e);if(U(e.data)){d.attrs=e.data.data,d.objForm.siid=j(d.attrs.siid)&&""!==d.attrs.siid?d.attrs.siid.toString().split(","):j(d.attrs.siids)&&""!==d.attrs.siids?d.attrs.siids.toString().split(","):[];var t={includeAdvanceDetails:!0};if(d.previewOnly?(t.previewOnly=!0,t.listid=d.attrs.listid,t.urlid=""):t.urlid=d.attrs.urlid,j(d.attrs.rsvpid)&&""!==d.attrs.rsvpid&&(t.rsvpid=d.attrs.rsvpid,d.objForm.rsvpid=t.rsvpid,j(d.attrs.token)&&""!==d.attrs.token?d.anonymous=!0:d.user.loggedin||(d.asyncSuccess=!1)),j(d.attrs.imid)&&""!==d.attrs.imid&&(t.imid=d.attrs.imid,d.objForm.imid=t.imid,j(d.attrs.token)&&""!==d.attrs.token?d.anonymous=!0:d.user.loggedin||(d.asyncSuccess=!1)),d.asyncSuccess)return o.getsignup(t);u.showMagnificAlert('Your session has expired. <a href="/index.cfm?go=c.login">Login</a> again to edit your sign up.')}else d.asyncSuccess=!1,A(e.data)}}).then(function(e){if(d.asyncSuccess){var t,e=u.lowerCaseKeys(e);if(U(e.data))if(d.signup=e.data.data,angular.isDefined(d.signup.id)&&0!==parseInt(d.signup.id)){if(d.signup.signupprotection&&b.getInvisibleReCaptcha(d.signup.owner).then(function(e){e=u.lowerCaseKeys(e);u.ajaxResultInvalid(e)||(d.invisibleRecaptcha=m.trustAsHtml(e.data.data.snippet),d.recaptchaActive=!!e.data.data.snippet.length)}),L(),d.objForm.siid.length||d.isrsvp)return d.signupLoaded=!0,(t={}).themeID=d.signup.themeid,t.listid=d.signup.id,t.returnType="class",o.getSignupTheme(t);d.asyncSuccess=!1,d.noSlotSelected()}else d.asyncSuccess=!1,u.showMagnificAlert("The sign up is no longer available.");else d.asyncSuccess=!1,A(e.data)}}).then(function(e){if(d.asyncSuccess){var t,e=u.lowerCaseKeys(e);if(U(e.data)){if(d.theme=e.data.data,d.createSignUpStyle(),1!==parseInt(d.signup.usersvp))return(t={}).listid=d.signup.id,t.siid=d.objForm.siid,t.hasProductImages=void 0!==d.signup.productimages&&d.signup.productimages,j(d.attrs.imid)&&""!==d.attrs.imid&&(t.imid=d.attrs.imid,d.objForm.imid=t.imid),c.getSignUpFormItems(t)}else d.asyncSuccess=!1,A(e.data)}}).then(function(e){d.asyncSuccess&&void 0!==e&&(e=u.lowerCaseKeys(e),U(e.data)?(d.items=angular.isArray(e.data.data)?e.data.data:[],I(),d.signupiswepay&&d.hasPayItems?0<=navigator.userAgent.indexOf("MSIE 7")||0<=navigator.userAgent.indexOf("MSIE 8")||0<=navigator.userAgent.indexOf("MSIE 9")?(d.errormessage='Your browser is not currently supported. The minimum version of Internet Explorer we support is version 10. Alternately, you can use other browsers like <a href="https://www.google.com/chrome/browser/" target="_blank">Chrome</a> or <a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank" class="smalllink">FireFox</a>.',d.asyncSuccess=!1,d.signupLoaded=!1):navigator.cookieEnabled||(d.errormessage="Oops! Looks like your browser's cookies are turned off. Our application requires that the cookie functionality must be turned on.",d.asyncSuccess=!1,d.signupLoaded=!1):d.signupislumapay&&d.hasPayItems&&0<=navigator.userAgent.indexOf("MSIE ")&&(d.errormessage='Your browser is not currently supported. LumaPay payments are not supported in Internet Explorer. You can use other browsers like <a href="https://www.google.com/chrome/browser/" target="_blank">Chrome</a> or <a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank" class="smalllink">FireFox</a>.',d.asyncSuccess=!1,d.signupLoaded=!1)):(d.asyncSuccess=!1,A(e.data)))}).then(function(e){d.asyncSuccess?void 0!==e?(e=u.lowerCaseKeys(e),U(e.data)&&setWePayCookie(e.data.data)):(!d.user.loggedin&&d.signup.accountrequired&&d.login(!0),d.initialized=!0,x()):(d.initialized=!0,x()),g.scrollTo(0,0)}),d.$watch("objForm.rsvpresponse",function(e,t){d.labels.signmeupfor="n"===e?"I am not attending the event, but sign me up for:":"Sign me up for:"}),d.noSlotSelected=function(){p.open({templateUrl:"/view/templates/signups/form/alert.html",controller:"alertController",resolve:{message:function(){return"You must select one or more slots to sign up for."},messagetitle:function(){return"Invalid Request"}}}).result.then(function(){g.location.href=d.winorigin+"/go/"+d.attrs.urlid},function(){g.location.href=d.winorigin+"/go/"+d.attrs.urlid})},d.signup_Template=function(){var e=d.isrsvp?"signupformrsvp":"signupformstandard";return"/view/templates/signups/form/"+E(e)+".html"},d.createSignUpStyle=function(){var e=angular.element(document.querySelector("#styleContainer")),t=angular.element('<style type="text/css">'+d.theme+"</style>");e.append(t)},d.getQtyArray=function(e,t){var i=0,s=[],n=j(t)?0:1;for(angular.isNumber(e)?i=e:(i=e.availableqty,0<e.itemmemberid&&0<e.myqty&&(i=e.myqty+e.availableqty),d.qtyLimitEnabled&&0<d.itemQtyLimit&&(i=d.itemQtyLimit<i?d.itemQtyLimit:i));n<=i;n++)s.push(n);return s},d.calculateLinePrice=function(){d.totalPrice=0,d.servicefee=0;for(var a=/^\d+$/,e=!1,o=[],t=0;t<d.items.length;t++)if(d.items[t].discountisavailable&&"Q"==d.items[t].discounttype){e=!0;break}e&&(o=N(d.items)),angular.forEach(d.items,function(t,e){var i,s,n,r;delete d.errorMessages["itemqtylimit_"+t.id],delete d.errorMessages["priceminimum_"+t.id],t.priceError=!1,t.qtyError=!1,!j(t.myqty)||""===t.myqty||t.myqty<0?(t.qtyError=!0,d.errorMessage["itemqtylimit_"+t.id]="Quantity must be between 1 and 999999."):0<=d.arrpaytypes.indexOf(t.paymenttype)&&(n=j(t.minimumamount)?P(t.minimumamount).toFixed(2):0,r=j(t.price)&&""!==t.price?P(t.price):0,null===t.price.toString().replace("$","").replace(".","").match(a)||"number"==typeof r&&isNaN(r)?(d.errorMessages["priceminimum_"+t.id]="Invalid amount. Value must be numeric.",t.priceError=!0):("options"===t.paymenttype?(t.price=angular.isObject(t.paymentOptionSelected)&&j(t.paymentOptionSelected.value)?P(t.paymentOptionSelected.value):0,r=j(t.price)&&""!==t.price?P(t.price):0):t.paymenttype,r<n?(d.errorMessages["priceminimum_"+t.id]="A minimum amount of "+d.currency_symbol+n+" is required.",t.priceError=!0):t.discountisavailable?("Q"==t.discounttype&&(i=0,o.forEach(function(e){e.itemid==t.itemid&&(i=e.myqty)}),i>=t.discountcriteria?t.paymentAmount=parseInt(t.myqty)*t.discountprice:t.paymentAmount=parseInt(t.myqty)*r,d.totalPrice+=t.paymentAmount),"D"==t.discounttype&&(n=new Date,s=t.discountcriteria.replace(/[{d' }]/g,"").split(/[- :]/),"number"==typeof(s=new Date(s[0],s[1]-1,s[2],"23","59","59")).getTime())&&!isNaN(s.getTime())&&n<=s&&(t.paymentAmount=parseInt(t.myqty)*t.discountprice,d.totalPrice+=t.paymentAmount)):(t.paymentAmount=parseInt(t.myqty)*r,d.totalPrice+=t.paymentAmount)))}),d.signupiswepay&&0<d.wprate.p&&0<d.totalPrice&&("payer_from_app"==d.wpfeepayer&&(d.servicefee=d.wprate.t+d.totalPrice*d.wprate.p),d.totalPrice+=d.servicefee),d.signupislumapay&&0<d.lprate.p&&0<d.totalPrice&&("payer_from_app"==d.lpfeepayer&&(d.servicefee=d.lprate.t+d.totalPrice*d.lprate.p),d.totalPrice+=d.servicefee)},d.setPriceTwoDecimals=function(){angular.forEach(d.items,function(e,t){e.priceError||e.qtyError||(e.price=P(e.price).toFixed(2),e.minimumamount=P(e.minimumamount).toFixed(2))})},d.errorExists=function(e){return e in d.errorMessages},d.getError=function(e){return e in d.errorMessages?d.errorMessages[e]:""},d.logout=function(){d.previewOnly||(d.asyncSuccess=!0,t.logoutUser().then(function(e){e=u.lowerCaseKeys(e);U(e.data)?(d.user={},d.useSinglePageApplication&&(o.setMemberInfo({}),c.cachedMemberinfo={}),d.user.loggedin=!1,j(d.attrs.thismemberid)&&delete d.attrs.thismemberid,j(d.attrs.mid)&&delete d.attrs.mid,d.isrsvp&&(j(d.attrs.rsvpid)&&""!==d.attrs.rsvpid&&delete d.attrs.rsvpid,j(d.objForm.rsvpid)&&0<d.objForm.rsvpid&&(d.objForm.rsvpid=0),j(d.objForm.rsvpitems))&&angular.isArray(d.objForm.rsvpitems)&&angular.forEach(d.objForm.rsvpitems,function(e,t){j(e.itemmemberid)&&0<e.itemmemberid&&(e.itemmemberid=0)}),M()):(d.asyncSuccess=!1,A(e.data))}).finally(()=>{window.sugTagManager.reset()}))},d.login=function(e){var t;void 0!==d.signupinfo&&0!=d.signupinfo.removebranding||(t=void 0!==e&&e,p.open({templateUrl:"/view/templates/main/login.html",controller:"authenticationController",resolve:{loginRequired:function(){return t},loginMessage:function(){return"For added security, the sign up creator requires you to have an account at SignUpGenius to sign up. Login or register below to continue."},register:function(){return!d.user.loggedin&&d.signup.accountrequired},registerDisabled:function(){return!1}}}).result.then(function(e){j(e.status)&&"loggedin"===e.status&&j(e.data)&&j(e.data.memberid)&&0<parseInt(e.data.memberid)&&(d.user=e.data,d.useSinglePageApplication&&(o.setMemberInfo(d.user),c.cachedMemberinfo=d.user),d.user.loggedin=!0,M())}))},d.register=function(){p.open({templateUrl:"/view/templates/main/login.html",controller:"authenticationController",resolve:{loginRequired:function(){return!1},loginMessage:function(){return""},register:function(){return!0},registerDisabled:function(){return!1}}}).result.then(function(e){j(e.status)&&"loggedin"===e.status&&j(e.data)&&j(e.data.memberid)&&0<parseInt(e.data.memberid)&&(d.user=e.data,d.useSinglePageApplication&&(o.setMemberInfo(d.user),c.cachedMemberinfo=d.user),d.user.loggedin=!0,M())})},d.selectHandler=function(e){e.myvalue;var i,s=0;"state"===E(e.fieldname)?(i=e.myvalue,s=0,d.selectedState=e.myvalue,angular.forEach(e.fieldvalues,function(e,t){i==e.optionval&&(s=e.countryid)}),void 0!==s&&0<s&&angular.forEach(d.cq_address,function(e,t){"country"===e.fieldname.toString().toLowerCase()&&(e.myvalue=s)})):"country"===E(e.fieldname)&&(s=e.myvalue,d.selectedCountry=s,d.filterStates(),37==s||223==s?(d.disableState=!1,angular.forEach(d.cq_address,function(e,t){"state"===e.fieldname.toString().toLowerCase()&&""!==e.myvalue&&("NA"==e.myvalue?e.myvalue="":37==s?d.canadianStates.indexOf(e.myvalue)<0&&(e.myvalue=""):223==s&&d.usStates.indexOf(e.myvalue)<0&&(e.myvalue=""))})):(d.disableState=!0,angular.forEach(d.cq_address,function(e,t){"state"===e.fieldname.toString().toLowerCase()&&(e.myvalue="NA")}))),x()},d.filterStates=function(){d.filteredStates=[],37==d.selectedCountry||223==d.selectedCountry?angular.forEach(d.states,function(e,t){""===e.optionval?d.filteredStates.unshift(e):"NA"===e.optionval?d.filteredStates.splice(1,0,e):e.countryid==d.selectedCountry&&d.filteredStates.push(e)}):angular.copy(d.states,d.filteredStates)},d.cq_label=function(e){var t=e;switch(E(t)){case"address1":t="Address 1";break;case"address2":t="Address 2";break;case"phonetype":t="Phone Type";break;case"zipcode":t="Postal Code";break;case"state":t="State/Province"}return t},d.showHorizontal=function(e){return 0<=["address1","address2","city","state","zipcode","country","phone","phonetype"].indexOf(E(e))},d.cq_Template=function(e){return"address1"===e.toLowerCase()||"address2"===e.toLowerCase()||"city"===e.toLowerCase()||"zipcode"===e.toLowerCase()?e="Text":"country"!==e.toLowerCase()&&"state"!==e.toLowerCase()||(e="Select"),"/view/templates/signups/form/cq_"+E(e)+".html"},d.getMaxVal=function(e){return 0===parseInt(e)?"":e},d.ProcessSignUp=function(e){var t,i;d.previewOnly||(d.errorMessages={},d.success=!0,d.isProcessing=!0,!d.user.loggedin&&d.signup.accountrequired?(d.login(!0),d.isProcessing=!1):(V(),d.success?d.signup.hascustomfields&&(W(),!d.success)?(d.isProcessing=!1,g.scrollTo(0,0)):(i={},(i=d.objForm).type=d.isrsvp?"rsvp":"standard",i.source="main",d.isrsvp||(i.items=d.items),d.isrsvp&&(i.slotid=d.rsvpdetails.slotid,"n"===i.rsvpresponse.toString().toLowerCase())&&(d.objForm.rsvpadult=0,d.objForm.rsvpchildren=0,i.rsvpadult=0,i.rsvpchildren=0),i.member=d.user,i.isLoggedin=!1,d.user.loggedin&&(i.isLoggedin=!0,i.firstname=d.user.firstname,i.lastname=d.user.lastname,d.objForm.usealternatename)?(d.objForm.displayfirstname.toString().length||(i.displayfirstname=d.user.firstname),d.objForm.displaylastname.toString().length||(i.displaylastname=d.user.lastname)):(i.displayfirstname=d.objForm.firstname,i.displaylastname=d.objForm.lastname),d.signup.hascustomfields&&(i.customFields=[],d.customFields.length&&(i.customFields=i.customFields.concat(d.customFields)),d.cq_address.length&&(i.customFields=i.customFields.concat(d.cq_address)),d.cq_phone.length)&&(t=[],angular.copy(d.cq_phone,t),angular.forEach(t,function(e,t){e.fieldtype=e.fieldname}),i.customFields=i.customFields.concat(t)),i.payLater=!1,d.hasPayItems&&!d.paymentRequired&&void 0!==e&&(i.payLater=!0),d.validatedData=i,d.executeRecaptcha()):(d.recaptchaActive&&g.grecaptcha.reset(),d.isProcessing=!1,g.scrollTo(0,0))))},d.executeRecaptcha=function(e){d.recaptchaActive?g.grecaptcha.execute():S(d.validatedData)},g.invokeCallback=function(e){b.validateInvisibleReCaptcha(e).then(function(e){e=u.lowerCaseKeys(e);!u.ajaxResultInvalid(e)&&e.data.data?S(d.validatedData):u.showMagnificAlert("Invalid captcha response.")})},d.cancel=function(){d.previewOnly||c.cancelForm().then(function(e){d.useSinglePageApplication?s.path("/"):g.location.href=d.signup.fullurl+d.pidParam})},d.updateSelectedItem=function(i){var s="";angular.forEach(d.items,function(e,t){e.slotitemid==i.slotitemid&&(i.item=e.item,i.availableqty=d.rItemQtyLookup[i.slotitemid],i.qty=e.qty,1===i.availableqty)&&(i.myqty=1)}),angular.forEach(d.objForm.rsvpitems,function(e,t){e.deleted&&i.slotitemid===e.slotitemid&&0<e.itemmemberid&&0===i.itemmemberid&&(s=t,i.itemmemberid=e.itemmemberid)}),""!==s&&0<=s&&d.objForm.rsvpitems.splice(s,1),x()},d.getPaymentOptionLabel=function(e){return e.label+" - "+d.currency_symbol+P(e.value)},d.addMoreRSVPItem=function(){var e,i=!0,s=[];angular.forEach(d.objForm.rsvpitems,function(e,t){e.deleted||(e.slotitemid,!0),0===e.slotitemid&&(i=!1)}),i&&(angular.forEach(d.items,function(e,t){0<e.availableqty&&s.push(e)}),s.length?((e={}).items=s,e.item="",e.itemmemberid=0,e.slotitemid=0,e.itemid=0,e.mycomment="",e.myqty=0,e.deleted=!1,e.availableqty=0,e.qty=0,e.slotError="",e.qtyError="",e.commentError=!1,d.objForm.rsvpitems.push(e)):(e=""!==d.signup.slottitle.toString().trim()?d.signup.slottitle.toString().trim():"Available slots",u.showMagnificAlert(e+" filled."))),x()},d.removeRSVPItem=function(e){var i=!1,e=d.objForm.rsvpitems.indexOf(e);0<=e&&(0<d.objForm.rsvpitems[e].itemmemberid?d.objForm.rsvpitems[e].deleted=!0:d.objForm.rsvpitems.splice(e,1)),angular.forEach(d.objForm.rsvpitems,function(e,t){e.deleted||(i=!0)}),i||d.addMoreRSVPItem()},d.rsvpMe=function(e){"n"!==(d.objForm.rsvpresponse=e)&&n(function(){angular.element(".rsvpnumadult").selectpicker("refresh"),angular.element(".rsvpnumchild").selectpicker("refresh")},0)},d.share=function(e){var t=j(d.signup.fullurl)&&""!==d.signup.fullurl?d.signup.fullurl:encodeURIComponent(d.winorigin+"/go/"+d.attrs.urlid),i=""!==d.signup.signupimage?encodeURIComponent(d.signup.signupimage):encodeURIComponent(d.winorigin+"/images/theme/"+d.signup.themeid+"-large.jpg"),s="",n="",r=0,a=0,o=encodeURIComponent("I just signed up on the "+d.signup.title.toString().trim()+" page - ");"fb"===e?(n="width=640,height=400",r=g.top.outerHeight/2+g.top.screenY-200,a=g.top.outerWidth/2+g.top.screenX-320,s="http://www.facebook.com/sharer/sharer.php?u="+t+"&src=sp"):"pinterest"===e?(n="width=740,height=700",r=g.top.outerHeight/2+g.top.screenY-350,a=g.top.outerWidth/2+g.top.screenX-370,s="http://pinterest.com/pin/create/button/?url="+t+"&media="+i+"&description="+o+"%20"+t):"twitter"===e&&(n="width=640,height=320",r=g.top.outerHeight/2+g.top.screenY-160,a=g.top.outerWidth/2+g.top.screenX-320,s="https://twitter.com/share?text="+o+"&url="+t),g.open(s,"_blank",n+=",top="+r+",left="+a)},d.getICS=function(e){var t="";d.isrsvp||"ical"===e?t=e in d.calLinks?d.calLinks[e]:"":1===d.myitems.length?t=d.myitems[0].callink||"":p.open({templateUrl:"/view/templates/signups/form/multicalendardownload.html",controller:"multicalendarController",resolve:{items:function(){return d.myitems},icsCal:function(){return j(d.calLinks.ical)?d.calLinks.ical:""}}}).result.then(function(e){}),t.length&&g.open(t)},d.getContactInfoValue=function(e){var t=d.user.membercontact||{address1:"",address2:"",city:"",state:"",zipcode:"",country:"",phonetype:"",phone:""},e=e.toString().toLowerCase();return j(t[e])?t[e]:""},d.deleteSignUp=function(){if(!d.previewOnly){var e="/index.cfm?go=s.DeletePerson&id="+d.signup.id;if(d.anonymous)e+="&token="+d.attrs.token;else{if(!(d.user.loggedin&&0<d.objForm.imid))return;e+="&imid="+d.objForm.imid+"&mid="+d.user.memberid}g.location.href=e}},d.goBackTo=function(){var e;d.previewOnly||(d.showreturntosulink?(e=-1==d.backtosignupLink.indexOf("http")?"http://"+d.backtosignupLink:d.backtosignupLink,p.open({templateUrl:"/view/templates/signups/form/backtowebsiteconfirm.html",controller:"backToWebsiteController",resolve:{redirect:function(){return e}}}).result.then(function(){g.location.href=e})):d.useSinglePageApplication?s.path("/"):g.location.href=d.winorigin+d.backtosignupLink,d.showsegments&&"undefined"!=typeof deployads&&setTimeout(function(){deployads.push()},500))},d.canDelete=function(){return!d.isrsvp&&(d.anonymous?!d.hasPayItems||d.hasPayItems&&!d.hasPaid:d.hasPayItems&&d.paymentIsPending&&!d.hasPaid)};var P=function(e){return void 0!==e&&""!==e?parseFloat(parseFloat(e.toString().replace(",","")).toFixed(2)):0},E=function(e){return e.toString().toLowerCase().trim()},j=function(e){return angular.isDefined(e)},D=function(r){function a(e){if(j(e)&&!j(r.extendedattributes)&&(r.extendedattributes=e),d.complete=!0,d.containerWidth=g.innerWidth,1199<d.containerWidth&&(d.hAdWidth=330),d.isProcessing=!1,d.complete=!0,d.name=""!==d.objForm.displayfirstname?d.objForm.displayfirstname:d.objForm.firstname,d.memberid=j(r.memberid)?r.memberid:0,d.confirmationsent=0<d.memberid,d.showCalendar=0<d.memberid&&!d.nodatesignup,d.calLinks=j(r.icals)?r.icals:{},d.slotids="",d.listid=d.signup.id,d.signupowner=d.signup.owner,d.signupcontact=d.signup.contactname,d.isfullmember=j(r.fullmember)?r.fullmember:!!d.user.loggedin,d.ty={response:"You're all singed up for "},j(r.retargetingscripts)&&""!==r.retargetingscripts&&(document.getElementById("retargeting").innerHTML="",document.getElementById("retargeting").innerHTML=r.retargetingscripts),d.isrsvp){d.attending=!1,d.showrsvpguests=!1,d.guestString="",d.slotids=r.slotid;var t,e=E(d.objForm.rsvpresponse);if("y"===e?d.ty.response="You have responded 'Yes' to ":"n"===e?d.ty.response="You have responded 'No' to ":"m"===e&&(d.ty.response="You have responded 'Maybe' to "),"m"!==e&&"y"!==e||(d.attending=!0,d.showrsvpguests=!0,1==d.signup.childrsvp?(e=1<parseInt(d.objForm.rsvpadult)?"Adults":"Adult",d.guestString+="("+d.objForm.rsvpadult+") "+e+", ("+d.objForm.rsvpchildren+") Children"):d.guestString+="("+d.objForm.rsvpadult+")"),d.editrsvplink="/index.cfm?go=s.PreProcessSignup&urlid="+d.signup.urlid+"&RSVPid="+r.rsvpid+"&ref="+d.h,d.anonymous&&(d.editrsvplink+="&token="+d.attrs.token),d.rsvpitems=j(r.rsvpitems)&&angular.isArray(r.rsvpitems)?r.rsvpitems:[],d.haslocation=j(d.rsvpdetails.location)&&""!==d.rsvpdetails.location,d.rsvplocation=d.haslocation?d.rsvpdetails.location.toString().trim():"",(d.rsvpdatetime="")!==d.rsvpdetails.starttime)try{d.rsvpdetails.dtstarttime=new Date(d.rsvpdetails.starttime),d.rsvpdetails.dtstarttime=Date.parse(d.rsvpdetails.dtstarttime),d.rsvpdatetime+=" "+y("date")(d.rsvpdetails.dtstarttime,"EEE")+"., "+y("date")(d.rsvpdetails.dtstarttime,d.dateformat),d.rsvpdetails.usetime&&(t=""===d.rsvpdetails.endtime?" at ":" from ",d.rsvpdatetime+=t+y("date")(d.rsvpdetails.dtstarttime,"h:mma").toLowerCase())}catch(e){}if(""!==d.rsvpdetails.endtime)try{d.rsvpdetails.dtendtime=new Date(d.rsvpdetails.endtime),d.rsvpdetails.dtendtime=Date.parse(d.rsvpdetails.dtendtime),d.rsvpdetails.usetime&&(d.rsvpdatetime+=" - "+y("date")(d.rsvpdetails.dtendtime,"h:mma").toLowerCase())}catch(e){}d.rsvpdatetime=d.rsvpdatetime.trim(),d.rsvpdetails.usetime&&(d.rsvpdatetime+=" "+d.shortZone)}else{var i,s=j(d.calLinks.google)?d.calLinks.google:{},n={};for(i in d.slotids=[],r.items)d.slotids.push(r.items[i].slotid);d.slotids=d.slotids.toString(),d.myitems=[],angular.forEach(r.items,function(e,t){(n={}).item=e.item,n.itemhelp=e.itemcomment,n.myqty=e.myqty,n.mycomment=e.mycomment,n.slotid=e.slotid,n.slotitemid=e.slotitemid,n.itemmemberid=e.itemmemberid,n.location=e.location,n.slotdatestring="";try{n.slotdatestring=y("date")(e.dtstarttime,"EEE")+"., "+y("date")(e.dtstarttime,d.dateformat),1===e.usetime&&(n.slotdatestring+=" "+y("date")(e.dtstarttime,"h:mma").toLowerCase())}catch(e){}if(1===e.usetime&&""!==e.dtendtime&&e.dtendtime!==e.dtstarttime)try{n.slotdatestring+=" - "+y("date")(e.dtendtime,"h:mma").toLowerCase()}catch(e){}""!==n.slotdatestring&&1===e.usetime&&(n.slotdatestring+=" "+d.shortZone),n.slotdatestring=n.slotdatestring.trim(),n.callink=e.slotid in s?s[e.slotid]:"",d.myitems.push(n)}),1==d.myitems.length&&(d.editsignuplink="/index.cfm?go=s.PreProcessSignup&urlid="+d.signup.urlid+"&siid="+d.myitems[0].slotitemid+"&imid="+d.myitems[0].itemmemberid+"&ref="+d.h,d.anonymous)&&(d.editsignuplink+="&token="+d.attrs.token)}r.extendedattributes&&r.extendedattributes.email&&(h.initRoktSnippet(r.extendedattributes),h.initAdsPostXSnippet(r.extendedattributes),d.hideBannerAdsForRokt=!0),d.showsegments&&"undefined"!=typeof deployads&&setTimeout(function(){deployads.push()},500),g.scrollTo(0,0)}function t(){var e,i,t;d.editmode||(d.complete=!1,e=(j(r.items)?r:d).items,i={},t={},void 0!==r.wepay?(t=r.wepay,i.signuppaymentid=t.signuppaymentid):void 0!==r.lumapay&&(t=r.lumapay,i.signuppaymentid=t.signuppaymentid),i.listid=j(r.listid)?r.listid:d.signup.id,i.imid=[],angular.forEach(e,function(e,t){j(e.itemmemberid)&&i.imid.push(e.itemmemberid)}),c.removeSignupTransaction(i).then(function(e){e=u.lowerCaseKeys(e);U(e.data)||A(e.data)}))}var e,s,i,n,o,l,m;d.completeWePaySignUp=function(t,e,i){var s=(j(r.items)?r:d).items,n={};n.signuppaymentid=e.signuppaymentid,n.listid=j(r.listid)?r.listid:d.signup.id,n.imid=[],angular.forEach(s,function(e,t){j(e.itemmemberid)&&n.imid.push(e.itemmemberid)}),c.completeSignupTransaction(n).then(function(e){e=u.lowerCaseKeys(e);U(e.data)?(t.close({success:!0}),a(i)):(t.close({success:!1}),A(e.data))})},d.completeLumaPaySignUp=function(t,e,i){var s=(j(r.items)?r:d).items,n={};n.signuppaymentid=e.signuppaymentid,n.listid=j(r.listid)?r.listid:d.signup.id,n.imid=[],angular.forEach(s,function(e,t){j(e.itemmemberid)&&n.imid.push(e.itemmemberid)}),c.completeSignupTransaction(n).then(function(e){e=u.lowerCaseKeys(e);U(e.data)?(t.close({success:!0}),a(i)):(t.close({success:!1}),A(e.data))}).catch(function(e){t.close({success:!1}),A(e),console.err(e)})},d.completeWePayPayment=function(e,i){var t={};t.iFrameConfig=e,c.completeWePayPayment(t).then(function(e){var t,e=u.lowerCaseKeys(e);U(e.data)?(t=e.data.data.wepay,e=e.data.data.extendedattributes,d.completeWePaySignUp(i,t,e)):(i.dismiss(),u.showMagnificAlert('This sign up cannot process payments at this time. <a href="/index.cfm?go=c.help&mid='+d.signup.owner+"&id="+d.signup.id+'">Please contact the sign up creator</a>.'))})},d.completeLumaPayPayment=function(e,s){var t={};t.paymentConfig=e,c.completeLumaPayPayment(t).then(function(e){var t,i,e=u.lowerCaseKeys(e);U(e.data)?(t=e.data.data.lumapay,i=e.data.data.extendedattributes,d.completeLumaPaySignUp(s,t,i)):(s.dismiss(),A(e.data))}).catch(function(e){s.dismiss(),A(e),console.err(e)})},j(r.dopayment)&&r.dopayment&&j(r.lumapay)?((e=r.lumapay).nameOnCard=e.payerinfo.name,e.email=e.payerinfo.email,e.zip=e.payerinfo.address.postal_code.replace("$strip$_",""),e.amount=e.amount,e.serviceFee="payer_from_app"==e.fee_payer?1:0,e.stripeapikey=v.lumapay.sugpublickey,e.stripeapiversion=v.lumapay.APIVersion,d.environment=v.secureURL,"https://www.signupgenius.com"==d.environment&&"staging.signupgenius.com"==g.location.hostname&&(d.environment="https://staging.signupgenius.com"),p.open({backdrop:"static",keyboard:!1,templateUrl:"/view/tools/dsplumapaymodal.html?v=1617022515",controller:"lumaPayModalController",resolve:{payload:function(){return e},mainScope:function(){return d}}}).result.then(function(e){d.isProcessing=!1,e.success||t()},function(e){d.isProcessing=!1,void 0===e||e.success||t()})):j(r.dopayment)&&r.dopayment&&j(r.wepay)?((e=r.wepay).nameOnCard=e.payerinfo.name,e.email=e.payerinfo.email,e.zip=e.payerinfo.address.postal_code.replace("$strip$_",""),e.amount=e.amount,e.serviceFee="payer_from_app"==e.fee_payer?1:0,d.wepayclientid=v.wepayclientid,d.wepayendpoint=v.oauthenvironment,d.environment=v.secureURL,"https://www.signupgenius.com"==d.environment&&"staging.signupgenius.com"==g.location.hostname&&(d.environment="https://staging.signupgenius.com"),p.open({backdrop:"static",keyboard:!1,templateUrl:"/view/tools/dspwepaymodal.html?v=1617022515",controller:"wePayModalController",resolve:{payload:function(){return e},mainScope:function(){return d}}}).result.then(function(e){d.isProcessing=!1,e.success||t()},function(e){d.isProcessing=!1,void 0===e||e.success||t()})):j(r.dopayment)&&r.dopayment&&j(r.pobj)?(s="",m=(n=(i=r.pobj).pp_data).sandbox.toString().trim(),(o=document.createElement("FORM")).id="paypal",o.name="_xclick",o.method="POST",o.action="https://www"+m+".paypal.com/cgi-bin/webscr",""!==m&&(s=C("hidden","test_ipn","1"),o.appendChild(s)),s=C("hidden","cmd","_cart"),o.appendChild(s),s=C("hidden","upload","1"),o.appendChild(s),s=C("hidden","business",i.paypalemailaddress),o.appendChild(s),s=C("hidden","currency_code",n.currency_code),o.appendChild(s),s=C("hidden","solutiontype","Sole"),o.appendChild(s),s=C("hidden","custom",n.custom),o.appendChild(s),s=C("hidden","cancel_return",n.cancel_return),o.appendChild(s),s=C("hidden","return",n.return),o.appendChild(s),s=C("hidden","notify_url",n.notify_url),o.appendChild(s),s=C("hidden","cbt",n.cbt),o.appendChild(s),j(i.member)&&(l=i.member,angular.forEach(["first_name","last_name","address1","address2","city","state","zip","night_phone_a","night_phone_b","night_phone_c","email","bn"],function(e,t){e in l&&(s=C("hidden",e,l[e]),o.appendChild(s))})),m=j(i.pp_data.items)?i.pp_data.items:[],angular.forEach(m,function(e,t){for(var i in e)s=C("hidden",i,e[i]),o.appendChild(s)}),document.body.appendChild(o),o.submit()):a()},T=function(e){for(var t in d.items)if(d.items[t].slotitemid===e)return d.items[t].item},R=function(e){for(var t in d.items)if(d.items[t].slotitemid===e)return d.items[t].itemid},O=function(e){for(var t in d.items)if(d.items[t].slotitemid===e)return d.items[t]},Q=function(e){for(var t in d.items)if(d.items[t].slotitemid===e)return d.items[t].qty},I=function(){if(angular.forEach(d.items,function(i,e){var s,t,n,r,a=[],o=new Date;if(i.itemname=m.trustAsHtml(i.item.toString()),j(i.myqty)||(i.myqty=0),j(i.mycomment)||(i.mycomment=""),i.mydonation="",i.priceError=!1,i.commentError=!1,i.slotError=!1,i.paymentAmount=0,i.paymentOptions=[],i.paymentOptionSelected={},i.dtstarttime="",i.dtendtime="",d.showproductimage||!(d.signupiswepay||d.signupislumapay||void 0!==d.signup.productimages&&d.signup.productimages)||d.isrsvp||(d.showproductimage=""!==i.itemimage.toString().trim()),""!==i.starttime)try{i.dtstarttime=new Date(i.starttime),i.dtstarttime=Date.parse(i.dtstarttime),!d.isrsvp&&d.editmode&&(""!==d.signup.closedateutc&&0<d.closeLock&&!d.editLocked&&(t=new Date(d.signup.closedateutc),d.editLocked=t<o),0<d.modifyLock)&&!d.editLocked&&(n=new Date(i.starttime),o.setDate(o.getDate()+d.modifyLock),d.editLocked=n<o)}catch(e){}if(""!==i.endtime)try{i.dtendtime=new Date(i.endtime),i.dtendtime=Date.parse(i.dtendtime)}catch(e){}if(t=i.paymenttype.toString().toLowerCase(),0<=d.arrpaytypes.indexOf(t)){if(d.hasPayItems=!0,1===i.paymentrequired&&(d.paymentRequired=!0),"options"===t&&j(i.optionnamelist)&&j(i.optionpricelist)){for(var a=i.optionnamelist.split(","),l=0;l<a.length;l++)a[l].toString().length&&(a[l]=a[l].toString().replace(new RegExp("&#44;","g"),","));s=i.optionpricelist.split(","),angular.forEach(a,function(e,t){i.paymentOptions.push({value:s[t],label:e})}),d.editmode&&""!==i.optionselected&&(i.paymentOptionSelected=i.paymentOptions[parseInt(i.optionselected)-1])}else"noset"!==t||d.editmode||""!==i.price&&0!==i.price||(i.price=j(i.minimumamount)?P(i.minimumamount).toFixed(2):0);d.editmode&&(d.hasPaid=0<=d.hasPaidStatus.indexOf(i.status.toString().trim().toLowerCase()),d.paymentIsPending=0<=i.status.toString().toLowerCase().indexOf("pending"),"noset"!==t||!angular.isNumber(i.amountpaid)||angular.isNumber(i.price)&&0!==i.price||!angular.isNumber(i.myqty)||(i.price=i.amountpaid/i.myqty))}d.editmode&&d.user.loggedin&&!d.isrsvp&&(n=i.displayfirstname.toString().trim(),o=i.displaylastname.toString().trim(),t=d.user.firstname.toString().trim(),r=d.user.lastname.toString().trim(),""===n||t==n&&r==o||(d.objForm.usealternatename=!0,d.objForm.displayfirstname=i.displayfirstname,d.objForm.displaylastname=i.displaylastname)),d.editmode&&!d.user.loggedin&&d.anonymous&&!d.isrsvp&&(d.objForm.displayfirstname=i.displayfirstname,d.objForm.displaylastname=i.displaylastname,d.objForm.firstname=i.displayfirstname,d.objForm.lastname=i.displaylastname,d.objForm.email=i.email),d.isrsvp||(i.availableqty=i.myqty+i.availableqty,(0===i.myqty||""===i.myqty||null===i.myqty&&0<i.availableqty)&&(i.myqty=1),d.qtyLimitEnabled&&(0<d.itemQtyLimit?i.availableqty=d.itemQtyLimit<i.availableqty?d.itemQtyLimit:i.availableqty:0<d.signupQtyLimit&&(i.availableqty=d.signupQtyLimit<i.availableqty?d.signupQtyLimit:i.availableqty))),i.discountisavailable=!1,i.discountlabel="","D"==i.discounttype&&(t=new Date,n=i.discountcriteria.replace(/[{d' }]/g,"").split(/[- :]/),"number"==typeof(r=new Date(n[0],n[1]-1,n[2],"23","59","59")).getTime())&&!isNaN(r.getTime())&&t<=r&&(i.discountisavailable=!0,i.discountlabel="Discount: "+f("currency")(i.discountprice),i.discountlabel+=" until "+f("date")(r,"MM/dd/yyyy")),"Q"==i.discounttype&&(i.discountisavailable=!0,i.discountlabel="Discount: "+f("currency")(i.discountprice),i.discountlabel+=" for "+i.discountcriteria+" or more"),1<i.qty&&i.qty<999999&&(i.dropdownqty=d.getQtyArray(i.availableqty))}),d.hasPayItems){if(d.disablesignup=!d.signup.ispp&&!d.signup.iswp&&!d.signup.islp,d.disablesignup)return d.signupLoaded=!1,void(d.errormessage='This sign up cannot process items which require payments at this time. Please <a href="/index.cfm?go=c.help&mid='+d.signup.owner+"&id="+d.signup.id+'">contact the sign up creator</a>.');d.tbodyColCt=d.nodatesignup?4:5,d.labels.submitBtn="Sign Up & Pay Now",d.editmode&&(d.paymentIsPending?d.labels.submitBtn=d.hasPaid?"Update My Sign Up":"Update & Retry Payment":d.labels.submitBtn=d.hasPaid?"Update My Sign Up":"Update & Pay Now",d.labels.payLater="Update & Pay Later")}d.hasPayItems&&(d.tbodyColCt=d.nodatesignup?4:5,d.showproductimage&&d.tbodyColCt++,d.labels.submitBtn="Sign Up & Pay Now",d.editmode&&(d.paymentIsPending?d.labels.submitBtn=d.hasPaid?"Update My Sign Up":"Update & Retry Payment":d.labels.submitBtn=d.hasPaid?"Update My Sign Up":"Update & Pay Now",d.labels.payLater="Update & Pay Later"),d.setPriceTwoDecimals()),!d.isrsvp&&d.items.length&&d.calculateLinePrice(),d.isrsvp||d.items.length||(d.asyncSuccess=!1,u.showMagnificAlert("The item(s) you are signing up for are no longer available."))},Y=function(){d.addressRequired=!1,d.phoneRequired=!1,d.canadianStates=[],d.usStates=[],angular.copy(d.signup.customfields,d.customFields);for(var e,t=d.customFields.length-1,i=["address1","address2","city","state","zipcode","country"],s=["phone","phonetype"],n="",r=!0;0<=t;t--)e=d.customFields[t].fieldname.toString().toLowerCase(),d.customFields[t].fieldtype.toString().toLowerCase(),d.customFields[t].fieldvalues,-1!==i.indexOf(e)?("address1"===e&&d.customFields[t].required&&(d.addressRequired=!0),d.customFields[t].fieldorder=i.indexOf(e),d.cq_address.unshift(d.customFields[t]),d.customFields.splice(t,1)):-1!==s.indexOf(e)&&("phone"===e?(d.customFields[t].fieldtype="Text",d.phoneRequired=d.customFields[t].required):"phonetype"===e&&(d.customFields[t].fieldtype="Select"),d.customFields[t].fieldorder=s.indexOf(e),d.cq_phone.unshift(d.customFields[t]),d.customFields.splice(t,1));d.cq_address.length&&angular.forEach(d.cq_address,function(e,t){n=j(e.myvalue)?e.myvalue.toString().trim():"",r=!(j(e.customdataid)&&0<parseInt(e.customdataid)),""===n&&!d.editmode&&r&&(e.myvalue=d.getContactInfoValue(e.fieldtype)),"state"===E(e.fieldname)&&(d.selectedState=n,angular.forEach(e.fieldvalues,function(e,t){j(e.countryid)&&""!==e.countryid&&0<parseInt(e.countryid)&&(223==e.countryid?d.usStates.push(e.optionval):37==e.countryid&&d.canadianStates.push(e.optionval))}),d.states=e.fieldvalues),"country"===E(e.fieldname)&&(d.selectedCountry=n,d.filterStates())}),d.cq_phone.length&&angular.forEach(d.cq_phone,function(e,t){n=j(e.myvalue)?e.myvalue.toString().trim():"",r=!(j(e.customdataid)&&0<parseInt(e.customdataid)),""===n&&r&&(e.myvalue=d.getContactInfoValue(e.fieldname),""===e.myvalue)&&"phonetype"===E(e.fieldname)&&(e.myvalue="Mobile")})},M=function(){c.getMainNavigation().then(function(e){var t,e=u.lowerCaseKeys(e);U(e.data)?((t=angular.element(document.querySelector("#main-nav"))).empty(),t.append(e.data.data)):A(e.data)})},W=function(){var i,s,n,r,a,o,l=[],m=!0;d.cq_address.length&&(l=["address1","city","state","zipcode"],angular.forEach(d.cq_address,function(e,t){i=null!==e.myvalue?e.myvalue.toString().trim():"",-1!==l.indexOf(E(e.fieldname))&&(""===i?d.addressRequired&&(d.errorMessages[e.id]="",d.success=!1,"state"!==E(e.fieldname)&&"zipcode"!==E(e.fieldname)||(d.errorMessages.state_zip=!0)):"state"!==E(e.fieldname)||"NA"!=i||!d.addressRequired||37!=d.selectedCountry&&223!=d.selectedCountry||(d.errorMessages.state_zip=!0,d.errorMessages[e.id]="You must select a valid Sate.",d.success=!1))})),d.cq_phone.length&&(l=["phone","phonetype"],angular.forEach(d.cq_phone,function(e,t){-1!==l.indexOf(E(e.fieldname))&&null!==e.myvalue&&""===e.myvalue.toString().trim()&&(d.phoneRequired&&(d.errorMessages.phone="",d.errorMessages[e.id]="",d.success=!1),m=!1)})),!d.objForm.savecontactinfo||d.phoneRequired||m||(d.errorMessages.savecontactinfo=d.standardErrors.savecontactinfo,d.success=!1),d.customFields.length&&(n="",a=0,o=!1,angular.forEach(d.customFields,function(e,t){var i;s=E(e.fieldtype),r=angular.isNumber(e.minval)?parseInt(e.minval):0,a=angular.isNumber(e.maxval)?parseInt(e.maxval):0,"text"===s?(n=angular.isDefined(e.myvalue)&&null!==e.myvalue?e.myvalue.toString().trim():"",e.required&&""===n?d.errorMessages[e.id]="":0<r&&n.length<r?d.errorMessages[e.id]="Your response must be at least "+r+" characters.":0<a&&n.length>a&&(d.errorMessages[e.id]="Your response must not exceed "+a+" characters.")):"number"===s?j(e.myvalue)?(n=e.myvalue,e.required&&""===n?d.errorMessages[e.id]="":""===n||angular.isNumber(n)?""!==n&&(n<r||0<a&&a<n)&&(d.errorMessages[e.id]="The value must be numeric and between "+r+" and "+a+"."):d.errorMessages[e.id]="Value must be numeric."):(d.errorMessages[e.id]="Value must be numeric.",e.myvalue=""):"option"===s||"select"===s?(n=angular.isDefined(e.myvalue)&&null!==e.myvalue?e.myvalue.toString().trim():"",e.required&&""===n?d.errorMessages[e.id]="":""!==n&&(angular.forEach(e.fieldvalues,function(e,t){n===e.optionval.toString().trim()&&(o=!0)}),o||(d.errorMessages[e.id]="The option you have selected is invalid."))):"checkbox"===s&&(r=""!==e.minval?parseInt(e.minval):"",a=""!==e.maxval?parseInt(e.maxval):"",i=0,angular.forEach(e.fieldvalues,function(e,t){e.ischecked&&i++}),e.required&&0===i?d.errorMessages[e.id]="":""!==r&&0<i&&i<r?d.errorMessages[e.id]="You must select at least "+r+" item"+(1<r?"s.":"."):""!==a&&0<i&&a<i&&(d.errorMessages[e.id]="You must select no more than "+a+" item"+(1<a?"s.":"."))),e.id in d.errorMessages&&(d.success=!1)}))},V=function(){var e,t,s=0,i=!1;if(d.success=!0,d.errorMessages={},0!==parseInt(d.objForm.listid)&&0!==parseInt(d.objForm.owner)&&""!==d.objForm.urlid||(d.errorMessages.signup="Invalid sign up. Please refresh your page or start the sign up process.",d.success=!1),d.isrsvp||d.objForm.siid.length||(d.errorMessages.items="Invalid sign up. You must select a slot.",d.success=!1),d.user.loggedin||((""===d.objForm.firstname||50<_("firstname"))&&(d.errorMessages.firstname=50<_("firstname")?d.standardErrors.firstname_length:"",d.success=!1),100<_("lastname")&&(d.errorMessages.lastname=d.standardErrors.lastname_length,d.success=!1),d.emailRequired&&(""===d.objForm.email?(d.errorMessages.email="",d.success=!1):angular.isDefined(d.objForm.email)&&utility.validateEmail(d.objForm.email)?100<_("email")&&(d.errorMessages.email=d.standardErrors.email_length,d.success=!1):(d.errorMessages.email=d.standardErrors.email_invalid,d.success=!1)),void 0!==d.objForm.email&&(-1<d.objForm.email.search(/googlegroups.com/i)||-1<d.objForm.email.search(/yahoogroups.com/i))&&(d.errorMessages.email=d.standardErrors.email_disallowed,d.success=!1)),d.objForm.usealternatename&&((""===d.objForm.displayfirstname||50<_("displayfirstname"))&&(d.errorMessages.displayfirstname=50<_("displayfirstname")?d.standardErrors.firstname_length:"",d.success=!1),100<_("displaylastname"))&&(d.errorMessages.displaylastname=d.standardErrors.lastname_length,d.success=!1),d.isrsvp&&(e=j(d.objForm.rsvpadult)?parseInt(d.objForm.rsvpadult):0,t=j(d.objForm.rsvpchildren)?parseInt(d.objForm.rsvpchildren):0,["y","n","m"].indexOf(d.objForm.rsvpresponse)<0&&(d.errorMessages.rsvpresponse="",d.success=!1),"y"!==d.objForm.rsvpresponse&&"m"!==d.objForm.rsvpresponse||0!==e||0!==t||(d.errorMessages.rsvpadults="",d.success=!1),j(d.objForm.rsvpitems))&&angular.isArray(d.objForm.rsvpitems)&&angular.forEach(d.objForm.rsvpitems,function(e,t){e.qtyError="",e.slotError="",e.commentError=!1,null!==e.slotitemid&&j(e.slotitemid)||e.deleted||!(0<e.myqty||e.mycomment.toString().trim().length)||(e.slotError="You must select an item.",d.success=!1),0<e.slotitemid&&(!angular.isNumber(e.myqty)||0===parseInt(e.myqty))&&(e.qtyError="Invalid quantity.",d.success=!1),d.commentsRequired&&0<e.slotitemid&&!e.deleted&&!e.mycomment.toString().trim().length&&(e.commentError=!0,d.success=!1)}),d.success&&(d.isrsvp||angular.forEach(d.items,function(e,t){e.commentError=!1,e.qtyError=!1,j(e.myqty)&&null!==e.myqty||(e.qtyError=!0,d.success=!1),d.commentsRequired&&!e.mycomment.toString().trim().length&&(e.commentError=!0,d.success=!1)}),d.success))if(d.qtyLimitEnabled||d.hasPayItems){if(d.isrsvp){if(i=!1,angular.forEach(d.objForm.rsvpitems,function(e,t){e.slotError="",0===e.slotitemid?i=!0:d.qtyLimitEnabled&&(0<d.signupQtyLimit?s+=parseInt(e.myqty):0<d.itemQtyLimit&&""===e.qtyError&&(e.qtyError="",parseInt(e.myqty)>d.itemQtyLimit)&&(e.qtyError="Quantity limit is set to "+d.itemQtyLimit+".",d.success=!1))}),i){for(var n=d.objForm.rsvpitems.length-1;0<=n;n--)0===d.objForm.rsvpitems[n].slotitemid&&""===d.objForm.rsvpitems[n].item&&d.objForm.rsvpitems.splice(n,1);d.objForm.rsvpitems.length||d.addMoreRSVPItem()}}else angular.forEach(d.items,function(e,t){var i;d.qtyLimitEnabled&&(0<d.signupQtyLimit?s+=parseInt(e.myqty):0<d.itemQtyLimit&&(e.qtyError=!1,parseInt(e.myqty)>d.itemQtyLimit)&&(e.qtyError=!0,d.errorMessages["itemqtylimit_"+e.id]="Quantity limit is set to "+d.itemQtyLimit+".",d.success=!1)),e.priceError=!1,0<=d.arrpaytypes.indexOf(e.paymenttype)&&(i=j(e.minimumamount)?P(e.minimumamount).toFixed(2):0,P(e.price)<i&&(d.errorMessages["priceminimum_"+e.id]="A minimum amount of "+d.currency_symbol+i+" is required.",e.priceError=!0,d.success=!1),e.priceError||"options"!==e.paymenttype.toString().toLowerCase()||angular.isObject(e.paymentOptionSelected)&&j(e.paymentOptionSelected.value)||(d.errorMessages["priceminimum_"+e.id]="You must select one of the options.",e.priceError=!0,d.success=!1))});d.qtyLimitEnabled&&0<d.signupQtyLimit&&s>d.signupQtyLimit&&(d.errorMessages.signupqtylimit=!0,d.success=!1,u.showMagnificAlert("You have exceeded the quantity limit set up by the sign up creator. You are not allowed to sign up for more than "+d.signupQtyLimit+" "+(1==d.signupQtyLimit?"item":"total items")+" on this sign up."))}else if(d.isrsvp&&(i=!1,angular.forEach(d.objForm.rsvpitems,function(e,t){0===e.slotitemid?i=!0:(e.commentError=!1,null!==e.slotitemid&&j(e.slotitemid)||e.deleted||!(0<e.myqty||e.mycomment.toString().trim().length)||(e.slotError="You must select an item.",d.errorMessages.slotitemid="You must select an item.",d.success=!1))}),i)){for(n=d.objForm.rsvpitems.length-1;0<=n;n--)0===d.objForm.rsvpitems[n].slotitemid&&""===d.objForm.rsvpitems[n].item&&d.objForm.rsvpitems.splice(n,1);d.objForm.rsvpitems.length||d.addMoreRSVPItem()}},_=function(e){return j(d.objForm[e])?d.objForm[e].toString().trim().length:0},U=function(e){e=u.lowerCaseKeys(e);try{return angular.isDefined(e.success)&&e.success&&angular.isDefined(e.data)}catch(e){return!1}},A=function(e){e=c.resultErrorHandler(e);u.showMagnificAlert(e)},N=function(e){var s=[];return e.forEach(function(t){var i,e={itemid:t.itemid,myqty:t.myqty};0!==s.length&&(i=!1,s.forEach(function(e){e.itemid==t.itemid&&(e.myqty+=t.myqty,i=!0)}),i)||s.push(e)}),s},x=(d.editSignup=function(e,t,i,s,n,r){var a={};a.imid=n,a.mid=e,a.siid=r,a.urlid=i,o.setAttrs(a),l.reload()},function(){i(function(){angular.element(".selectpicker").selectpicker("refresh")},200)});d.refreshPicker=function(e){var t=void 0!==e?e:"qtyselection";i(function(){$(".selectpicker."+t).selectpicker("refresh")},50)}}]).controller("multicalendarController",["$scope","$modalInstance","items","icsCal","$sce",function(e,t,i,s,n){e.items=i,e.ical=s,e.locationexist=!1,angular.forEach(e.items,function(e,t){e.itemname=n.trustAsHtml(e.item.toString()),""!==e.location&&(locationexist=!0)}),e.close=function(){t.dismiss()}}]).controller("signUpFormCompleteController",["$scope","SUGUtilities","$sce","signUpFormService","$uibModal","$window","$filter","$location","adService","$rootScope",function(l,s,a,t,i,m,o,n,r,d){s.showLoading("processing"),l.initialized=!1,l.signupLoaded=!1,l.h=(new Date).getTime(),l.user={},l.user.loggedin=!1,l.signup={},l.theme={},l.asyncSuccess=!0,l.success=!0,l.signupTitle="",l.signupDesc="",l.datedisplay="",l.dateformat="",l.shortZone="",l.editLocked=!1,l.nodatesignup=!1,l.socialshare=!1,l.isrsvp=!1,l.showsegments=!0,l.thankYouTemplate="/view/templates/signups/form/thankyou.html",l.isProcessing=!1,l.urlid=utility.getUrlParamValue("urlid"),l.sl=utility.getUrlParamValue("sl"),l.checkoutid=angular.isDefined(utility.getUrlParamValue("checkout_id"))?utility.getUrlParamValue("checkout_id"):"",l.wp=!!angular.isDefined(utility.getUrlParamValue("wp"))&&utility.getUrlParamValue("wp"),l.myitems=[],l.showreturntosulink=!1,l.winorigin=angular.isDefined(m.location.origin)?m.location.origin:m.location.protocol+"//"+m.location.host,l.hAdWidth=0,l.errormessage="Oops! Something went terribly wrong. We can't seem to find the sign up information you've requested. If this error persists, please <a href='/help'>contact support</a>.",l.usenewaddirective=!1,l.adconfig={network:"",platform:"desktop",category:"signups",section:"confirmation",type:"",position:""},l.labels={backtosignup:"Back to Sign Up",addtocalendar:"Add to Calendar",editmysignup:"Edit My Sign Up",editmyrsvp:"Edit My RSVP",socialshare:"Share with Friends",returntosignup:"Return to Sign Up",accountregistration:a.trustAsHtml('One more thing! Want to make it easier to sign up or edit your items in the future?<br /><span class="hyperlink" data-ng-click="register()">Create a free SignUpGenius account</span>')},l.wp&&!l.checkoutid.toString().length?(l.errormessage='The checkout process has either expired or been cancelled. If this error persists, please <a href="/help">contact support</a>.',l.initialized=!0,m.scrollTo(0,0)):t.getUserInfo().then(function(e){var t,e=s.lowerCaseKeys(e);if(c(e.data))return l.user=e.data.data,l.user.loggedin=angular.isDefined(l.user.memberid)&&0<parseInt(l.user.memberid),t={fuse:"s.ProcessSignupComplete"},globalService.checkNewAdDirective(t);l.asyncSuccess=!1,p(e.data)}).then(function(e){e=s.lowerCaseKeys(e),c(e.data)&&(l.usenewaddirective=e.data.data),e={};return e.urlid=l.urlid,e.sl=l.sl,e.wp=""!==l.wp&&l.wp,0<l.checkoutid.toString().length&&(e.checkoutid=l.checkoutid),t.getCompletedSignUpDetail(e)}).then(function(e){if(l.asyncSuccess){e=s.lowerCaseKeys(e);if(c(e.data)){var t,i=e.data.data;if(angular.isDefined(i.signup.id)&&0!==parseInt(i.signup.id))return l.usenewaddirective&&(l.adconfig.themeid=l.signup.themeid,t=void 0!==d.adnetworkdatafile&&void 0!==d.adnetworkdatafile.networks?d.adnetworkdatafile.networks:{},l.adconfig.network=r.getAdNetwork(l.adconfig,t),r.setHeaderAdCode(l.adconfig)),i.extendedattributes&&i.extendedattributes.email&&(r.initRoktSnippet(i.extendedattributes),r.initAdsPostXSnippet(i.extendedattributes),l.hideBannerAdsForRokt=!0),u(i),l.signupLoaded=!0,(t={}).themeID=l.signup.themeid,t.listid=l.signup.id,t.returnType="class",signupPageService.getSignupTheme(t);l.asyncSuccess=!1,s.showMagnificAlert("The sign up is no longer available.")}else l.asyncSuccess=!1,p(e.data)}}).then(function(e){l.asyncSuccess&&(e=s.lowerCaseKeys(e),c(e.data)?(l.theme=e.data.data,l.createSignUpStyle()):(l.asyncSuccess=!1,p(e.data)))}).then(function(){l.initialized=!0,m.scrollTo(0,0)}),l.backToSignUp=function(){var e=angular.isDefined(l.urlid)&&""!==l.urlid?l.urlid:"";""===e&&(e=angular.isDefined(l.attrs)&&angular.isDefined(l.attrs.urlid)&&""!==l.attrs.urlid?l.attrs.urlid:""),m.location.href=""!==e?l.winorigin+"/go/"+e:l.winorigin+"/index.cfm"},l.register=function(){i.open({templateUrl:"/view/templates/main/login.html",controller:"authenticationController",resolve:{loginRequired:function(){return!1},loginMessage:function(){return""},register:function(){return!0},registerDisabled:function(){return!1}}}).result.then(function(e){isD(e.status)&&"loggedin"===e.status&&isD(e.data)&&isD(e.data.memberid)&&0<parseInt(e.data.memberid)&&(l.user=e.data,l.useSinglePageApplication&&(signupPageService.setMemberInfo(l.user),t.cachedMemberinfo=l.user),l.user.loggedin=!0,g())})},l.createSignUpStyle=function(){var e=angular.element(document.querySelector("#styleContainer")),t=angular.element('<style type="text/css">'+l.theme+"</style>");e.append(t)},l.goBackTo=function(){var e;l.showreturntosulink?(e=-1==l.backtosignupLink.indexOf("http")?"http://"+l.backtosignupLink:l.backtosignupLink,i.open({templateUrl:"/view/templates/signups/form/backtowebsiteconfirm.html",controller:"backToWebsiteController",resolve:{redirect:function(){return e}}}).result.then(function(){m.location.href=e})):l.useSinglePageApplication?n.path("/"):m.location.href=l.winorigin+l.backtosignupLink,l.showsegments&&"undefined"!=typeof deployads&&setTimeout(function(){deployads.push()},500)};var u=function(e){var t,i,s,n,r;l.signup=e.signup,l.items=e.items,l.backtosignupLink="/go/"+l.signup.urlid,l.calLinks=angular.isDefined(e.icals)?e.icals:{},l.memberinfo=angular.isDefined(e.memberinfo)?e.memberinfo:{memberid:0,displayfirstname:"",displaylastname:"",fullmember:!1},l.confirmationsent=0<l.memberinfo.memberid,l.isfullmember=!!angular.isDefined(l.memberinfo.fullmember)&&l.memberinfo.fullmember,l.signupTitle=a.trustAsHtml(l.signup.title.toString()),l.signupDesc=a.trustAsHtml(l.signup.description.toString()),l.datedisplay=l.signup.shortdformat,l.dateformat=l.signup.shortdformat.toString().replace("mm","MM"),l.shortZone=l.signup.tzshort,l.nodatesignup=1===parseInt(l.signup.nodate),l.isrsvp=1===parseInt(l.signup.usersvp),l.socialshare=1===parseInt(l.signup.socialshare),l.showsegments=l.signup.showsegments,l.closeLock=0<l.signup.closelock,l.modifyLock=parseInt(l.signup.modifylockdays),l.listid=l.signup.id,l.signupowner=l.signup.owner,l.signupcontact=l.signup.contactname,l.linktowebsite="",l.linktowebsitebtn="",l.signup.linktowebsite.toString().length&&2===(t=l.signup.linktowebsite.split("|")).length&&(l.linktowebsite=t[1],l.linktowebsitebtn=t[0],l.backtosignupLink=t[1],l.labels.backtosignup=t[0],l.showreturntosulink=!0,l.returntosulink="/go/"+l.signup.urlid),angular.isDefined(e.retargetingscripts)&&""!==e.retargetingscripts&&(document.getElementById("retargeting").innerHTML="",document.getElementById("retargeting").innerHTML=e.retargetingscripts),l.showsegments&&(l.hAdWidth=190,l.containerWidth=m.innerWidth,1199<l.containerWidth&&(l.hAdWidth=330),l.thankYouTemplate="/view/templates/signups/form/altthankyou.html"),l.isrsvp||(l.name=l.memberinfo.displayfirstname,l.memberid=l.memberinfo.memberid,l.showCalendar=0<l.memberinfo.memberid&&!l.nodatesignup,i=l.slotids="",s="",n=angular.isDefined(l.calLinks.google)?l.calLinks.google:{},r={},l.slotids=[],angular.forEach(l.items,function(e,t){l.slotids.push(e.slotid)}),l.slotids=l.slotids.toString(),l.myitems=[],angular.forEach(l.items,function(e,t){if(s=i="",(r={}).item=e.item,r.itemhelp=e.itemcomment,r.myqty=e.myqty,r.mycomment=e.mycomment,r.slotid=e.slotid,r.slotitemid=e.slotitemid,r.itemmemberid=e.itemmemberid,r.location=e.location,(r.slotdatestring="")!==e.starttime)try{i=new Date(e.starttime),i=Date.parse(i),r.slotdatestring=o("date")(i,"EEE")+"., "+o("date")(i,l.dateformat),1===e.usetime&&(r.slotdatestring+=" "+o("date")(i,"h:mma").toLowerCase())}catch(e){}if(1===e.usetime&&""!==e.dtendtime&&e.dtendtime!==e.dtstarttime)try{s=new Date(e.endtime),s=Date.parse(s),r.slotdatestring+=" - "+o("date")(s,"h:mma").toLowerCase()}catch(e){}""!==r.slotdatestring&&1===e.usetime&&(r.slotdatestring+=" "+l.shortZone),r.slotdatestring=r.slotdatestring.trim(),r.callink=e.slotid in n?n[e.slotid]:"",l.myitems.push(r)}))},c=function(e){e=s.lowerCaseKeys(e);try{return angular.isDefined(e.success)&&e.success&&angular.isDefined(e.data)}catch(e){return!1}},p=function(e){e=t.resultErrorHandler(e);s.showMagnificAlert(e)},g=function(){t.getMainNavigation().then(function(e){var t,e=s.lowerCaseKeys(e);c(e.data)?((t=angular.element(document.querySelector("#main-nav"))).empty(),t.append(e.data.data)):p(e.data)})};l.share=function(e){var t=angular.isDefined(l.signup.fullurl)&&""!==l.signup.fullurl?l.signup.fullurl:encodeURIComponent(l.winorigin+"/go/"+l.attrs.urlid),i=""!==l.signup.signupimage?encodeURIComponent(l.signup.signupimage):encodeURIComponent(l.winorigin+"/images/theme/"+l.signup.themeid+"-large.jpg"),s="",n="",r=0,a=0,o=encodeURIComponent("I just signed up on the "+l.signup.title.toString().trim()+" page - ");"fb"===e?(n="width=640,height=400",r=m.top.outerHeight/2+m.top.screenY-200,a=m.top.outerWidth/2+m.top.screenX-320,s="http://www.facebook.com/sharer/sharer.php?u="+t+"&src=sp"):"pinterest"===e?(n="width=740,height=700",r=m.top.outerHeight/2+m.top.screenY-350,a=m.top.outerWidth/2+m.top.screenX-370,s="http://pinterest.com/pin/create/button/?url="+t+"&media="+i+"&description="+o+"%20"+t):"twitter"===e&&(n="width=640,height=320",r=m.top.outerHeight/2+m.top.screenY-160,a=m.top.outerWidth/2+m.top.screenX-320,s="https://twitter.com/share?text="+o+"&url="+t),m.open(s,"_blank",n+=",top="+r+",left="+a)},l.getICS=function(e){var t="";l.isrsvp||"ical"===e?t=e in l.calLinks?l.calLinks[e]:"":1===l.myitems.length?t=l.myitems[0].callink||"":i.open({templateUrl:"/view/templates/signups/form/multicalendardownload.html",controller:"multicalendarController",resolve:{items:function(){return l.myitems},icsCal:function(){return angular.isDefined(l.calLinks.ical)?l.calLinks.ical:""}}}).result.then(function(e){}),t.length&&m.open(t)}}]).controller("alertController",["$scope","$modalInstance","message","messagetitle",function(e,t,i,s){e.message=i,e.messagetitle=s,e.close=function(){t.dismiss()}}]).controller("backToWebsiteController",["$scope","$modalInstance","redirect","$timeout","$window",function(e,t,i,s,n){e.url=i,e.seconds=11,e.cancel=function(){t.dismiss()},e.close=function(){t.close()},e.countDown=function(){0===e.seconds?e.close():(e.seconds--,s(function(){e.countDown()},1e3))},e.countDown()}]).controller("wePayModalController",["$scope","$modalInstance","$window","$sce","SUGUtilities","payload","mainScope",function(i,s,e,t,n,r,a){n.showLoading("iFrameContainer"),e.credit_card_id=0,e.frm={},e.frm=r,e.wepayclientid=a.wepayclientid,e.wepayendpoint=a.wepayendpoint,e.environment=a.environment,e.countries=a.countries.data;function o(e){if(e.origin===m&&e.data)try{var t=e.data;void 0!==t.credit_card_id&&(r.payment_method.credit_card.id=t.credit_card_id,i.complete=!0,i.response.success=!0,a.completeWePayPayment(r,s))}catch(e){}}var l=e.environment+"/view/tools/wepaycheckoutiframe.html",m=(i.iFrameSrc=t.trustAsResourceUrl(l),i.loading=!0,i.complete=!1,i.response={success:!1},e.environment),t=e.addEventListener?"addEventListener":"attachEvent",l=e.addEventListener?"removeEventListener":"detachEvent",d="attachEvent"==t?"onmessage":"message",t=e[t],u=e[l];t(d,o),i.dismiss=function(){i.complete?s.dismiss(i.response):n.showConfirmationModal({txtConfirmationTitle:"Incomplete Checkout",txtConfirmationMessage:"You have not completed the checkout process. Are you sure you want to cancel?",lblYesButton:"Yes"},function(){s.dismiss(i.response),u(d,o)})},i.close=function(){s.close(i.response)},i.loaded=function(){i.loading=!1}}]).controller("lumaPayModalController",["$scope","$modalInstance","$window","$sce","SUGUtilities","payload","mainScope","$timeout","signUpFormService","errorService",function(i,t,e,s,n,r,a,o,l,m){i.es=m.newInstance(),i.errorStrings={errorsTitle:"",errorsPleaseCorrect:"Please correct the issues indicated below."},n.showLoading("LumapayCheckout"),i.processing={isProcessing:!0,progress:""},i.submitted=!1,i.complete=!1,i.response={success:!1},i.payload=r,i.buttonText=r.grossamount<1?"Pay $0"+r.grossamount.toFixed(2)+r.currency_suffix:"Pay $"+r.grossamount.toFixed(2)+r.currency_suffix,i.$on("isProcessing",function(e,t){(i.processing.isProcessing=t)&&n.showLoading("processing")});var d,u=Stripe(r.stripeapikey,{stripeAccount:r.stripeaccount},{apiVersion:r.stripeapiversion});n.broadCast("isProcessing",!0),m={clientSecret:r.clientsecret,stripeAccount:r.stripeaccount,appearance:{theme:"stripe"}},i.elements=u.elements(m),d=i.elements.create("payment"),o(function(){d.mount("#payment-element")},500),n.broadCast("isProcessing",!1),i.handleSubmit=function(){i.es.clearErrors(),i.payload.nameOnCard?(i.submitted=!0,u.confirmPayment({elements:i.elements,confirmParams:{return_url:r.returnurl},redirect:"if_required"}).then(function(e){e.error?o(function(){n.broadCast("isProcessing",!1),i.submitted=!1,i.es.setError("error-top-level",e.error.message)},1e3):(i.response.success=!0,i.response.paymentIntent=e.paymentIntent,a.completeLumaPayPayment(r,t))}).catch(function(e){n.broadCast("isProcessing",!1),i.submitted=!1,i.es.setError("error-top-level","There was an error processing your payment."),console.err(e)})):(i.submitted=!1,n.broadCast("isProcessing",!1))},i.dismiss=function(){i.complete?t.dismiss(i.response):n.showConfirmationModal({txtConfirmationTitle:"Incomplete Checkout",txtConfirmationMessage:"You have not completed the checkout process. Are you sure you want to cancel?",lblYesButton:"Yes"},function(){t.dismiss(i.response)})},i.close=function(){t.close(i.response)}}]);
SUGApp.directive("passwordStrength",function(){return{templateUrl:"/js/directives/passwordStrength.html",restrict:"EA",scope:{password:"@",password2:"@",styleoverride:"@"},controller:["$scope","SUGUtilities",function(d,a){function i(s){for(var a in s)if(!s[a])return;return 1}data="",d.useglyph="remove",a.APISyncCall("post","",data,"c.getPasswordComplexity",15e3).then(function(s){s=a.lowerCaseKeys(s.data);s.success?(d.passwordComplexity=s.data,d.passwordValid={}):d.displayError(s.data.accountdetails.error,s.data.accountdetails.error_description,s.data.accountdetails.error_code)}),d.checkStrength=function(s,a){var e,r=s?d.password.length:0;for(e in d.passwordComplexity)for(var t in d.passwordComplexity[e])if(d.passwordValid[t]=!1,d.passwordComplexity[e][t].enabled)switch(t){case"minimum":d.passwordValid[t]=r>=d.passwordComplexity[e][t].minvalue;break;case"maximum":d.passwordValid[t]=r<=d.passwordComplexity[e][t].maxvalue;break;case"lower":case"upper":case"number":case"specialchar":var o=new RegExp(d.passwordComplexity[e][t].pattern);d.passwordValid[t]=!!o.test(s)}return i(d.passwordValid)&&s===a?i(d.passwordValid)&&r<10?"medium":i(d.passwordValid)&&10<=r?"strong":void 0:"weak"}}],link:function(s,a,e){s.$watch("password",function(){s.strengthValue=s.password?s.checkStrength(s.password,s.password2):"","weak"===s.strengthValue?s.useglyph="remove":s.useglyph="ok"})}}});
SUGApp.service("errorService",["SUGUtilities",function(t){var r=function(){var o={init:function(){o.errors={},o.hasErrors=!1},errors:{},hasErrors:!1,getErrors:function(r){if(r)return!(!t.isArray(o.errors[r])&&t.isStringNullOrEmpty(o.errors[r]))&&o.errors[r];if(t.isEmptyObject(o.errors))return!1;var e,s=[];for(e in o.errors)o.errors.hasOwnProperty(e)&&(s=s.concat(o.errors[e]));return s},setError:function(r,e){o.errors[r]=e,o.hasErrors=!0},clearErrors:function(r){void 0===r?(o.errors={},o.hasErrors=!1):(void 0!==o.errors[r]&&delete o.errors[r],jQuery.isEmptyObject(o.errors)?o.hasErrors=!1:o.hasErrors=!0)}};return o},e=r();return e.newInstance=r,e}]);
!function(){function t(i,t,e,a,o,n,r,l,s,c,g,d,p,m,b,u,h,f,P,x,v,k){i.isProcessing=!1,i.loaded=!1,i.frmObj={},i.slotdata=u,i.slotitem=h,i.theme=f,i.tzshort=P,i.showprofilepics=x,i.shownames=v,i.themestyles="",i.modalParticipants=[],i.showfullcomment=!1,i.signuptype=k;function j(){i.settingID="settingID"in i.frmObj?i.frmObj.settingID:0,"searchFilter"in i.frmObj||(i.frmObj.searchFilter=""),"orderColumn"in i.frmObj||(i.frmObj.orderColumn=""),"direction"in i.frmObj||(i.frmObj.direction=!1),"numPerPage"in i.frmObj||(i.frmObj.numPerPage=10),i.arrowDir=i.frmObj.direction?"sugicon-arrow-down-thick":"sugicon-arrow-up-thick",i.pagination.numPerPage=i.frmObj.numPerPage}var O,y=!(i.slotimages=[]),w=(i.strings={table:{first:"First",last:"Last",quantity:"Qty",comment:"Comment",noData:"There are no participants for this slot item.",noFilteredData:"No data matched your search criteria. Please try again."},errorDirective:{errorsTitle:"",errorsPleaseCorrect:"Please correct the following issues:"}},i.slotinfo={title:"",timelabel:"",imagealttext:"",datelabel:{},slotimages:[],locdetail:{}},i.es=g.newInstance(),i.es.init(),i.es.clearErrors(),i.frmObj={searchFilter:""},i.popTrig="mouseenter",i.popPlacement="top",i.popDelay=300,i.recordCount=0,i.pagination={currentPage:1,maxSize:5,numPerPage:10},i.perPageOptions=[{label:"Show",count:0,previouscount:0},{label:"10",count:10,previouscount:0},{label:"25",count:25,previouscount:10},{label:"50",count:50,previouscount:25}],i.$on("isProcessing",function(t,e){i.isProcessing=e,w(e),i.isProcessing&&s.showLoading("processing")}),function(t){i.frmDisableField=t}),S=(i.dismiss=function(){t.dismiss(!1)},i.setSort=function(t){i.frmObj.orderColumn=t,i.frmObj.direction=!i.frmObj.direction,i.arrowDir=i.frmObj.direction?"sugicon-arrow-down-thick":"sugicon-arrow-up-thick",T(!0)},function(){var t,e;i.loaded&&(i.participantsFiltered=angular.copy(i.modalParticipants),i.recordCount=i.participantsFiltered.length,i.participantsFiltered.length)&&(e=(t=(i.pagination.currentPage-1)*parseInt(i.pagination.numPerPage))+parseInt(i.pagination.numPerPage),i.participantsFiltered=i.participantsFiltered.slice(t,e),!i.participantsFiltered.length)&&1<i.pagination.currentPage&&(i.pagination.currentPage--,S())}),T=function(a){s.broadCast("isProcessing",!0),y&&O.resolve(),y=!0,O=n.defer(),void 0===a&&(a=!1),j();var t=i.pagination.currentPage*i.frmObj.numPerPage,e=t-i.frmObj.numPerPage+1,o=i.modalParticipants.length+10*i.frmObj.numPerPage;return!i.modalParticipants.length||a||i.modalParticipants.length<i.slotitem.participantcount&&t>=i.modalParticipants.length?(t=i.modalParticipants.length&&!a&&1<e?e+i.frmObj.numPerPage:e,p.getSignUpParticipantsBySlotItem({listid:m,slotitemid:i.slotitem.slotitemid,offset:t,limitTo:o,search:i.frmObj.searchFilter,orderBy:i.frmObj.orderColumn,orderDesc:i.frmObj.direction,memberidViewing:b}).then(function(t){var e;s.ajaxResultInvalid(t.data)?(s.broadCast("isProcessing",!1),i.es.setError("dateSortedParticipantsModal",s.getAjaxResponseMessage(t)),y=!1):((t=s.lowerCaseKeys(t.data)).success&&Object.keys(t.data).length&&(!i.modalParticipants.length||a?i.modalParticipants=t.data.participants:(e=angular.copy(i.modalParticipants),i.modalParticipants=e.concat(t.data.participants))),y=!1,i.loaded=!0,S()),O.resolve(i.modalParticipants),s.broadCast("isProcessing",!1),C()})):(y=!1,i.loaded=!0,S(),O.resolve(i.modalParticipants),s.broadCast("isProcessing",!1),C()),O.promise},C=function(){(i.recordCount>i.frmObj.numPerPage||0<i.frmObj.searchFilter.length)&&r(function(){document.getElementById("filter").focus()},500)};switch(i.parseProfilePicData=function(t){return d.parseProfilePicData(t)},i.setPerPage=function(t){0<t&&(i.frmObj.numPerPage=parseInt(t))},a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)"><span class="sugicon-arrow-left-thick"></span></a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)"><span class="sugicon-arrow-thin-left-thin"></span></a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)"><span class="sugicon-arrow-thin-right-thin"></span></a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)"><span class="sugicon-arrow-right-thick"></span></a></li>\n</ul>'),i.$watch("pagination.currentPage + pagination.numPerPage",function(){T()}),i.$watchCollection("frmObj",function(t,e){t=angular.copy(t),e=angular.copy(e);i.frmObj.numPerPage&&""!==i.frmObj.numPerPage.toString().trim()&&(!angular.isNumber(~~i.frmObj.numPerPage)||!isFinite(~~i.frmObj.numPerPage)||~~i.frmObj.numPerPage<=0?(s.showMagnificAlert(i.strings.itemsPerPageInvalid,"error","","Sorry!"),i.frmObj.numPerPage=e.numPerPage):(c.set("frmObj",angular.copy(i.frmObj)),j(),t.searchFilter!=e.searchFilter?T(!0):S()))}),i.signuptype){case"calendar":i.slotinfo.title=i.slotitem.item,i.slotinfo.datalabel=i.slotdata.dateLabel,i.slotdata.timeLabel.length&&(i.slotinfo.timelabel=i.slotdata.timeLabel.replace(/<br>/g,"").replace(/-/g," -")+'&nbsp;<span class="participant-details--day">'+i.tzshort.toUpperCase()+"</span>"),i.slotinfo.locdetail=i.slotdata.locdetail,i.slotinfo.locdetail.location=i.slotdata.location;break;case"standard_d":case"nodate":Object.keys(i.slotitem.images).length&&(i.slotinfo.slotimages=i.slotitem.images.images),i.slotinfo.imagealttext=i.slotinfo.slotimages.length?i.slotitem.images.itemdescription.length?i.slotitem.images.itemdescription:i.slotitem.images.itemname+" image":"",i.slotinfo.title=i.slotitem.item,i.slotinfo.datalabel=i.slotdata.dateLabel,"nodate"!=i.signuptype&&(i.slotdata.timeLabel.length&&(i.slotinfo.timelabel=i.slotdata.timeLabel.replace(/<br>/g,"").replace(/-/g," -")+'&nbsp;<span class="participant-details--day">'+i.tzshort.toUpperCase()+"</span>"),i.slotinfo.locdetail=i.slotdata.locdetail,i.slotinfo.locdetail.location=i.slotdata.location);break;case"standard_i":Object.keys(i.slotdata.images).length&&(i.slotinfo.slotimages=i.slotdata.images.images),i.slotinfo.imagealttext=i.slotinfo.slotimages.length?i.slotdata.images.itemdescription.length?i.slotdata.images.itemdescription:i.slotdata.images.itemname+" image":"",i.slotinfo.title=i.slotdata.item,i.slotitem.timeLabel.length&&(i.slotinfo.timelabel=i.slotitem.timeLabel.replace(/<br>/g,"").replace(/-/g," - ")+'&nbsp;<span class="participant-details--day">'+i.tzshort.toUpperCase()+"</span>"),i.slotinfo.datalabel=i.slotitem.dateLabel,i.slotinfo.locdetail=i.slotitem.locdetail,i.slotinfo.locdetail.location=i.slotitem.location}i.themestyles=function(t,e,a){if(s.isUndefinedOrEmptyObject(t))return"";e=s.isDefinedNotNullNotEmpty(e)?e:"",a=s.isDefinedNotNullNotEmpty(a)?a:"";var o="";if(t.backgroundcolor.length||t.backgroundimage.length){o+=e+" .white-popup {";if(t.backgroundcolor.length)o+="background-color: "+t.backgroundcolor+" !important; ";if(t.backgroundimage.length)o+='background-image: url("/images/theme/'+t.backgroundimage.split(/[/]+/).pop()+'") !important; ';o+=" } "}if(t.textcolor2.length)o+=e+" .participant-details--title { color: "+t.textcolor2+" !important; font-weight:500; margin-bottom: 2px !important; }";if(t.textcolor1.length){o+=e+" .participant-details--date-time { color: "+t.textcolor1+"; font-weight:500; }";o+=e+" .participant-details--day { color: "+t.textcolor1+"; font-weight:normal; font-size: 94%; }"}if(o+=e+" .participant-details--loc-name { font-size: 96%; }",t.buttoncolor.length)o+=e+" button.modal-close { color: "+t.textcolor2+" !important; }";if(o+=e+" .participant-details--slot-image { max-height:110px; border-radius: 6px; margin-bottom: 8px; ",t.tableheaderbackground.length)o+=" border:1px solid "+t.tableheaderbackground+"; }";else o+="}";if(o+=e+" .sTable, .sTableSmall {margin-bottom: 8px;}",t.textcolor1.length){o+=e+" table .table, .sTable, .sTableSmall { border-top: 3px solid "+t.textcolor1+"; ";o+=" border-right: 1px solid "+t.textcolor1+"; ";o+=" border-bottom: 3px solid "+t.textcolor1+"; ";o+=" border-left: 1px solid "+t.textcolor1+"; ";o+="}"}if(t.textcolor1.length){o+=e+" table a, .sTable a, .sTableSmall a { color: "+t.textcolor1+"; text-decoration: underline; }";o+=e+" table a.small, .sTable a.small, .sTableSmall a.small { font-size: 0.85em; }"}if(o+=e+" table thead { ",t.tableheaderbackground.length)o+=" background-color: "+t.tableheaderbackground+" !important; ";if(t.tableheadertext.length)o+=" color: "+t.tableheadertext+" !important; ";if(t.tableheaderimage.length)o+=" background-image: url("+t.tableheaderimage+") !important; ";if(o+="}",t.tableheadertext.length)o+=e+" .sTableSmall thead>tr>th a:not(.btn),"+" .sTableSmall thead>tr>th a:hover:not(.btn),"+".sTableSmall thead>tr>th a:focus:not(.btn),"+".sTableSmall thead>tr>th a:active:not(.btn),"+".sTableSmall thead>tr>th a:visited:not(.btn),"+".sTable thead>tr>th a:not(.btn),"+".sTable thead>tr>th a:hover:not(.btn),"+".sTable thead>tr>th a:focus:not(.btn),"+".sTable thead>tr>th a:active:not(.btn),"+".sTable thead>tr>th a:visited:not(.btn) {"+"color: "+t.tableheadertext+" !important; "+"text-decoration: none; "+"}";if(t.textcolor1.length)o+=e+" table.table tbody tr td { border-bottom:1px solid  "+t.textcolor1+"; color: "+t.textcolor1+"; ";if(t.backgroundcolor.length)o+=" background-color: "+t.backgroundcolor+"; } ";else if(t.textcolor1.length)o+=" } ";if(o+=e+" .pagination>li>a, .pagination>li>span { ",t.textcolor1.length){o+=" color: "+t.textcolor1+"; ";o+=" border: 1px solid "+t.textcolor1+"; "}if(t.backgroundcolor.length)o+=" background-color: "+t.backgroundcolor+"; ";if(o=o+"}"+(e+" .pagination>.active>a, "+".pagination>.active>a:focus, "+".pagination>.active>a:hover, "+".pagination>.active>span, "+".pagination>.active>span:focus, "+".pagination>.active>span:hover { "),t.buttontextcolor.length)o+=" color: "+t.buttontextcolor+"; ";if(t.buttoncolor.length){o+=" background-color: "+t.buttoncolor+"; ";o+=" border-color: "+t.textcolor1+"; "}if(o=o+"}"+(e+" .pagination>.disabled>a, "+".pagination>.disabled>a:focus, "+".pagination>.disabled>a:hover, "+".pagination>.disabled>span, "+".pagination>.disabled>span:focus, "+".pagination>.disabled>span:hover { "),t.textcolor1.length){o+=" color: "+t.textcolor1+"; ";o+=" border-color: "+t.textcolor1+"; "}if(t.backgroundcolor.length)o+=" background-color: "+t.backgroundcolor+"; ";if(o=o+"}"+(e+" pagination>li>a:focus, "+".pagination>li>a:hover, "+".pagination>li>span:focus, "+".pagination>li>span:hover { "),t.buttontextcolor.length)o+=" background-color: "+t.buttontextcolor+"; ";if(t.buttoncolor.length)o+=" color: "+t.buttoncolor+"; ";if(o+="}",t.textcolor1.length){o+=e+" .ipp li { color: "+t.textcolor1+" !important; }";o+=e+" .ipp li + li { color: "+t.textcolor1+" !important; }";o+=e+" .ipp li:hover:not(.active), .ipp li:active:not(.active) { color: "+t.buttontextcolor+" !important; }"}if(t.buttoncolor.length)o+=e+" .ipp li.active { "+" color:"+t.buttontextcolor+" !important; "+" border: 1px solid "+t.buttoncolor+" !important; "+" background-color: "+t.buttoncolor+" !important; }";if(t.buttoncolor.length)o+=e+" .ipp li:hover:not(.active), .ipp li:active:not(.active) { "+" border: 1px solid "+t.buttontextcolor+" !important; "+" background-color: "+t.buttoncolor+" !important; }";return o+=e+" .ipp li:first-child:hover:not(.active), .ipp li:first-child:active:not(.active) { "+" border: none !important; "+" color: "+t.textcolor1+" !important; "+" background-color: transparent !important; }"}(i.theme,".participant-details")}SUGApp.controller("participantDetailsModalController",t),t.$inject=["$scope","$modalInstance","$filter","$templateCache","$location","$q","$timeout","$window","SUGUtilities","sugCacheFactory","errorService","profilePicService","signupPageService","listid","memberId","slotdata","slotitem","theme","tzshort","showprofilepics","shownames","signuptype"]}();
!function(){function e(m,e,t,o,r,l,E,O,z,a,A,i,n,d,s,c,g,b,p,u,h,f,x,w,y,I,k,v,S,C,M,P,L,U,T){m.isProcessing=!1,m.theme=s,m.objDate=c,m.shortdformat=g,m.dateformat=b,m.tzshort=p,m.themestyles="",m.showTimeColumn=!1,m.showLocationColumn=!1,m.showStacked=!1,m.memberId=h,m.listid=f,m.editItemMember=P,m.swapItemMember=L,m.openParticipantDetails=T,m.userSignUp=v,m.signupInfo=U,m.toggleSlotItem=S,m.selectedSlotItems=x,m.getQtyForMember=M,m.isLocked=I,m.isUserSignUpAdmin=y,m.isUserSignUpOwner=w,m.columnCount=1,m.showPaymentMessage=!1,m.paymentMessage="";for(var D=m.objDate.slots,$=0;$<D.length&&(m.showPaymentMessage||(m.showPaymentMessage=D[$].showPaymentMessage,m.paymentMessage=m.showPaymentMessage?D[$].paymentMessage:""),m.showTimeColumn||(m.showTimeColumn=1==D[$].usetime),m.showLocationColumn||(m.showLocationColumn=0<D[$].location.length),(!m.showTimeColumn&&m.showLocationColumn||m.showTimeColumn&&!m.showLocationColumn)&&(m.columnCount=2),m.showTimeColumn&&m.showLocationColumn&&(m.showStacked=!0,m.columnCount=3),!(m.showTimeColumn&&m.showLocationColumn&&m.showPaymentMessage));$++);m.editItemMember=function(e,t,o){m.dismiss(),P(e,t,o)},m.deleteItemMember=function(c,e){d.deleteItemMemberModal(c,e).then(function(t){for(var e,o=m.signupInfo.participants[c.slotitemid],r=(m.signupInfo.participants[c.slotitemid]=o.filter(function(e){return e.itemmemberid!=t.itemmemberid}),m.objDate.slots),l=!1,a=0;a<r.length;a++){for(var i=r[a].slotitems,n=0;n<i.length;n++)if(i[n].slotitemid==t.slotitemid){l=!0,e=i[n];break}if(l)break}if(l){for(var s=0;s<k.length;s++)if(k[s].slotitemid===e.slotitemid){k.splice(s,1);break}e.participants=m.signupInfo.participants[t.slotitemid],e.qtytaken=Math.max(e.qtytaken-e.myqty,0);o=d.getAvailability(e.qty,e.qtytaken,e.isaddlocked,m.isLocked);e.qtyLabel=o.qtyLabel,e.qtyLabelResponsive=o.qtyLabelResponsive,m.userSignUp.totalQty-=e.myqty,e.myqty=m.memberId?m.getQtyForMember(e.participants,m.memberId):0,m.signupInfo.hasavailableslots||(m.signupInfo.hasavailableslots=!0,m.es.clearErrors()),e.btnState="default"}})},m.strings={lbls:{location:"Location",time:"Time",availableslot:"Available Slot",donation:"($ Donation)"},state:{default:"default",selected:"selected"},errors:{errorsTitle:"",errorsPleaseCorrect:"Please correct the issues indicated below.",sorryNoSlotItemsSelected:"You need to select at least one slot to proceed.",modal:"calendarviewmodal"}},m.es=i.newInstance(),m.es.init(),m.es.clearErrors(),m.popTrig="mouseenter",m.popPlacement="top",m.popDelay=300,m.local_toggleSlotItem=function(e){m.es.clearErrors(),m.toggleSlotItem(e,!1)&&u.push(e)},m.$on("isProcessing",function(e,t){m.isProcessing=t,q(t),m.isProcessing&&a.showLoading("processing")});var q=function(e){m.frmDisableField=e},j=(m.dismiss=function(){e.dismiss(!1)},m.close=function(){e.dismiss(!0)},m.formatted=C(c.jsDateOnly),m.parseProfilePicData=function(e){return n.parseProfilePicData(e)},["$scope","$modalInstance","productImageObject",function(e,t,o){e.productImageObject=o,e.dismiss=function(){t.dismiss(!1)}}]);m.showImages=function(e){return t.open({templateUrl:"/view/signups/dspItemImages-modal.html",controller:j,resolve:{productImageObject:function(){return e}}}).result},m.saveandcontinue=function(){m.selectedSlotItems.length?(m.es.clearErrors(),e.close({saveandcontinue:!0})):m.es.setError(m.strings.errors.modal,m.strings.errors.sorryNoSlotItemsSelected)},m.selectotherdays=function(){m.es.clearErrors(),e.close({saveandcontinue:!1})},m.themestyles=function(e,t){if(a.isUndefinedOrEmptyObject(e))return"";t=a.isDefinedNotNullNotEmpty(t)?t:"";var o="";if(e.backgroundcolor.length||e.backgroundimage.length){o+=t+" .white-popup {";if(e.backgroundcolor.length)o+="background-color: "+e.backgroundcolor+" !important; ";if(e.backgroundimage.length)o+='background-image: url("/images/theme/'+e.backgroundimage.split(/[/]+/).pop()+'") !important; ';o+=" } "}if(e.textcolor2.length){o+=t+" .calendarview-modal--title { color: "+e.textcolor2+"; font-weight:500; margin-bottom: 2px; }";o+=t+" .calendarview-modal--date-dt { color: "+e.textcolor2+"; font-size: 2.2rem; font-weight: 700; }";o+=t+" .calendarview-modal--date-day { color: "+e.textcolor2+"; }"}if(e.textcolor1.length){o+=t+" .calendar-view--service-fee-msg { color: "+e.textcolor1+"; background-color: "+e.backgroundcolor+" }";o+=t+" .participant-summary--name, .participant-summary--comment { color: "+e.textcolor1+" }";o+=t+" .calendarview-modal--location { border-top-color: "+e.textcolor1+"}";o+=t+" .calendarview-modal--date-time { border-top-color: "+e.textcolor1+"}";o+=t+" .calendarview-modal--date-time { color: "+e.textcolor1+"; font-weight:700; line-height: 1.43rem, font-size: 1.6rem }";o+=t+" .calendarview-modal--calendar-dateformat { color: "+e.textcolor1+"; font-size: 1.3rem; opacity: .7; text-align: right; }";o+=t+" .slot-title { color: "+e.textcolor1+"; }";o+=t+" .slot-pmtwrap { color: "+e.textcolor1+"; }";o+=t+" .slot-comment { color: "+e.textcolor1+"; }";o+=t+" .SUGlink, .SUGLink, .SUGLink:hover  { color: "+e.textcolor1+"; text-decoration: none; }";o+=t+" .slots-spacing { border-top-color: "+e.textcolor1+"}"}if(o+=t+" .calendarview-modal--loc-name { font-size: 96%; }",e.textcolor1.length)o+=t+" .loc-noaddress { color: "+e.textcolor1+"}";if(e.buttoncolor.length)o+=t+" button.modal-close { color: "+e.textcolor2+" !important; }";if(o+=t+" .calendarview-modal--slot-image { max-height:110px; border-radius: 6px; margin-bottom: 8px; ",e.tableheaderbackground.length)o+=" border:1px solid "+e.tableheaderbackground+"; }";else o+="}";if(o+=t+" tbody { ",e.backgroundcolor.length)o+=" background-color: "+e.backgroundcolor+"; }";else o+="}";if(o+=t+" .sTable, .sTableSmall {margin-bottom: 8px;}",e.textcolor1.length){o+=t+" table .table, .sTable, .sTableSmall { border-top: 3px solid "+e.textcolor1+"; ";o+=" border-right: 1px solid "+e.textcolor1+"; ";o+=" border-bottom: 3px solid "+e.textcolor1+"; ";o+=" border-left: 1px solid "+e.textcolor1+"; ";o+="}";o+=t+" .nestedTable, .tcell { border-left: 1px solid "+e.textcolor1+";}"}if(o+=t+" table thead { ",e.tableheaderbackground.length)o+=" background-color: "+e.tableheaderbackground+" !important; ";if(e.tableheadertext.length)o+=" color: "+e.tableheadertext+" !important; ";if(e.tableheaderimage.length)o+=" background-image: url("+e.tableheaderimage+") !important; ";if(o+="}",e.tableheadertext.length)o+=t+" .tableheader { color: "+e.tableheadertext+" !important; } ";if(e.textcolor1.length){o+=t+" .tableheader { border-bottom: 2px solid "+e.textcolor1+" !important; } ";o+=t+" .nestedTableCell { border-left: 1px solid "+e.textcolor1+" !important; border-bottom: 1px solid "+e.textcolor1+" !important; } ";o+=t+" .nestedTableCellLast { border-left: 1px solid "+e.textcolor1+" !important; border-bottom: 0p !important; } "}if(o+=t+" .pseudo {} ",e.buttontextcolor.length&&e.buttoncolor.length)o+=" .badge { color: "+e.buttontextcolor+" !important; background-color: "+e.buttoncolor+" } ";return o}(m.theme," .calendarview-modal")}SUGApp.controller("calendarViewModalController",e),e.$inject=["$scope","$modalInstance","$modal","$filter","$templateCache","$location","$q","$timeout","$window","SUGUtilities","sugCacheFactory","errorService","profilePicService","signupPageService","theme","objDate","shortdformat","dateformat","tzshort","selectionHistoryArray","memberId","listid","selectedSlotItems","isUserSignUpOwner","isUserSignUpAdmin","isLocked","arrUserSlotItems","userSignUp","toggleSlotItem","getDateLabel","getQtyForMember","editItemMember","swapItemMember","signupInfo","openParticipantDetails"]}();
!function(){function e(t,n,e,o,i,m,s,r){t.isProcessing=!1,t.notifycomment="",t.modalInfo=s,t.itemmember=r,t.isPaymentPending="paymentpending"===r.status.toLowerCase(),t.commentLabel="",t.frmDisableField=!1,t.strings={modalTitle:"Are you sure?",slotmsg:"You are about to delete the following:",noUndo:"This sign up will be permanently removed. There is no undo.",errors:{errorsPleaseCorrect:"This sign up could not be deleted for the following reason:"},paymentPendingWarning:{type:"warning",text:"<strong>Important Notice:</strong> A payment is pending for this item. Deleting this item will not cancel or refund a payment once the payment is processed. If you did not complete payment, you can delete the pending item(s).",dismissable:!1,show:!0},buttonLabel:"Yes, Delete"},t.es=i.newInstance(),t.es.init(),t.es.clearErrors(),t.popTrig="mouseenter",t.popPlacement="top",t.popDelay=300;function l(e){t.isProcessing=e,a(e),e&&o.showLoading("processing")}var a=function(e){t.frmDisableField=e};t.showQty=function(){return 1<t.itemmember.myqty},t.dismiss=function(){n.dismiss(!1)},t.ok=function(){var e;l(!0),e={listid:t.modalInfo.listid,itemmemberid:t.itemmember.itemmemberid,notify:t.modalInfo.notify,notifycomment:t.notifycomment},m.deleteItemMember(e).then(function(e){o.ajaxResultInvalid(e)?(e=o.getAjaxResponseMessage(e),t.es.setError("deleteItemMember",e)):n.close({slotitemid:t.modalInfo.slotitemid,itemmemberid:t.itemmember.itemmemberid}),l(!1)})},t.commentLabel="Notification will be sent to the sign up administrator ("+t.modalInfo.contactName+") with the following comment:"}SUGApp.controller("deleteItemMemberModalController",e),e.$inject=["$scope","$modalInstance","$q","SUGUtilities","errorService","signupPageService","modalInfo","itemmember"]}();
!function(){SUGApp.config(["$routeProvider",function(e){return e.when("/",{controller:"signupController",templateUrl:"/view/templates/signups/signuppage.html",resolve:{urlparts:["signupPageService",function(e){var t=window.location.pathname.split("/");return e.setUrlParts(t),t}],urlkey:["signupPageService",function(e){var t=e.getUrlParts(),i="";if("index.cfm"==t[t.length-1]){var a=utility.getAllUrlParams();if(e.convertParamsToUrlParts(a),t=e.getUrlParts(),void 0!==a.urlid)return i=a.urlid,e.setUrlKey(i),i}else for(var n=0,o=t.length;n<o;n++){var s=t[n].toString().toLowerCase();if("go"==s)return i=t[n+1].toString(),e.setUrlKey(i),i;if("tabs"==s){s=t[n+1].toString();e.setTabGroupUrlKey(s);break}}}],previewMode:function(){return!1},portalid:["signupPageService",function(e){for(var t=e.getUrlParts(),i=null,a=0,n=t.length;a<n;a++)if("pid"==t[a].toString().toLowerCase()){i=t[a+1],e.setPortalId(i);break}return i}],tabgroup:["signupPageService",function(e){var t=e.getTabGroupUrlKey();return t?e.gettabgroup({urlid:t}):{}}],memberinfo:["signupPageService","memberInfoService",function(e,t){var i;return e.getUrlKey().length?(i=e.getMemberInfo(),angular.equals(i,{})?(e=e.getUrlKey(),t.getMemberInfo(!0,!1,0,e)):i):{}}],signup:["signupPageService",function(e){var t=e.getUrlKey(),i=e.getPortalId();return t.length?e.getsignup({forSignUpView:!0,urlid:t,portalid:i}):{}}],theme:["signupPageService",function(e){var t=e.getUrlKey(),i=new URLSearchParams(window.location.search);return i.has("themeoverride")?(e.setCustomThemeId(i.get("themeoverride")),e.getSignupTheme({urlID:t,themeID:i.get("themeoverride")})):t.length?e.gettheme({urlid:t}):{}}],p:["$route",function(e){return e.current.params}]}}).when("/form/:type*",{templateUrl:function(e){return"rsvp"===e.type?"/view/templates/signups/form/signupformrsvp.html":"/view/signups/dspSignupFormR4.html"},resolve:{urlkey:["signupPageService",function(e){var t=e.getUrlKey();return t||(t=window.location.pathname.split("/").pop(),e.setUrlKey(t)),t}]}}).when("/preview/:signupid/:previewDate?",{controller:"signupController",templateUrl:"/view/templates/signups/signuppage.html",resolve:{previewMode:function(){var e=angular.element(`
                            <style type='text/css'>
                                div.supHeader a, div.sub-footer a { pointer-events: none; cursor: default; }
                                div.admintoolbar, section.mktg-area { display: none !important; }
                            </style>
                        `);return angular.element(document).find("head").append(e),!0},portalid:["signupPageService",function(e){for(var t=e.getUrlParts(),i=null,a=0,n=t.length;a<n;a++)if("pid"==t[a].toString().toLowerCase()){i=t[a+1],e.setPortalId(i);break}return i}],tabgroup:["signupPageService",function(e){var t=e.getTabGroupUrlKey();return e.gettabgroup({urlid:t})}],memberinfo:["$route","signupPageService","memberInfoService",function(e,t,i){e=e.current.params.signupid;return e.length?(t=t.getMemberInfo(),angular.equals(t,{})?i.getMemberInfo(!0,!1,e):t):{}}],signup:["$route","signupPageService",function(e,t){var i=e.current.params.signupid,e=e.current.params.previewDate;return i.length?(i={forSignUpView:!0,listid:i},e&&(i.viewDate=e),t.getsignup(i)):{}}],theme:["$route","signupPageService",function(e,t){e=e.current.params.signupid;return e.length?t.getSignupTheme({listid:e}):{}}],p:["$route",function(e){return e.current.params}]}}).otherwise({redirectTo:"/"})}]),SUGApp.controller("signupController",["$scope","$rootScope","SUGUtilities","signupPageService","adService","$filter","errorService","$sce","$timeout","$window","$modal","$location","$q","memberinfo","signup","theme","p","tabgroup","$route","memberInfoService","portalid","previewMode",function(l,d,p,u,g,c,e,m,f,h,n,o,t,i,a,s,r,b,A,y,O,v){b=p.lowerCaseKeys(b),a=p.lowerCaseKeys(a),s=p.lowerCaseKeys(s),l.tabgroup={},l.urlkey=u.getUrlKey(),l.isTabGroup=!!u.getTabGroupUrlKey().length,l.isTabbedSignup=!1,l.params=r,l.previewMode=v,l.signupInfo={},l.theme={},l.errorMessage="",l.memberId=0,l.isUserLoggedIn=!1,l.isUserSignUpAdmin=!1,l.isUserSignUpOwner=!1,l.portalid=u.getPortalId(),l.showBackToPortal=!1,l.pidParam={newformat:"",oldformat:""},l.fullsecureurl=void 0!==window.globalcfg.secureURL?window.globalcfg.secureURL:"https://www.signupgenius.com",l.userSignUp={items:[],participantRecs:[],totalQty:0},l.showAlreadySignedUp=!1,l.showEditMySignUp=!1,l.hasParticipants=!1,l.url={signup:"",editSignUp:""},l.template="",l.showsegments=!1,l.objConfig={},l.objConfig.adconfigleft={platform:"desktop",category:"signups",section:"sheet",network:"",type:"",position:"left",themeId:0,responsive:!1},l.objConfig.adconfigright={platform:"desktop",category:"signups",section:"sheet",network:"",type:"",position:"right",themeId:0,responsive:!1},l.objConfig.previewonly=l.previewMode,l.objConfig.isRSVP=!1,l.objConfig.themeid=0;function w(){for(var e=0;e<P.length;e++)if("page"===P[e].view&&P[e].display===U&&P[e].format===L)return P[e].url}function I(){if(l.tab.tabsToDisplay=l.tab.tabcount<=l.tab.maxtabGroups?l.tab.tabcount:l.tab.maxtabGroups,l.tab.tabcount>l.tab.maxtabGroups){if(l.tab.firstDisplay=l.tab.index,l.tab.lastDisplay=l.tab.index+l.tab.maxtabGroups,l.tab.lastDisplay>l.tab.tabcount)for(var e=0;l.tab.lastDisplay>l.tab.tabcount&&(l.tab.lastDisplay--,l.tab.firstDisplay--,!(++e>=l.tab.tabcount)););l.tab.previous=0<l.tab.index?l.tabsignups.slice(0,l.tab.firstDisplay):[],l.tab.next=l.tab.index<l.tab.tabcount?l.tabsignups.slice(l.tab.index+l.tab.tabsToDisplay,l.tab.tabcount):[]}F()}function S(e){l.tabgroup=e.data.data,l.tabheader=e.data.data.header[0],l.tabsignups=l.tabgroup.signups,l.frm={selectedTabGroup:""},l.othertabs=e.data.data.othertabs,l.tab={tabcount:l.tabgroup.signups.length,selectedTabGroup:"",maxtabGroups:5,index:0,previous:[],next:[],tabsToDisplay:0,firstDisplay:0,lastDisplay:0},0===l.tab.index&&q()}function k(){l.isTabGroup?B():(l.memberInfo=i,u.setMemberInfo(i),T(a,s))}function x(){return(void 0!==a.data&&a.data.data.allowembed||l.isTabGroup&&void 0!==b.data&&b.data.data.allowembed)&&R()}var C,r=void(l.objConfig.showadminbar=0)!==d.adnetworkdatafile&&void 0!==d.adnetworkdatafile.networks?d.adnetworkdatafile.networks:{},D=(l.objConfig.adconfigleft.network=g.getAdNetwork(l.objConfig.adconfigleft,r),l.objConfig.adconfigright.network=g.getAdNetwork(l.objConfig.adconfigright,r),l.adconfig={network:"",platform:"desktop",category:"signups",section:"sheet",type:"",position:"",theme:"",themeid:0},l.hSegmentWidth=0,l.containerWidth=h.innerWidth,l.vSegmentSide="",l.contentSide="left",l.showCalendarIcon=!1,l.showCalendarView=!1,l.showTimeColumn=!1,l.showParticipantNote=!1,l.showFundly=!1,l.selectedSlotItems=[],l.selectedSlotItemsDirty=!1,l.popTrig="mouseenter",l.popPlacement="top",l.popDelay=300,l.popText="",angular.isDefined(h.location.origin)?h.location.origin:h.location.protocol+"//"+h.location.host),U=(l.strings={feeMessage:"",lbls:{availableSlot:"Available Slot",date:"Date",time:"Time",created:"Created by",loc:"Location",cal:"Subscribe",files:"Related Files",contact:"Contact",calendarsync:"Sync to calendar",alreadysignedup:"Already signed up?",changesignup:"Change my sign up",donation:"($ Donation)",dateformat:"Dates shown as ",copyrightYear:"",participantNote:"",calendarView:"Calendar View",listView:"List View",socialshare:"Share"},icons:{calendarsync:"sugicon-calendar-dates",calendarview:"sugicon-calendar-full",contact:"sugicon-envelope",date:"sugicon-calendar-full",download:"sugicon-file-download small",files:"sugicon-paperclip",listview:"sugicon-list",loc:"sugicon-map-marker",socialshare:"sugicon-bullhorn",time:"sugicon-time"},rsvp:{admin:{participant:"NOTE: The names are only viewable because<br>you are logged in as a sign up administrator.",response:"NOTE: These RSVP responses are only viewable because<br>you are logged in as a sign up administrator."},attending:"Will you be attending the event?",btnSubmit:"RSVP NOW",countOnYes:"YES - Count on me for ",countOnMaybe:"MAYBE - Possible guests include ",editRSVP:"Edit",myrsvp:"My RSVP",noresponse:"No Response",notMe:"This is not me",response:{adult:"Adult Guests:",child:"Child Guests:",confirmed:"Confirmed:",guest:"Guest Count:",head:"RSVP Responses",maybe:"Maybe:",no:"No:",noresponse:"No Response:",noresponseHead:"No Response",responses:"Responses:",yes:"Yes:"},rsvpFor:"RSVP for ",signedUpFor:"Signed up for:"},ancillary:{messages:{swapSubmitted:"Your requests have been sent.  You will be notified by email when someone agrees to swap.",swapComplete:"Your swap has been completed and the other person has been notified of the change.",emailSent:"An email has been sent to !email! that contains a link to edit your sign up. If you do not receive it promptly, check your JUNK folder to make sure it was not accidentally flagged as spam. If you continue to have problems receiving the email, you can register at SignUpGenius in order to edit your item.",emailSentNoBranding:"An email has been sent to !email! that contains a link to edit your sign up. If you do not receive it promptly, check your JUNK folder to make sure it was not accidentally flagged as spam."}}},l.ancillaryMessage={},l.adminToolbar="/view/templates/signups/admintoolbar.html",l.backToPortal="/view/templates/signups/backtoportal.html",l.tabMenu="/view/templates/signups/tabmenu.html",l.es=e.newInstance(),l.errorStrings={errorsTitle:"",errorsPleaseCorrect:"Please correct the issues indicated below."},l.es.init(),l.virtualLocations={},l.locationType="physical","desktop"),L="rsvp",P=[{view:"page",display:"desktop",format:"rsvp",url:"/view/templates/signups/page/d_rsvp.html"},{view:"page",display:"desktop",format:"standard_d",url:"/view/templates/signups/page/d_datesorted.html"},{view:"page",display:"desktop",format:"standard_i",url:"/view/templates/signups/page/d_slotsorted.html"},{view:"page",display:"desktop",format:"nodate",url:"/view/templates/signups/page/d_nodate.html"},{view:"page",display:"desktop",format:"calendar",url:"/view/templates/signups/page/d_calendar.html"},{view:"page",display:"desktop",format:"passcode",url:"/view/templates/signups/page/d_passcode.html"},{view:"page",display:"desktop",format:"expired",url:"/view/templates/signups/page/d_expired.html"},{view:"page",display:"mobile",format:"rsvp",url:"/view/templates/signups/page/m_rsvp.html"},{view:"page",display:"mobile",format:"standard_d",url:"/view/templates/signups/page/m_datesorted.html"},{view:"page",display:"mobile",format:"standard_i",url:"/view/templates/signups/page/m_slotsorted.html"},{view:"page",display:"mobile",format:"nodate",url:"/view/templates/signups/page/m_nodate.html"},{view:"page",display:"mobile",format:"passcode",url:"/view/templates/signups/page/m_passcode.html"},{view:"page",display:"mobile",format:"expired",url:"/view/templates/signups/page/m_expired.html"}],M=(l.perPageOptions=[{label:"Show",count:0,previouscount:0},{label:"10",count:10,previouscount:0},{label:"25",count:25,previouscount:10},{label:"50",count:50,previouscount:25}],l.currentSlots=[],l.getPage=function(e){e<1||e>l.signupInfo.listPagination.totalPages?console.warn("on last page"):(l.signupInfo.listPagination.currentPage,l.signupInfo.listPagination.itemsPerPage,l.signupInfo.listPagination.itemsPerPage,l.signupInfo.currentSlots=l.signupInfo.slotsArray.slice(e-1,e))},l.createSignUpStyle=function(){var e=angular.element(document.querySelector("#styleContainer")),t=(l.theme.mutedTextColor1=p.addOpacity2color(p.color2rgb(l.theme.textcolor1),.15),l.theme.mutedButtonColor=p.addOpacity2color(p.color2rgb(l.theme.buttoncolor),.15),G(l.theme)),t=angular.element('<style type="text/css">'+t+"</style>");e.html(t)},l.isLocked=function(){return!(void 0===l.signupInfo.signuplocked||!l.signupInfo.signuplocked)},l.hasAvailableSlots=function(){return!(void 0===l.signupInfo.hasavailableslots||!l.signupInfo.hasavailableslots)},l.isAllDatesHidden=function(){return!(void 0===l.signupInfo.alldateshidden||!l.signupInfo.alldateshidden)},l.showHeaderDate=function(){return!l.signupInfo.nodate&&void 0!==l.signupInfo.header.date&&0!==Object.keys(l.signupInfo.header.date).length},l.showHeaderTime=function(){return!(l.signupInfo.nodate||!p.keyExists(l.signupInfo.header,"date.usetime"))&&l.signupInfo.header.date.usetime},l.showHeaderLocation=function(){return void 0!==l.signupInfo.header.location&&void 0!==l.signupInfo.header.location.location},l.getFileExt=function(e){return void 0!==e&&0<=e.indexOf(".")?(e=e.split("."))[e.length-1]:""},l.clickSignUp=function(e){window.alert("Sign up clicked for slotitemid: "+e)},l.clickEditSignUp=function(){l.previewMode||(l.showBackToPortal&&0<l.portalid?h.location.href=l.url.editSignUp+"&pid="+l.portalid:h.location.href=l.url.editSignUp)},l.clickCalendarSync=function(){n.open({templateUrl:"/view/templates/signups/calendarsync.html",controller:"calendarSyncController",resolve:{calendar:function(){return{calendar:l.signupInfo.header.calendar}}}}).result.then(function(e){e.success},function(){})},l.toggleCalendarView=function(e,t=!1){"cal"!==e||l.showHeaderDate()?(l.showCalendarView=!1,L=l.determineSignupType()):(l.showCalendarView=!0,L="calendar",u.setDisplayMonth({})),l.template=w(),!t&&l.showsegments&&p.refreshPageAds()},l.openParticipantDetails=function(e,t,i,a){n.open({templateUrl:"/view/signups/incl_dspParticipantsModal.html",controller:"participantDetailsModalController",resolve:{listid:function(){return e},memberId:function(){return t},slotdata:function(){return i},slotitem:function(){return a},theme:function(){return l.theme},tzshort:function(){return l.signupInfo.tzshort},showprofilepics:function(){return l.signupInfo.showprofilepics},shownames:function(){return l.isUserSignUpOwner||l.isUserSignUpAdmin||l.signupInfo.shownames&&!a.donotshow},signuptype:function(){return l.determineSignupType()}},openedClass:l.determineSignupType()},function(){})},l.getDeleteModalInfo=function(e,t,i){var a=l.signupInfo.tzshort.toUpperCase(),i={listid:l.signupInfo.id,notify:l.signupInfo.notifyme&&(!l.isUserSignUpOwner||1<l.signupInfo.notificationids.length),contactName:l.signupInfo.header.contactname,signupTitle:l.signupInfo.header.title,slotitemid:i,slotimages:[]};return e.images&&e.images.images&&(i.slotimages=e.images.images),i.imagealttext=i.slotimages.length?e.images.itemdescription.length?e.images.itemdescription:e.images.itemname+" image":"",i.title=e.item,i.slotid=t.slotid,i.itemid=e.itemid,t.timeLabel&&t.timeLabel.length&&(i.timelabel=t.timeLabel.replace(/<br>/g,"").replace(/-/g," - ")+"&nbsp;<span>"+a+"</span>"),i.datalabel=t.dateLabel,i.locdetail=t.locdetail||{},i.locdetail.location=t.location,i},l.editItemMember=function(e,t,i){var a={},e=(a.imid=e,a.mid=i,a.siid=t,a.urlid=l.signupInfo.urlid,j(a),"/form/"+l.signupInfo.listformat);o.path(e)},l.swapItemMember=function(e,t,i,a){var n="/index.cfm?go=s.swap";n+="&id="+l.signupInfo.id,h.location.href=n+("&siid="+t)+("&thisqty="+a)+("&imid="+e)+("&mid="+i)},l.toggleSlotItem=function(e,t){void 0===t&&(t=!1),l.selectedSlotItemsDirty=!0;var i=e.slotitemid,a=l.selectedSlotItems.findIndex(function(e){return e===i});return a<0?!t&&E()&&M(e.myqty)?(l.selectedSlotItems.push(i),!0):t?void l.selectedSlotItems.push(i):!(e.btnState="default"):(l.selectedSlotItems.splice(a,1),!0)},function(e){var t=parseInt(l.signupInfo.qtylimit_slotitems);return t<=0||!((t-=e)<=0&&(t="You have reached the quantity limit set up by the sign up creator. You are not allowed to sign up for more than ",t+=parseInt(l.signupInfo.qtylimit_slotitems)+" of any individual item",e=e.toString()+(1<e?" items":" item"),p.showMagnificAlert(t+=" and you already have "+e+" that you are signed up for.","warning",void 0,"Sign Up Quantity Limit"),1))}),E=function(){var e,t=parseInt(l.signupInfo.qtylimit_signup);return t<=0||!((t-=l.userSignUp.totalQty)<=l.selectedSlotItems.length&&(t="You have reached the quantity limit set up by the sign up creator. You are not allowed to sign up for more than ",e=1<l.signupInfo.qtylimit_signup?"items":"item",t+=l.signupInfo.qtylimit_signup+" total "+e+" on this sign up",l.userSignUp.totalQty?t+=" and you already have "+(l.userSignUp.totalQty.toString()+(1<l.userSignUp.totalQty?" items":" item"))+" that you are signed up for.":t+=".",p.showMagnificAlert(t,"warning",void 0,"Sign Up Quantity Limit"),1))},T=(l.getImageStyle=function(e,t){var e=document.getElementById(e),e=angular.element(e),i=t.imagecropcoords,a=e[0].offsetWidth,e=e[0].offsetHeight,n=(0!==a&&0!==e||(a=t.imagewidth,e=t.imageheight),i[0]),o=i[1],s=i[4],i=i[5];return{"margin-left":a/s*n*-1,"margin-top":e/i*o*-1,width:a/s*t.imagewidth,height:e/i*t.imageheight}},l.showZoomedImage=function(e){0<parseInt(e)&&$.magnificPopup.open({removalDelay:300,items:{src:"/view/signups/dspItemImages.cfm?itemid="+e,type:"iframe"}})},function(e,t){if(p.ajaxResultInvalid(e)?(l.errorMessage=p.getAjaxResponseMessage(e.data),p.keyExists(e,"data.data.passcode")&&e.data.data.passcode&&(l.signupInfo={passcode:!0,success:!1,message:l.errorMessage,mid:p.keyExists(e,"data.data.mid")?e.data.data.mid:0,id:p.keyExists(e,"data.data.id")?e.data.data.id:0},u.setSignUpInfo(l.signupInfo),u.setThemeClassInfo(l.signupInfo.themeclass))):(l.signupInfo=e.data.data,l.virtualLocations=l.signupInfo.virtuallocations,l.urlkey.toString().trim().toLowerCase()!==l.signupInfo.urlid.toString().trim().toLowerCase()&&(l.urlkey=l.signupInfo.urlid,h.location.href="/go/"+l.urlkey+"#/"),l.locations=void 0!==l.signupInfo.locations?l.signupInfo.locations:{},u.setSignUpInfo(l.signupInfo),u.setThemeClassInfo(l.signupInfo.themeclass)),p.ajaxResultInvalid(t)?l.errorMessage=p.getAjaxResponseMessage(t.data):("mainimages"in(t=t.data.data)&&Array.isArray(t.mainimages)&&t.mainimages.length&&angular.forEach(t.mainimages,function(t,e){(t.imagewidth<2||t.imageheight<2)&&f(function(){var e=new Image;e.src=t.desktopmemberimage,e.onload=function(){t.imagewidth=e.width,t.imageheight=e.height}},50)}),l.theme=t,l.createSignUpStyle(),u.setThemeInfo(l.theme)),l.signupInfo.passcode&&(L="passcode",l.template=w()),""===l.errorMessage&&"passcode"!==L){var t=p.keyExists(l.signupInfo,"header.group")?l.signupInfo.header.group:"",t=(p.keyExists(l.signupInfo,"header.title")&&(t.length&&(t+=": "),t+=l.signupInfo.header.title),t.length&&(h.document.title=m.trustAsHtml(t.trim())),l.showsegments=l.signupInfo.showsegments,l.signupInfo.calendarview&&!l.showHeaderDate()?l.showCalendarView=!0:l.showCalendarView=!1,L=l.determineSignupType(),l.template=w(),!function(){var e=l.signupInfo.header;if(l.signupInfo.header.description=m.trustAsHtml(e.description),l.headerTemplate="/view/templates/themes/d_header"+l.theme.themetemplateid.toString()+".html",l.showHeaderDate()&&(a=e.date,l.dateString=a.date,l.timeString=a.time,l.useTime=a.usetime),l.showHeaderLocation()){var t,i,a=e.location,e=0<a.virtuallocationid,n=0<a.locationid;if(l.locationString=a.location,n&&e)return l.locationType="both",i=l.locations[a.locationid],t=l.virtualLocations[a.virtuallocationid],l.locationString='<a href="'+t.virtuallocationlinkurl+'" target="_blank">'+i.name,l.locationString+='<span class="inline-spacer"></span><span class="sugicon-video-camera-solid"></span></a>',l.locationString+='<br /><a href="'+i.locationlinkurl+'" target="_blank">'+i.address1+" "+i.address2+"<br />"+i.city+", "+i.state+" "+i.zipcode,l.locationString+='<span class="inline-spacer"></span><span class="sugicon-map-marker address-icon ng-scope"></span></a>';n&&a.locationid in l.locations&&(l.locationType="physical",i=l.locations[a.locationid],l.locationString='<a href="'+i.locationlinkurl+'" target="_blank">'+a.location,l.locationString+="<br />"+i.address1+" "+i.address2+"<br />"+i.city+", "+i.state+" "+i.zipcode+"</a>"),e&&(l.locationType="virtual",i=l.virtualLocations[a.virtuallocationid],l.locationString='<a href="'+i.virtuallocationlinkurl+'" target="_blank">'+a.location+"</a>")}l.showAttachments=!(void 0===l.signupInfo.header.attachments||!l.signupInfo.header.attachments.length),l.attachments=l.showAttachments?l.signupInfo.header.attachments:[],l.showCalendarSync=void 0!==l.signupInfo.header.calendar&&"id"in l.signupInfo.header.calendar,l.showSocialShare=l.signupInfo.socialshare,x()&&(l.signupInfo.header.contacturl+="&pid="+l.portalid),l.previewMode&&(l.signupInfo.header.contacturl="")}(),utility.getAllUrlParams()),t=(void 0!==t.view&&("calendar"==t.view?l.toggleCalendarView("cal",!0):"standard"==t.view&&l.toggleCalendarView("standard",!0)),l.isLocked()&&(l.errorStrings={errorsTitle:"",errorsPleaseCorrect:l.signupInfo.lockedmessage},l.es.setError("error-top-level","no msg")),l.hasAvailableSlots()||(l.errorStrings={errorsTitle:"",errorsPleaseCorrect:l.signupInfo.noavailableslotsmessage},l.es.setError("error-top-level","no msg")),l.isAllDatesHidden()&&(l.errorStrings={errorsTitle:"",errorsPleaseCorrect:l.signupInfo.hiddendatesmessage},l.es.setError("error-top-level","no msg")),t=utility.getAllUrlParams(),i=-1<(i=p.keyExists(t,"msg",!0)?l.strings.ancillary.messages[t.msg]:"").indexOf("!email!")&&p.keyExists(t,"email",!0)?i.replace("!email!",t.email):i),i=(t.length&&(l.ancillaryMessage={type:"success",title:"",text:t,dismissable:!1,show:!0}),l.adconfig.themeid=l.signupInfo.themeid,l.objConfig.isRSVP=l.signupInfo.usersvp,l.objConfig.themeid=l.signupInfo.themeid,void 0!==d.adnetworkdatafile&&void 0!==d.adnetworkdatafile.networks?d.adnetworkdatafile.networks:{});l.adconfig.network=g.getAdNetwork(l.adconfig,i),g.setHeaderAdCode(l.adconfig),l.showsegments&&(l.hSegmentWidth=190,1199<l.containerWidth&&(l.hSegmentWidth=330),Math.floor(100*Math.random()+1)%2==0?(l.segmentSide="left",l.contentSide="right"):(l.segmentSide="right",l.contentSide="left")),l.strings.lbls.copyrightYear=(new Date).getFullYear(),void 0!==l.memberInfo&&p.keyExists(l.memberInfo,"memberid",!0)&&0<l.memberInfo.memberid&&(l.isUserLoggedIn=!0,l.memberId=l.memberInfo.memberid);{let e=!1;l.isUserLoggedIn&&l.memberId==l.signupInfo.owner?l.isUserSignUpOwner=!0:l.isUserLoggedIn&&p.keyExists(l.memberInfo,"parentid",!0)&&l.memberInfo.parentid==l.signupInfo.owner&&(l.isUserSignUpAdmin=!0,l.memberInfo.perms)&&(l.canManageSignUp=l.memberInfo.perms.manage||!1,l.canManageGroups=l.memberInfo.perms.group||!1,l.canViewReports=l.memberInfo.perms.report||!1,l.canManagePeople=l.memberInfo.perms.people||!1,e=Object.entries(l.memberInfo.perms).some(([,e])=>!0===e)),l.isUserSignUpAdmin&&e||l.isUserSignUpOwner?l.objConfig.showadminbar=1:l.objConfig.showadminbar=0}if((p.keyExists(l.signupInfo,"shownames",!0)&&!l.signupInfo.shownames||p.keyExists(l.signupInfo,"hashidenames",!0)&&l.signupInfo.hashidenames)&&(l.isUserSignUpAdmin||l.isUserSignUpOwner)&&(l.showParticipantNote=!0,l.strings.lbls.participantNote='PLEASE NOTE: Names are only viewable on this sign up because you are logged in as an administrator. To see how this sign up looks to your users, <a href="'+D+"/index.cfm?go=c.logout&signupurl="+l.signupInfo.urlid+'">click here to logout</a>.'),l.isUserLoggedIn&&p.keyExists(l.signupInfo,"participants",!0)){var a,n=p.deepCopy(l.signupInfo.participants);for(a in n)if("object"==typeof n[a]&&n[a].length)for(var o=0;o<n[a].length;o++)n[a][o].hasOwnProperty("memberid")&&n[a][o].memberid==l.memberId&&(l.userSignUp.participantRecs.push(n[a][o]),l.userSignUp.totalQty+=n[a][o].myqty,l.showEditMySignUp=!0,l.signupInfo.expired)&&(l.signupInfo.expired=!1,L=l.determineSignupType(),l.template=w())}if(l.isUserLoggedIn&&l.signupInfo.usersvp&&p.keyExists(l.signupInfo,"rsvp",!0)&&l.signupInfo.rsvp.length)for(var s=p.deepCopy(l.signupInfo.rsvp),r=0;r<s.length;r++)s[r].memberid===l.memberId&&(p.keyExists(l.userSignUp,"rsvpRecs",!0)||(l.userSignUp.rsvpRecs=[]),l.userSignUp.rsvpRecs.push(s[r]),l.showEditMySignUp=!0,l.signupInfo.expired)&&(l.signupInfo.expired=!1,L=l.determineSignupType(),l.template=w());l.hasParticipants=p.keyExists(l.signupInfo,"participants",!0)&&0<Object.keys(l.signupInfo.participants).length||0<l.signupInfo.participantcount,!l.hasParticipants||l.isUserLoggedIn||l.signupInfo.usersvp||(l.showAlreadySignedUp=!0),l.url.signup=D+"/index.cfm?go=s.PreProcessSignup&URLID="+l.signupInfo.urlid,l.url.editSignUp=D+"/index.cfm?go=s.EditHelp&urlid="+l.signupInfo.urlid,l.signupInfo.usersvp&&(l.url.editRSVP+="&useRSVP=1"),t=l.signupInfo.iswp&&angular.isDefined(l.signupInfo.wprate)?l.signupInfo.wprate:{p:0,t:0,fee_payer:"payer_from_app"},i=l.signupInfo.currency,"payer_from_app"==(l.signupInfo.iswp&&angular.isDefined(l.signupInfo.wprate.fee_payer)?l.signupInfo.wprate.fee_payer:"payer_from_app")&&0<c("number")(100*t.p)&&(l.strings.feeMessage="A service fee of "+c("number")(100*l.signupInfo.wprate.p)+"% + "+c("currency")(l.signupInfo.wprate.t)+" "+i+" will be added to your purchase at checkout."),l.showFundly=!(!p.keyExists(l.signupInfo,"fundlyurl",!0)||!l.signupInfo.fundlyurl.length)}l.isTabGroup||!p.keyExists(e.data.data,"tabs",!0)||!e.data.data.tabs.istabbed||l.signupInfo.allowembed&&!R()||(l.isTabbedSignup=!0,u.gettabgroup({tabgroupid:l.signupInfo.tabs.tabgroupid}).then(function(e){e=p.lowerCaseKeys(e);b={},b=e,p.ajaxResultInvalid(b)?l.errorMessage=p.getAjaxResponseMessage(b.data):(u.setTabGroup(b),S(b),q(l.urlkey),I())}))}),q=function(e){for(var t=void 0!==e?e:l.urlkey,i=0;i<l.tab.tabcount;i++)if(l.tabsignups.hasOwnProperty(i)&&l.tabsignups[i].urlid.toString().trim().toLowerCase()===t.toString().trim().toLowerCase()){l.tab.index=i,u.setTabIndex(i);break}},F=function(){for(var e,t="",i=0;i<l.tabsignups.length;i++)e=l.tabsignups[i].backgroundcolor.length?"#ffffff"!=l.tabsignups[i].backgroundcolor.toLowerCase().trim()?l.tabsignups[i].backgroundcolor:"#d9d9d9":"#ffffff"!=l.tabsignups[i].textcolor1.toLowerCase().trim()?l.tabsignups[i].textcolor1:"#d9d9d9",t=(t+=".tabGroup .multiple-signup--menu li.tab-"+l.tabsignups[i].listid+":before { border-top: 5px solid "+e+" !important;} ")+".tabGroup .multiple-signup--menu span ul.dropdown-menu li.plussmore-"+l.tabsignups[i].listid+" { border-left: 5px solid "+e+";} ";var a=l.tabsignups[l.tab.index].backgroundimage.length?'background-image: url("/images/theme/'+l.tabsignups[l.tab.index].backgroundimage+'") !important;':"background-color: "+l.tabsignups[l.tab.index].backgroundcolor+" !important",t=(t=(t+=".tabGroup .multiple-signup--menu li.active a { color: "+l.tabsignups[l.tab.index].textcolor1+" !important; "+a+" }")+(".nb-copyright-text { color: "+l.tabsignups[l.tab.index].textcolor1+" !important; } "))+(".nb-links { color: "+l.tabsignups[l.tab.index].textcolor2+" !important; } "),a=angular.element(document.querySelector("#tabStyles")),n=angular.element('<style type="text/css">'+t+"</style>");a.html(n),l.createSignUpStyle()},B=(l.changeTab=function(e){e!==l.tabsignups[l.tab.index].urlid&&(q(e),u.setThemeInfo({}),l.urlkey="",u.setUrlKey(l.urlkey),h.location.href="/go/"+l.tabsignups[l.tab.index].urlid+l.pidParam.newformat+"#/")},l.checkForTabTruncation=function(e,t){l.popText=angular.element(document.getElementById(t))[0].offsetWidth<angular.element(document.getElementById(t))[0].scrollWidth?e:""},function(){p.ajaxResultInvalid(b)?l.errorMessage=p.getAjaxResponseMessage(b.data):(S(b),u.setTabGroup(b),l.tab.index=u.getTabIndex(),l.urlkey.length||(l.urlkey=l.tabsignups[l.tab.index].urlid,u.setUrlKey(l.urlkey)),u.getsignup({forSignUpView:!0,urlid:l.urlkey,portalid:l.portalid}).then(function(e){e=p.lowerCaseKeys(e);a={},a=e,p.ajaxResultInvalid(a)||"test-fail-tab"==a.data.data.urlid.toString().trim().toLowerCase()?l.errorMessage=p.getAjaxResponseMessage(a.data):y.getMemberInfo({extended:!0,forceRefresh:!0,listid:0,urlid:a.data.data.urlid}).then(function(e){e=p.lowerCaseKeys(e);i={},i=e,l.memberInfo=i,u.setMemberInfo(i),u.gettheme({urlid:l.urlkey}).then(function(e){e=p.lowerCaseKeys(e);s=e,p.ajaxResultInvalid(s)?l.errorMessage=p.getAjaxResponseMessage(s.data):(T(a,s),I())})})}))}),R=function(){return!Number.isNaN(l.portalid)&&0<l.portalid},j=(l.determineSignupType=function(){return l.signupInfo.expired?"expired":l.signupInfo.nodate?"nodate":l.signupInfo.usersvp?"rsvp":l.signupInfo.calendarview&&l.showCalendarView?"calendar":"d"===l.signupInfo.itemsort.toString().toLowerCase()?"standard_d":"standard_i"},l.getQtyForMember=function(e,t){var i=0;return e.forEach(function(e){e.memberid===t&&(i+=e.myqty)}),i},function(e){var t={};t.mid=e.mid||l.memberInfo.memberid,t.requirecompany=e.requirecompany||0,t.showcompany=e.showcompany||0,t.siid=e.siid||l.selectedSlotItems,t.siids=e.siids||l.selectedSlotItems,t.urlid=e.urlid||l.signupInfo.urlid,t.listid=e.listid||"",t.rsvpid=e.rsvpid||"",t.token=e.token||"",t.imid=e.mid?e.imid:"",u.setAttrs(t)});l.saveAndContinue=function(){var e;l.previewMode||((e={}).mid=l.memberInfo.memberid,e.siids=l.selectedSlotItems,e.urlid=l.signupInfo.urlid,j(e),e="/form/"+l.signupInfo.listformat,o.path(e))},l.share=function(e){var t,i,a,n,o,s,r;l.previewMode||(i=angular.isDefined(h.location.origin)?h.location.origin:h.location.protocol+"//"+h.location.host,t=angular.isDefined(l.signupInfo.fullurl)&&""!==l.signupInfo.fullurl?l.signupInfo.fullurl:encodeURIComponent(i+"/go/"+l.urlkey),i=""!==l.theme.mainimage?encodeURIComponent(l.theme.mainimage):encodeURIComponent(i+"/images/theme/"+l.theme.id+"-large.jpg"),n=a="",s=o=0,r=encodeURIComponent('Check out "'+l.signupInfo.header.title.toString().trim()+'" on @SignUpGenius'),"fb"===e?(n="width=640,height=400",o=h.top.outerHeight/2+h.top.screenY-200,s=h.top.outerWidth/2+h.top.screenX-320,a="http://www.facebook.com/sharer/sharer.php?u="+t+"&src=sp"):"pinterest"===e?(n="width=740,height=700",o=h.top.outerHeight/2+h.top.screenY-350,s=h.top.outerWidth/2+h.top.screenX-370,a="http://pinterest.com/pin/create/button/?url="+t+"&media="+i+"&description="+r+"%20"+t):"twitter"===e&&(n="width=640,height=320",o=h.top.outerHeight/2+h.top.screenY-160,s=h.top.outerWidth/2+h.top.screenX-320,a="https://twitter.com/share?text="+r+"&url="+t),h.open(a,"_blank",n+=",top="+o+",left="+s))},l.changeTabGroup=function(){var e;l.frm.selectedTabGroup.length&&(e="/tabs/"+l.frm.selectedTabGroup.toString().trim()+l.pidParam.newformat,h.location.href=e)},x()?(C=t.defer(),u.getportalembeddata({portalid:l.portalid}).then(function(e){l.embedportalinfo=u.getEmbedPortalInfo(),l.showBackToPortal=!0,l.pidParam.newformat="/pid/"+l.portalid,l.pidParam.oldformat="&pid="+l.portalid,C.resolve()},function(e){C.reject(e)}),C.promise.then(function(){k()})):k(),b.signuptabbing||o.path(l.signupInfo.fullpath)}]);var G=function(e){var t,i={"background-color":e.backgroundcolor,width:"100%"},a=(""!==e.backgroundimage&&(i["background-image"]="url("+e.backgroundimage+") !important")," body {");for(t in i)i.hasOwnProperty(t)&&(a+=t+":"+i[t]+";");a=(a=(a=(a+="}")+" .l-signuppage .backtoportal {  background-color: "+e.tableheaderbackground+";")+" color: "+e.tableheadertext+";")+" border-bottom: 1px solid "+e.textcolor1+" !important;",""!==e.tableheaderimage&&(a+=" background-image: url("+e.tableheaderimage+") !important;"),a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a+"} .l-signuppage .backtoportal li a {  color: "+e.tableheadertext+"; }")+" .signupPage { color: "+e.textcolor1+" }")+" .signupPage p { color: "+e.textcolor1+" }")+" .signupPage h1 { color: "+e.textcolor2+" !important; }")+" .signupPage .SUGlink { color: "+e.textcolor2+" !important; }")+" .signupPage .hdr-labels { color: "+e.textcolor1+" !important; }")+" .signupPage .sugbutton { color: "+e.backgroundcolor+" !important; font-weight: bold; background-color: "+e.textcolor1+" !important; font-size:inherit; margin-left:10px; padding:8px; border-radius: 17px;}")+" .signupPage a, .signupPage .hyperlink { color: "+e.textcolor2+"; }")+" .signupPage .hyperlink:focus, .signupPage .hyperlink:hover, .signupPage .hyperlink:active, .signupPage a:focus, .signupPage a:hover, .signupPage a:active  { color: "+e.textcolor2+"; text-decoration: underline;  }")+" .signupPage thead {  background-color: "+e.tableheaderbackground+";")+" color: "+e.tableheadertext+";",""!==e.tableheaderimage&&(a+=" background-image: url("+e.tableheaderimage+") !important;"),a=(a=(a=(a=(a=(a+="}")+" .signupPage tbody {  background-color: "+e.backgroundcolor+";")+" border-top: 1px solid "+e.textcolor1+" !important;}")+" .signupPage th { border-bottom: 2px solid "+e.textcolor1+" !important; } .signupPage td { border: none !important; }")+" .signupPage tfoot {  background-color: "+e.tableheaderbackground+";")+" color: "+e.tableheadertext+";",""!==e.tableheaderimage&&(a+=" background-image: url("+e.tableheaderimage+") !important;"),a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a+="}")+" .signupPage table {  border-top: 3px solid "+e.textcolor1+";")+" border-right: 1px solid "+e.textcolor1+";")+" border-bottom: 3px solid "+e.textcolor1+";")+" border-left: 1px solid "+e.textcolor1+";")+"} .signupPage .table-wrapper tr:not(:first-child) td:first-child:before { border-bottom-color: "+e.textcolor1+" }")+" .signupPage .padded-options.indicator:before { border-left: 2px solid "+e.textcolor1+"; }")+" .signupPage .padded-options.indicator:after { color: "+e.textcolor1+"; } .signupPage .btn-default { ")+" border: 1px solid transparent; color: "+e.textcolor1+"; background: transparent; }")+" .signupPage .btn-success {  background-color: "+e.tableheaderbackground+";")+" color: "+e.tableheadertext+";")+" border: 1px solid "+e.textcolor1+";",""!==e.tableheaderimage&&(a+=" background-image: url("+e.tableheaderimage+") !important;"),a+="} .signupPage .btn-bar { ",""===e.tableheaderimage?a+=" background-color: "+e.tableheaderbackground+";":a+=" background-color: "+e.textcolor1+";";var a=(a=(a=(a=(a=(a=(a=(a=a+(" color: "+e.tableheadertext+";")+"}")+" .signupPage .btn-bar .submit-btn-wrap .btn-signup-submit { "+" -moz-box-shadow: 0px 6px 10px 0 rgba(34,34,34,.35);")+" -webkit-box-shadow: 0px 6px 10px 0 rgba(34,34,34,.35);"+" box-shadow: 0 6px 10px 0 rgba(34,34,34,.35);")+(" border: 1px solid "+e.tableheadertext+";")+"}")+" .signupPage .feedback-tooltip { "+(" background-color: "+e.textcolor2+" !important;"))+(" color: "+e.backgroundcolor+" !important;"))+"}"+(" .signupPage .feedback-tooltip:before { border-right-color: "+e.textcolor2+"; }"))+(" .signupPage .table .feedback-tooltip:before { border-bottom-color: "+e.textcolor2+"; }"),n=e.buttoncolor,o=e.buttontextcolor,s=e.buttontextcolor,n=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a+=" .signupPage .form-control-danger { border-color: "+e.textcolor2+"; }")+(" .signupPage .form-group.has-error::before, .signupPage .control-group.has-error::before { border-left: 6px solid "+e.textcolor2+"; }"))+" .signupPage .feedback-error { "+(" background-color: "+n+";"))+(" color: "+s+";")+(" border-color: "+o+";"))+" width: 100%;"+"}")+" .signupPage .feedback-error a { "+(" color: "+s+"; text-decoration: underline;"))+"}"+" .signupPage .has-error .form-control, .signupPage .has-error .form-control-feedback { ")+(" border-color: "+o+";")+" color: ##000000;")+"}"+" .signupPage .has-error label.control-label { ")+(" color: "+s+";")+" font-weight: bold; ")+"}"+(" .signupPage .sm-color { fill: "+e.textcolor2+"; }"))+" .signupPage .sm-icon-size { width: 48px;  height: 48px; }"+(" .signupPage .signup--badge { background-color: "+e.buttoncolor+"; color: "+e.buttontextcolor+"}"))+" .signupPage .sub-footer .nobrand { "+(" background-color: "+e.backgroundcolor+";"),""!==e.backgroundimage&&(a+=" background-image: url("+e.backgroundimage+") !important;"),a=(a=(a=(a=(a=(a=(a=(a=(a=a+"}"+" .signupPage .sub-footer .nobrand > .hyperlink, .signupPage .sub-footer .nobrand > .verysmalllink { ")+" text-decoration: underline;"+(" color: "+e.TextColor2+";"))+"}"+(" .signupPage .date-sorted .signupdata--date-dt { color: "+e.textcolor2+" !important; }"))+(" .signupPage .slot-sorted .signupdata--slot-title { color: "+e.textcolor2+" !important; }"))+(" .l-signuppage .no-date .signupdata--slot-title { color: "+e.textcolor2+"!important; }"))+(" .signupPage .calendar-view .cv-month-label--month { color: "+e.textcolor2+" !important; }"))+(" .signupPage .calendar-view .cv-month-label--nav a { color: "+e.textcolor2+" !important; }"))+" .signupPage .calendar-view .cv-hdr { "+(" background-color: "+e.tableheaderbackground+";"))+(" color: "+e.tableheadertext+";"),""!==e.tableheaderimage&&(a+=" background-image: url("+e.tableheaderimage+") !important;"),e.textcolor1);return a=(a=(a=(a=a+"}"+(" .signupPage .calendar-view .cv-grid { border-color: "+n+"; }"))+(" .signupPage .calendar-view .cv-day { box-shadow: -1px -1px "+n+", inset -1px -1px 0 0 "+n+";}")+(" .signupPage .calendar-view .cv-day.weekend { background-color: "+e.mutedTextColor1+";}"))+(" .signupPage .calendar-view .cv-day:hover { background-color: "+e.mutedButtonColor+";}"))+(".tabBackground { background-color:  "+e.backgroundcolor+"width: 100%; background-image: url( "+e.backgroundimage+") !important;}")};SUGApp.controller("signUpPasscodeController",["$scope","$location","signupPageService","SUGUtilities","errorService","$route",function(i,e,a,n,t,o){i.errorMessage="",i.disableForm=!0,i.portalid=a.getPortalId(),i.str={instruction:"To view this sign up, please enter the Access Code provided by the sign up creator in the email invitation.  Contact the sign up creator to obtain the access code if you did not receive an email invitation.",label:"Access Code:",title:"Access Code Required",contact:"Having problems with access? For help, ",contactlink:"contact the sign up creator."},i.frmObj={accessCode:""},i.es=t.newInstance(),i.errorStrings={errorsTitle:"",errorsPleaseCorrect:"Please correct the issues indicated below."},i.submitAccessCode=function(){var e;i.es.clearErrors(),i.frmObj.accessCode.length?(e={forSignUpView:i.disableForm=!0,urlid:i.urlkey,passcode:i.frmObj.accessCode,portalid:i.portalid},a.getsignup(e,1).then(function(e){e=n.lowerCaseKeys(e);e.data.success?(a.toggleDefaultTtl(),o.reload()):(i.disableForm=!1,i.es.setError("accesscode","no msg"),i.es.setError("error-top-level",e.data.message))})):(i.es.setError("accesscode","no msg"),i.es.setError("error-top-level","no msg"))};i.disableForm=!1,a.getsignup({forSignUpView:!0,urlid:i.urlkey,portalid:i.portalid}).then(function(e){var t,e=n.lowerCaseKeys(e);n.ajaxResultInvalid(e)?(t=e.data&&e.data.data&&e.data.data.message?e.data.data.message:"An error occurred while retrieving the sign up information. Please try again at a later time.",i.es.setError("error-top-level",t)):(t=e.data.data,i.contactLink="/index.cfm?go=c.help&mid="+t.mid+"&id="+t.id,e=a.getThemeInfo(),i.linkcolor=n.keyExists(e,"textcolor2",!0)?e.textcolor2:"",i.str.instruction=t.message,t.allowembed&&!Number.isNaN(i.portalid)&&0<i.portalid&&(i.contactLink+="&pid="+i.portalid))})}]),SUGApp.controller("standardSignUpController",["$scope","SUGUtilities","signupPageService","$filter","errorService","$sce","$window","$timeout",function(s,o,r,a,A,O,F,n){s.memberInfo=r.getMemberInfo(),s.signupInfo=r.getSignUpInfo(),s.themeInfo=r.getThemeInfo(),s.dateFormat=void 0!==s.signupInfo.shortdformat?s.signupInfo.shortdformat.replace("mm","MM"):"MM/dd/yyyy";function i(){for(var e=document.getElementsByClassName("scrollable"),t=0;t<e.length;t++){var i=document.getElementById(e[t].id+"-wrap"),a=$("#"+e[t].id);l(i,a,8)}}var e=[],l=(s.displayLimits={dates:5,items:8},s.slotCount=0,s.filteredData=[],s.showLocation=!1,s.slotTemplate="slots_standard.html",s.columnCount=1,o.keyExists(s.signupInfo,"slottitle",!0)&&s.signupInfo.slottitle!==s.strings.lbls.availableSlot&&(s.strings.lbls.availableSlot=s.signupInfo.slottitle),s.deleteItemMember=function(n,e){r.deleteItemMemberModal(n,e).then(function(t){var i,a,e=s.signupInfo.participants[n.slotitemid];s.signupInfo.participants[n.slotitemid]=e.filter(function(e){return e.itemmemberid!=t.itemmemberid}),s.filteredData.some(function(e,t){return e.slotid===n.slotid&&(i=t,!0)}),o.isIntegerGTE0(i)&&(s.filteredData[i].items.some(function(e,t){return e.slotitemid===n.slotitemid&&(a=t,!0)}),o.isIntegerGTE0(a))&&(s.filteredData[i].items[a].participants=s.signupInfo.participants[t.slotitemid],s.filteredData[i].items[a].qtytaken=Math.max(s.filteredData[i].items[a].qtytaken-s.filteredData[i].items[a].myqty,0),e=r.getAvailability(s.filteredData[i].items[a].qty,s.filteredData[i].items[a].qtytaken,s.filteredData[i].items[a].isaddlocked,s.isLocked()),s.filteredData[i].items[a].qtyLabel=e.qtyLabel,s.filteredData[i].items[a].qtyLabelResponsive=e.qtyLabelResponsive,s.userSignUp.totalQty-=s.filteredData[i].items[a].myqty,s.filteredData[i].items[a].myqty=s.memberId?s.getQtyForMember(s.filteredData[i].items[a].participants,s.memberId):0,s.signupInfo.hasavailableslots||(s.signupInfo.hasavailableslots=!0,s.es.clearErrors()),s.filteredData[i].items[a].btnState=e.btnState)})},s.setFilteredData=function(){s.filteredData=e},function(e,t,i){var a=t.height(),n=s.columnWidths[t[0].id],o=s.columnWidths[e.id];0<e.getBoundingClientRect().top?t.css({position:"relative",top:0}):0<=e.getBoundingClientRect().bottom-a-2*i?(t.css({width:n,position:"fixed",top:i}),$("#"+e.id).css({width:o,"max-width":o,"min-width":o})):0<=e.getBoundingClientRect().bottom?(t.css({width:n,position:"fixed",top:e.getBoundingClientRect().bottom-a-i}),$("#"+e.id).css({width:o,"max-width":o,"min-width":o})):t.css({position:"relative",top:0})}),t=function(e){e=new Date(e);return{date:a("date")(e,s.signupInfo.shortdformat.replace("mm","MM")),day:a("date")(e,"EEEE")}},d=function(e,t){var e=new Date(e),i="";return i+='<span class="no-wrap">'+a("date")(e,"h:mma").toLowerCase(),t.length?(e=new Date(t),i+='- </span><br><span class="no-wrap">'+a("date")(e,"h:mma").toLowerCase()+"</span>"):i+="</span>",i.length&&(s.showTime=!0),i},p=function(e){var t,i={url:"",full:"",address1:"",address2:"",city:"",state:"",zipcode:""};return s.signupInfo.locations[e]&&0!==Object.keys(s.signupInfo.locations[e]).length&&(t=(e=s.signupInfo.locations[e]).address1.length?e.address1:"",(t+=e.address2.length?" "+e.address2:"").length&&(t+=", "),(t=(t=(t=(t+=e.city.length?e.city+", ":"")+(e.state.length?e.state+" ":""))+(0<e.zipcode?e.zipcode.toString():"")).trim()).length)&&(i.full=t,i.url="https://www.google.com/maps/search/?api=1&query="+t.replace(/ /g,"+"),i.address1=e.address1,i.address2=e.address2,i.city=e.city,i.state=e.state,i.zipcode=e.zipcode),i},u=(s.getColumnCount=function(e,t,i){var a=1;return e&&a++,i&&a++,t&&a++,a},function(e){var t=s.slotCount>s.displayLimits.items,i=s.filteredData.length>s.displayLimits.dates;(t||i)&&n(function(){t&&(s.displayLimits.items=s.displayLimits.items+20),i&&(s.displayLimits.dates=s.displayLimits.dates+20)},e?600:25).then(u)});s.showLocation=!1,s.showTime=!1;var g,c=o.deepCopy(s.signupInfo.slots);for(g in s.virtualLocations=s.signupInfo.virtuallocations,c)if(c.hasOwnProperty(g)){c[g].dateLabel=t(c[g].starttime),c[g].timeLabel=c[g].usetime?d(c[g].starttime,c[g].endtime):"",c[g].location.length&&(s.showLocation=!0);var m=void 0!==c[g].locationid&&0<c[g].locationid?p(c[g].locationid):p(0);c[g].locdetail={url:m.url,full:m.full,address1:m.address1,address2:m.address2,city:m.city,state:m.state,zipcode:m.zipcode,showicon:!0,virtuallocationurl:null,physicalandvirtual:!1},c[g].virtuallocationid&&(m=c[g].virtuallocationid,c[g].virtualocdetail=s.virtualLocations[m],c[g].locdetail.virtuallocationurl=s.virtualLocations[m].virtuallocationlinkurl,c[g].locdetail.virtuallocationtype=s.virtualLocations[m].type),0<c[g].virtuallocationid&&0<c[g].locationid?c[g].locdetail.physicalandvirtual=!0:c[g].locdetail.physicalandvirtual=!1;for(var f=0;f<c[g].items.length;f++){var h=c[g].items[f].itemid,b=void 0!==s.signupInfo.itemimages[h]?s.signupInfo.itemimages[h]:{},b=(c[g].items[f].images=b,void 0===c[g].items[f].itemimage&&(c[g].items[f].itemimage=o.keyExists(s.signupInfo.itemimages[h],"images",!0)&&s.signupInfo.itemimages[h].images.length?s.signupInfo.itemimages[h].images[0]:""),c[g].items[f].participants=o.keyExists(s.signupInfo,"participants",!0)&&o.keyExists(s.signupInfo.participants,c[g].items[f].slotitemid,!0)?s.signupInfo.participants[c[g].items[f].slotitemid]:[],r.getAvailability(c[g].items[f].qty,c[g].items[f].qtytaken,c[g].items[f].isaddlocked,s.isLocked())),h=(c[g].items[f].qtyLabel=b.qtyLabel,c[g].items[f].qtyLabelResponsive=b.qtyLabelResponsive,!1);s.selectedSlotItems.length&&-1<s.selectedSlotItems.findIndex(function(e){return e===c[g].items[f].slotitemid})&&(h=!0),c[g].items[f].btnState=h?"selected":b.btnState,c[g].items[f].myqty=s.memberId?s.getQtyForMember(c[g].items[f].participants,s.memberId):0,c[g].items[f].deleteModalInfo=s.getDeleteModalInfo(c[g].items[f],c[g],c[g].items[f].slotitemid)}e.push(c[g])}e.sort(function(e,t){var i=new Date(e.starttime),a=new Date(t.starttime),n=e.location,o=t.location,e=e.locationid,t=t.locationid;return i.getTime()<a.getTime()?-1:i.getTime()>a.getTime()?1:n<o?-1:o<n?1:e<t?-1:t<e?1:0});for(var y={},v=[],w=0,I={date:"",time:""},S=!s.showHeaderTime(),k=0;k<e.length;k++)(o.keyExists(e[k],"dateLabel",!0)||o.keyExists(e[k].dateLabel,"date",!0))&&(S&&(e[k].dateLabel.date==I.date?e[k].timeLabel!=I.time&&(s.showTimeColumn=!0):I.date=e[k].dateLabel.date,I.time=e[k].timeLabel),s.showHeaderDate()||(v[e[k].dateLabel.date]?y[e[k].dateLabel.date].count+=1:(v[e[k].dateLabel.date]=!0,y[e[k].dateLabel.date]={count:1,firstslotid:e[k].slotid},w+=1)));for(var x=0;x<e.length;x++){var C,D=0;for(C in y)if(e[x].slotid==y[C].firstslotid){D=y[C].count;break}e[x].daterowspan=D}1<w&&(s.showCalendarIcon=!0);var U={},L=[];if(!s.showHeaderLocation())for(var P,M,E,T=0;T<e.length;T++)(o.keyExists(e[T],"dateLabel",!0)||o.keyExists(e[T].dateLabel,"date",!0))&&o.keyExists(e[T],"location",!0)&&o.keyExists(e[T],"locationid",!0)&&o.keyExists(e[T],"starttime",!0)&&o.keyExists(e[T],"endtime",!0)&&(L[P=(E=P!==e[T].dateLabel.date+"_"+e[T].location+"_"+e[T].locationid)?e[T].dateLabel.date+"_"+e[T].location+"_"+e[T].locationid:P]&&!E?U[P][M].count+=1:L[P]&&E?(M=e[T].slotid,o.keyExists(U[P],M,!0)?U[P][M].count+=1:U[P][M]={count:1}):(M=e[T].slotid,L[P]=!0,U[P]={date:e[T].dateLabel.date},U[P][M]={count:1}));for(var q=0;q<e.length;q++){var R,j=0;for(R in U)if(U.hasOwnProperty(R)&&e[q].dateLabel.date==U[R].date&&o.keyExists(U[R],e[q].slotid,!0)){j=U[R][e[q].slotid].count;break}e[q].locationrowspan=j}s.setFilteredData(),s.slotCount=function(e){for(var t=0,i=0;i<e.length;i++)e[i].items&&t<e[i].items.length&&(t=e[i].items.length);return t}(s.filteredData),s.columnCount=s.getColumnCount(!s.showHeaderDate(),!s.showHeaderLocation()&&s.showLocation,!s.showHeaderTime()&&s.showTimeColumn),s.slotTemplate=3<=s.columnCount?"slots_stacked.html":"slots_standard.html",n(function(){$(window).scroll(i),s.columnWidths={};for(var e=document.getElementsByClassName("scrollable"),t=0;t<e.length;t++)s.columnWidths[e[t].id]=document.getElementById(e[t].id).getBoundingClientRect().width,s.columnWidths[e[t].id+"-wrap"]=document.getElementById(e[t].id+"-wrap").getBoundingClientRect().width},900),u(!0)}]),SUGApp.controller("rsvpSignUpController",["$scope","SUGUtilities","signupPageService","$filter","errorService","$sce","$window","$timeout",function(r,l,e,t,i,a,n,o){r.signupInfo=e.getSignUpInfo(),r.themeInfo=e.getThemeInfo(),r.dateFormat=void 0!==r.signupInfo.shortdformat?r.signupInfo.shortdformat.replace("mm","MM"):"MM/dd/yyyy",r.filteredSlots=[],r.responses={yes:[],no:[],maybe:[],responded:[],noresponse:[]},r.counts={response:{yes:0,no:0,maybe:0,noresponse:0},guest:{confirmed:0,maybe:0},child:{confirmed:0,maybe:0}},r.show={slots:!1,responses:!1,child:!1,responseNote:!1,participantNames:!1,participantNote:!1,detail:{yes:!1,no:!1,maybe:!1,noresponse:!1}};var s=[],d=(r.filterSlots=function(){r.filteredSlots=s},function(e,t){var i="",a=r.show.child?"adult":"guest";return 0<e&&(i+=e.toString()+" "+a,1<e)&&(i+="s"),r.show.child&&0<t&&(i.length&&(i+=", "),i+=t.toString()+" child",1<t)&&(i+="ren"),i}),p=function(e,t){var i="",a="";return void 0!==e&&e.toString().length&&(i=e.toString(),a=e.toString().charAt(0).toUpperCase()),i+=0<i.length?" ":"",void 0!==t&&t.toString().length&&(i+=t.toString(),a+=t.toString().charAt(0).toUpperCase()),{displayname:i,initials:a}},e=function(){if(r.showEditMySignUp){r.userSignUp.myRSVP={};for(var e=0;e<r.userSignUp.rsvpRecs.length;e++){var t=p(r.userSignUp.rsvpRecs[e].displayfirstname,r.userSignUp.rsvpRecs[e].displaylastname),i=(r.userSignUp.myRSVP.displayname=t.displayname,"");switch(r.userSignUp.rsvpRecs[e].rsvp){case"Y":i=(i+=r.strings.rsvp.countOnYes)+d(r.userSignUp.rsvpRecs[e].rsvpcount,r.userSignUp.rsvpRecs[e].rsvpchildcount);break;case"N":i+="NO";break;case"M":i=(i+=r.strings.rsvp.countOnMaybe)+d(r.userSignUp.rsvpRecs[e].rsvpcount,r.userSignUp.rsvpRecs[e].rsvpchildcount)}r.userSignUp.myRSVP.responseLabel=i}if(r.userSignUp.myRSVP.items=[],l.keyExists(r.signupInfo,"rsvpdetails.rsvpitems"))for(var a=l.deepCopy(r.signupInfo.rsvpdetails.rsvpitems),n=0;n<r.userSignUp.participantRecs.length;n++)for(var o,s=0;s<a.length;s++)r.userSignUp.participantRecs[n].slotitemid===a[s].slotitemid&&(o=a[s].item,1<r.userSignUp.participantRecs[n].myqty&&(o+="("+r.userSignUp.participantRecs[n].myqty.toString()+")"),r.userSignUp.myRSVP.items.push(o))}},u=function(e){return void 0!==e&&1==e};if(r.show.responses=!!u(r.signupInfo.showrsvp),r.show.participantNames=!!u(r.signupInfo.shownames),!r.show.responses&&r.isUserSignUpAdmin&&(r.show.responseNote=!0,r.show.responses=!0),!r.show.participantNames&&r.isUserSignUpAdmin&&(r.show.participantNote=!0,r.show.participantNames=!0),r.show.slots=l.keyExists(r.signupInfo,"rsvpdetails.rsvpitems")&&r.signupInfo.rsvpdetails.rsvpitems.length,r.show.responses){u(r.signupInfo.childrsvp)&&(r.show.child=!0),r.counts={response:{yes:l.keyExists(r.signupInfo,"rsvpdetails.count.yesrsvps")?r.signupInfo.rsvpdetails.count.yesrsvps:0,no:l.keyExists(r.signupInfo,"rsvpdetails.count.norsvps")?r.signupInfo.rsvpdetails.count.norsvps:0,maybe:l.keyExists(r.signupInfo,"rsvpdetails.count.maybersvps")?r.signupInfo.rsvpdetails.count.maybersvps:0,noresponse:l.keyExists(r.signupInfo,"rsvpdetails.count.noresponse")?r.signupInfo.rsvpdetails.count.noresponse:0},guest:{confirmed:l.keyExists(r.signupInfo,"rsvpdetails.count.yesguests")?r.signupInfo.rsvpdetails.count.yesguests:0,maybe:l.keyExists(r.signupInfo,"rsvpdetails.count.maybeguests")?r.signupInfo.rsvpdetails.count.maybeguests:0},child:{confirmed:l.keyExists(r.signupInfo,"rsvpdetails.count.yeschild")?r.signupInfo.rsvpdetails.count.yeschild:0,maybe:l.keyExists(r.signupInfo,"rsvpdetails.count.maybechild")?r.signupInfo.rsvpdetails.count.maybechild:0}},r.responses={yes:[],no:[],maybe:[],responded:[],noresponse:[]};for(var g=l.deepCopy(r.signupInfo.rsvp),c=0;c<g.length;c++){var m=p(g[c].displayfirstname,g[c].displaylastname),f=d(g[c].rsvpcount,g[c].rsvpchildcount),h=(f.length&&(f="("+f+")"),{displayname:m.displayname,initials:m.initials,comment:g[c].comment,summaryLabel:f});switch(g[c].rsvp){case"Y":r.responses.yes.push(h),r.responses.responded.push({memberid:g[c].memberid});break;case"N":r.responses.no.push(h),r.responses.responded.push({memberid:g[c].memberid});break;case"M":r.responses.maybe.push(h),r.responses.responded.push({memberid:g[c].memberid})}}for(var b=l.deepCopy(r.signupInfo.rsvpdetails.invitees),y=0;y<b.length;y++){for(var v,w=!1,I=0;I<r.responses.responded.length;I++)if(b[y].memberid===r.responses.responded[I].memberid){w=!0;break}w||((v=p(b[y].firstname,b[y].lastname)).displayname.length||(v.displayname=b[y].emailpart),r.responses.noresponse.push({displayname:v.displayname,initials:v.initials}))}r.responses.noresponse.sort(function(e,t){e=e.displayname.toString().toLowerCase(),t=t.displayname.toString().toLowerCase();return e<t?-1:t<e?1:0})}if(e(),s=[],r.show.slots){l.keyExists(r.signupInfo,"slottitle")&&r.signupInfo.slottitle!==r.strings.lbls.availableSlot&&(r.strings.lbls.availableSlot=r.signupInfo.slottitle),s=r.signupInfo.rsvpdetails.rsvpitems;for(var S=0;S<s.length;S++){s[S].qty<999999?s[S].qtyLabel="("+s[S].qty+")":s[S].qtyLabel="";var k=s[S].qty-s[S].availableqty;if(0<k?999999==s[S].qty?(s[S].participantLabel=k.toString()+" slot",1<k&&(s[S].participantLabel+="s"),s[S].participantLabel+=" filled - more available"):(s[S].participantLabel=k.toString()+" of "+s[S].qty.toString()+" slot",1<s[S].qty&&(s[S].participantLabel+="s"),s[S].participantLabel+=" filled"):s[S].participantLabel="",s[S].participantNames=[],r.show.participantNames&&l.keyExists(r.signupInfo,"participants."+s[S].slotitemid.toString()))for(var x=r.signupInfo.participants[s[S].slotitemid],C=0;C<x.length;C++){var D=p(x[C].firstname,x[C].lastname);s[S].participantNames.push({displayname:D.displayname,mycomment:x[C].mycomment,initials:D.initials})}}}r.filterSlots()}]),SUGApp.controller("slotSortSignUpController",["$scope","SUGUtilities","signupPageService","$filter","errorService","$sce","$window","$timeout",function(d,p,o,a,A,O,F,n){d.memberInfo=o.getMemberInfo(),d.signupInfo=o.getSignUpInfo(),d.themeInfo=o.getThemeInfo(),d.dateFormat=void 0!==d.signupInfo.shortdformat?d.signupInfo.shortdformat.replace("mm","MM"):"MM/dd/yyyy",d.displayLimits={dates:8,items:5},d.dateCount=0;function u(){for(var e=document.getElementsByClassName("scrollable"),t=0;t<e.length;t++){var i=document.getElementById(e[t].id+"-wrap"),a=$("#"+e[t].id);B(i,a,8)}}var e=[],B=(d.filteredData=[],d.showLocation=!1,d.slotTitleTruncateAt=200,d.slotTemplate="slots_standard.html",d.columnCount=1,d.defaultBtnState="default",d.selectedBtnState="selected",p.keyExists(d.signupInfo,"slottitle")&&d.signupInfo.slottitle!==d.strings.lbls.availableSlot&&(d.strings.lbls.availableSlot=d.signupInfo.slottitle),d.deleteItemMember=function(n,e){o.deleteItemMemberModal(n,e).then(function(t){var i,a,e=d.signupInfo.participants[n.slotitemid];d.signupInfo.participants[n.slotitemid]=e.filter(function(e){return e.itemmemberid!=t.itemmemberid}),d.filteredData.some(function(e,t){return e.itemid===n.itemid&&(i=t,!0)}),p.isIntegerGTE0(i)&&(d.filteredData[i].dates.some(function(e,t){return e.slotitemid===n.slotitemid&&(a=t,!0)}),p.isIntegerGTE0(a))&&(d.filteredData[i].dates[a].participants=d.signupInfo.participants[t.slotitemid],d.filteredData[i].dates[a].qtytaken=Math.max(d.filteredData[i].dates[a].qtytaken-d.filteredData[i].dates[a].myqty,0),e=o.getAvailability(d.filteredData[i].qty,d.filteredData[i].dates[a].qtytaken,d.filteredData[i].dates[a].isaddlocked,d.isLocked()),d.filteredData[i].dates[a].qtyLabel=e.qtyLabel,d.filteredData[i].dates[a].qtyLabelResponsive=e.qtyLabelResponsive,d.userSignUp.totalQty-=d.filteredData[i].dates[a].myqty,d.filteredData[i].dates[a].myqty=d.memberId?d.getQtyForMember(d.filteredData[i].dates[a].participants,d.memberId):0,d.signupInfo.hasavailableslots||(d.signupInfo.hasavailableslots=!0,d.es.clearErrors()),d.filteredData[i].dates[a].btnState=e.btnState)})},d.setFilteredData=function(){N(e),d.filteredData=e},function(e,t,i){var a=t.height(),n=d.columnWidths[t[0].id],o=d.columnWidths[e.id];0<e.getBoundingClientRect().top?t.css({position:"relative",top:0}):0<=e.getBoundingClientRect().bottom-a-2*i?(t.css({width:n,position:"fixed",top:i}),$("#"+e.id).css({width:o,"max-width":o,"min-width":o})):0<=e.getBoundingClientRect().bottom?(t.css({width:n,position:"fixed",top:e.getBoundingClientRect().bottom-a-i}),$("#"+e.id).css({width:o,"max-width":o,"min-width":o})):t.css({position:"relative",top:0})}),G=function(e){e=new Date(e);return{date:a("date")(e,d.signupInfo.shortdformat.replace("mm","MM")),day:a("date")(e,"EEEE")}},_=function(e,t){var e=new Date(e),i="";return i+='<span class="no-wrap">'+a("date")(e,"h:mma").toLowerCase(),t.length?(e=new Date(t),i+="-"+a("date")(e,"h:mma").toLowerCase()+"</span>"):i+="</span>",i.length&&(d.showTime=!0),i},t=function(e){var t,i={url:"",full:"",address1:"",address2:"",city:"",state:"",zipcode:""};return d.signupInfo.locations[e]&&0!==Object.keys(d.signupInfo.locations[e]).length&&(t=(e=d.signupInfo.locations[e]).address1.length?e.address1:"",(t+=e.address2.length?" "+e.address2:"").length&&(t+=", "),(t=(t=(t=(t+=e.city.length?e.city+", ":"")+(e.state.length?e.state+" ":""))+(0<e.zipcode?e.zipcode.toString():"")).trim()).length)&&(i.full=t,i.url="https://www.google.com/maps/search/?api=1&query="+t.replace(/ /g,"+"),i.address1=e.address1,i.address2=e.address2,i.city=e.city,i.state=e.state,i.zipcode=e.zipcode),i},N=function(e){for(var t=0;t<e.length;t++)if(p.keyExists(e[t],"dates"))for(var i=0;i<e[t].dates.length;i++){var a=!1,n=!1;p.keyExists(e[t].dates[i],"daterowspan")&&0<e[t].dates[i].daterowspan&&e[t].dates[i].daterowspan+i<e[t].dates.length&&(a=!0),p.keyExists(e[t].dates[i],"locationrowspan")&&0<e[t].dates[i].locationrowspan&&e[t].dates[i].locationrowspan+i<e[t].dates.length&&(n=!0),e[t].dates[i].showbottomdateborder=a,e[t].dates[i].showbottomlocborder=n}},s=(d.getColumnCount=function(e,t,i){var a=1;return e&&a++,i&&a++,t&&a++,a},function(e){var t=d.filteredData.length>d.displayLimits.items,i=d.dateCount>d.displayLimits.dates;(t||i)&&n(function(){t&&(d.displayLimits.items=d.displayLimits.items+20),i&&(d.displayLimits.dates=d.displayLimits.dates+20)},e?600:25).then(s)});d.showLocation=!1,d.showTime=!1;var i,r=p.deepCopy(d.signupInfo.slots);for(i in d.virtualLocations=d.signupInfo.virtuallocations,r)if(r.hasOwnProperty(i)){var H=void 0!==d.signupInfo.itemimages[i]?d.signupInfo.itemimages[i]:{};r[i].images=H,void 0===r[i].itemimage&&(r[i].itemimage=p.keyExists(d.signupInfo.itemimages[i],"images",!0)&&d.signupInfo.itemimages[i].images.length?d.signupInfo.itemimages[i].images[0]:"");for(var l=0;l<r[i].dates.length;l++){var g=r[i].dates[l],c=(g.dateLabel=G(g.starttime),g.timeLabel=g.usetime?_(g.starttime,g.endtime):"",g.location.length&&(d.showLocation=!0),void 0!==g.locationid&&0<g.locationid?t(g.locationid):t(0)),c=(g.locdetail={url:c.url,full:c.full,address1:c.address1,address2:c.address2,city:c.city,state:c.state,zipcode:c.zipcode,showicon:!0,virtuallocationurl:null,physicalandvirtual:!1},r[i].dates[l].virtuallocationid&&(c=g.virtuallocationid,g.virtualocdetail=d.virtualLocations[c],g.locdetail.virtuallocationurl=d.virtualLocations[c].virtuallocationlinkurl,g.locdetail.virtuallocationtype=d.virtualLocations[c].type),0<g.virtuallocationid&&0<g.locationid?g.locdetail.physicalandvirtual=!0:g.locdetail.physicalandvirtual=!1,r[i].dates[l].participants=p.keyExists(d.signupInfo,"participants",!0)&&p.keyExists(d.signupInfo.participants,r[i].dates[l].slotitemid,!0)?d.signupInfo.participants[r[i].dates[l].slotitemid]:[],o.getAvailability(r[i].qty,r[i].dates[l].qtytaken,r[i].dates[l].isaddlocked,d.isLocked()));r[i].dates[l].qtyLabel=c.qtyLabel,r[i].dates[l].qtyLabelResponsive=c.qtyLabelResponsive,r[i].dates[l].btnState=c.btnState,r[i].dates[l].btnState===d.selectedBtnState&&-1===d.selectedSlotItems.indexOf(r[i].dates[l].slotitemid)?r[i].dates[l].btnState=d.defaultBtnState:r[i].dates[l].btnState===d.defaultBtnState&&-1!==d.selectedSlotItems.indexOf(r[i].dates[l].slotitemid)&&(r[i].dates[l].btnState=d.selectedBtnState),r[i].dates[l].myqty=d.memberId?d.getQtyForMember(r[i].dates[l].participants,d.memberId):0,r[i].dates[l].deleteModalInfo=d.getDeleteModalInfo(r[i],r[i].dates[l],r[i].dates[l].slotitemid)}e.push(r[i])}e.sort(function(e,t){e=e.itemorder,t=t.itemorder;return e<t?-1:t<e?1:0});var m={},f={},h=[],b=[];if(!d.showHeaderDate())for(var y=0;y<e.length;y++)if(p.keyExists(e[y],"dates"))for(var v=0;v<e[y].dates.length;v++){var w=e[y].dates[v].dateLabel.date,w=(b[w]?f[w].count+=1:(b[w]=!0,f[w]={count:1},d.dateCount+=1),e[y].itemid.toString()+"_"+e[y].dates[v].dateLabel.date);h[w]?m[w].count+=1:(h[w]=!0,m[w]={count:1,firstslotitemid:e[y].dates[v].slotitemid})}for(var I=0;I<e.length;I++)for(var S=0;S<e[I].dates.length;S++){var k,x=0;for(k in m)if(e[I].dates[S].slotitemid==m[k].firstslotitemid){x=m[k].count;break}e[I].dates[S].daterowspan=x,d.dateCount+=1}1<d.dateCount&&(d.showCalendarIcon=!0);var C=[];if(!d.showHeaderLocation())for(var D=0;D<e.length;D++)if(p.keyExists(e[D],"dates"))for(var U,L,P,M=0;M<e[D].dates.length;M++)p.keyExists(e[D].dates[M],"slotid")&&p.keyExists(e[D].dates[M],"dateLabel.date")&&p.keyExists(e[D].dates[M],"location")&&p.keyExists(e[D].dates[M],"locationid")&&p.keyExists(e[D].dates[M],"starttime")&&p.keyExists(e[D].dates[M],"endtime")&&(L={count:1,itemid:e[D].itemid,date:e[D].dates[M].dateLabel.date,locationid:e[D].dates[M].locationid,location:e[D].dates[M].location,firstslotitemid:e[D].dates[M].slotitemid},0!=(U=C.length)&&(P=p.deepCopy(C[U-1])).itemid==e[D].itemid&&P.date==e[D].dates[M].dateLabel.date&&P.locationid==e[D].dates[M].locationid&&P.location==e[D].dates[M].location?C[U-1].count+=1:C.push(L));for(var E,T=0;T<e.length;T++)for(var q=0;q<e[T].dates.length;q++){for(var R=0,j=0;j<C.length;j++)if(e[T].itemid==C[j].itemid&&e[T].dates[q].dateLabel.date==C[j].date&&e[T].dates[q].location==C[j].location&&e[T].dates[q].locationid==C[j].locationid&&e[T].dates[q].slotitemid==C[j].firstslotitemid){R=C[j].count;break}e[T].dates[q].locationrowspan=R}E=1,d.showHeaderDate()||(E+=1),!d.showHeaderLocation()&&d.showLocation&&(E+=1),d.nestedColSpan=E,d.setFilteredData(),d.slotTitleTruncateAt=!d.showHeaderLocation()&&d.showLocation?190:295,d.columnCount=d.getColumnCount(!d.showHeaderDate(),!d.showHeaderLocation()&&d.showLocation,!d.showHeaderTime()),d.slotTemplate=3<=d.columnCount?"slots_stacked.html":"slots_standard.html",n(function(){$(window).scroll(u);for(var e=d.filteredData,t=0;t<e.length;t++)if(p.keyExists(e[t],"dates",!0)){for(var i=document.getElementById(e[t].itemid+"-slot-wrap"),a=0,n=null,o=0;o<e[t].dates.length;o++){var s=document.getElementById(e[t].itemid+"-"+e[t].dates[o].slotid+"-signup-btn-td");a+=(s=null==s?document.getElementById(e[t].itemid+"-"+e[t].dates[o].slotid+"-details-wrap"):s)?s.getBoundingClientRect().height:0,n=s}i=(i?i.getBoundingClientRect().height:0)-a;1<i&&n&&(n.style.height=n.getBoundingClientRect().height+i+"px")}d.columnWidths={};for(var r=document.getElementsByClassName("scrollable"),l=0;l<r.length;l++)d.columnWidths[r[l].id]=document.getElementById(r[l].id).getBoundingClientRect().width,d.columnWidths[r[l].id+"-wrap"]=document.getElementById(r[l].id+"-wrap").getBoundingClientRect().width},900),s(!0)}]),SUGApp.controller("noDateSignUpController",["$scope","SUGUtilities","signupPageService","$filter","errorService","$sce","$window","$timeout",function(s,n,o,t,e,i,a,r){s.memberInfo=o.getMemberInfo(),s.signupInfo=o.getSignUpInfo(),s.themeInfo=o.getThemeInfo(),s.displayLimit=10;function l(){for(var e=document.getElementsByClassName("scrollable"),t=0;t<e.length;t++){var i=document.getElementById(e[t].id+"-wrap"),a=$("#"+e[t].id);p(i,a,8)}}var d=[],p=(s.filteredData=[],s.showLocation=!1,n.keyExists(s.signupInfo,"slottitle")&&s.signupInfo.slottitle!==s.strings.lbls.availableSlot&&(s.strings.lbls.availableSlot=s.signupInfo.slottitle),s.deleteItemMember=function(a,e){o.deleteItemMemberModal(a,e).then(function(t){var i,e=s.signupInfo.participants[a.slotitemid];s.signupInfo.participants[a.slotitemid]=e.filter(function(e){return e.itemmemberid!=t.itemmemberid}),s.filteredData.length&&(s.filteredData[0].items.some(function(e,t){return e.slotitemid===a.slotitemid&&(i=t,!0)}),n.isIntegerGTE0(i))&&(s.filteredData[0].items[i].participants=s.signupInfo.participants[t.slotitemid],s.filteredData[0].items[i].qtytaken=Math.max(s.filteredData[0].items[i].qtytaken-s.filteredData[0].items[i].myqty,0),e=o.getAvailability(s.filteredData[0].items[i].qty,s.filteredData[0].items[i].qtytaken,s.filteredData[0].items[i].isaddlocked,s.isLocked()),s.filteredData[0].items[i].qtyLabel=e.qtyLabel,s.filteredData[0].items[i].qtyLabelResponsive=e.qtyLabelResponsive,s.userSignUp.totalQty-=s.filteredData[0].items[i].myqty,s.filteredData[0].items[i].myqty=s.memberId?s.getQtyForMember(s.filteredData[0].items[i].participants,s.memberId):0,s.signupInfo.hasavailableslots||(s.signupInfo.hasavailableslots=!0,s.es.clearErrors()),s.filteredData[0].items[i].btnState=e.btnState)})},s.setFilteredData=function(){s.filteredData=d},function(e,t,i){var a=t.height(),n=s.columnWidths[t[0].id],o=s.columnWidths[e.id];0<e.getBoundingClientRect().top?t.css({position:"relative",top:0}):0<=e.getBoundingClientRect().bottom-a-2*i?(t.css({width:n,position:"fixed",top:i}),$("#"+e.id).css({width:o,"max-width":o,"min-width":o})):0<=e.getBoundingClientRect().bottom?(t.css({width:n,position:"fixed",top:e.getBoundingClientRect().bottom-a-i}),$("#"+e.id).css({width:o,"max-width":o,"min-width":o})):t.css({position:"relative",top:0})}),u=function(e){e=new Date(e);return{date:t("date")(e,s.signupInfo.shortdformat.replace("mm","MM")),day:t("date")(e,"EEEE")}},g=function(e){s.filteredData.length&&s.filteredData[0].items&&s.filteredData[0].items.length>s.displayLimit&&r(function(){s.displayLimit=s.displayLimit+20},e?600:25).then(g)};s.showLocation=!1,s.showTime=!1;var c,m=n.deepCopy(s.signupInfo.slots);for(c in m)if(m.hasOwnProperty(c)){m[c].dateLabel=u(m[c].starttime);for(var f=0;f<m[c].items.length;f++){var h=m[c].items[f].itemid,b=void 0!==s.signupInfo.itemimages[h]?s.signupInfo.itemimages[h]:{},b=(m[c].items[f].images=b,void 0===m[c].items[f].itemimage&&(m[c].items[f].itemimage=n.keyExists(s.signupInfo.itemimages[h],"images",!0)&&s.signupInfo.itemimages[h].images.length?s.signupInfo.itemimages[h].images[0]:""),m[c].items[f].participants=n.keyExists(s.signupInfo,"participants",!0)&&n.keyExists(s.signupInfo.participants,m[c].items[f].slotitemid,!0)?s.signupInfo.participants[m[c].items[f].slotitemid]:[],o.getAvailability(m[c].items[f].qty,m[c].items[f].qtytaken,m[c].items[f].isaddlocked,s.isLocked()));m[c].items[f].qtyLabel=b.qtyLabel,m[c].items[f].qtyLabelResponsive=b.qtyLabelResponsive,m[c].items[f].btnState=b.btnState,m[c].items[f].myqty=s.memberId?s.getQtyForMember(m[c].items[f].participants,s.memberId):0,m[c].items[f].deleteModalInfo=s.getDeleteModalInfo(m[c].items[f],m[c],m[c].items[f].slotitemid)}d.push(m[c])}s.setFilteredData(),r(function(){$(window).scroll(l),s.columnWidths={};for(var e=document.getElementsByClassName("scrollable"),t=0;t<e.length;t++)s.columnWidths[e[t].id]=document.getElementById(e[t].id).getBoundingClientRect().width,s.columnWidths[e[t].id+"-wrap"]=document.getElementById(e[t].id+"-wrap").getBoundingClientRect().width},900),g(!0)}]),SUGApp.controller("calendarSignUpController",["$scope","SUGUtilities","signupPageService","$filter","errorService","$sce","$window","$timeout","$modal","$route",function(d,u,p,g,e,t,i,a,r,n){d.memberInfo=p.getMemberInfo(),d.showCalendarView=!0,d.urlkey=p.getUrlKey(),d.portalid=p.getPortalId(),d.baseCalendarParams={forSignUpView:!0,listid:n.current.params.signupid,urlid:d.urlkey,portalid:d.portalid,view:"calendar",calendarMonth:p.getCurrentMonth()},d.themeInfo=p.getThemeInfo(),d.signupInfo.calendarSlots={},d.signupInfo.calendarview=!0,d.hasCalendarSlots=!1,d.str={signedup:"You are signed up on this date."},d.daysOfWeek=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d.calendarGrid=[],d.dates={next:{jsDate:void 0},prev:{jsDate:void 0},selected:{monthname:"",jsDate:new Date,jsFDOM:void 0,jsLDOM:void 0,firstdayofweek:""},jsMinDate:void 0,jsMaxDate:void 0},d.btnState={default:"default",selected:"selected",full:"full",locked:"locked"};function c(e){return e=new Date(e),{date:g("date")(e,d.signupInfo.shortdformat.replace("mm","MM")),day:g("date")(e,"EEEE")}}var s=[],l={},m=[],f={show:!1},h={jsDateOnly:{},slots:[],isUserSignedUp:!1,isSelected:!1,isFull:!1,isLocked:!1,moreLabel:"",hasTimes:!1},b=[],o=!1,y=["January","February","March","April","May","June","July","August","September","October","November","December"],v={},w=(d.$on("isProcessing",function(e,t){d.calendarLoading=t,d.calendarLoading&&u.showLoading("processing")}),u.broadCast("isProcessing",!0),d.validateSelectedSlotItemsForDate=function(e){if(void 0!==d.selectedSlotItems&&void 0!==e.slots)for(var t=0;t<e.slots.length;t++)for(var i=e.slots[t].slotitems,a=0;a<i.length;a++)i[a].btnState===d.btnState.selected&&-1===d.selectedSlotItems.indexOf(i[a].slotitemid)?i[a].btnState=d.btnState.default:i[a].btnState===d.btnState.default&&-1!==d.selectedSlotItems.indexOf(i[a].slotitemid)&&(i[a].btnState=d.btnState.selected);return e},d.openCalendarItem=function(e,i,t,a,n){var o=u.deepCopy(i),s=[];r.open({templateUrl:"/view/signups/incl_dspCalendarViewModal.html",controller:"calendarViewModalController",resolve:{objDate:function(){return i},shortdformat:function(){return t},dateformat:function(){return a},tzshort:function(){return n},theme:function(){return d.theme},selectedSlotItems:function(){return d.selectedSlotItems},selectionHistoryArray:function(){return s},memberId:function(){return d.memberId},isUserSignUpAdmin:function(){return d.isUserSignUpAdmin},isUserSignUpOwner:function(){return d.isUserSignUpOwner},listid:function(){return d.signupInfo.id},signuptype:function(){return d.determineSignupType()},userSignUp:function(){return d.userSignUp},memberInfo:function(){return d.memberInfo},openParticipantDetails:function(){return d.openParticipantDetails},editItemMember:function(){return d.editItemMember},swapItemMember:function(){return d.swapItemMember},signupInfo:function(){return d.signupInfo},getQtyForMember:function(){return d.getQtyForMember},toggleSlotItem:function(){return d.toggleSlotItem},getDateLabel:function(){return c},isLocked:function(){return d.isLocked},arrUserSlotItems:function(){return b}}},function(){}).result.then(function(e){return x(),e.saveandcontinue&&d.saveAndContinue(),!0},function(e){i=d.validateSelectedSlotItemsForDate(o);for(var t=0;t<s.length;t++)d.toggleSlotItem(s[t],!0);return x(),!1})},d.toggleDateStatus=function(e){var t=d.signupInfo.shortdformat,i=d.signupInfo.tzshort,a=d.strings.lbls.dateformat,n=(e=d.validateSelectedSlotItemsForDate(e),u.deepCopy(e.slots));e.buttonStatus==d.btnState.default&&(e.buttonStatus=d.btnState.selected),d.openCalendarItem(n,e,t,a,i)},d.changeMonth=function(e,t){t||(u.broadCast("isProcessing",!0),v=e,E(),R({calendarMonth:d.dates.selected.queryMonth}),u.refreshPageAds())},d.getSelectedTooltip=function(e){var t="You have selected<br>"+e+" slot";return 1<e&&(t+="s"),t+=', "Save & Continue"<br>to complete your sign up'},function(e){var t,i,a,n,o={usetime:e.usetime,starttime:e.starttime,endtime:e.endtime,locationid:e.locationid,location:e.location,locdetail:(t=e.locationid,i=e.virtuallocationid,a={url:"",full:"",address1:"",address2:"",city:"",state:"",zipcode:"",virtuallocationurl:null,physicalandvirtual:!1},i=d.virtualLocations[i],n=d.signupInfo.locations[t],i&&(a.virtuallocationurl=i.virtuallocationlinkurl),n&&i&&(a.physicalandvirtual=!0),n&&0!==Object.keys(d.signupInfo.locations[t]).length&&(n=(i=d.signupInfo.locations[t]).address1.length?i.address1:"",(n+=i.address2.length?" "+i.address2:"").length&&(n+=", "),(n=(n=(n=(n+=i.city.length?i.city+", ":"")+(i.state.length?i.state+" ":""))+(0<i.zipcode?i.zipcode.toString():"")).trim()).length)&&(a.full=n,a.url="https://www.google.com/maps/search/?api=1&query="+n.replace(/ /g,"+"),a.address1=i.address1,a.address2=i.address2,a.city=i.city,a.state=i.state,a.zipcode=i.zipcode),a),time:function(e,t,i){var a="";if(i){var n=new Date(e);a+=g("date")(n,"shortTime").replace(" ","").toLowerCase();if(t.length){var o=new Date(t);a+="-"+g("date")(o,"h:mma").replace(" ","").toLowerCase()}}return a}(e.starttime,e.endtime,e.usetime),jsstarttime:new Date(e.starttime),slotitems:[],displayitems:[],moreLabel:"",showPaymentMessage:!1,paymentMessage:"",timeLabel:e.usetime?(t=e.starttime,n=e.endtime,t=new Date(t),i="",i+='<span class="no-wrap">'+g("date")(t,"h:mma").toLowerCase(),n.length?(t=new Date(n),i+='- </span><br><span class="no-wrap">'+g("date")(t,"h:mma").toLowerCase()+"</span>"):i+="</span>",i.length&&(d.showTime=!0),i):"",dateLabel:c(e.starttime),virtuallocationid:e.virtuallocationid};o.locdetail.showicon=!0,o.locdetail.location=e.location,e.dateLabel=c(e.starttime);for(var s=0;s<e.items.length;s++){var r=e.items[s],l=("object"==typeof d.signupInfo.itemimages[r.itemid]&&void 0!==(l=d.signupInfo.itemimages[r.itemid]).images&&l.images.length&&(r.itemimage=l.images[0],r.images=l),r.isaddlocked=r.isaddlocked||e.isaddlocked||!1,r.isaddlocked||(r.isaddlocked=d.isLocked()),o.displayitems.push(r.item),r.participants=u.keyExists(d.signupInfo,"participants",!0)&&u.keyExists(d.signupInfo.participants,r.slotitemid,!0)?d.signupInfo.participants[r.slotitemid]:[],p.getAvailability(r.qty,r.qtytaken,r.isaddlocked,d.isLocked()));r.qtyLabel=l.qtyLabel,r.qtyLabelResponsive=l.qtyLabelResponsive,d.selectedSlotItems.length&&(r.btnState===d.btnState.selected&&-1===d.selectedSlotItems.indexOf(r.slotitemid)?r.btnState=d.btnState.default:r.btnState===d.btnState.default&&-1!==d.selectedSlotItems.indexOf(r.slotitemid)&&(r.btnState=d.btnState.selected)),r.isaddlocked&&(r.btnState=d.btnState.locked),r.deleteModalInfo=d.getDeleteModalInfo(r,e,r.slotitemid),r.myqty=d.memberId?d.getQtyForMember(r.participants,d.memberId):0,void 0!==r.paymenttype&&"none"!==r.paymenttype&&(o.paymentMessage=p.setFeeMessage(d.signupInfo),o.paymentMessage.length)&&(o.showPaymentMessage=!0),r.qty<=r.qtytaken&&(r.btnState=d.btnState.full),o.slotitems.push(r)}return o.slotitems.sort(function(e,t){return e.itemorder-t.itemorder}),o}),I=function(e){i=[],angular.forEach(e.slots,function(e){angular.forEach(e.dates,function(t){var e;i.some(function(e){return e.slotid.toString()===t.slotid.toString()})||(e=angular.copy(t),i.push(e))})});var i,t,a=i,n=(t=[],angular.forEach(e.slots,function(e){e=u.deepCopy(e);t.push(e)}),t),o=function(e){for(var t={},i=0,a=S(e),i=0;i<a.length;i++){if(typeof t[a[i].dateid]==="undefined")t[a[i].dateid]={};if(typeof t[a[i].dateid].slots==="undefined")t[a[i].dateid].slots=[];t[a[i].dateid][a[i].slotid]=a[i].slotitemid;t[a[i].dateid].slots.push(a[i].slotid.toString())}return t}(e),s=u.deepCopy(a);if(s.length)for(var r=0;r<s.length;r++)s[r].items=function(e,t,i){if(u.isUndefinedOrNullOrEmpty(e))return[];if(void 0===t[e])return[];for(var a=[],n={},o=0;o<i.length;o++)if(i[o].itemid&&t[e].slots.indexOf(i[o].itemid.toString())>-1){n=u.deepCopy(i[o]);n.slotitemid=t[e][n.itemid.toString()];a.push(n)}return a}(s[r].slotid,o,n);for(var l={},d=0;d<s.length;d++)l[s[d].slotid]=s[d];e.slots=l,e.calendarSlots=l;var p=["amountpledged","amountraised","amounttotal","btnState","deleteModalInfo","isaddlocked","ismodifylocked","myqty","qtytaken","participants","participantcount","qtyLabel","qtyLabelResponsive"];return angular.forEach(e.slots,function(t){angular.forEach(t.items,function(i){angular.forEach(i.dates,function(t){i.slotitemid===t.slotitemid&&i.slotitemid===t.slotitemid&&angular.forEach(p,function(e){"undefined"!==t[e]&&(i[e]=t[e])})}),delete i.dates}),angular.forEach(p,function(e){"undefined"!==p[e]&&delete t[e]})}),e},S=function(e){var i=[];return angular.forEach(e.slots,function(t){t.dates.forEach(function(e){i.push({slotid:t.itemid,dateid:e.slotid,slotitemid:e.slotitemid})})}),i},k=function(){for(var e=0;e<s.length;e++){for(var t=0,i=0;i<s[e].slots.length;i++){s[e].slots[i].displayitems=[];for(var a=0;a<s[e].slots[i].slotitems.length;a++)t<3&&(s[e].slots[i].displayitems.push(s[e].slots[i].slotitems[a].item),s[e].slots[i].time.length)&&(s[e].hasTimes=!0),t++}0<t-3&&(s[e].moreLabel="+"+(t-3).toString()+" More")}},x=function(){for(var e=0;e<s.length;e++)s[e].isFull=C(s[e]),s[e].isLocked=D(s[e]),s[e].isUserSignedUp=U(s[e]),s[e].isSelected=L(s[e]),s[e].buttonStatus=P(s[e].isFull,s[e].isLocked,s[e].isUserSignedUp,s[e].isSelected)},C=function(e){for(var t=0;t<e.slots.length;t++)for(var i=0;i<e.slots[t].slotitems.length;i++)if(e.slots[t].slotitems[i].qty>e.slots[t].slotitems[i].qtytaken)return e.slots[t].jsstarttime>new Date&&(o=!0),!1;return!0},D=function(e){if(e.isFull)return!1;if(!d.isLocked())for(var t=0;t<e.slots.length;t++)for(var i=0;i<e.slots[t].slotitems.length;i++)if(!e.slots[t].slotitems[i].isaddlocked)return!!e.slots[t].slotitems[i].isaddlocked;return!0},U=function(e){for(var t=0;t<b.length;t++)for(var i=0;i<e.slots.length;i++)for(var a=0;a<e.slots[i].slotitems.length;a++)if(e.slots[i].slotitems[a].slotitemid==b[t].slotitemid)return!0;return!1},L=function(t){for(var i=0;i<t.slots.length;i++)for(var a=0;a<t.slots[i].slotitems.length;a++)if(-1<d.selectedSlotItems.findIndex(function(e){return e===t.slots[i].slotitems[a].slotitemid}))return!0;return!1},P=function(e,t,i,a){return a?"selected":i?"edit":e?"full":t?"locked":"default"},M=function(){s.sort(function(e,t){e=e.jsDateOnly,t=t.jsDateOnly;return e<t?-1:t<e?1:0});for(var e=0;e<s.length;e++)u.keyExists(s[e],"slots")&&s[e].slots.length&&s[e].slots.sort(function(e,t){e=e.jsstarttime,t=t.jsstarttime;return e<t?-1:t<e?1:0})},n=function(){d.isUserLoggedIn&&u.keyExists(d.signupInfo,"participants")&&!u.isEmptyObject(d.signupInfo.participants)&&(angular.forEach(d.signupInfo.participants,function(e,t){for(var i=0;i<d.signupInfo.participants[t].length;i++)u.keyExists(d.signupInfo.participants[t][i],"memberid")&&d.signupInfo.participants[t][i].memberid==d.memberId&&b.push(d.signupInfo.participants[t][i])}),b.sort(function(e,t){e=new Date(e.starttime),t=new Date(t.starttime);return e<t?-1:t<e?1:void 0}))},E=function(){var e=new Date;if(angular.isDate(v))e=v;else{if(!u.isEmptyObject(p.getDisplayMonth()))return d.dates=p.getDisplayMonth(),d.dates.prev=T(d.dates.selected.jsDate),void(d.dates.next=q(d.dates.selected.jsDate));if(o){var t=new Date(new Date(e).toDateString());t.setDate(1);for(var i=0;i<s.length;i++)if(!s[i].isFull&&s[i].jsDateOnly.getTime()>=t.getTime()){e=s[i].jsDateOnly;break}}else 0<s.length&&(e=s[s.length-1].jsDateOnly)}var a=e.getMonth()+1+"-"+e.getFullYear();d.dates={selected:{monthname:y[e.getMonth()]+" "+e.getFullYear().toString(),jsDate:e,jsFDOM:new Date(e.getFullYear(),e.getMonth(),1),jsLDOM:new Date(e.getFullYear(),e.getMonth()+1,0),firstdayofmonth:d.daysOfWeek[new Date(e.getFullYear(),e.getMonth(),1).getDay()],queryMonth:a},prev:T(e),next:q(e)},p.setCurrentMonth(a),p.setDisplayMonth(d.dates)},T=function(e){var t=new Date(e),e=(t.setDate(0),t.setDate(1),new Date(new Date(e).toDateString())),i=(e.setDate(1),p.getPaginationMetadata());return d.signupInfo.prevMonthDisabled=!i||i.calendarview.firstCalendarMonth.getTime()>e.getTime(),{jsDate:t,queryMonth:t.getMonth()+1+"-"+t.getFullYear()}},q=function(e){var e=new Date(e),e=new Date(e.setMonth(e.getMonth()+1,1)),t=(e.setDate(1),p.getPaginationMetadata());return d.signupInfo.nextMonthDisabled=!t||t.calendarview.lastCalendarMonth.getTime()<e.getTime(),{jsDate:e,queryMonth:e.getMonth()+1+"-"+e.getFullYear()}},R=function(e){return additionalParams=e||{},p.getsignup(Object.assign(d.baseCalendarParams,additionalParams)).then(function(e){var e=u.lowerCaseKeys(e);if(u.ajaxResultInvalid(e))u.broadCast("isProcessing",!1),d.es.setError("error-top-level",u.getAjaxResponseMessage(e));else{d.signupInfo.calendarSlots=Object.assign(d.signupInfo.calendarSlots,e.data.data.slots),e.data.data.slotmetadata&&(p.setPaginationMetadata(e.data.data.slotmetadata),d.signupInfo.slotMetadata=e.data.data.slotmetadata,d.hasCalendarSlots=0<e.data.data.slotmetadata.totalslots),s=[],e={},e="i"===d.signupInfo.itemsort.toString().toLowerCase()?(e=u.deepCopy(d.signupInfo),I(e)):d.signupInfo,d.virtualLocations=e.virtuallocations,angular.forEach(e.calendarSlots,function(e){for(var t=u.deepCopy(e),i=new Date(new Date(t.starttime).toDateString()),a=!1,n=0;n<s.length;n++)if(s[n].jsDateOnly.getTime()===i.getTime()){s[n].slots.push(w(t)),a=!0;break}a||((e=u.deepCopy(h)).jsDateOnly=i,e.slots=[w(t)],s.push(e))}),k(),x(),M(),p.setSignUpDates(s),E(),m=[];var t=d.dates.selected.jsFDOM.getDay(),i=d.dates.selected.jsLDOM.getDate()+t;if(u.keyExists(l,d.dates.selected.monthname))m=l[d.dates.selected.monthname];else{for(var a=0;a<42;a++){var n=u.deepCopy(f);if(m.push(n=t<=a&&a<i?{show:!0,label:a-t+1}:n),(a+1)%7==0&&i-1<=a)break}l[d.dates.selected.monthname]=m}for(var o=0;o<s.length;o++)s[o].jsDateOnly.getTime()>=d.dates.selected.jsFDOM.getTime()&&s[o].jsDateOnly.getTime()<=d.dates.selected.jsLDOM.getTime()&&(m[s[o].jsDateOnly.getDate()-1+t].data=s[o]);d.calendarGrid=m,u.broadCast("isProcessing",!1)}})};u.broadCast("isProcessing",!0),n(),R()}]),SUGApp.controller("signUpExpiredController",["$scope","signupPageService","SUGUtilities",function(e,t,i){e.errorMessage="",e.disableForm=!0,e.str={};e.disableForm=!1}]),SUGApp.controller("calendarSyncController",["$scope","$modalInstance","$window","$timeout","signupPageService","SUGUtilities","calendar",function(e,t,i,a,n,o,s){e.calendar=s.calendar,e.errorMessage="",e.disableForm=!0;s=1<e.calendar.totalslots?"entries":"entry";e.str={title:"Sync Entire Sign Up to My Calendar",desc:"",basedesc:' Your calendar will be kept in sync as more people sign up. If you want to sync the items you signed up for, login to your SignUpGenius account and go to the "Invited To" page.'},1<e.calendar.numofsignups?(e.str.title="Sync All Entries to My Calendar",e.str.desc="Clicking below will add <strong>"+e.calendar.totalslots+" "+e.calendar.showing+" "+s+"</strong> from the <strong>"+e.calendar.title+"</strong> sign ups into your personal calendar program."+e.str.basedesc):e.str.desc="Clicking below will add <strong>"+e.calendar.totalslots+" "+s+"</strong> from this sign up page into your personal calendar program."+e.str.basedesc,e.dismiss=function(){t.dismiss(!1)},e.syncToMyCalendar=function(){i.open(e.calendar.calurl,"_self"),e.dismiss()},e.syncToGoogle=function(){i.open(e.calendar.googleurl,"_blank"),e.dismiss()},e.toggleHelp=function(){e.displayHelp=!0,a(function(){i.document.getElementById("inputWebcalLink").select(),i.document.getElementById("inputWebcalLink").focus()},10)};e.disableForm=!1,e.displayHelp=!1,e.activeCalTab=1}])}();
SUGApp.directive("fitEllipsis",["$timeout","$interpolate",function(u,t){function a(t,e,n){for(var i=angular.element(e),a=t.strVal,s=t.maxWidth||(t.useEleWidth?i.width():0),c=i.css("font-weight")+" "+i.css("font-size")+" "+i.css("font-family"),o=e=a.length,r=s-f("...",c);0<o&&!(f(a,c)<=s);)s=r,a=a.substring(0,--o-1);o<e&&(a+="..."),u(function(){i.text(a)})}var f=function(t,e){var n=(f.canvas||(f.canvas=document.createElement("canvas"))).getContext("2d");return n.font=e,n.measureText(t).width};return{scope:{strVal:"=textToFit",maxWidth:"=fitToWidth",useEleWidth:"=useElementWidth"},link:function(n,i,t){a(n,i),n.$watch("strVal",function(t,e){t!==e&&a(n,i)}),n.$watch("maxWidth",function(t,e){t!==e&&a(n,i)})}}}]);
SUGApp.directive("participantSummary",["$window","profilePicService",function(t,i){return{restrict:"E",templateUrl:"/view/templates/ngtemplates/participant-summary.html",scope:{participants:"<",totalParticipants:"<",modalInfo:"<",commentLength:"<",showNames:"<",showProfilePics:"<",hasAds:"<",segmentsConfig:"<",isSignupCloseLocked:"<",isModifyLocked:"<",memberId:"@?",columnCount:"<",themeStyles:"<",onEdit:"&",onSwap:"&",onDelete:"&",onOpenDetails:"&"},link:function(n,t,e){n.pop={trig:"mouseenter",placement:"top",delay:300},n.str={edit:"Edit",swap:"Swap",delete:"Delete",paymentpending:"[Payment Pending]",locked:"The signup creator has locked this item from being changed."},n.getParticipantLimit=function(){var e=0;return n.participants.forEach(function(t){t.memberid==n.memberId&&e++}),Math.max(10,e)},n.getMoreParticipantsCount=function(){return Math.max(0,n.totalParticipants-n.getParticipantLimit())},n.showMoreParticipants=function(){return n.showNames&&n.getMoreParticipantsCount()},n.showParticipantSummary=function(){return!!n.participants},n.showParticipant=function(t){return n.showNames||t==n.memberId},n.parseProfilePicData=function(t){return i.parseProfilePicData(t)},n.getCommentLength=function(t){return n.hasAds?n.commentLength["ads"+t]:n.commentLength[t]},n.showMoreLink=function(t,e){return n.hasAds?t.length>n.commentLength["ads"+e]:t.length>n.commentLength[e]},n.getFullName=function(t){return t.firstname+" "+t.lastname},n.onEdit=n.onEdit(),n.onSwap=n.onSwap(),n.onDelete=n.onDelete(),n.memberId=Number.isInteger(parseInt(n.memberId))?parseInt(n.memberId):0,n.columnCount="undefined"==typeof columnCount?1:columnCount}}}]);
SUGApp.directive("signupButton",["profilePicService",function(t){return{restrict:"E",templateUrl:"/view/templates/ngtemplates/signup-button.html",scope:{btnState:"=?",ngStyle:"<",btnClasses:"=",btnDisabledClickable:"@"},link:function(t,e,n){var l={selected:"Selected",full:"Full",locked:"Locked",default:"Sign Up",edit:"Edit"};t.getBtnLabel=function(){return t.btnState&&l[t.btnState]?l[t.btnState]:l.default},t.updateBtnState=function(){"default"===t.btnState?t.btnState="selected":"selected"===t.btnState&&(t.btnState="default")},t.getBtnStyles=function(){return{"background-color":t.ngStyle["background-color"],color:t.ngStyle.color}},t.isDisabled=function(){return!(void 0!==t.btnDisabledClickable&&t.btnDisabledClickable||"full"!==t.btnState&&"locked"!==t.btnState)},t.btnState||(t.btnState="default")}}}]);
SUGApp.directive("itemsPerPage",["SUGUtilities",function(t){return{restrict:"E",templateUrl:"/view/templates/ngtemplates/items-per-page.html",scope:{ippOptions:"<options",ippDataLength:"<contentLength",ippNumberPerPage:"<numPerPage",onSetPerPage:"&"},link:function(e,i,r){e.showItemsPerPage=function(){return!!(Array.isArray(e.ippOptions)&&Number.isInteger(e.ippDataLength)&&1<e.ippOptions.length&&e.ippDataLength>e.ippOptions[1].count)},e.onSetPerPage=e.onSetPerPage(),t.addDirectiveStyles("sugstylev3.min.css",[{selector:".ipp ",rule:"display: block; float: left; line-height: 1.6rem; padding-top: 6px; margin: 0 16px 8px 16px;"},{selector:".ipp li ",rule:"display: inline-block; padding: 6px;"},{selector:".ipp li + li ",rule:"width: 30px; height: 30px; border-radius: 30px; border: 1px solid transparent; text-align: center; margin-right: 2px; transition: background-color .2s, color .2s, opacity .2s, border-color .2s;"},{selector:".ipp li + li:hover , .ipp li + li:active ",rule:"cursor: pointer; opacity: .9;"},{selector:".ipp li ",rule:"color: #222222;"},{selector:".ipp li + li ",rule:"color: #222222;"},{selector:".ipp li:hover:not(.active), .ipp li:active:not(.active) ",rule:"color: #FFFFFF;"},{selector:".ipp li.active ",rule:"color: #FFFFFF !important; border: 1px solid #F68B1C !important;  background-color: #F68B1C;"},{selector:".ipp li:hover:not(.active), .ipp li:active:not(.active) ",rule:"border: 1px solid #FFFFFF; background-color: #F68B1C;"},{selector:".ipp li:first-child, .ipp li:first-child:hover ",rule:"cursor: auto; color: #222222; background: transparent; border: none;"}],".ipp",1)}}}]);
SUGApp.directive("fundlyCampaign",["$sce","$timeout",function(n,t){return{restrict:"E",templateUrl:"/view/templates/ngtemplates/fundly-campaign.html",scope:{fundlyurl:"@"},link:function(t,e,r){t.iframesrc="";var l=t.viewurl="";t.str={poweredby:"Powered by Fundly",viewlink:"View Campaign"},l=angular.copy(t.fundlyurl).replace("https://fundly.com/","").replace("https://fundly.net/",""),t.iframesrc=n.trustAsResourceUrl("https://d2wwhrh9otv6z9.cloudfront.net/campaign_card_v2.html?activity="+l+"&amp;hb=t"),t.viewurl=n.trustAsResourceUrl(t.fundlyurl+"?ft_src=sug_campaign_card")}}}]);
SUGApp.directive("sugAbu",["$timeout","$modal","globalService","SUGUtilities",function(l,c,d,i){return{restrict:"E",scope:{},link:function(e,t,a){function n(){d.logAdBlockerUsage({}).then(function(e){i.ajaxResultInvalid(e.data)||(e=i.lowerCaseKeys(e.data)).success&&e.data.showmodal&&c.open({templateUrl:"/view/templates/ngtemplates/sug-abu-modal.html",controller:o})})}e.showModal=!1;var s,o=["$scope","$modalInstance",function(e,t){e.close=function(){t.close(!0)},e.dismiss=function(){t.dismiss(!1)}}];(s=document.createElement("div")).textContent="",s.className="ads ad adsbox doubleclick ad-placement carbon-ads adholder2",s.style.color="transparent",t.append(s),l(function(){var e;0===s.offsetHeight?n():((e=document.createElement("script")).src="/js/sugabu-ads.js",t.append(e),window.sugabuAdsLoaded||n(),angular.element(e).remove()),angular.element(s).remove()})}}}]);
//# sourceMappingURL=signup.min.js.map
