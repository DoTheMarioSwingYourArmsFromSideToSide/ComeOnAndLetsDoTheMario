(this["webpackJsonpmodal-widget"]=this["webpackJsonpmodal-widget"]||[]).push([[0],{125:function(e,t,n){},191:function(e,t,n){},192:function(e,t,n){"use strict";n.r(t);var a,i=n(1),d=n(17),o=n.n(d),l=n(56),c=n(6),s=n(21),r=n(196),u=n(31),v=n.n(u),m=n(57),g=n(58),h=n.n(g),j=null!==(a="https://modal-api.services.dealerspike.net")?a:"https://modal-api.ds.dev.leadventure.dev";function p(){return(p=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.get("".concat(j,"/v1/Modal/").concat(t),{}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.a.get("".concat(j,"/v1/Modal/ByParent/").concat(t,"/Active")));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I=n(194),f=(n(125),n(4)),x=function(){var e,t,n,a,d,o=Object(i.useState)(!1),l=Object(s.a)(o,2),c=l[0],u=l[1],v=Object(i.useState)({active:!1,content:"",contentImage:"",contentImageAltText:"",heading:"",id:null,headerImage:"",headerImageAltText:"",name:"",parentId:null,subHeading:"",startDate:"",endDate:"",lastModified:"",templateId:""}),m=Object(s.a)(v,2),g=m[0],h=m[1],j=Object(i.useState)({content:"",contentImage:"",contentImageAltText:"",heading:"",id:null,headerImage:"",headerImageAltText:"",lastModified:"",name:"",parentId:"templates",subHeading:"",templateContent:"",templateImage:""}),x=Object(s.a)(j,2),O=x[0],w=x[1],T=window.location.hostname+"-ds-modal",A="dsa-site-id",S=Object(I.a)([T,A]),M=Object(s.a)(S,3),H=M[0],y=M[1],C=M[2],N=Object(i.useState)(!1),k=Object(s.a)(N,2),_=k[0],D=k[1],E=Object(i.useState)(null),F=Object(s.a)(E,2),B=F[0],L=F[1],P=Object(i.useState)((null===(e=window.utag_data)||void 0===e?void 0:e.site_id)||H[A]),W=Object(s.a)(P,1)[0];Object(i.useEffect)((function(){var e=(new Date).toISOString().split("T",1)[0];if(!0===g.active){var t=!!H[T];!function(){var t=new Date((new Date).getTime()-864e5),n=H[T]?H[T].split("|",2):[];return!!(Date.parse(g.lastModified)>t||H[T]&&n[0]<e)&&!!H[T]&&n[1]!==g.lastModified.toString()}()&&t||(u(!0),t&&C(T),y(T,e+"|"+g.lastModified.toString(),{maxAge:86400}))}}),[H,y,C,T,g]),Object(i.useEffect)((function(){(null===W||void 0===W?void 0:W.length)>0&&function(e){return b.apply(this,arguments)}(W).then((function(e){var t,n=e.data;h({active:(null===n||void 0===n?void 0:n.active)||!1,content:(null===n||void 0===n?void 0:n.content)||"",contentImage:(null===n||void 0===n?void 0:n.contentImage)||"",contentImageAltText:(null===n||void 0===n?void 0:n.contentImageAltText)||"",contentImageContentStream:"",contentImageContentStreamExtension:"",heading:(null===n||void 0===n?void 0:n.heading)||"",id:(null===n||void 0===n?void 0:n.id)||null,headerImage:(null===n||void 0===n?void 0:n.headerImage)||"",headerImageAltText:(null===n||void 0===n?void 0:n.headerImageAltText)||"",headerImageContentStream:"",headerImageContentStreamExtension:"",name:(null===n||void 0===n?void 0:n.name)||"",parentId:(null===n||void 0===n?void 0:n.parentId)||null,subHeading:(null===n||void 0===n?void 0:n.subHeading)||"",lastModified:(null===n||void 0===n?void 0:n.lastModified)?new Date(n.lastModified):"",templateId:(null===n||void 0===n?void 0:n.templateId)||""}),(null===n||void 0===n||null===(t=n.templateId)||void 0===t?void 0:t.length)>0&&function(e){return p.apply(this,arguments)}(null===n||void 0===n?void 0:n.templateId).then((function(e){var t,n=e.data;w({content:(null===n||void 0===n?void 0:n.content)||"",contentImage:(null===n||void 0===n?void 0:n.contentImage)||"",contentImageAltText:(null===n||void 0===n?void 0:n.contentImageAltText)||"",headerImage:(null===n||void 0===n?void 0:n.headerImage)||"",headerImageAltText:(null===n||void 0===n?void 0:n.headerImageAltText)||"",heading:(null===n||void 0===n?void 0:n.heading)||"",id:(null===n||void 0===n?void 0:n.id)||"",lastModified:(null===n||void 0===n?void 0:n.lastModified)?new Date(n.lastModified):"",name:(null===n||void 0===n?void 0:n.name)||"",parentId:(null===n||void 0===n?void 0:n.parentId)||"templates",subHeading:(null===n||void 0===n?void 0:n.subHeading)||"",templateContent:(null===n||void 0===n?void 0:n.templateContent)||""}),(null===n||void 0===n||null===(t=n.templateContent)||void 0===t?void 0:t.length)>0&&L(n.templateContent),D(!0)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log(e)}))}),[W]);var J=_?(null===O||void 0===O||null===(t=O.headerImage)||void 0===t?void 0:t.length)>0:(null===g||void 0===g||null===(n=g.headerImage)||void 0===n?void 0:n.length)>0,U=_?(null===O||void 0===O||null===(a=O.contentImage)||void 0===a?void 0:a.length)>0:(null===g||void 0===g||null===(d=g.contentImage)||void 0===d?void 0:d.length)>0,V=_?null===O||void 0===O?void 0:O.headerImage:null===g||void 0===g?void 0:g.headerImage,q=_?null===O||void 0===O?void 0:O.headerImageAltText:null===g||void 0===g?void 0:g.headerImageAltText,z=_?null===O||void 0===O?void 0:O.contentImage:null===g||void 0===g?void 0:g.contentImage,G=_?null===O||void 0===O?void 0:O.contentImageAltText:null===g||void 0===g?void 0:g.contentImageAltText,K=_?null===O||void 0===O?void 0:O.heading:null===g||void 0===g?void 0:g.heading,Q=_?null===O||void 0===O?void 0:O.subHeading:null===g||void 0===g?void 0:g.subHeading,R=_?null===O||void 0===O?void 0:O.content:null===g||void 0===g?void 0:g.content;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{"data-testid":"test",className:"d-none"}),Object(f.jsx)(r.a,{className:"dsa-modal",show:c,onHide:function(){return u(!1)},animation:!1,children:B?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(r.a.Header,{closeButton:!0}),Object(f.jsx)(r.a.Body,{dangerouslySetInnerHTML:{__html:B}})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(r.a.Header,{closeButton:!0,children:J&&Object(f.jsx)("img",{src:V,alt:q})}),Object(f.jsx)(r.a.Body,{className:U?"p-0":"",children:U?Object(f.jsx)("img",{className:"modal-content-image",src:z,alt:G}):Object(f.jsxs)("div",{className:"fluid-container fr-view",children:[Object(f.jsx)("span",{className:"announcements-modal-heading",dangerouslySetInnerHTML:{__html:K}}),Object(f.jsx)("span",{className:"announcements-modal-subheading",dangerouslySetInnerHTML:{__html:Q}}),Object(f.jsx)("span",{dangerouslySetInnerHTML:{__html:R}})]})})]})})]})},O=(n(87),function(){return Object(f.jsx)("div",{className:"container-fluid dsa-body-container",children:Object(f.jsx)("div",{className:"container-fluid dsa-body-container-2",children:Object(f.jsx)("div",{className:"row",children:Object(f.jsx)("div",{className:"col-sm",children:Object(f.jsx)("p",{className:"dsa-header-2",children:"Health Check Status"})})})})})}),w=n(100),T=function(){return Object(f.jsx)(l.a,{children:Object(f.jsxs)(c.c,{children:[Object(f.jsx)(c.a,{exact:!0,path:"/healthcheck",component:O}),Object(f.jsx)(w.a,{component:x})]})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,197)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,d=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),d(e),o(e)}))},S=n(195),M=n(2),H=n(89),y=n(24),C=n(25);var N=function(){if(M.m&&window.modalWidgetElasticApm)return window.modalWidgetElasticApm;var e=Object(H.a)(),t=Object(y.a)(),n=new C.a(t,!e);return M.m&&(window.modalWidgetElasticApm=n),n}(),k=N.init.bind(N);n(191);k({serviceName:"modal-widget",serverUrl:"https://rum.services.dealerspike.net",serviceVersion:"7.14.1",breakdownMetrics:!0,environment:"production",distributedTracingOrigins:["https://modal-api.services.dealerspike.net"]}).addFilter((function(e){return"https://modal-widget.services.dealerspike.net"===window.location.hostname})),o.a.render(Object(f.jsx)(S.a,{children:Object(f.jsx)(T,{})}),document.getElementById("ds-modal-widget")),A()},87:function(e,t,n){}},[[192,1,2]]]);
//# sourceMappingURL=main.00cbcfe1.chunk.js.map