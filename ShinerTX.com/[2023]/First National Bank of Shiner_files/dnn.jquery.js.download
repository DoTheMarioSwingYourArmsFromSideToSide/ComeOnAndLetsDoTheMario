!function (e) { e.fn.dnnTabs = function (t) { var n = e.extend({}, e.fn.dnnTabs.defaultOptions, t), a = this; return e.ui.tabs.prototype._sanitizeSelector = function (e) { return e.replace(/:/g, "\\:").replace(/\./g, "\\.") }, a.each(function () { var t, i; if (this.id) { if (i = "dnnTabs-" + this.id, -1 === n.selected) { var o = dnn.dom.getCookie(i); o && (n.selected = o), -1 === n.selected && (n.selected = 0) } t = function (e) { return function (t, a) { dnn.dom.setCookie(e, a.newTab.index(), n.cookieDays, "/", "", !1, n.cookieMilleseconds) } } (i) } else t = function () { }; a.tabs({ activate: t, active: n.selected, disabled: n.disabled, fx: { opacity: n.opacity, duration: n.duration} }), window.location.hash && "#" != window.location.hash && e('a[href="' + window.location.hash + '"]', a).trigger("click"), "undefined" != typeof window.Page_ClientValidate && e.isFunction(window.Page_ClientValidate) && a.find(n.validationTriggerSelector).click(function () { if (!window.Page_ClientValidate(n.validationGroup)) { var e = a.find(n.invalidItemSelector).eq(0), t = e.closest(".ui-tabs-panel"); if (t.length > 0) { var i = t.attr("id"); t.parent().find("a[href='#" + i + "']").click() } } }) }), a }, e.fn.dnnTabs.defaultOptions = { opacity: "toggle", duration: "fast", validationTriggerSelector: ".dnnPrimaryAction", validationGroup: "", invalidItemSelector: '.dnnFormError[style*="inline"]', regionToToggleSelector: "fieldset", selected: -1, cookieDays: 0, cookieMilleseconds: 12e5} } (jQuery), function (e) { e.fn.dnnConfirm = function (t) { var n = e.extend({}, e.fn.dnnConfirm.defaultOptions, t), a = this; return a.each(function () { var t, a = e(this), i = a.attr("href"); (i || n.isButton) && (t = e("<div class='dnnDialog'></div>").html(n.text).dialog(n), a.click(function (o, r) { return r ? !0 : t.is(":visible") ? (t.dialog("close"), !0) : (t.dialog({ open: function () { e(".ui-dialog-buttonpane").find('button:contains("' + n.noText + '")').addClass("dnnConfirmCancel") }, position: "center", draggable: !1, buttons: [{ text: n.yesText, click: function () { t.dialog("close"), e.isFunction(n.callbackTrue) ? n.callbackTrue.call(this) : n.isButton ? a.trigger("click", [!0]) : window.location.href = i }, "class": n.buttonYesClass }, { text: n.noText, click: function () { e(this).dialog("close"), e.isFunction(n.callbackFalse) && n.callbackFalse.call(this) }, "class": n.buttonNoClass}] }), t.dialog("open"), o.preventDefault(), !1) })) }), a }, e.fn.dnnConfirm.defaultOptions = { text: "Are you sure?", yesText: "Yes", noText: "No", buttonYesClass: "dnnPrimaryAction", buttonNoClass: "dnnSecondaryAction", actionUrl: window.location.href, autoOpen: !1, resizable: !1, modal: !0, title: "Confirm", dialogClass: "dnnFormPopup dnnClear", isButton: !1} } (jQuery), function (e) { e.dnnConfirm || (e.dnnConfirm = function (t) { var n = t.actionUrl ? t.actionUrl : "javascript:void(0);", a = e('<a href="' + n + '" />'); a.dnnConfirm(t).click() }) } (jQuery), function (e) { e.dnnAlert = function (t) { var n = e.extend({}, e.dnnAlert.defaultOptions, t), a = e("<div class='dnnDialog'></div>").html(n.text).dialog(n); a.dialog({ buttons: [{ text: n.okText, "class": n.buttonOkClass, click: function () { return e(this).dialog("close"), e.isFunction(n.callback) && n.callback.call(this), !1 } }] }), a.dialog("open") }, e.dnnAlert.defaultOptions = { okText: "Ok", autoOpen: !1, resizable: !1, modal: !0, buttonOkClass: "dnnPrimaryAction", dialogClass: "dnnFormPopup dnnClear"} } (jQuery), function (e) { e.fn.dnnPanels = function (t) { var n = e.extend({}, e.fn.dnnPanels.defaultOptions, t), a = this; return a.each(function () { function t(e, t) { e.removeClass(n.toggleClass), t.hide(), i.trigger("onHide") } function a(e, t) { e.addClass(n.toggleClass), t.show(), i.trigger("onExpand") } var i = e(this); "function" == typeof n.onExpand && i.bind("onExpand", n.onExpand), "function" == typeof n.onHide && i.bind("onHide", n.onHide), i.find(n.clickToToggleSelector).click(function (t) { var a = e(this).toggleClass(n.toggleClass).parent().next(n.regionToToggleSelector).slideToggle(function () { var t = e(this).is(":visible"); if (n.saveState) { var i = e(a.context.parentNode).attr("id"), o = i ? i.replace(/[^a-zA-Z0-9\-]+/g, "") : ""; o && dnn.dom.setCookie(o, t, n.cookieDays, "/", "", !1, n.cookieMilleseconds) } t ? e(this).trigger("onExpand") : e(this).trigger("onHide") }); return t.preventDefault(), t.stopImmediatePropagation(), !1 }), i.find(n.sectionHeadSelector).each(function (i, o) { var r = e(o), s = r.attr("id"), l = s ? s.replace(/[^a-zA-Z0-9\-]+/g, "") : "", d = l ? dnn.dom.getCookie(l) : "", c = r.find(n.clickToToggleIsolatedSelector), p = r.next(n.regionToToggleSelector), u = r.parents(n.panelSeparatorSelector), h = u.find(n.sectionHeadSelector).index(r), f = !1; (0 === i && "first" == n.defaultState || u.size() > 0 && 0 === h && "first" == n.defaultState || "open" == n.defaultState) && (f = !0), n.saveState && ("true" == d ? f = !0 : "false" == d && (f = !1)), f ? a(c, p) : t(c, p) }), i.find(n.validationTriggerSelector).click(function () { "undefined" != typeof window.Page_ClientValidate && e.isFunction(window.Page_ClientValidate) && (window.Page_ClientValidate(n.validationGroup) || i.find(n.invalidItemSelector).each(function () { var t = e(this).closest(n.regionToToggleSelector); t.is(":hidden") && t.prev(n.sectionHeadSelector).find(n.clickToToggleIsolatedSelector).click() })) }) }), a }, e.fn.dnnPanels.defaultOptions = { clickToToggleSelector: "h2.dnnFormSectionHead a", sectionHeadSelector: ".dnnFormSectionHead", regionToToggleSelector: "fieldset", toggleClass: "dnnSectionExpanded", clickToToggleIsolatedSelector: "a", validationTriggerSelector: ".dnnPrimaryAction", invalidItemSelector: '.dnnFormError[style*="inline"]', validationGroup: "", panelSeparatorSelector: ".ui-tabs-panel", cookieDays: 0, cookieMilleseconds: 12e5, saveState: !0, defaultState: "first"} } (jQuery), function (e) { e.fn.dnnPreview = function (t) { var n = e.extend({}, e.fn.dnnPreview.defaultOptions, t), a = this; return a.each(function () { var t = e(this); t.find(n.linkSelector).click(function (a) { a.preventDefault(); var i, o, r = "?"; if (n.useComboBox) { var s = $find(n.skinSelector), l = $find(n.containerSelector); i = s ? s.get_value() : "", o = l ? l.get_value() : "" } else i = t.find(n.skinSelector).val(), o = t.find(n.containerSelector).val(); i && (r += "SkinSrc=" + i), o && (i && (r += "&"), r += "ContainerSrc=" + o), "?" != r ? window.open(encodeURI(n.baseUrl + r.replace(/.ascx/gi, "")), "skinpreview") : e.dnnAlert({ text: n.noSelectionMessage, okText: n.alertOkText, closeText: n.alertCloseText }) }) }), a }, e.fn.dnnPreview.defaultOptions = { baseUrl: window.location.protocol + "//" + window.location.host + window.location.pathname, linkSelector: "a.dnnSecondaryAction", skinSelector: "", containerSelector: "", noSelectionMessage: "Please select a preview option.", alertOkText: "Ok", alertCloseText: "close", useComboBox: !1} } (jQuery), function (e) { e.fn.dnnExpandAll = function (t) { var n = e.extend({}, e.fn.dnnExpandAll.defaultOptions, t), a = this; return e(n.targetArea).find(n.targetSelector + ":visible").length !== e(n.targetArea).find(n.targetSelector + n.targetExpandedSelector + ":visible").length || e(this).hasClass("expanded") || e(this).addClass("expanded").text(n.collapseText), a.click(function (t) { t.preventDefault(); var a = e(this); a.hasClass("expanded") ? (a.removeClass("expanded").text(n.expandText), e(n.targetArea).find(n.targetSelector + n.targetExpandedSelector + ":visible").click()) : (a.addClass("expanded").text(n.collapseText), e(n.targetArea).find(n.targetSelector + ":visible").not(n.targetExpandedSelector).click()), t.stopImmediatePropagation() }), a }, e.fn.dnnExpandAll.defaultOptions = { expandText: "Expand All", collapseText: "Collapse All", targetArea: "#dnnHostSettings", targetSelector: "h2.dnnFormSectionHead a", targetExpandedSelector: ".dnnSectionExpanded"} } (jQuery), function (e) { e.fn.dnnTooltip = function (t) { var n = e.extend({}, e.fn.dnnTooltip.defaultOptions, t), a = this; return a.each(function () { var t = e(this), a = t.prev(); if (!t.data("initialized")) { a.on("click", function (e) { e.preventDefault() }); var i = t.find(n.helpSelector); t.parent().css({ position: "relative" }), t.css({ position: "absolute", right: "-29%" }); var o = !1, r = !1; a.hoverIntent({ over: function () { r = !0; var e = i.height(), t = -(e + 30); i.parent().css({ top: t + "px" }), i.css("visibility", "visible") }, out: function () { r = !1, t.hasClass(n.pinnedClass) || o || i.css("visibility", "hidden") }, timeout: 200, interval: 200 }), i.hover(function () { o = !0 }, function () { o = !1, t.hasClass(n.pinnedClass) || r || i.css("visibility", "hidden") }); var s = i.find(n.pinSelector); s.on("click", function (a) { a.preventDefault(), t.hasClass(n.pinnedClass) ? (i.css({ left: "0", top: "0" }).css("visibility", "hidden").draggable("destroy"), t.removeClass(n.pinnedClass)) : (t.addClass(n.pinnedClass), e.isFunction(e().draggable) && i.draggable()) }), t.data("initialized", 1) } }), a }, e.fn.dnnTooltip.defaultOptions = { pinSelector: "a.pinHelp", helpSelector: ".dnnFormHelpContent", pinnedClass: "dnnTooltipPinned"} } (jQuery), function (e) { var t = function (e) { e || (e = window.event), e.cancelBubble = !0, e.stopPropagation && e.stopPropagation() }; e.fn.dnnCheckbox = function (n) { var a = { cls: "dnnCheckbox", labelClass: "dnnBoxLabel" }; a = e.extend(a, n || {}); var i = function (t) { var n = t.checked, a = t.disabled, i = e(t); return t.stateInterval && clearInterval(t.stateInterval), t.stateInterval = setInterval(function () { t.disabled != a && i.trigger((a = !!t.disabled) ? "disable" : "enable"), t.checked != n && i.trigger((n = !!t.checked) ? "check" : "uncheck") }, 10), i }; return this.each(function () { var n = this; if (!e(n).data("checkBoxWrapped") && (e(n).data("checkBoxWrapped", !0), !e(this).hasClass("normalCheckBox") && !e(this).hasClass("normalRadioButton"))) { var o = e(this).closest(".normalCheckBox"), r = e(this).closest(".normalRadioButton"); if (!o.length && !r.length) { var s = i(n); n.wrapper && n.wrapper.remove(), n.wrapper = e('<span class="' + a.cls + '"><span class="mark"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFAAAAAAAApWe5zwAAAAF0Uk5TAEDm2GYAAAAMSURBVHjaYmAACDAAAAIAAU9tWeEAAAAASUVORK5CYII=" /></span></span>'), n.wrapperInner = n.wrapper.children("span:eq(0)"), n.wrapper.hover(function (e) { n.wrapperInner.addClass(a.cls + "-hover"), t(e) }, function (e) { n.wrapperInner.removeClass(a.cls + "-hover"), t(e) }), s.css({ position: "absolute", zIndex: -1, opacity: 0 }).after(n.wrapper); var l, d = !1; l = s.closest("label"), l.length ? d = !0 : l = !1, !l && s.attr("id") && (l = e('label[for="' + s.attr("id") + '"]'), l.length || (l = !1)), l && (l.addClass(a.labelClass), d ? l.children().each(function () { var a = e(this); a.is("input") || a.click(function (e) { return s.triggerHandler("focus"), n.click(), s.trigger("change", [e]), t(e), !1 }) }) : l.click(function (e) { return s.triggerHandler("focus"), n.click(), s.trigger("change", [e]), t(e), !1 })), d || n.wrapper.click(function (e) { return s.triggerHandler("focus"), n.click(), s.trigger("change", [e]), t(e), !1 }), s.bind("disable", function () { n.wrapperInner.addClass(a.cls + "-disabled") }).bind("enable", function () { n.wrapperInner.removeClass(a.cls + "-disabled") }), s.bind("check", function () { n.wrapper.addClass(a.cls + "-checked") }).bind("uncheck", function () { n.wrapper.removeClass(a.cls + "-checked") }), s.bind("focus", function (e) { e.isTrigger || n.wrapper.addClass(a.cls + "-focus") }).bind("blur", function () { n.wrapper.removeClass(a.cls + "-focus") }), n.checked && n.wrapper.addClass(a.cls + "-checked"), n.disabled && n.wrapperInner.addClass(a.cls + "-disabled") } } }) }, e.fn.dnnHelperTipDestroy = function () { return this.each(function () { var t = this; t.id && e('div[data-tipholder="' + t.id + '"]').remove() }) }, e.fn.dnnHelperTip = function (t) { var n = { cls: "dnnHelperTip", helpContent: "This is hover helper tooltip", holderId: "", show: !1 }; return n = e.extend(n, t || {}), this.each(function () { var t = this, a = e(this); t.tooltipWrapper && t.tooltipWrapper.remove(), t.tooltipWrapper = e('<div class="' + n.cls + '" data-tipholder="' + n.holderId + '"> <div class="dnnFormHelpContent dnnClear"><span class="dnnHelpText">' + n.helpContent + "</span></div></div>"), e("body").append(t.tooltipWrapper), t.tooltipWrapper.css({ position: "absolute" }), t.tooltipWrapperInner = e(".dnnFormHelpContent", t.tooltipWrapper); var i = t.tooltipWrapperInner.height(); t.tooltipWrapperInner.css({ left: "-10px", top: -(i + 30) + "px" }); var o = !1; a.hover(function () { o = !0, setTimeout(function () { o && t.tooltipWrapperInner.css("visibility", "visible") }, 400) }, function () { o = !1, setTimeout(function () { o || t.tooltipWrapperInner.css("visibility", "hidden") }, 400) }), n.show && (o = !0, setTimeout(function () { t.tooltipWrapperInner.css("visibility", "visible") }, 400)), a.bind("mousemove", function (n) { var a = n.pageX, i = n.pageY, o = e("body").css("position"); "relative" == o && (i -= 38), t.tooltipWrapper.css({ left: a + "px", top: i + "px", "z-index": "99999" }) }) }) }, e.fn.dnnProgressbar = function () { var t = e(this), n = this; n.tooltipWrapper && n.tooltipWrapper.remove(), n.tooltipWrapper = e('<div class="dnnTooltip"> <div class="dnnFormHelpContent dnnClear"><span class="dnnHelpText"></span></div></div>').insertAfter(t), n.tooltipWrapperInner = e(".dnnFormHelpContent", n.tooltipWrapper), n.tooltipWrapperInner.css({ width: "32px", padding: "7px" }), t.parent().css({ position: "relative" }); var a = !1, i = !1; return t.hoverIntent({ over: function () { i = !0; var t = e(this).children(":first").progressbar("value"); n.update(t), n.tooltipWrapperInner.css("visibility", "visible") }, out: function () { i = !1, a || n.tooltipWrapperInner.css("visibility", "hidden") }, timeout: 200, interval: 200 }), n.tooltipWrapperInner.hover(function () { a = !0 }, function () { a = !1, i || n.tooltipWrapperInner.hide() }), n.update = function (e) { n.tooltipWrapperInner.find("span").html(e + " %"); var a = t.position().top, i = n.tooltipWrapperInner.height(); a -= i + 10; var o = e > 50 ? e - 4 + "%" : e > 0 ? e - 2 + "%" : "10px"; n.tooltipWrapper.css({ position: "absolute", left: o, top: a + "px" }) }, this }, e.fn.dnnSpinner = function (t) { var n, a = e.extend({ type: "range", typedata: "", width: "150px", looping: !1 }, t); n = null != t && null != t.typedata ? e.extend({ min: 1, max: 10, interval: 1, decimalplaces: 0 }, t.typedata) : e.extend({ min: 1, max: 10, interval: 1, decimalplaces: 0 }), a.typedata = n; var i = this; if (!i.is(":text")) return i; if (i.hasClass("dnnSpinnerInput")) return i; i.addClass("dnnSpinnerInput"); var o = ""; o += '<div class="dnnSpinner">', o += '<div class="dnnSpinnerDisplay"></div>', o += '<div class="dnnSpinnerCtrl">', o += '<a class="dnnSpinnerTopButton"></a>', o += '<a class="dnnSpinnerBotButton"></a>', o += "</div></div>"; var r = e(o).insertAfter(i); switch (i.insertAfter(e("div.dnnSpinnerDisplay", r)), e("div.dnnSpinnerDisplay", r).click(function () { if ("range" == a.type) { var t = e(this), n = e('input[type="text"]', t); if (n.length < 1) { var o = t.html(); n = e('<input type="text" />').val(o), t.html(n), n.blur(function () { var n = e(this).val(); n > a.typedata.max && (n = a.typedata.max), n < a.typedata.min && (n = a.typedata.min), e(this).remove(), s = parseInt(n), i.val(n), t.html(n) }).keypress(function (e) { var t = new RegExp("^[0-9]+$"), n = String.fromCharCode(e.charCode ? e.charCode : e.which); return t.test(n) ? !0 : (event.preventDefault(), !1) }) } n.focus() } i.triggerHandler("focus") }), i.css("display", "none"), a.type) { case "range": (a.defaultVal < a.typedata.min || a.defaultVal > a.typedata.max) && (a.defaultVal = a.typedata.min), a.defaultVal % a.typedata.interval > 0 && (a.defaultVal = parseInt((a.defaultVal / a.typedata.interval).toFixed(0)) * a.typedata.interval), i.val(a.defaultVal.toFixed(a.typedata.decimalplaces)), e("div.dnnSpinnerDisplay", r).html(a.defaultVal.toFixed(a.typedata.decimalplaces)); var s = a.defaultVal; a.typedata.max - a.typedata.min > a.typedata.interval && (e("a.dnnSpinnerTopButton", r).click(function () { if (s + a.typedata.interval <= a.typedata.max || a.looping) { s + a.typedata.interval > a.typedata.max && (s = a.typedata.min - a.typedata.interval); var t = (s + a.typedata.interval).toFixed(a.typedata.decimalplaces); s += a.typedata.interval, e("div.dnnSpinnerDisplay", r).html(t), i.val(t) } return i.triggerHandler("focus"), !1 }), e("a.dnnSpinnerBotButton", r).click(function () { if (s - a.typedata.interval >= a.typedata.min || a.looping) { s - a.typedata.interval < a.typedata.min && (s = a.typedata.max + a.typedata.interval); var t = (s - a.typedata.interval).toFixed(a.typedata.decimalplaces); s -= a.typedata.interval, e("div.dnnSpinnerDisplay", r).html(t), i.val(t) } return i.triggerHandler("focus"), !1 })); break; case "list": if (!a.typedata.list || 0 == a.typedata.list.lenght) return i; var l = a.typedata.list.split(","), d = jQuery.inArray(a.defaultVal, l); 0 > d && (d = 0, a.defaultVal = l[0]), i.val(a.defaultVal), e("div.dnnSpinnerDisplay", r).html(a.defaultVal), l.length > 1 && (e("a.dnnSpinnerBotButton", r).click(function () { if (d < l.length - 1 || a.looping) { d == l.length - 1 && (d = -1), d++; var t = l[d]; e("div.dnnSpinnerDisplay", r).html(t), i.val(t) } return i.triggerHandler("focus"), !1 }), e("a.dnnSpinnerTopButton", r).click(function () { if (d > 0 || a.looping) { 0 == d && (d = l.length), d--; var t = l[d]; e("div.dnnSpinnerDisplay", r).html(t), i.val(t) } return i.triggerHandler("focus"), !1 })) } return i } } (jQuery), function (e) { e.fn.dnnAutocomplete = function (t) { var n; arguments.length > 1 ? (n = t, t = arguments[1], t.url = n) : "string" == typeof t && (n = t, t = { url: n }); var a = e.extend({}, e.fn.dnnAutocomplete.defaults, t); return this.each(function () { var t = e(this); t.data("autocompleter", new e.dnnAutocompleter(t, e.meta ? e.extend({}, a, t.data()) : a)) }) }, e.fn.dnnAutocomplete.defaults = { inputClass: "dnn_acInput", loadingClass: "dnn_acLoading", resultsClass: "dnn_acResults", selectClass: "dnn_acSelect", queryParamName: "q", contentTypeParamName: "contentTypeId", extraParams: {}, remoteDataType: !1, lineSeparator: "\n", cellSeparator: "|", minChars: 2, maxItemsToShow: 10, delay: 400, useCache: !1, maxCacheLength: 10, matchSubset: !0, matchCase: !1, matchInside: !0, mustMatch: !1, selectFirst: !1, selectOnly: !1, showResult: null, preventDefaultReturn: 1, preventDefaultTab: 0, autoFill: !1, filterResults: !0, sortResults: !0, sortFunction: null, onItemSelect: null, onNoMatch: null, onFinish: null, matchStringConverter: null, beforeUseConverter: null, autoWidth: "min-width", useDelimiter: !1, delimiterChar: ",", delimiterKeyCode: 188, processData: null, onError: null, moduleId: null }; var t = function (t) { var n, a, i = typeof t; return "string" === i ? (n = t, a = {}) : e.isArray(t) ? (n = t[0], a = t.slice(1)) : "object" === i ? (n = t.value, a = t.data) : n = "", n = String(n), "object" != typeof a && (a = {}), { value: n, data: a} }, n = function (e, t, n) { var a = parseInt(e, 10); return n = n || {}, (isNaN(a) || n.min && a < n.min) && (a = t), a }, a = function (e, t) { return [e, encodeURIComponent(t)].join("=") }, i = function (t, n) { var i = []; return e.each(n, function (e, t) { i.push(a(e, t)) }), i.length && (t += -1 === t.indexOf("?") ? "?" : "&", t += i.join("&")), t }, o = function (e, t, n) { return e = String(e.value), t = String(t.value), n || (e = e.toLowerCase(), t = t.toLowerCase()), e > t ? 1 : t > e ? -1 : 0 }; e.dnnAutocompleter = function (t, a) { if (!(t && t instanceof e && 1 === t.length && "INPUT" === t.get(0).tagName.toUpperCase())) throw new Error("Invalid parameter for dnnAutocompleter, jQuery object with one element with INPUT tag expected."); var i = this; this.options = a, this.cacheData_ = {}, this.cacheLength_ = 0, this.selectClass_ = "jquery-autocomplete-selected-item", this.keyTimeout_ = null, this.finishTimeout_ = null, this.lastKeyPressed_ = null, this.lastProcessedValue_ = null, this.lastSelectedValue_ = null, this.active_ = !1, this.finishOnBlur_ = !0, this.options.minChars = n(this.options.minChars, e.fn.dnnAutocomplete.defaults.minChars, { min: 0 }), this.options.maxItemsToShow = n(this.options.maxItemsToShow, e.fn.dnnAutocomplete.defaults.maxItemsToShow, { min: 0 }), this.options.maxCacheLength = n(this.options.maxCacheLength, e.fn.dnnAutocomplete.defaults.maxCacheLength, { min: 1 }), this.options.delay = n(this.options.delay, e.fn.dnnAutocomplete.defaults.delay, { min: 0 }), 2 != this.options.preventDefaultReturn && (this.options.preventDefaultReturn = this.options.preventDefaultReturn ? 1 : 0), 2 != this.options.preventDefaultTab && (this.options.preventDefaultTab = this.options.preventDefaultTab ? 1 : 0), this.dom = {}, this.dom.$elem = t, this.dom.$elem.attr("autocomplete", "off").addClass(this.options.inputClass), this.dom.$results = e("<div></div>").hide().addClass(this.options.resultsClass).css({ position: "absolute" }), e("body").append(this.dom.$results), t.keydown(function (e) { switch (i.lastKeyPressed_ = e.keyCode, i.lastKeyPressed_) { case i.options.delimiterKeyCode: i.options.useDelimiter && i.active_ && i.selectCurrent(); break; case 35: case 36: case 16: case 17: case 18: case 37: case 39: break; case 38: return e.preventDefault(), i.active_ ? i.focusPrev() : i.activate(), !1; case 40: return e.preventDefault(), i.active_ ? i.focusNext() : i.activate(), !1; case 9: if (i.active_ && (i.selectCurrent(), i.options.preventDefaultTab)) return e.preventDefault(), !1; if (2 === i.options.preventDefaultTab) return e.preventDefault(), !1; break; case 13: if (i.active_ && (i.selectCurrent(), i.options.preventDefaultReturn)) return e.preventDefault(), !1; if (2 === i.options.preventDefaultReturn) return e.preventDefault(), !1; break; case 27: if (i.active_) return e.preventDefault(), i.deactivate(!0), !1; break; default: i.activate() } return !0 }); var o = function () { i.deactivate(!0) }; t.blur(function () { i.finishOnBlur_ && (i.finishTimeout_ = setTimeout(o, 200)) }), t.parents("form").on("submit", o) }, e.dnnAutocompleter.prototype.position = function () { var e = this.dom.$elem.offset(), t = this.dom.$results.outerHeight(), n = window.outerHeight, a = e.top + this.dom.$elem.outerHeight(), i = a + t, o = { top: a, left: e.left }; if (i > n) { var r = e.top - t; r >= 0 && (o.top = r) } this.dom.$results.css(o) }, e.dnnAutocompleter.prototype.cacheRead = function (e) { var t, n, a, i, o; if (this.options.useCache) for (e = String(e), t = e.length, n = this.options.matchSubset ? 1 : t; t >= n; ) { for (i = this.options.matchInside ? t - n : 0, o = 0; i >= o; ) { if (a = e.substr(0, n), void 0 !== this.cacheData_[a]) return this.cacheData_[a]; o++ } n++ } return !1 }, e.dnnAutocompleter.prototype.cacheWrite = function (e, t) { return this.options.useCache ? (this.cacheLength_ >= this.options.maxCacheLength && this.cacheFlush(), e = String(e), void 0 !== this.cacheData_[e] && this.cacheLength_++, this.cacheData_[e] = t, this.cacheData_[e]) : !1 }, e.dnnAutocompleter.prototype.cacheFlush = function () { this.cacheData_ = {}, this.cacheLength_ = 0 }, e.dnnAutocompleter.prototype.callHook = function (t, n) { var a = this.options[t]; return a && e.isFunction(a) ? a(n, this) : !1 }, e.dnnAutocompleter.prototype.activate = function () { var e = this; this.keyTimeout_ && clearTimeout(this.keyTimeout_), this.keyTimeout_ = setTimeout(function () { e.activateNow() }, this.options.delay) }, e.dnnAutocompleter.prototype.activateNow = function () { var e = this.beforeUseConverter(this.dom.$elem.val()); e !== this.lastProcessedValue_ && e !== this.lastSelectedValue_ && this.fetchData(e) }, e.dnnAutocompleter.prototype.fetchData = function (e) { var t = this, n = function (e, n) { t.options.processData && (e = t.options.processData(e)), t.showResults(t.filterResults(e, n), n) }; this.lastProcessedValue_ = e, e.length < this.options.minChars ? n([], e) : this.options.data ? n(this.options.data, e) : this.fetchRemoteData(e, function (t) { n(t, e) }) }, e.dnnAutocompleter.prototype.fetchRemoteData = function (t, n) { var a = this.cacheRead(t); if (a) n(a); else { var i = this, o = function (e) { var a = !1; e !== !1 && (a = i.parseRemoteData(e), i.cacheWrite(t, a)), i.dom.$elem.removeClass(i.options.loadingClass), n(a) }; this.dom.$elem.addClass(this.options.loadingClass); var r = i.options.moduleId && e.dnnSF ? e.dnnSF(i.options.moduleId) : null; e.ajax({ url: this.makeUrl(t), beforeSend: r ? r.setModuleHeaders : null, success: o, error: function (t, n, a) { e.isFunction(i.options.onError) ? i.options.onError(t, n, a) : o(!1) }, type: "GET", dataType: "json", contentType: "application/json" }) } }, e.dnnAutocompleter.prototype.setExtraParam = function (t, n) { var a = e.trim(String(t)); a && (this.options.extraParams || (this.options.extraParams = {}), this.options.extraParams[a] !== n && (this.options.extraParams[a] = n, this.cacheFlush())) }, e.dnnAutocompleter.prototype.makeUrl = function (e) { var t = this.options.url, n = {}; return n[this.options.queryParamName] = e, i(t, n) }, e.dnnAutocompleter.prototype.parseRemoteData = function (t) { var n = t; return "undefined" != typeof n.d && (n = e.parseJSON(n.d)), n }, e.dnnAutocompleter.prototype.filterResult = function (e, t) { if (!e.value) return !1; if (this.options.filterResults) { var n = this.matchStringConverter(t), a = this.matchStringConverter(e.value); this.options.matchCase || (n = n.toLowerCase(), a = a.toLowerCase()); var i = a.indexOf(n); return this.options.matchInside ? i > -1 : 0 === i } return !0 }, e.dnnAutocompleter.prototype.filterResults = function (e, n) { var a, i, o = []; for (a = 0; a < e.length; a++) i = t(e[a]), this.filterResult(i, n) && o.push(i); return this.options.sortResults && (o = this.sortResults(o, n)), this.options.maxItemsToShow > 0 && this.options.maxItemsToShow < o.length && (o.length = this.options.maxItemsToShow), o }, e.dnnAutocompleter.prototype.sortResults = function (t, n) { var a = this, i = this.options.sortFunction; return e.isFunction(i) || (i = function (e, t) { return o(e, t, a.options.matchCase) }), t.sort(function (e, t) { return i(e, t, n, a.options) }), t }, e.dnnAutocompleter.prototype.matchStringConverter = function (t, n, a) { var i = this.options.matchStringConverter; return e.isFunction(i) && (t = i(t, n, a)), t }, e.dnnAutocompleter.prototype.beforeUseConverter = function (t, n, a) { t = this.getValue(); var i = this.options.beforeUseConverter; return e.isFunction(i) && (t = i(t, n, a)), t }, e.dnnAutocompleter.prototype.enableFinishOnBlur = function () { this.finishOnBlur_ = !0 }, e.dnnAutocompleter.prototype.disableFinishOnBlur = function () { this.finishOnBlur_ = !1 }, e.dnnAutocompleter.prototype.createItemFromResult = function (t, n) { var a = this, i = e("<li>" + this.showResult(t.value, t.data, n) + "</li>"); return i.data({ value: t.value, data: t.data }).click(function () { a.selectItem(i) }).mousedown(a.disableFinishOnBlur).mouseup(a.enableFinishOnBlur), i }, e.dnnAutocompleter.prototype.getItems = function () { return e(">ul>li", this.dom.$results) }, e.dnnAutocompleter.prototype.showResults = function (t, n) { var a, i, o, r, s = t.length, l = this, d = e("<ul></ul>"), c = !1, p = !1; if (s) { for (a = 0; s > a; a++) i = t[a], o = this.createItemFromResult(i, n), d.append(o), c === !1 && (c = String(i.value), p = o, o.addClass(this.options.firstItemClass)), a === s - 1 && o.addClass(this.options.lastItemClass); this.dom.$results.html(d).show(), this.position(), this.options.autoWidth && (r = this.dom.$elem.outerWidth() - this.dom.$results.outerWidth() + this.dom.$results.width(), this.dom.$results.css(this.options.autoWidth, r)), this.getItems().hover(function () { l.focusItem(this) }, function () { }), (this.autoFill(c, n) || this.options.selectFirst || this.options.selectOnly && 1 === s) && this.focusItem(p), this.active_ = !0, this.focusNext() } else this.hideResults(), this.active_ = !1 }, e.dnnAutocompleter.prototype.showResult = function (t, n, a) { if (e.isFunction(this.options.showResult)) return this.options.showResult(t, n); var i = new RegExp("(" + a + ")", "gi"); return t.replace(i, function (e, t) { return "<b>" + t + "</b>" }) }, e.dnnAutocompleter.prototype.autoFill = function (e, t) { var n, a, i, o; if (this.options.autoFill && 8 !== this.lastKeyPressed_ && (n = String(e).toLowerCase(), a = String(t).toLowerCase(), i = e.length, o = t.length, n.substr(0, o) === a)) { var r = this.getDelimiterOffsets(), s = r.start ? " " : ""; this.setValue(s + e); var l = o + r.start + s.length, d = i + r.start + s.length; return this.selectRange(l, d), !0 } return !1 }, e.dnnAutocompleter.prototype.focusNext = function () { this.focusMove(1) }, e.dnnAutocompleter.prototype.focusPrev = function () { this.focusMove(-1) }, e.dnnAutocompleter.prototype.focusMove = function (t) { var a = this.getItems(); if (t = n(t, 0)) for (var i = 0; i < a.length; i++) if (e(a[i]).hasClass(this.selectClass_)) return void this.focusItem(i + t); this.focusItem(0) }, e.dnnAutocompleter.prototype.focusItem = function (t) { var n, a = this.getItems(); a.length && (a.removeClass(this.selectClass_).removeClass(this.options.selectClass), "number" == typeof t ? (0 > t ? t = 0 : t >= a.length && (t = a.length - 1), n = e(a[t])) : n = e(t), n && n.addClass(this.selectClass_).addClass(this.options.selectClass)) }, e.dnnAutocompleter.prototype.selectCurrent = function () { var t = e("li." + this.selectClass_, this.dom.$results); 1 === t.length ? this.selectItem(t) : this.deactivate(!1) }, e.dnnAutocompleter.prototype.selectItem = function (e) { var t = e.data("value"), n = e.data("data"), a = this.displayValue(t, n), i = this.beforeUseConverter(a); this.lastProcessedValue_ = i, this.lastSelectedValue_ = i; var o = this.getDelimiterOffsets(), r = this.options.delimiterChar, s = this.dom.$elem, l = 0; this.options.useDelimiter && (s.val().substring(o.start - 1, o.start) == r && " " != r && (a = " " + a), s.val().substring(o.end, o.end + 1) != r && this.lastKeyPressed_ != this.options.delimiterKeyCode ? a += r : l = 1), this.setValue(a), this.setCaret(o.start + a.length + l), this.callHook("onItemSelect", { value: t, data: n }), this.deactivate(!0), s.trigger("result", t) }, e.dnnAutocompleter.prototype.displayValue = function (t, n) { return e.isFunction(this.options.displayValue) ? this.options.displayValue(t, n) : t }, e.dnnAutocompleter.prototype.hideResults = function () { this.dom.$results.hide() }, e.dnnAutocompleter.prototype.deactivate = function (e) { this.finishTimeout_ && clearTimeout(this.finishTimeout_), this.keyTimeout_ && clearTimeout(this.keyTimeout_), e && (this.lastProcessedValue_ !== this.lastSelectedValue_ && (this.options.mustMatch && this.setValue(""), this.callHook("onNoMatch")), this.active_ && this.callHook("onFinish"), this.lastKeyPressed_ = null, this.lastProcessedValue_ = null, this.lastSelectedValue_ = null, this.active_ = !1), this.hideResults() }, e.dnnAutocompleter.prototype.selectRange = function (e, t) { var n = this.dom.$elem.get(0); if (n.setSelectionRange) n.focus(), n.setSelectionRange(e, t); else if (n.createTextRange) { var a = n.createTextRange(); a.collapse(!0), a.moveEnd("character", t), a.moveStart("character", e), a.select() } }, e.dnnAutocompleter.prototype.setCaret = function (e) { this.selectRange(e, e) }, e.dnnAutocompleter.prototype.getCaret = function () { var t, n, a, i = this.dom.$elem; if (e.support.cssFloat) t = i[0].selectionStart, n = i[0].selectionEnd; else { var o = document.selection; if ("textarea" != i[0].tagName.toLowerCase()) { var r = i.val(); a = o.createRange().duplicate(), a.moveEnd("character", r.length), t = "" == a.text ? r.length : r.lastIndexOf(a.text), a = o.createRange().duplicate(), a.moveStart("character", -r.length), n = a.text.length } else { a = o.createRange(); var s = a.duplicate(); s.moveToElementText(i[0]), s.setEndPoint("EndToEnd", a), t = s.text.length - a.text.length, n = t + a.text.length } } return { start: t, end: n} }, e.dnnAutocompleter.prototype.setValue = function (e) { if (this.options.useDelimiter) { var t = this.dom.$elem.val(), n = this.getDelimiterOffsets(), a = t.substring(0, n.start), i = t.substring(n.end); e = a + e + i } this.dom.$elem.val(e).blur() }, e.dnnAutocompleter.prototype.getValue = function () { var e = this.dom.$elem.val(); if (this.options.useDelimiter) { var t = this.getDelimiterOffsets(); return e.substring(t.start, t.end).trim() } return e }, e.dnnAutocompleter.prototype.getDelimiterOffsets = function () { var e = this.dom.$elem.val(); if (this.options.useDelimiter) { var t = e.substring(0, this.getCaret().start), n = t.lastIndexOf(this.options.delimiterChar) + 1, a = e.substring(this.getCaret().start), i = a.indexOf(this.options.delimiterChar); -1 == i && (i = e.length), i += this.getCaret().start } else n = 0, i = e.length; return { start: n, end: i} } } (jQuery), function (e) {
    var t = new Array, n = new Array; e.fn.dnnDoAutosize = function (t) { var n = e(this).data("minwidth"), a = e(this).data("maxwidth"), i = "", o = e(this), r = e("#" + e(this).data("tester_id")); if (i !== (i = o.val())) { var s = i.replace(/&/g, "&amp;").replace(/\s/g, " ").replace(/</g, "&lt;").replace(/>/g, "&gt;"); r.html(s); var l = r.width(), d = l + t.comfortZone >= n ? l + t.comfortZone : n, c = o.width(), p = c > d && d >= n || d > n && a > d; p && o.width(d) } }, e.fn.dnnResetAutosize = function (t) { var n = e(this).data("minwidth") || t.minInputWidth || e(this).width(), a = e(this).data("maxwidth") || t.maxInputWidth || e(this).closest(".dnnTagsInput").width() - t.inputPadding, i = e(this), o = e("<tester/>").css({ position: "absolute", top: -9999, left: -9999, width: "auto", fontSize: i.css("fontSize"), fontFamily: i.css("fontFamily"), fontWeight: i.css("fontWeight"), letterSpacing: i.css("letterSpacing"), whiteSpace: "nowrap" }), r = e(this).attr("id") + "_autosize_tester"; !e("#" + r).length > 0 && (o.attr("id", r), o.appendTo("body")), i.data("minwidth", n), i.data("maxwidth", a), i.data("tester_id", r), i.css("width", n) }, e.fn.dnnAddTag = function (a, i) { return i = jQuery.extend({ focus: !1, callback: !0 }, i), this.each(function () { var o = e(this).attr("id"), r = e(this).val().split(t[o]); "" == r[0] && (r = new Array), a = a.replace(/<.*?>/g, ""), a = jQuery.trim(a); var s; if (i.unique ? (s = e(this).dnnTagExist(a), 1 == s ? e("#" + o + "_tag").addClass("dnnTagsInvalid") : e("#" + o + "_tag").removeClass("dnnTagsInvalid")) : (s = !1, e("#" + o + "_tag").removeClass("dnnTagsInvalid")), "" != a && 1 != s) { e("<span>").addClass("tag").append(e("<span>").text(a).append("&nbsp;&nbsp;"), e("<a>", { href: "#", title: "Removing tag" }).click(function () { return e("#" + o).dnnRemoveTag(escape(a)) })).insertBefore("#" + o + "_addTag"), r.push(a), e("#" + o + "_tag").val(""), i.focus ? e("#" + o + "_tag").focus() : e("#" + o + "_tag").blur(), e.fn.dnnTagsInput.updateTagsField(this, r); var l; if (i.callback && n[o] && n[o].onAddTag && (l = n[o].onAddTag, l.call(this, a)), n[o] && n[o].onChange) { var d = r.length; l = n[o].onChange, l.call(this, e(this), r[d - 1]) } } }), !1 }, e.fn.dnnRemoveTag = function (a) { return a = unescape(a), this.each(function () { var i = e(this).attr("id"), o = e(this).val().split(t[i]); e("#" + i + "_tagsinput .tag").remove(); for (var r = "", s = 0; s < o.length; s++) o[s] != a && (r = r + t[i] + o[s]); if (e.fn.dnnTagsInput.importTags(this, r), n[i] && n[i].onRemoveTag) { var l = n[i].onRemoveTag; l.call(this, a) } }), !1 }, e.fn.dnnTagExist = function (n) { var a = e(this).attr("id"), i = e(this).val().split(t[a]); return jQuery.inArray(n, i) >= 0 }, e.fn.dnnImportTags = function (t) {
        var n = e(this).attr("id");
        e("#" + n + "_tagsinput .tag").remove(), e.fn.dnnTagsInput.importTags(this, t)
    }, e.fn.dnnTagsInput = function (a) { var i = null, o = function (e) { i || (i = setTimeout(function () { i = null, e && e() }, 0)) }, r = jQuery.extend({ interactive: !0, defaultText: "Add a tag", minChars: 0, maxChars: 50, maxTags: 16, lessThanMinCharsErrorText: "A tag cannot be less than {0} characters long", lessThanMinCharsErrorTitle: "Tag Length Not Reached", moreThanMaxCharsErrorText: "A tag cannot be more than {0} characters long", moreThanMaxCharsErrorTitle: "Tag Length Exceeded", moreThanMaxTagsErrorText: "A maximum of {0} tags can be attached here", moreThanMaxTagsErrorTitle: "Tags limit exceeded", onErrorLessThanMinChars: function () { e.dnnAlert({ text: String.format(r.lessThanMinCharsErrorText, r.minChars), title: r.lessThanMinCharsErrorTitle }) }, onErrorMoreThanMaxChars: function () { e.dnnAlert({ text: String.format(r.moreThanMaxCharsErrorText, r.maxChars), title: r.moreThanMaxCharsErrorTitle }) }, onErrorMoreThanMaxTags: function () { e.dnnAlert({ text: String.format(r.moreThanMaxTagsErrorText, r.maxTags), title: r.moreThanMaxTagsErrorTitle }) }, width: "45%", autocomplete: { selectFirst: !1 }, hide: !0, delimiter: ",", unique: !0, removeWithBackspace: !0, placeholderColor: "#999", normalColor: "#666", autosize: !0, comfortZone: 20, inputPadding: 12 }, a); return this.each(function () { var a = e(this).data("dnnTagInput"); if (a) return this; r.hide && e(this).hide(); var i = e(this).attr("id"); (!i || t[e(this).attr("id")]) && (i = e(this).attr("id", "tags" + (new Date).getTime()).attr("id")); var s = jQuery.extend({ pid: i, real_input: "#" + i, holder: "#" + i + "_tagsinput", input_wrapper: "#" + i + "_addTag", fake_input: "#" + i + "_tag" }, r); e(this).data("dnnTagInput", s), t[i] = s.delimiter, (r.onAddTag || r.onRemoveTag || r.onChange) && (n[i] = new Array, n[i].onAddTag = r.onAddTag, n[i].onRemoveTag = r.onRemoveTag, n[i].onChange = r.onChange); var l = '<div id="' + i + '_tagsinput" class="dnnTagsInput">'; if (l += '<div id="' + i + '_addTag">', r.interactive && (l += '<input id="' + i + '_tag" value="" data-default="' + r.defaultText + '" autocomplete="off" />'), l += "</div>", l += '<div class="dnnTagsClear"></div></div>', e(l).insertAfter(this), e(s.holder).css({ width: r.width, "min-height": r.height }), "" != e(s.real_input).val() && e.fn.dnnTagsInput.importTags(e(s.real_input), e(s.real_input).val()), r.interactive) { var d = "placeholder" in e(s.fake_input)[0]; d ? e(s.fake_input).attr("placeholder", e(s.fake_input).attr("data-default")) : (e(s.fake_input).val(e(s.fake_input).attr("data-default")), e(s.fake_input).css("color", r.placeholderColor)), e(s.fake_input).dnnResetAutosize(r), e(s.holder).bind("click", s, function (t) { return e(t.data.real_input).triggerHandler("focus"), e(t.data.fake_input).triggerHandler("focus"), !1 }), e(s.fake_input).bind("focus", s, function (t) { e(t.data.fake_input).val() == e(t.data.fake_input).attr("data-default") && e(t.data.fake_input).val(""), e(t.data.fake_input).css("color", r.normalColor) }), void 0 != r.autocomplete_url ? void 0 !== e.dnnAutocompleter && (r.advanced && r.advanced.length && (r.autocomplete.advanced = r.advanced), e(s.fake_input).dnnAutocomplete(r.autocomplete_url, r.autocomplete), e(s.fake_input).bind("result", s, function (n, a) { if (a) { var l = e(n.data.real_input).val().split(t[i]); "" == l[0] && (l = new Array), n.data.maxTags <= l.length ? (n.data.onErrorMoreThanMaxTags && o(n.data.onErrorMoreThanMaxTags), e(s.fake_input).val("")) : e(n.data.real_input).dnnAddTag(a, { focus: !0, unique: r.unique }) } })) : e(s.fake_input).bind("blur", s, function (n) { var a = e(this).attr("data-default"), l = e(n.data.real_input).val().split(t[i]); if ("" == l[0] && (l = new Array), "" != e(n.data.fake_input).val() && e(n.data.fake_input).val() != a) if (n.data.minChars > e(n.data.fake_input).val().length) n.data.onErrorLessThanMinChars && o(n.data.onErrorLessThanMinChars), e(s.fake_input).val(""); else if (n.data.maxChars < e(n.data.fake_input).val().length) n.data.onErrorMoreThanMaxChars && o(n.data.onErrorMoreThanMaxChars), e(s.fake_input).val(""); else if (n.data.maxTags <= l.length) n.data.onErrorMoreThanMaxTags && o(n.data.onErrorMoreThanMaxTags), e(s.fake_input).val(""); else for (var d = e(n.data.fake_input).val().split(t[i]), c = 0; c < d.length; c++) e(n.data.real_input).dnnAddTag(d[c], { focus: !0, unique: r.unique }); else e(n.data.fake_input).val(e(n.data.fake_input).attr("data-default")), e(n.data.fake_input).css("color", r.placeholderColor); return !1 }), e(s.fake_input).bind("keypress", s, function (n) { if (n.which == n.data.delimiter.charCodeAt(0) || 13 == n.which) { n.preventDefault(); var a = e(n.data.real_input).val().split(t[i]); if ("" == a[0] && (a = new Array), n.data.minChars > e(n.data.fake_input).val().length) n.data.onErrorLessThanMinChars && o(n.data.onErrorLessThanMinChars), e(s.fake_input).val(""); else if (n.data.maxChars < e(n.data.fake_input).val().length) n.data.onErrorMoreThanMaxChars && o(n.data.onErrorMoreThanMaxChars), e(s.fake_input).val(""); else if (n.data.maxTags <= a.length) n.data.onErrorMoreThanMaxTags && o(n.data.onErrorMoreThanMaxTags), e(s.fake_input).val(""); else for (var l = e(n.data.fake_input).val().split(t[i]), d = 0; d < l.length; d++) e(n.data.real_input).dnnAddTag(l[d], { focus: !0, unique: r.unique }); return e(n.data.fake_input).dnnResetAutosize(r), !1 } return n.data.autosize && e(n.data.fake_input).dnnDoAutosize(r), !0 }), s.removeWithBackspace && e(s.fake_input).bind("keydown", function (t) { if (8 == t.keyCode && "" == e(this).val()) { t.preventDefault(); var n = e(this).closest(".dnnTagsInput").find(".tag:last").text(), a = e(this).attr("id").replace(/_tag$/, ""); n = n.replace(/[\s]+$/, ""), e("#" + a).dnnRemoveTag(escape(n)), e(this).trigger("focus") } }), e(s.fake_input).blur(), s.unique && e(s.fake_input).keydown(function (t) { (8 == t.keyCode || String.fromCharCode(t.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,\/]+/)) && e(this).removeClass("dnnTagsInvalid") }) } return this }), this }, e.fn.dnnTagsInput.updateTagsField = function (n, a) { var i = e(n).attr("id"); e(n).val(a.join(t[i])) }, e.fn.dnnTagsInput.importTags = function (a, i) { e(a).val(""); for (var o = e(a).attr("id"), r = i.split(t[o]), s = 0; s < r.length; s++) e(a).dnnAddTag(r[s], { focus: !1, callback: !1 }); if (n[o] && n[o].onChange) { var l = n[o].onChange; l.call(a, a, r[s]) } } 
} (jQuery), function (e) { e.fn.toggleErrorMessage = function (t) { var n = { errorMessage: "Error message", errorCls: "dnnFormError", show: !0, removeErrorMessage: !0 }; return t = e.extend(n, t), this.each(function () { var n = e(this).closest(".dnnFormItem"); if (t.show) { var a = n.find("span.dnnFormMessage." + t.errorCls); a.length ? a.html(t.errorMessage) : (a = e('<span class="dnnFormMessage ' + t.errorCls + '">' + t.errorMessage + "</span>"), n.append(a)), "div" == this.tagName.toLowerCase() ? e(this).hasClass("RadComboBox") && e(this).addClass("dnnError") : e(this).parent().hasClass("RadPicker") ? e(this).parent().find("input.riTextBox").css("border", "1px solid red") : e(this).hasClass("dnnSpinnerInput") ? e(this).parent().css("border", "1px solid red") : e(this).css("border", "1px solid red") } else t.removeErrorMessage ? n.find("span." + t.errorCls).remove() : n.find("span." + t.errorCls).hide(), "div" == this.tagName.toLowerCase() ? e(this).hasClass("RadComboBox") && e(this).removeClass("dnnError") : e(this).hasClass("dnnSpinnerInput") ? e(this).parent().css("border", "1px solid #ccc") : e(this).css("border", "1px solid #ccc") }) }, e.fn.dnnFormSubmit = function (t) { var n = { validates: [] }; return t = e.extend(n, t), this.each(function () { e(this).click(function () { for (var n = !0, a = 0; a < t.validates.length; a++) { var i = e("#" + t.validates[a].ele), o = t.validates[a].func; if (i.length) { var r = i.val(), s = o.call(i.get(0), r); s ? (i.toggleErrorMessage({ errorMessage: s, show: !0 }), n = !1) : i.toggleErrorMessage({ show: !1 }); var l = function () { e(this).toggleErrorMessage({ show: !1 }) }; i.unbind("focus", l).bind("focus", l) } } return n }) }) }, e.dnnRadPickerHack = function () { var t = function () { e(this).toggleErrorMessage({ show: !1, removeErrorMessage: !1 }) }, n = function () { if (e.support.cssFloat) { var t = e(this).attr("id"), n = t.replace("popupButton", "calendar_wrapper"), a = e("#" + n), i = t.replace("popupButton", "wrapper"), o = e("#" + i), r = a.parent().position().top, s = o.offset().top, l = a.find(".RadCalendar_Default"), d = l.next(); (d.hasClass("RadCalendar_Default_PopupArrow_Down") || d.hasClass("RadCalendar_Default_PopupArrow_Up")) && d.remove(), s > r ? l.after('<div class="RadCalendar_Default_PopupArrow_Down"></div>') : l.after('<div class="RadCalendar_Default_PopupArrow_Up"></div>') } e(this).toggleErrorMessage({ show: !1, removeErrorMessage: !1 }) }; e(".RadPicker_Default a.rcCalPopup").unbind("click", n).bind("click", n), e(".RadPicker_Default .riTextBox").unbind("focus", t).bind("focus", t) }, e.dnnComboBoxLoaded = function (t) { "Telerik.Web.UI.RadComboBox" == t.constructor.__typeName && e(t._inputDomElement).closest(".RadComboBox").removeAttr("style") }, e.dnnComboBoxHack = function (t) { e(("#" + t._clientStateFieldID).replace("_ClientState", "")).toggleErrorMessage({ show: !1, removeErrorMessage: !1 }) }, e.dnnComboBoxScroll = function (t) { e.support.cssFloat && e(("#" + t._clientStateFieldID + " .rcbScroll").replace("ClientState", "DropDown")).jScrollPane() }, e.dnnGridCreated = function (t) { var n = t.ClientID, a = e("#" + n); e("input.rgSortDesc, input.rgSortAsc", a).click(function () { var t = e(this).parent().find("a").get(0).href; return window.location = t, !1 }), a.hasClass("dnnTooltipGrid") && (a.dnnHelperTipDestroy(), e(".rgRow, .rgAltRow", a).each(function () { var t = "Here is some text will show up and explian more about this information"; e(this).dnnHelperTip({ helpContent: t, holderId: n }) })); var i = $find(n), o = e(".rgCheck", a); o.length && (o.each(function () { var t = e(this).find('input[type="checkbox"]').get(0), n = t.onclick; t.onchange = n, t.onclick = null }), e('.rgDataDiv input[type="checkbox"]', a).change(function () { var t = i.get_masterTableView(), n = e(this).closest("tr").get(0).rowIndex, a = this.checked; a ? t.selectItem(n) : t.deselectItem(n) })), e(".rgDataDiv").each(function () { var t = e(this), n = t.get(0); n.scrollPane = t.jScrollPane(); var a, i = n.scrollPane.data("jsp"); if (e(window).bind("resize", function () { e.support.cssFloat ? i.reinitialise() : (a && (clearTimeout(a), a = null), a = setTimeout(function () { i.reinitialise(), a = null }, 50)) }), window.__rgDataDivScrollTopPersistArray && window.__rgDataDivScrollTopPersistArray.length) { var o = window.__rgDataDivScrollTopPersistArray.pop(); i.scrollToY(o) } }) } } (jQuery), function (e) { function t(t) { var n = t || window.event, a = [].slice.call(arguments, 1), i = 0, o = 0, r = 0; return t = e.event.fix(n), t.type = "mousewheel", n.wheelDelta && (i = n.wheelDelta / 120), n.detail && (i = -n.detail / 3), r = i, void 0 !== n.axis && n.axis === n.HORIZONTAL_AXIS && (r = 0, o = -1 * i), void 0 !== n.wheelDeltaY && (r = n.wheelDeltaY / 120), void 0 !== n.wheelDeltaX && (o = -1 * n.wheelDeltaX / 120), a.unshift(t, i, o, r), (e.event.dispatch || e.event.handle).apply(this, a) } var n = ["DOMMouseScroll", "mousewheel"]; if (e.event.fixHooks) for (var a = n.length; a; ) e.event.fixHooks[n[--a]] = e.event.mouseHooks; e.event.special.mousewheel = { setup: function () { if (this.addEventListener) for (var e = n.length; e; ) this.addEventListener(n[--e], t, !1); else this.onmousewheel = t }, teardown: function () { if (this.removeEventListener) for (var e = n.length; e; ) this.removeEventListener(n[--e], t, !1); else this.onmousewheel = null } }, e.fn.extend({ mousewheel: function (e) { return e ? this.bind("mousewheel", e) : this.trigger("mousewheel") }, unmousewheel: function (e) { return this.unbind("mousewheel", e) } }) } (jQuery), function (e) { e.fn.dnnFileInput = function (t) { var n = e.extend({}, e.fn.dnnFileInput.defaultOptions, t); return this.each(function () { var t = e(this); if (!t.hasClass("normalFileUpload") && !this.wrapper && !(t.parents().hasClass("RadUpload") || this.parentNode && "span" == this.parentNode.tagName.toLowerCase() && t.parent().hasClass("dnnInputFileWrapper"))) { this.wrapper = e("<span class='dnnInputFileWrapper " + n.buttonClass + "'></span>"); var a = t.data("text"); a = a || "Choose File", this.wrapper.text(a), t.wrap(this.wrapper), t.data("wrapper", t.parent()), n.showSelectedFileNameAsButtonText && t.change(function () { var t = e(this).val(); if ("" != t) { var n = t.lastIndexOf("\\") + 1; t = t.substring(n, t.length) } else t = a; e(this).data("wrapper").get(0).childNodes[0].nodeValue = t }) } }) }, e.fn.dnnFileInput.defaultOptions = { buttonClass: "dnnSecondaryAction", showSelectedFileNameAsButtonText: !0} } (jQuery), function (e) { var t = function () { var e = new XMLHttpRequest; return !!(e && "upload" in e && "onprogress" in e.upload) }; e.fn.dnnFileUpload = function (n) { return this.each(function () { var a = e(this).attr("id"); window.dnn.dnnFileUpload.setSettings(a, n); var i = e.dnnSF(); e("#" + n.progressBarId).parent().hide(); var o = e("#" + n.dropZoneId + ">span"); "draggable" in document.createElement("span") ? o.show() : o.hide(); var r = i.getServiceRoot("internalservices") + "fileupload/postfile"; if (!t()) { var s = e('input[name="__RequestVerificationToken"]').val(); r += "?__RequestVerificationToken=" + s } e("#" + a + ' input[type="file"]').fileupload({ url: r, beforeSend: i.setModuleHeaders, dropZone: e("#" + n.dropZoneId), replaceFileInput: !1, submit: function (e, t) { return t.formData = { folder: n.folder, filter: n.fileFilter, overwrite: "true" }, !0 }, progressall: function (t, a) { var i = parseInt(a.loaded / a.total * 100, 10); 100 > i ? (e("#" + n.progressBarId).parent().show(), e("#" + n.progressBarId + ">div").css("width", i + "%")) : e("#" + n.progressBarId).parent().hide() }, done: function (t, a) { e("#" + n.progressBarId).parent().hide(); var i = new Image; e(i).load(function () { e("#" + n.dropZoneId + " img").remove(), e(i).css({ "max-width": 180, "max-height": 150 }).insertBefore(e("#" + n.dropZoneId + " span")) }); var o; a.dataType && "object" == typeof a.result && a.result.length ? a.result = JSON.parse(a.result.text()) : a.result = JSON.parse(a.result); var r = e("<pre>" + a.result.FilePath + "</pre>"); if (o = r.length ? r.text() : a.result, o && e.trim(o)) { i.src = o; var s = a.result.FilePath.replace("\\", "/"); s.indexOf("/") > -1 && (s = s.split("/")[s.split("/").length - 1]), dnn[n.filesComboId].refresh(dnn[n.foldersComboId].selectedItem().key), dnn[n.filesComboId].selectedItem({ key: a.result.FileId, value: s }) } }, fail: function (t, a) { e("#" + n.progressBarId).parent().hide(); var i = JSON.parse(a.jqXHR.responseText); alert(i.Message) } }), e("#" + a + " input[name=uploadFileButton]").click(function () { var e = dnn[n.fileUploadId], t = e.options; null != dnn[n.foldersComboId].selectedItem() && (e.options.folderPicker.initialState.selectedItem = dnn[n.foldersComboId].selectedItem(), e.options.folderPath = window.dnn.dnnFileUpload.getSelectedPath(dnn[n.foldersComboId])), e.show(t), window.dnn.dnnFileUpload.updateExpandPath(dnn[n.foldersComboId], e._panel._folderPicker.id()), e._panel.$element.on("onfileuploadcomplete", function (t, a) { if ("string" == typeof a && (a = JSON.parse(a)), a && a.fileId) { var i = e._panel._folderPicker; dnn[n.foldersComboId].selectedItem(i.selectedItem()), window.dnn.dnnFileUpload.Folders_Changed(dnn[n.foldersComboId].selectedItem(), dnn[n.foldersComboId].$element), window.dnn.dnnFileUpload.updateExpandPath(i, n.foldersComboId), dnn[n.filesComboId].refresh(dnn[n.foldersComboId].selectedItem().key), dnn[n.filesComboId].selectedItem({ key: a.fileId.toString(), value: a.fileName }), window.dnn.dnnFileUpload.Files_Changed(dnn[n.filesComboId].selectedItem(), dnn[n.filesComboId].$element) } }) }), setTimeout(function () { dnn[n.filesComboId].options.services.parameters.parentId = n.selectedFolderId; var t = dnn[n.filesComboId], a = t.selectedItem() ? t.selectedItem().key : null; r = i.getServiceRoot("internalservices") + "fileupload/loadimage"; var o = a ? parseInt(a) : 0; o > 0 && e.ajax({ url: r, type: "GET", data: { fileId: a }, success: function (t) { var a = new Image; e(a).load(function () { e("#" + n.dropZoneId + " img").remove(), e(a).css({ "max-width": 180, "max-height": 150 }).insertBefore(e("#" + n.dropZoneId + " span")) }), a.src = t }, error: function () { } }) }, 500) }) }, "undefined" == typeof window.dnn && (window.dnn = {}), window.dnn.dnnFileUpload = window.dnn.dnnFileUpload || {}, window.dnn.dnnFileUpload.settings = {}, window.dnn.dnnFileUpload.setSettings = function (e, t) { window.dnn.dnnFileUpload.settings[e] = t }, window.dnn.dnnFileUpload.getSettings = function (e) { var t = e.closest(".dnnFileUploadScope").attr("id"); return window.dnn.dnnFileUpload.settings[t] }, window.dnn.dnnFileUpload.Folders_Changed = function (t, n) { var a = window.dnn.dnnFileUpload.getSettings(n); if (!a) return !1; if (t) { var i = dnn[a.foldersComboId].selectedPath(); if (0 === i.length && a.folder) return a.folder; var o = ""; if (i.length > 1) for (var r = 1, s = i.length; s > r; r++) o += i[r].name + "/"; a.folder = o, dnn[a.filesComboId].refresh(t.key), dnn[a.filesComboId].selectedItem(null), window.dnn.dnnFileUpload.Files_Changed({ key: null }, e("#" + a.filesComboId)) } }, window.dnn.dnnFileUpload.Files_Changed = function (t, n) { var a = window.dnn.dnnFileUpload.getSettings(n); if (a && t) { var i = t.key, o = e.dnnSF(), r = o.getServiceRoot("internalservices") + "fileupload/loadimage"; i ? e.ajax({ url: r, type: "GET", data: { fileId: i }, success: function (t) { var n = new Image; e(n).load(function () { e("#" + a.dropZoneId + " img").remove(), e(n).css({ "max-width": 180, "max-height": 150 }).insertBefore(e("#" + a.dropZoneId + " span")) }), n.src = t }, error: function () { } }) : e("#" + a.dropZoneId + " img").remove() } }, window.dnn.dnnFileUpload.updateExpandPath = function (e, t) { var n = e.selectedPath(), a = ""; if (0 == n.length) a = dnn.getVar(e.id() + "_expandPath"); else if (n.length > 1) for (var i = 0; i < n.length - 1; i++) a = "" == a ? n[i].id : a + "," + n[i].id; "" != a && dnn.setVar(t + "_expandPath", a) }, window.dnn.dnnFileUpload.getSelectedPath = function (e) { var t = e.selectedPath(), n = window.dnn.dnnFileUpload.getSettings(e.$element); if (0 === t.length && n.folder) return n.folder; var a = ""; if (t.length > 1) for (var i = 1, o = t.length; o > i; i++) a += t[i].name + "/"; return a } } (jQuery), function (e) { e.fn.jScrollPane = function (t) { function n(t, n) { function a(n) { var o, s, d, c, p, f, v = !1, g = !1; if (O = n, void 0 === V) p = t.scrollTop(), f = t.scrollLeft(), t.css({ overflow: "hidden", padding: 0 }), U = t.innerWidth() + me, L = t.innerHeight(), t.width(U), V = e('<div class="jspPane" />').css("padding", ge).append(t.children()), N = e('<div class="jspContainer" />').css({ width: U + "px", height: L + "px" }).append(V).appendTo(t); else { if (t.css("width", ""), v = O.stickToBottom && A(), g = O.stickToRight && I(), c = t.innerWidth() + me != U || t.outerHeight() != L, c && (U = t.innerWidth() + me, L = t.innerHeight(), N.css({ width: U + "px", height: L + "px" })), !c && Ce == z && V.outerHeight() == $) return void t.width(U); Ce = z, V.css("width", ""), t.width(U), N.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end() } V.css("overflow", "auto"), z = n.contentWidth ? n.contentWidth : V[0].scrollWidth, $ = V[0].scrollHeight, V.css("overflow", ""), Y = z / U, q = $ / L, Q = q > 1, X = Y > 1, X || Q ? (t.addClass("jspScrollable"), o = O.maintainPosition && (K || te), o && (s = k(), d = S()), i(), r(), l(), o && (x(g ? z - U : s, !1), y(v ? $ - L : d, !1)), F(), _(), H(), O.enableKeyboardNavigation && R(), O.clickOnTrack && u(), E(), O.hijackInternalLinks && M()) : (t.removeClass("jspScrollable"), V.css({ top: 0, width: N.width() - me }), j(), P(), B(), h()), O.autoReinitialise && !ve ? ve = setInterval(function () { a(O) }, O.autoReinitialiseDelay) : !O.autoReinitialise && ve && clearInterval(ve), p && t.scrollTop(0) && y(p, !1), f && t.scrollLeft(0) && x(f, !1), t.trigger("jsp-initialised", [X || Q]) } function i() { Q && (N.append(e('<div class="jspVerticalBar" />').append(e('<div class="jspCap jspCapTop" />'), e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragTop" />'), e('<div class="jspDragBottom" />'))), e('<div class="jspCap jspCapBottom" />'))), ne = N.find(">.jspVerticalBar"), ae = ne.find(">.jspTrack"), Z = ae.find(">.jspDrag"), O.showArrows && (se = e('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp", c(0, -1)).bind("click.jsp", D), le = e('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp", c(0, 1)).bind("click.jsp", D), O.arrowScrollOnHover && (se.bind("mouseover.jsp", c(0, -1, se)), le.bind("mouseover.jsp", c(0, 1, le))), d(ae, O.verticalArrowPositions, se, le)), oe = L, N.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function () { oe -= e(this).outerHeight() }), Z.hover(function () { Z.addClass("jspHover") }, function () { Z.removeClass("jspHover") }).bind("mousedown.jsp", function (t) { e("html").bind("dragstart.jsp selectstart.jsp", D), Z.addClass("jspActive"); var n = t.pageY - Z.position().top; return e("html").bind("mousemove.jsp", function (e) { v(e.pageY - n, !1) }).bind("mouseup.jsp mouseleave.jsp", f), !1 }), o()) } function o() { ae.height(oe + "px"), K = 0, ie = O.verticalGutter + ae.outerWidth(), V.width(U - ie - me); try { 0 === ne.position().left && V.css("margin-left", ie + "px") } catch (e) { } } function r() { X && (N.append(e('<div class="jspHorizontalBar" />').append(e('<div class="jspCap jspCapLeft" />'), e('<div class="jspTrack" />').append(e('<div class="jspDrag" />').append(e('<div class="jspDragLeft" />'), e('<div class="jspDragRight" />'))), e('<div class="jspCap jspCapRight" />'))), de = N.find(">.jspHorizontalBar"), ce = de.find(">.jspTrack"), J = ce.find(">.jspDrag"), O.showArrows && (he = e('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp", c(-1, 0)).bind("click.jsp", D), fe = e('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp", c(1, 0)).bind("click.jsp", D), O.arrowScrollOnHover && (he.bind("mouseover.jsp", c(-1, 0, he)), fe.bind("mouseover.jsp", c(1, 0, fe))), d(ce, O.horizontalArrowPositions, he, fe)), J.hover(function () { J.addClass("jspHover") }, function () { J.removeClass("jspHover") }).bind("mousedown.jsp", function (t) { e("html").bind("dragstart.jsp selectstart.jsp", D), J.addClass("jspActive"); var n = t.pageX - J.position().left; return e("html").bind("mousemove.jsp", function (e) { m(e.pageX - n, !1) }).bind("mouseup.jsp mouseleave.jsp", f), !1 }), pe = N.innerWidth(), s()) } function s() { N.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function () { pe -= e(this).outerWidth() }), ce.width(pe + "px"), te = 0 } function l() { if (X && Q) { var t = ce.outerHeight(), n = ae.outerWidth(); oe -= t, e(de).find(">.jspCap:visible,>.jspArrow").each(function () { pe += e(this).outerWidth() }), pe -= n, L -= n, U -= t, ce.parent().append(e('<div class="jspCorner" />').css("width", t + "px")), o(), s() } X && V.width(N.outerWidth() - me + "px"), $ = V.outerHeight(), q = $ / L, X && (ue = Math.ceil(1 / Y * pe), ue > O.horizontalDragMaxWidth ? ue = O.horizontalDragMaxWidth : ue < O.horizontalDragMinWidth && (ue = O.horizontalDragMinWidth), J.width(ue + "px"), ee = pe - ue, C(te)), Q && (re = Math.ceil(1 / q * oe), re > O.verticalDragMaxHeight ? re = O.verticalDragMaxHeight : re < O.verticalDragMinHeight && (re = O.verticalDragMinHeight), Z.height(re + "px"), G = oe - re, g(K)) } function d(e, t, n, a) { var i, o = "before", r = "after"; "os" == t && (t = /Mac/.test(navigator.platform) ? "after" : "split"), t == o ? r = t : t == r && (o = t, i = n, n = a, a = i), e[o](n)[r](a) } function c(e, t, n) { return function () { return p(e, t, this, n), this.blur(), !1 } } function p(t, n, a, i) { a = e(a).addClass("jspActive"); var o, r, s = !0, l = function () { 0 !== t && we.scrollByX(t * O.arrowButtonSpeed), 0 !== n && we.scrollByY(n * O.arrowButtonSpeed), r = setTimeout(l, s ? O.initialDelay : O.arrowRepeatFreq), s = !1 }; l(), o = i ? "mouseout.jsp" : "mouseup.jsp", i = i || e("html"), i.bind(o, function () { a.removeClass("jspActive"), r && clearTimeout(r), r = null, i.unbind(o) }) } function u() { h(), Q && ae.bind("mousedown.jsp", function (t) { if (void 0 === t.originalTarget || t.originalTarget == t.currentTarget) { var n, a = e(this), i = a.offset(), o = t.pageY - i.top - K, r = !0, s = function () { var e = a.offset(), i = t.pageY - e.top - re / 2, d = L * O.scrollPagePercent, c = G * d / ($ - L); if (0 > o) K - c > i ? we.scrollByY(-d) : v(i); else { if (!(o > 0)) return void l(); i > K + c ? we.scrollByY(d) : v(i) } n = setTimeout(s, r ? O.initialDelay : O.trackClickRepeatFreq), r = !1 }, l = function () { n && clearTimeout(n), n = null, e(document).unbind("mouseup.jsp", l) }; return s(), e(document).bind("mouseup.jsp", l), !1 } }), X && ce.bind("mousedown.jsp", function (t) { if (void 0 === t.originalTarget || t.originalTarget == t.currentTarget) { var n, a = e(this), i = a.offset(), o = t.pageX - i.left - te, r = !0, s = function () { var e = a.offset(), i = t.pageX - e.left - ue / 2, d = U * O.scrollPagePercent, c = ee * d / (z - U); if (0 > o) te - c > i ? we.scrollByX(-d) : m(i); else { if (!(o > 0)) return void l(); i > te + c ? we.scrollByX(d) : m(i) } n = setTimeout(s, r ? O.initialDelay : O.trackClickRepeatFreq), r = !1 }, l = function () { n && clearTimeout(n), n = null, e(document).unbind("mouseup.jsp", l) }; return s(), e(document).bind("mouseup.jsp", l), !1 } }) } function h() { ce && ce.unbind("mousedown.jsp"), ae && ae.unbind("mousedown.jsp") } function f() { e("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"), Z && Z.removeClass("jspActive"), J && J.removeClass("jspActive") } function v(e, t) { Q && (0 > e ? e = 0 : e > G && (e = G), void 0 === t && (t = O.animateScroll), t ? we.animate(Z, "top", e, g) : (Z.css("top", e), g(e))) } function g(e) { void 0 === e && (e = Z.position().top), N.scrollTop(0), K = e; var n = 0 === K, a = K == G, i = e / G, o = -i * ($ - L); (be != n || xe != a) && (be = n, xe = a, t.trigger("jsp-arrow-change", [be, xe, ye, Te])), w(n, a), V.css("top", o), t.trigger("jsp-scroll-y", [-o, n, a]).trigger("scroll") } function m(e, t) { X && (0 > e ? e = 0 : e > ee && (e = ee), void 0 === t && (t = O.animateScroll), t ? we.animate(J, "left", e, C) : (J.css("left", e), C(e))) } function C(e) { void 0 === e && (e = J.position().left), N.scrollTop(0), te = e; var n = 0 === te, a = te == ee, i = e / ee, o = -i * (z - U); (ye != n || Te != a) && (ye = n, Te = a, t.trigger("jsp-arrow-change", [be, xe, ye, Te])), b(n, a), V.css("left", o), t.trigger("jsp-scroll-x", [-o, n, a]).trigger("scroll") } function w(e, t) { O.showArrows && (se[e ? "addClass" : "removeClass"]("jspDisabled"), le[t ? "addClass" : "removeClass"]("jspDisabled")) } function b(e, t) { O.showArrows && (he[e ? "addClass" : "removeClass"]("jspDisabled"), fe[t ? "addClass" : "removeClass"]("jspDisabled")) } function y(e, t) { var n = e / ($ - L); v(n * G, t) } function x(e, t) { var n = e / (z - U); m(n * ee, t) } function T(t, n, a) { var i, o, r, s, l, d, c, p, u, h = 0, f = 0; try { i = e(t) } catch (v) { return } for (o = i.outerHeight(), r = i.outerWidth(), N.scrollTop(0), N.scrollLeft(0); !i.is(".jspPane"); ) if (h += i.position().top, f += i.position().left, i = i.offsetParent(), /^body|html$/i.test(i[0].nodeName)) return; s = S(), d = s + L, s > h || n ? p = h - O.verticalGutter : h + o > d && (p = h - L + o + O.verticalGutter), p && y(p, a), l = k(), c = l + U, l > f || n ? u = f - O.horizontalGutter : f + r > c && (u = f - U + r + O.horizontalGutter), u && x(u, a) } function k() { return -V.position().left } function S() { return -V.position().top } function A() { var e = $ - L; return e > 20 && e - S() < 10 } function I() { var e = z - U; return e > 20 && e - k() < 10 } function _() { N.unbind(Se).bind(Se, function (e, t, n, a) { var i = te, o = K; return we.scrollBy(n * O.mouseWheelSpeed, -a * O.mouseWheelSpeed, !1), i == te && o == K }) } function j() { N.unbind(Se) } function D() { return !1 } function F() { V.find(":input,a").unbind("focus.jsp").bind("focus.jsp", function (e) { T(e.target, !1) }) } function P() { V.find(":input,a").unbind("focus.jsp") } function R() { function n() { var e = te, t = K; switch (a) { case 40: we.scrollByY(O.keyboardSpeed, !1); break; case 38: we.scrollByY(-O.keyboardSpeed, !1); break; case 34: case 32: we.scrollByY(L * O.scrollPagePercent, !1); break; case 33: we.scrollByY(-L * O.scrollPagePercent, !1); break; case 39: we.scrollByX(O.keyboardSpeed, !1); break; case 37: we.scrollByX(-O.keyboardSpeed, !1) } return i = e != te || t != K } var a, i, o = []; X && o.push(de[0]), Q && o.push(ne[0]), V.focus(function () { t.focus() }), t.attr("tabindex", 0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp", function (t) { if (t.target === this || o.length && e(t.target).closest(o).length) { var r = te, s = K; switch (t.keyCode) { case 40: case 38: case 34: case 32: case 33: case 39: case 37: a = t.keyCode, n(); break; case 35: y($ - L), a = null; break; case 36: y(0), a = null } return i = t.keyCode == a && r != te || s != K, !i } }).bind("keypress.jsp", function (e) { return e.keyCode == a && n(), !i }), O.hideFocus ? (t.css("outline", "none"), "hideFocus" in N[0] && t.attr("hideFocus", !0)) : (t.css("outline", ""), "hideFocus" in N[0] && t.attr("hideFocus", !1)) } function B() { t.attr("tabindex", "-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp") } function E() { if (location.hash && location.hash.length > 1) { var t, n, a = escape(location.hash.substr(1)); try { t = e("#" + a + ', a[name="' + a + '"]') } catch (i) { return } t.length && V.find(a) && (0 === N.scrollTop() ? n = setInterval(function () { N.scrollTop() > 0 && (T(t, !0), e(document).scrollTop(N.position().top), clearInterval(n)) }, 50) : (T(t, !0), e(document).scrollTop(N.position().top))) } } function M() { e(document.body).data("jspHijack") || (e(document.body).data("jspHijack", !0), e(document.body).delegate("a[href*=#]", "click", function (t) { var n, a, i, o, r, s, l = this.href.substr(0, this.href.indexOf("#")), d = location.href; if (-1 !== location.href.indexOf("#") && (d = location.href.substr(0, location.href.indexOf("#"))), l === d) { n = escape(this.href.substr(this.href.indexOf("#") + 1)); try { a = e("#" + n + ', a[name="' + n + '"]') } catch (c) { return } a.length && (i = a.closest(".jspScrollable"), o = i.data("jsp"), o.scrollToElement(a, !0), i[0].scrollIntoView && (r = e(window).scrollTop(), s = a.offset().top, (r > s || s > r + e(window).height()) && i[0].scrollIntoView()), t.preventDefault()) } })) } function H() { var e, t, n, a, i, o = !1; N.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp", function (r) { var s = r.originalEvent.touches[0]; e = k(), t = S(), n = s.pageX, a = s.pageY, i = !1, o = !0 }).bind("touchmove.jsp", function (r) { if (o) { var s = r.originalEvent.touches[0], l = te, d = K; return we.scrollTo(e + n - s.pageX, t + a - s.pageY), i = i || Math.abs(n - s.pageX) > 5 || Math.abs(a - s.pageY) > 5, l == te && d == K } }).bind("touchend.jsp", function (e) { o = !1 }).bind("click.jsp-touchclick", function (e) { return i ? (i = !1, !1) : void 0 }) } function W() { var e = S(), n = k(); t.removeClass("jspScrollable").unbind(".jsp"), t.replaceWith(ke.append(V.children())), ke.scrollTop(e), ke.scrollLeft(n), ve && clearInterval(ve) } var O, V, U, L, N, z, $, Y, q, Q, X, Z, G, K, J, ee, te, ne, ae, ie, oe, re, se, le, de, ce, pe, ue, he, fe, ve, ge, me, Ce, we = this, be = !0, ye = !0, xe = !1, Te = !1, ke = t.clone(!1, !1).empty(), Se = e.fn.mwheelIntent ? "mwheelIntent.jsp" : "mousewheel.jsp"; ge = t.css("paddingTop") + " " + t.css("paddingRight") + " " + t.css("paddingBottom") + " " + t.css("paddingLeft"), me = (parseInt(t.css("paddingLeft"), 10) || 0) + (parseInt(t.css("paddingRight"), 10) || 0), e.extend(we, { reinitialise: function (t) { t = e.extend({}, O, t), a(t) }, scrollToElement: function (e, t, n) { T(e, t, n) }, scrollTo: function (e, t, n) { x(e, n), y(t, n) }, scrollToX: function (e, t) { x(e, t) }, scrollToY: function (e, t) { y(e, t) }, scrollToPercentX: function (e, t) { x(e * (z - U), t) }, scrollToPercentY: function (e, t) { y(e * ($ - L), t) }, scrollBy: function (e, t, n) { we.scrollByX(e, n), we.scrollByY(t, n) }, scrollByX: function (e, t) { var n = k() + Math[0 > e ? "floor" : "ceil"](e), a = n / (z - U); m(a * ee, t) }, scrollByY: function (e, t) { var n = S() + Math[0 > e ? "floor" : "ceil"](e), a = n / ($ - L); v(a * G, t) }, positionDragX: function (e, t) { m(e, t) }, positionDragY: function (e, t) { v(e, t) }, animate: function (e, t, n, a) { var i = {}; i[t] = n, e.animate(i, { duration: O.animateDuration, easing: O.animateEase, queue: !1, step: a }) }, getContentPositionX: function () { return k() }, getContentPositionY: function () { return S() }, getContentWidth: function () { return z }, getContentHeight: function () { return $ }, getPercentScrolledX: function () { return k() / (z - U) }, getPercentScrolledY: function () { return S() / ($ - L) }, getIsScrollableH: function () { return X }, getIsScrollableV: function () { return Q }, getContentPane: function () { return V }, scrollToBottom: function (e) { v(G, e) }, hijackInternalLinks: e.noop, destroy: function () { W() } }), a(n) } return t = e.extend({}, e.fn.jScrollPane.defaults, t), e.each(["mouseWheelSpeed", "arrowButtonSpeed", "trackClickSpeed", "keyboardSpeed"], function () { t[this] = t[this] || t.speed }), this.each(function () { var a = e(this), i = a.data("jsp"); i ? i.reinitialise(t) : (e("script", a).filter('[type="text/javascript"], :not([type])').remove(), i = new n(a, t), a.data("jsp", i)) }) }, e.fn.jScrollPane.defaults = { showArrows: !1, maintainPosition: !0, stickToBottom: !1, stickToRight: !1, clickOnTrack: !0, autoReinitialise: !1, autoReinitialiseDelay: 500, verticalDragMinHeight: 30, verticalDragMaxHeight: 99999, horizontalDragMinWidth: 30, horizontalDragMaxWidth: 99999, contentWidth: void 0, animateScroll: !1, animateDuration: 300, animateEase: "linear", hijackInternalLinks: !1, verticalGutter: 4, horizontalGutter: 4, mouseWheelSpeed: 0, arrowButtonSpeed: 0, arrowRepeatFreq: 50, arrowScrollOnHover: !1, trackClickSpeed: 0, trackClickRepeatFreq: 70, verticalArrowPositions: "split", horizontalArrowPositions: "split", enableKeyboardNavigation: !0, hideFocus: !1, keyboardSpeed: 0, initialDelay: 300, speed: 30, scrollPagePercent: .8} } (jQuery), function (e) { e.fn.dnnSettingDropdown = function () { var t = function () { e(this).hasClass("dnnButtonDropdown") && (e(this).removeClass("dnnButtonDropdown").addClass("dnnButtonDropdown-clicked"), e(this).next().show()) }, n = function () { var t = e(this).children(":first"); t.hasClass("dnnButtonDropdown-clicked") && (t.removeClass("dnnButtonDropdown-clicked").addClass("dnnButtonDropdown"), t.next().fadeOut()) }, a = { over: function () { }, out: n, timout: 600 }; return e(this).each(function () { e(this).unbind("click", t).bind("click", t), e(this).parent().hoverIntent(a) }) } } (jQuery), function (e) { e.fn.onEnter = function (t) { return this.each(function () { var n = e(this); n.bind("onEnter", t), n.keydown(function (e) { (e.which && 13 === e.which || e.keyCode && 13 === e.keyCode) && (e.preventDefault(), e.stopPropagation(), n.trigger("onEnter")) }) }) } } (jQuery), function (e) { e.extend({ onAjaxError: function (t, n, a) { var i, o; if (t && 401 === t.status) return void dnnModal.show("../Login.aspx?popUp=true", !0, 300, 650, !0, ""); if (t && t.responseText && t.statusText) try { i = t.statusText + " (" + t.status + ")", o = JSON.parse(t.responseText).Message } catch (r) { o = a } e.dnnAlert({ title: i || "Error", text: o || "Unknown error" }) } }) } (jQuery), function (e) {
    var t = function () { var t = e(this).next(); t.hasClass("dnnFormError") && t.hide() }, n = null, a = function () {
        null != n && (clearTimeout(n), n = null), n = setTimeout(function () { e('.dnnForm input[type="checkbox"]').dnnCheckbox(), e('.dnnForm input[type="radio"]').dnnCheckbox({ cls: "dnnRadiobutton" }), e(".dnnTooltip").dnnTooltip(), e('.dnnForm input[type="text"], .dnnForm input[type="password"]').unbind("focus", t).bind("focus", t), e(".dnnForm :file").dnnFileInput() }, 200), e("*[onclick*='return confirm']").each(function () { var t = e(this), n = "img" == this.nodeName.toLowerCase() || "input" == this.nodeName.toLowerCase(), a = /return confirm\((['"])([\s\S]*?)\1\)/g.exec(t.attr("onclick")); if (null != a) { var i = a[2]; t.attr("onclick", t.attr("onclick").replace(a[0], "void(0)")).dnnConfirm({ text: i, isButton: n }) } })
    }, i = function () { window.__rgDataDivScrollTopPersistArray = [], e(".rgDataDiv").each(function () { var t = e(this), n = t.get(0); if (n.scrollPane) { var a = n.scrollPane.data("jsp"), i = a.getContentPositionY(); window.__rgDataDivScrollTopPersistArray.push(i) } }) }; window.__rgDataDivScrollTopPersistArray = [], e(document).ajaxComplete(a), Sys.WebForms.PageRequestManager.getInstance().add_beginRequest(i), Sys.WebForms.PageRequestManager.getInstance().add_endRequest(a), e(a)
} (jQuery);