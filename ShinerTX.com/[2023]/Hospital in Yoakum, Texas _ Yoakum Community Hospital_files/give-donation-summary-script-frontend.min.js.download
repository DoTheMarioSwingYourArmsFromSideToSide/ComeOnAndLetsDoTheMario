(()=>{function b(b,i){var c="undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"],e,f,g,h,d;if(!c){if(Array.isArray(b)||(c=function(b,d){if(!b)return;if("string"==typeof b)return a(b,d);var c=Object.prototype.toString.call(b).slice(8,-1);if("Object"===c&&b.constructor&&(c=b.constructor.name),"Map"===c||"Set"===c)return Array.from(b);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return a(b,d)}(b))||i&&b&&"number"==typeof b.length)return c&&(b=c),e=0,f=function(){},{s:f,n:function(){return e>=b.length?{done:!0}:{done:!1,value:b[e++]}},e:function(a){throw a},f};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return h=!0,d=!1,{s:function(){c=c.call(b)},n:function(){var a=c.next();return h=a.done,a},e:function(a){d=!0,g=a},f:function(){try{h||null==c.return||c.return()}finally{if(d)throw g}}}}function a(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=new Array(a);b<a;b++)d[b]=c[b];return d}window.GiveDonationSummary={init:function(){GiveDonationSummary.initAmount(),GiveDonationSummary.initFrequency(),GiveDonationSummary.initTotal()},getFormattedDonationAmount:function(a){var b=Give.fn.unFormatCurrency(a.find('[name="give-amount"]').val(),Give.form.fn.getInfo("decimal_separator",a));return Give.fn.formatCurrency(b,{symbol:Give.form.fn.getInfo("currency_symbol",a)},a)},initAmount:function(){var a,b;GiveDonationSummary.observe('[name="give-amount"]',function(b,a){a.find('[data-tag="amount"]').html(GiveDonationSummary.getFormattedDonationAmount(a))}),a=document.querySelector('[name="give-amount"]'),a&&(b=jQuery(a.closest(".give-form")),a.addEventListener("change",function(){b.find('[data-tag="amount"]').html(GiveDonationSummary.getFormattedDonationAmount(b))}))},initFrequency:function(){GiveDonationSummary.observe('[name="give-recurring-period"]',GiveDonationSummary.handleDonorsChoiceRecurringFrequency),GiveDonationSummary.observe('[name="give-price-id"]',GiveDonationSummary.handleAdminDefinedRecurringFrequency),GiveDonationSummary.observe('[name="_give_is_donation_recurring"]',GiveDonationSummary.handleAdminDefinedSetDonationFrequency),GiveDonationSummary.observe('[name="give-price-id"]',GiveDonationSummary.handleAdminDefinedRecurringFrequency)},handleDonorsChoiceRecurringFrequency:function(a,b){var c,d;b.find(".js-give-donation-summary-frequency-help-text").toggle(!a.checked),b.find('[data-tag="frequency"]').toggle(!a.checked),b.find('[data-tag="recurring"]').toggle(a.checked).html(a.dataset.periodLabel),c=document.querySelector('[name="give-recurring-period-donors-choice"]'),c&&(d=c.options[c.selectedIndex].value||!1,d&&b.find('[data-tag="recurring"]').html(GiveDonationSummaryData.recurringLabelLookup[d]))},handleAdminDefinedRecurringFrequency:function(f,a){var d=f.value,e=document.querySelector(".give_recurring_donation_details"),b,c,g;e&&(b=JSON.parse(e.value),void 0!==b.multi&&(c="yes"===b.multi[d]._give_recurring,g=b.multi[d].give_recurring_pretty_text,a.find(".js-give-donation-summary-frequency-help-text").toggle(!c),a.find('[data-tag="frequency"]').toggle(!c),a.find('[data-tag="recurring"]').toggle(c).html(g)))},handleAdminDefinedSetDonationFrequency:function(d,a){var b=d.value,c=document.querySelector(".give-recurring-admin-choice");b&&c&&(a.find(".js-give-donation-summary-frequency-help-text").toggle(!b),a.find('[data-tag="frequency"]').toggle(!b),a.find('[data-tag="recurring"]').html(c.textContent))},handleFees:function(a){if(a.find('[name="give-fee-mode-enable"]')&&"true"===a.find('[name="give-fee-mode-enable"]').val()){a.find(".js-give-donation-summary-fees").toggle(!0);var b=a.find(".give-fee-message-label").attr("data-feemessage").split(" "),c=a.find(".give-fee-message-label-text").text().split(" ").filter(function(a){return!b.includes(a)}).pop();a.find('[data-tag="fees"]').html(c)}else a.find(".js-give-donation-summary-fees").toggle(!1)},initTotal:function(){GiveDonationSummary.observe(".give-final-total-amount",function(b,a){a.find('[data-tag="total"]').html(b.textContent),GiveDonationSummary.handleFees(a)});var a=document.querySelector(".give-final-total-amount");a&&(a.textContent=a.textContent)},handleNavigateBack:function(){},onGatewayLoadSuccess:function(){var a=jQuery("#give_purchase_form_wrap .give-donation-summary-section").detach();a.length&&(jQuery(".give-donation-summary-section").remove(),a.appendTo("#donate-fieldset"),GiveDonationSummary.initTotal(),GiveDonationSummary.handleNavigateBack=function(a){a.stopPropagation(),a.preventDefault(),window.formNavigator.back()})},observe:function(e,c){var f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=document.querySelector(e),d;a&&(d=jQuery(a.closest(".give-form")),new MutationObserver(function(g){var e,a=b(g),f;try{for(a.s();!(e=a.n()).done;)f=e.value,"attributes"===f.type&&c(f.target,d)}catch(b){a.e(b)}finally{a.f()}}).observe(a,{attributes:!0}),f&&c(a,d))}},jQuery(document).on("give:postInit",GiveDonationSummary.init),jQuery(document).on("Give:onGatewayLoadSuccess",GiveDonationSummary.onGatewayLoadSuccess)})()