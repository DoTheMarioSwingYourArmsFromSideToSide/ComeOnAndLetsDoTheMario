var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

(function ensightenInit(){var ensightenOptions = {client: "marriott", clientId: 974, publishPath: "prod", isPublic:1, serverComponentLocation: "nexus.ensighten.com/marriott/prod/serverComponent.php", staticJavascriptPath: "nexus.ensighten.com/marriott/prod/code/", ns: 'Bootstrapper', nexus:"nexus.ensighten.com", scUseCacheBuster: "true", enableTagAuditBeacon : "false", enablePagePerfBeacon : "false", registryNs : "ensBootstraps", generatedOn : "Mon Jul 31 16:29:22 GMT 2017", beaconSamplingSeedValue: 11};
if ( !window[ensightenOptions.ns] ) {
window[ensightenOptions.registryNs]||(window[ensightenOptions.registryNs]={});
window[ensightenOptions.registryNs][ensightenOptions.ns]=window[ensightenOptions.ns]=function(f){function l(a){this.name="DependencyNotAvailableException";this.message="Dependency with id "+a+"is missing"}function m(a){this.name="BeaconException";this.message="There was an error durring beacon initialization";a=a||{};this.lineNumber=a.lineNumber||a.line;this.fileName=a.fileName}function n(){for(var a=b.dataDefinitionIds.length,d=!0,e=0;e<a;e++){var c=b.dataDefinitions[b.dataDefinitionIds[e]];if(!c||
null==c.endRegistration){d=!1;break}}d&&b.callOnDataDefintionComplete()}var c={},b={};b.ensightenOptions=ensightenOptions;b.scDataObj={};c.version="1.26.0";c.nexus=f.nexus||"nexus.ensighten.com";c.rand=-1;c.currSec=(new Date).getSeconds();c.options={interval:f.interval||100,erLoc:f.errorLocation||c.nexus+"/error/e.gif",scLoc:f.serverComponentLocation||c.nexus+"/"+f.client+"/serverComponent.php",sjPath:f.staticJavascriptPath||c.nexus+"/"+f.client+"/code/",alLoc:f.alertLocation||c.nexus+"/alerts/a.gif",
publishPath:f.publishPath,isPublic:f.isPublic,client:f.client,clientId:f.clientId,enableTagAuditBeacon:f.enableTagAuditBeacon,scUseCacheBuster:f.scUseCacheBuster,beaconSamplingSeedValue:f.beaconSamplingSeedValue||-1};c.ruleList=[];c.allDeploymentIds=[];c.runDeploymentIds=[];c.runRuleIds=[];c.exceptionList=[];c.ensightenVariables={};c.test=function(a){if(!(a.executionData.hasRun||a.executionData.runTime&&0<a.executionData.runTime.length)){for(var d=0;d<a.dependencies.length;d++)if(!1===a.dependencies[d]())return;
a.execute()}};l.prototype=Error();l.prototype||(l.prototype={});l.prototype.constructor=l;c.DependencyNotAvailableException=l;m.prototype=Error();m.prototype||(m.prototype={});m.prototype.constructor=m;c.BeaconException=m;c.checkForInvalidDependencies=function(a,d,e,h){for(a=0;a<e.length;a++)if("DEPENDENCYNEVERAVAILABLE"===e[a])return b.currentRuleId=this.id,b.currentDeploymentId=this.deploymentId,b.reportException(new c.DependencyNotAvailableException(h[a])),d&&-1!==d&&c.allDeploymentIds.push(d),
!0;return!1};b.currentRuleId=-1;b.currentDeploymentId=-1;b.reportedErrors=[];b.reportedAlerts=[];b.AF=[];b._serverTime="";b._clientIP="";b.sampleBeacon=function(){var a=!1;try{var d=(c.currSec||0)%20,b=c.options.beaconSamplingSeedValue;-1===b?a=!0:0!==d&&0===b%d&&(a=!0)}catch(h){}return a};b.getServerComponent=function(a){b.callOnGetServerComponent();b.insertScript(window.location.protocol+"//"+c.options.scLoc,!1,a||!0,c.options.scUseCacheBuster)};b.setVariable=function(a,b){c.ensightenVariables[a]=
b};b.getVariable=function(a){return a in c.ensightenVariables?c.ensightenVariables[a]:null};b.testAll=function(){for(var a=0;a<c.ruleList.length;a++)c.test(c.ruleList[a])};b.executionState={DOMParsed:!1,DOMLoaded:!1,dataDefinitionComplete:!1,conditionalRules:!1,readyForServerComponent:!1};b.reportException=function(a){a.timestamp=(new Date).getTime();c.exceptionList.push(a);a=window.location.protocol+"//"+c.options.erLoc+"?msg="+encodeURIComponent(a.message||"")+"&lnn="+encodeURIComponent(a.lineNumber||
a.line||-1)+"&fn="+encodeURIComponent(a.fileName||"")+"&cid="+encodeURIComponent(c.options.clientId||-1)+"&client="+encodeURIComponent(c.options.client||"")+"&publishPath="+encodeURIComponent(c.options.publishPath||"")+"&rid="+encodeURIComponent(b.currentRuleId||-1)+"&did="+encodeURIComponent(b.currentDeploymentId||-1)+"&errorName="+encodeURIComponent(a.name||"");a=b.imageRequest(a);a.timestamp=(new Date).getTime();this.reportedErrors.push(a)};b.Rule=function(a){this.execute=function(){this.executionData.runTime.push(new Date);
b.currentRuleId=this.id;b.currentDeploymentId=this.deploymentId;try{this.code()}catch(d){window[ensightenOptions.ns].reportException(d)}finally{this.executionData.hasRun=!0,-1!==this.deploymentId&&(c.runDeploymentIds.push(this.deploymentId),c.runRuleIds.push(this.id)),b.testAll()}};this.id=a.id;this.deploymentId=a.deploymentId;this.dependencies=a.dependencies||[];this.code=a.code;this.executionData={hasRun:!1,runTime:[]}};b.registerRule=function(a){if(b.getRule(a.id)&&-1!==a.id)return!1;c.ruleList.push(a);
-1!==a.deploymentId&&c.allDeploymentIds.push(a.deploymentId);b.testAll();return!0};b.getRule=function(a){for(var b=0;b<c.ruleList.length;b++)if(c.ruleList[b].id===a)return c.ruleList[b];return!1};b.getRuleList=function(){return c.ruleList};b.clearRuleList=function(){c.ruleList=[]};b.getAllDeploymentIds=function(){return c.allDeploymentIds};b.getRunRuleIds=function(){return c.runRuleIds};b.getRunDeploymentIds=function(){return c.runDeploymentIds};b.hasRuleRun=function(a){return(a=b.getRule(a))?a.executionData.hasRun:
!1};c.toTwoChar=function(a){return(2===a.toString().length?"":"0")+a};b.Alert=function(a){var b=new Date,b=b.getFullYear()+"-"+c.toTwoChar(b.getMonth())+"-"+c.toTwoChar(b.getDate())+" "+c.toTwoChar(b.getHours())+":"+c.toTwoChar(b.getMinutes())+":"+c.toTwoChar(b.getSeconds());this.severity=a.severity||1;this.subject=a.subject||"";this.type=a.type||1;this.ruleId=a.ruleId||-1;this.severity=encodeURIComponent(this.severity);this.date=encodeURIComponent(b);this.subject=encodeURIComponent(this.subject);
this.type=encodeURIComponent(this.type)};b.generateAlert=function(a){a=b.imageRequest(window.location.protocol+"//"+c.options.alLoc+"?d="+a.date+"&su="+a.subject+"&se="+a.severity+"&t="+a.type+"&cid="+c.options.clientId+"&client="+c.options.client+"&publishPath="+c.options.publishPath+"&rid="+b.currentRuleId+"&did="+b.currentDeploymentId);a.timestamp=(new Date).getTime();this.reportedAlerts.push(a)};b.imageRequest=function(a){var b=new Image(0,0);b.src=a;return b};b.insertScript=function(a,d,e,h){var p=
document.getElementsByTagName("script"),g;h=void 0!==h?h:!0;if(void 0!==d?d:1)for(g=0;g<p.length;g++)if(p[g].src===a&&p[g].readyState&&/loaded|complete/.test(p[g].readyState))return;if(e){e=1==e&&"object"==typeof b.scDataObj?b.scDataObj:e;c.rand=Math.random()*("1E"+(10*Math.random()).toFixed(0));d=window.location.href;"object"===typeof e&&e.PageID&&(d=e.PageID,delete e.PageID);if("object"===typeof e)for(g in e){g=~d.indexOf("#")?d.slice(d.indexOf("#"),d.length):"";d=d.slice(0,g.length?d.length-g.length:
d.length);d+=~d.indexOf("?")?"&":"?";for(k in e)d+=k+"="+e[k]+"&";d=d.slice(0,-1)+g;break}a+="?";h&&(a+="r="+c.rand+"&");a+="ClientID="+encodeURIComponent(c.options.clientId)+"&PageID="+encodeURIComponent(d)}(function(a,b,d){var e=b.head||b.getElementsByTagName("head");setTimeout(function(){if("item"in e){if(!e[0]){setTimeout(arguments.callee,25);return}e=e[0]}var a=b.createElement("script");a.src=d;a.onload=a.onerror=function(){this.addEventListener&&(this.readyState="loaded")};e.insertBefore(a,
e.firstChild)},0)})(window,document,a)};b.loadScriptCallback=function(a,b,e){var d=document.getElementsByTagName("script"),c;e=d[0];for(c=0;c<d.length;c++)if(d[c].src===a&&d[c].readyState&&/loaded|complete/.test(d[c].readyState))try{b()}catch(g){window[ensightenOptions.ns].reportException(g)}finally{return}d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src=a;d.onerror=function(){this.addEventListener&&(this.readyState="loaded")};d.onload=d.onreadystatechange=function(){if(!this.readyState||
"complete"===this.readyState||"loaded"===this.readyState){this.onload=this.onreadystatechange=null;this.addEventListener&&(this.readyState="loaded");try{b.call(this)}catch(g){window[ensightenOptions.ns].reportException(g)}}};e.parentNode.insertBefore(d,e)};b.unobtrusiveAddEvent=function(a,b,e){try{var d=a[b]?a[b]:function(){};a[b]=function(){e.apply(this,arguments);return d.apply(this,arguments)}}catch(p){window[ensightenOptions.ns].reportException(p)}};b.anonymous=function(a,d){return function(){try{b.currentRuleId=
d?d:"anonymous",a()}catch(e){window[ensightenOptions.ns].reportException(e)}}};b.setCurrentRuleId=function(a){b.currentRuleId=a};b.setCurrentDeploymentId=function(a){b.currentDeploymentId=a};b.bindImmediate=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDOMParsed=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMParsed}],
code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDOMLoaded=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.DOMLoaded}],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindPageSpecificCompletion=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.conditionalRules}],
code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindOnGetServerComponent=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.readyForServerComponent}],code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.bindDataDefinitionComplete=function(a,d,e){if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:e||-1,dependencies:[function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete}],
code:a});else if("object"!==typeof a)return!1;b.registerRule(a)};b.checkHasRun=function(a){if(0===a.length)return!0;for(var d,e=0;e<a.length;++e)if(d=b.getRule(parseInt(a[e],10)),!d||!d.executionData.hasRun)return!1;return!0};b.bindDependencyImmediate=function(a,d,e,h,f){var g=[];if(!c.checkForInvalidDependencies(d,h,e,f)){g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==
typeof a)return!1;b.registerRule(a)}};b.bindDependencyDOMLoaded=function(a,d,e,h,f){var g=[];if(!c.checkForInvalidDependencies(d,h,e,f)){g.push(function(){return window[ensightenOptions.ns].executionState.DOMLoaded});g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyDOMParsed=function(a,d,e,h,f){var g=[];if(!c.checkForInvalidDependencies(d,
h,e,f)){g.push(function(){return window[ensightenOptions.ns].executionState.DOMParsed});g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyPageSpecificCompletion=function(a,d,e,h,f){var g=[];if(!c.checkForInvalidDependencies(d,h,e,f)){g.push(function(){return window[ensightenOptions.ns].executionState.conditionalRules});
g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyOnGetServerComponent=function(a,d,e,h,f){var g=[];if(!c.checkForInvalidDependencies(d,h,e,f)){g.push(function(){return window[ensightenOptions.ns].executionState.readyForServerComponent});g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===
typeof a)a=new b.Rule({id:d||-1,deploymentId:h||-1,dependencies:g,code:a});else if("object"!==typeof a)return!1;b.registerRule(a)}};b.bindDependencyPageSpecificCompletion=function(a,d,e,f,p){var g=[];if(!c.checkForInvalidDependencies(d,f,e,p)){g.push(function(){return window[ensightenOptions.ns].executionState.dataDefinitionComplete});g.push(function(){return window[ensightenOptions.ns].checkHasRun(e)});if("function"===typeof a)a=new b.Rule({id:d||-1,deploymentId:f||-1,dependencies:g,code:a});else if("object"!==
typeof a)return!1;b.registerRule(a)}};b.dataDefintionIds=[];b.dataDefinitions=[];b.pageSpecificDataDefinitionsSet=!1;b.setPageSpecificDataDefinitionIds=function(a){for(var d=a.length,e=0;e<d;e++){var c=a[e];if(Array.prototype.indexOf)-1==b.dataDefinitionIds.indexOf(c)&&b.dataDefinitionIds.push(c);else{for(var f=!1,g=b.dataDefinitionIds.length,l=0;l<g;l++)if(b.dataDefinitionIds[l]===c){f=!0;break}f||b.dataDefinitionIds.push(c)}}b.pageSpecificDataDefinitionsSet=!0;n()};b.DataDefinition=function(a,b){this.id=
a;this.registrationFn=b;this.endRegistrationTime=this.startRegistrationTime=null;this.startRegistration=function(){this.startRegistrationTime=new Date};this.endRegistration=function(){this.endRegistrationTime=new Date}};b.registerDataDefinition=function(a,d){var e=b.dataDefinitions[d];e||(e=new b.DataDefinition(d,a),b.dataDefinitions[d]=e);e.startRegistrationTime||(e.startRegistration(),e.registrationFn(),e.endRegistration());b.pageSpecificDataDefinitionsSet&&n()};b.callOnDataDefintionComplete=function(){b.executionState.dataDefinitionComplete=
!0;b.testAll()};b.callOnDOMParsed=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].testAll()};b.callOnDOMLoaded=function(){window[ensightenOptions.ns].executionState.DOMParsed=!0;window[ensightenOptions.ns].executionState.DOMLoaded=!0;window[ensightenOptions.ns].testAll()};b.callOnPageSpecificCompletion=function(){for(var a=document.getElementsByTagName("script"),b=0,e=a.length;b<e;b++)if(a[b].src&&a[b].src.match(/\.ensighten\.com\/(.+?)\/code\/.*/i)&&
"loaded"!=a[b].readyState&&"complete"!=a[b].readyState){setTimeout(window[ensightenOptions.ns].callOnPageSpecificCompletion,50);return}setTimeout(function(){window[ensightenOptions.ns].executionState.conditionalRules=!0;window[ensightenOptions.ns].testAll()},1)};b.callOnGetServerComponent=function(){window[ensightenOptions.ns].executionState.readyForServerComponent=!0;window[ensightenOptions.ns].testAll()};b.hasDOMParsed=function(){return window[ensightenOptions.ns].executionState.DOMParsed};b.hasDOMLoaded=
function(){return window[ensightenOptions.ns].executionState.DOMLoaded};b.hasPageSpecificCompletion=function(){return window[ensightenOptions.ns].executionState.conditionalRules};var r=function(){var a=[],b=!1,e=!1;return{add:function(d){b&&!e?d():"function"==typeof d&&(a[a.length]=d)},exec:function(){e=!0;do{var d=a;a=[];b=!0;for(var c=0;c<d.length;c++)try{d[c].call(window)}catch(g){window[ensightenOptions.ns].reportException(g)}}while(0<a.length);e=!1},haveRun:function(){return b}}};b.new_fArray=
function(){return r()};c.timer=null;(function(){function a(a,b){return function(){a.apply(b,arguments)}}window.console||(window.console={});var b=window.console;if(!b.log)if(window.log4javascript){var c=log4javascript.getDefaultLogger();b.log=a(c.info,c);b.debug=a(c.debug,c);b.info=a(c.info,c);b.warn=a(c.warn,c);b.error=a(c.error,c)}else b.log=function(){};b.debug||(b.debug=b.log);b.info||(b.info=b.log);b.warn||(b.warn=b.log);b.error||(b.error=b.log)})();document.addEventListener?(-1<navigator.userAgent.indexOf("AppleWebKit/")?
c.timer=window.setInterval(function(){/loaded|interactive|complete/.test(document.readyState)&&(clearInterval(c.timer),b.callOnDOMParsed())},50):document.addEventListener("DOMContentLoaded",b.callOnDOMParsed,!1),window.addEventListener("load",b.callOnDOMLoaded,!1)):(setTimeout(function(){var a=window.document;(function(){try{if(!document.body)throw"continue";a.documentElement.doScroll("left")}catch(d){setTimeout(arguments.callee,15);return}window[ensightenOptions.ns].callOnDOMParsed()})()},1),window.attachEvent("onload",
function(){window[ensightenOptions.ns].callOnDOMLoaded()}));document.readyState&&"complete"===document.readyState&&(b.executionState.DOMParsed=!0,b.executionState.DOMLoaded=!0);"true"===c.options.enableTagAuditBeacon&&b.sampleBeacon()&&window.setTimeout(function(){if(window[ensightenOptions.ns]&&!window[ensightenOptions.ns].mobilePlatform)try{for(var a=[],d,e,h,l,g=0;g<c.ruleList.length;++g)e=c.ruleList[g],h=e.executionData.hasRun?"1":"0",l=e.deploymentId.toString()+"|"+e.id.toString()+"|"+h,a.push(l);
d="["+a.join(";")+"]";var m=window.location.protocol+"//"+c.nexus+"/"+encodeURIComponent(f.client)+"/"+encodeURIComponent(f.publishPath)+"/TagAuditBeacon.rnc?cid="+encodeURIComponent(f.clientId)+"&data="+d+"&idx=0&r="+c.rand;b.imageRequest(m)}catch(q){b.currentRuleId=-1,b.currentDeploymentId=-1,a=new c.BeaconException(q),window[ensightenOptions.ns].reportException(a)}},3E3);window.setInterval(b.testAll,c.options.interval);return b}(ensightenOptions);
"true"===ensightenOptions.enablePagePerfBeacon&&window[ensightenOptions.ns]&&window[ensightenOptions.ns].sampleBeacon()&&window[ensightenOptions.ns].bindDOMParsed(function(){if(!window[ensightenOptions.ns].mobilePlatform){var f=window.performance;if(f){var f=f.timing||{},l=f.navigationStart||0,m={connectEnd:"ce",connectStart:"cs",domComplete:"dc",domContentLoadedEventEnd:"dclee",domContentLoadedEventStart:"dcles",domInteractive:"di",domLoading:"dl",domainLookupEnd:"dle",domainLookupStart:"dls",fetchStart:"fs",
loadEventEnd:"lee",loadEventStart:"les",redirectEnd:"rede",redirectStart:"reds",requestStart:"reqs",responseStart:"resps",responseEnd:"respe",secureConnectionStart:"scs",unloadEventStart:"ues",unloadEventEnd:"uee"};var n="&ns="+encodeURIComponent(f.navigationStart);for(var c in m)if(void 0!==f[c]){var b=f[c]-l;n+="&"+m[c]+"="+(0<b?encodeURIComponent(b):0)}else n+="&"+m[c]+"=-1";window[ensightenOptions.ns].timing=n;c=ensightenOptions.nexus||"nexus.ensighten.com";f=ensightenOptions.staticJavascriptPath||
"";n=f.indexOf(".com/");l=f.indexOf("/code/");f=f.substring(n+4,l)+"/perf.rnc";f+="?cid="+encodeURIComponent(ensightenOptions.clientId)+window[ensightenOptions.ns].timing;window[ensightenOptions.ns].imageRequest("//"+c+f)}}});
	
if (!window[ensightenOptions.ns].data) {
/*
 MIT License (c) copyright 2011-2013 original author or authors  MIT License (c) copyright 2013 original author or authors */
window.JSON&&"object"===typeof JSON||(window[ensightenOptions.ns].JSON={});
(function(){function d(a){return 10>a?"0"+a:a}function n(a){c.lastIndex=0;return c.test(a)?'"'+a.replace(c,function(a){var e=b[a];return"string"===typeof e?e:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function k(d,e){var b,f=h,c=e[d];c&&"object"===typeof c&&"function"===typeof c.toJSON&&(c=c.toJSON(d));"function"===typeof g&&(c=g.call(e,d,c));switch(typeof c){case "string":return n(c);case "number":return isFinite(c)?String(c):"null";case "boolean":case "null":return String(c);
case "object":if(!c)return"null";h+=a;var m=[];if("[object Array]"===Object.prototype.toString.apply(c)){var l=c.length;for(b=0;b<l;b+=1)m[b]=k(b,c)||"null";var r=0===m.length?"[]":h?"[\n"+h+m.join(",\n"+h)+"\n"+f+"]":"["+m.join(",")+"]";h=f;return r}if(g&&"object"===typeof g)for(l=g.length,b=0;b<l;b+=1){if("string"===typeof g[b]){var t=g[b];(r=k(t,c))&&m.push(n(t)+(h?": ":":")+r)}}else for(t in c)Object.prototype.hasOwnProperty.call(c,t)&&(r=k(t,c))&&m.push(n(t)+(h?": ":":")+r);r=0===m.length?"{}":
h?"{\n"+h+m.join(",\n"+h)+"\n"+f+"}":"{"+m.join(",")+"}";h=f;return r}}var l=window.JSON?window.JSON:window[ensightenOptions.ns].JSON;"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate())+"T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});
var f=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,a,b={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},g;"function"!==typeof l.stringify&&(l.stringify=function(c,e,b){var d;a=h="";if("number"===typeof b)for(d=0;d<b;d+=1)a+=" ";else"string"===typeof b&&(a=b);if((g=e)&&"function"!==
typeof e&&("object"!==typeof e||"number"!==typeof e.length))throw Error("JSON.stringify");return k("",{"":c})});"function"!==typeof l.parse&&(l.parse=function(a,e){function c(a,b){var g,d=a[b];if(d&&"object"===typeof d)for(g in d)if(Object.prototype.hasOwnProperty.call(d,g)){var f=c(d,g);void 0!==f?d[g]=f:delete d[g]}return e.call(a,b,d)}a=String(a);f.lastIndex=0;f.test(a)&&(a=a.replace(f,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){var b=eval("("+a+")");return"function"===typeof e?c({"":b},""):b}throw new SyntaxError("JSON.parse");})})();
window[ensightenOptions.ns].when=function(){function d(a,e,b,c){return k(a).then(e,b,c)}function n(a){this.then=a}function k(a){return l(function(e){e(a)})}function l(e){function c(a){m&&(q=f(a),b(m,q),m=r)}function d(a){c(h(a))}function g(e){m&&b(m,a(e))}var q,m=[];try{e(c,d,g)}catch(F){d(F)}return new n(function(a,e,c){return l(function(b,d,g){m?m.push(function(f){f.then(a,e,c).then(b,d,g)}):p(function(){q.then(a,e,c).then(b,d,g)})})})}function f(a){return a instanceof n?a:a!==Object(a)?c(a):l(function(e,
b,d){p(function(){try{var g=a.then;"function"===typeof g?A(g,a,e,b,d):e(c(a))}catch(y){b(y)}})})}function c(a){var e=new n(function(b){try{return"function"==typeof b?f(b(a)):e}catch(E){return h(E)}});return e}function h(a){var e=new n(function(b,c){try{return"function"==typeof c?f(c(a)):e}catch(G){return h(G)}});return e}function a(e){var b=new n(function(c,d,g){try{return"function"==typeof g?a(g(e)):b}catch(y){return a(y)}});return b}function b(a,e){p(function(){for(var b,c=0;b=a[c++];)b(e)})}function g(a,
e,b,c,g){u(2,arguments);return d(a,function(a){return l(function(b,c,g){function f(a){k(a)}function p(a){x(a)}var q;var m=a.length>>>0;var u=Math.max(0,Math.min(e,m));var h=[];var t=m-u+1;var l=[];if(u){var k=function(a){l.push(a);--t||(x=k=v,c(l))};var x=function(a){h.push(a);--u||(x=k=v,b(h))};for(q=0;q<m;++q)q in a&&d(a[q],p,f,g)}else b(h)}).then(b,c,g)})}function m(a,b,c,g){u(1,arguments);return e(a,z).then(b,c,g)}function e(a,e){return d(a,function(a){return l(function(b,c,g){var f,p;var q=f=
a.length>>>0;var m=[];if(q){var u=function(a,f){d(a,e).then(function(a){m[f]=a;--q||b(m)},c,g)};for(p=0;p<f;p++)p in a?u(a[p],p):--q}else b(m)})})}function p(a){1===t.push(a)&&B(q)}function q(){for(var a,e=0;a=t[e++];)a();t=[]}function u(a,e){for(var b,c=e.length;c>a;)if(b=e[--c],null!=b&&"function"!=typeof b)throw Error("arg "+c+" must be a function");}function v(){}function z(a){return a}d.defer=function(){var a,e;var b={promise:r,resolve:r,reject:r,notify:r,resolver:{resolve:r,reject:r,notify:r}};
b.promise=a=l(function(c,g,d){b.resolve=b.resolver.resolve=function(b){if(e)return k(b);e=!0;c(b);return a};b.reject=b.resolver.reject=function(b){if(e)return k(h(b));e=!0;g(b);return a};b.notify=b.resolver.notify=function(a){d(a);return a}});return b};d.resolve=k;d.reject=function(a){return d(a,h)};d.join=function(){return e(arguments,z)};d.all=m;d.map=e;d.reduce=function(a,b){var e=A(C,arguments,1);return d(a,function(a){var c=a.length;e[0]=function(a,e,g){return d(a,function(a){return d(e,function(e){return b(a,
e,g,c)})})};return H.apply(a,e)})};d.any=function(a,b,e,c){return g(a,1,function(a){return b?b(a[0]):a[0]},e,c)};d.some=g;d.isPromise=function(a){return a&&"function"===typeof a.then};n.prototype={otherwise:function(a){return this.then(r,a)},ensure:function(a){function b(){return k(a())}return this.then(b,b).yield(this)},yield:function(a){return this.then(function(){return a})},spread:function(a){return this.then(function(b){return m(b,function(b){return a.apply(r,b)})})},always:function(a,b){return this.then(a,
a,b)}};var r;var t=[];var I=setTimeout;var B="function"===typeof setImmediate?"undefined"===typeof window?setImmediate:setImmediate.bind(window):"object"===typeof process&&process.nextTick?process.nextTick:function(a){I(a,0)};var w=Function.prototype;var D=w.call;var A=w.bind?D.bind(D):function(a,b){return a.apply(b,C.call(arguments,2))};w=[];var C=w.slice;var H=w.reduce||function(a){var b=0;var e=Object(this);var c=e.length>>>0;var g=arguments;if(1>=g.length)for(;;){if(b in e){g=e[b++];break}if(++b>=
c)throw new TypeError;}else g=g[1];for(;b<c;++b)b in e&&(g=a(g,e[b],b,e));return g};return d}();
(function(){function d(d,c){return k.all(c||[],function(c){return d.apply(null,c)})}function n(f){var c=l.call(arguments,1);return function(){return d(f,c.concat(l.call(arguments)))}}var k=window[ensightenOptions.ns].when;var l=[].slice;k.apply=d;k.call=function(f){return d(f,l.call(arguments,1))};k.lift=n;k.bind=n;k.compose=function(f){var c=l.call(arguments,1);return function(){var h=l.call(arguments),h=d(f,h);return k.reduce(c,function(a,b){return b(a)},h)}}})();
window[ensightenOptions.ns].data=function(d,n){function k(a,b){this.name="DataDefinitionException";this.message=b||"Data definitions cannot be resolved as there are invalid id(s): "+a}var l,f={engines:{memory:{get:function(a){if(c.utils.isArray(a)){for(var b=[],g=0;g<a.length;g++)b.push(f.data[a[g]]);return d[ensightenOptions.ns].when.resolve(b)}b=f.dataDefinitions[a]||{storage:{get:function(){}}};b=b.storage.get(b);f.data[a]=b;return d[ensightenOptions.ns].when.resolve(f.data[a])},set:function(a,
b){if(c.utils.isArray(a))for(var g in a)f.data[a[g]]=b[g];else f.data[a]=b;return d[ensightenOptions.ns].when.resolve(!0)},remove:function(a){if(c.utils.isArray(a))for(var b in a)delete f.data[a[b]];else delete f.data[a];return d[ensightenOptions.ns].when.resolve(!0)},clear:function(a){f.data={};f.definitions={};return d[ensightenOptions.ns].when.resolve(!0)},all:function(){return d[ensightenOptions.ns].when.resolve(f.data)}}},normalizeInputArgs:function(a,b){var g={key:[],val:n},d;if(c.utils.isPlainObject(a))for(d in g.val=
[],a)g.key.push(d),g.val.push(a[d]);else c.utils.isArray(a),g.key=a,g.val=b;return g},definitions:{},data:{}},c={utils:{isPlainObject:function(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},escapeRegEx:function(a){try{return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}catch(b){return a}}}},h=function(){return d[ensightenOptions.ns].when.reject("Not Implemented.")};k.prototype=Error();k.prototype||
(k.prototype={});k.prototype.constructor=k;f.DataDefinitionException=k;f.checkForInvalidDataDefinitions=function(a){c.utils.isArray(a)||(a=[a]);return a&&0<a.length&&(a=a.join(","),-1<a.indexOf("invalid_id"))?(d[ensightenOptions.ns].reportException(new f.DataDefinitionException(a)),!0):!1};f.collectAvailableDataDefinitions=function(a){for(var b=[],g=0;g<a.length;g++){var m=parseInt(a[g],10),e=d[ensightenOptions.ns].dataDefinitions[m];if(null===e||e===n)if(e=c.storage.session.get({id:m}),null!==e&&
e!==n)c.set(m,e),f.dataDefinitions[m]={id:m,load:"visitor",storage:c.storage.visitor,missingDDFromCache:!0},b.push(d[ensightenOptions.ns].data.get(""+m));else return d[ensightenOptions.ns].reportException(new f.DataDefinitionException(a,"Invalid data definition used: "+m)),{promises:[],isInvalid:!0};else b.push(d[ensightenOptions.ns].data.get(a[g]))}return{promises:b,isInvalid:!1}};f.getSync=function(a){function b(a){var b=a.extract||m,c=a.transform||e,d=!1,f=null,p=null;try{f=b()}catch(w){f=null,
d=!0}try{p=c(f)}catch(w){p=null,d=!0}d&&g.push(a.id);return p}var g=[],m=function(){return document},e=function(a){return null!==a&&a!==n?a.toString():null},p=parseInt(a);a="string"===typeof a?a.split("."):[];var q={},u="";isNaN(p)?3==a.length&&(q=c.getDataDefinitionBySourceCollectionName(a[0],a[1],a[2])):q=c.getDataDefinitionById(p);u=q.load&&q.load.match(/(session|visitor)/i)&&q.storage&&q.storage.get?q.storage.get(q):b(q);0<g.length&&d[ensightenOptions.ns].reportException(new f.DataDefinitionException(g,
"Error resolving data definitions synchronously: "+g));return u};f.dataDefinitions={};f.dataDefinitionsBySourceCollName={};c.defineEngine=function(a,b){var c,m=["get","set","remove","clear","all"];f.engines[a]=b;if(!b.returnsPromise)for(c=0;c<m.length;c++){var e=m[c];b[e]=d[ensightenOptions.ns].when.lift(b[e])}};c.storage={instance:{set:function(a,b){},get:function(a){return f.getSync(a.id)}},page:{set:function(a,b){},get:function(a){return f.data[a.id]}},session:{set:function(a,b){var g=c.storage.session.get({id:a}),
f=new Date,e=f.getTime();f.setTime(e+18E5);null!=g&&(b=g);d[ensightenOptions.ns].data.cookie.utils.set(a,b,{expires:f.toGMTString()});g={expires:f.getTime(),value:b};d[ensightenOptions.ns].data.local.utils.set(a,g)},get:function(a){var b=d[ensightenOptions.ns].data.cookie.utils.get(a.id),c=d.JSON&&d.JSON.stringify?d.JSON:d[ensightenOptions.ns].JSON,c=c||{},f=new Date,f=f.getTime();if(null===b){try{var e=c.parse(d[ensightenOptions.ns].data.local.utils.get(a.id))}catch(p){e=null}null!=e&&(e.expires=
+e.expires,f<=e.expires?b=e.value:""==e.expires&&e.value!=n?b=e.value:d[ensightenOptions.ns].data.local.utils.remove(a.id))}return b}},visitor:{set:function(a,b){var g=c.storage.session.get({id:a});null!=g&&(b=g);d[ensightenOptions.ns].data.cookie.utils.set(a,b);d[ensightenOptions.ns].data.local.utils.set(a,{expires:"",value:b})},get:function(a){return c.storage.session.get(a)}}};c.getEngine=c.engine=function(a){return a?f.engines[a]||{get:h,set:h,remove:h,clear:h,all:h}:f.engines};c.all=function(a){return d[ensightenOptions.ns].data.engine(a||
"memory").all()};c.get=function(a,b,c){b=b||"memory";c=c||{};-1<a.indexOf(",")&&(a=a.split(","));a=f.normalizeInputArgs(a);return c.wait?f.getWait(a.key,d[ensightenOptions.ns].data.engine(b),c):f.data&&f.data.hasOwnProperty(a.key)?d[ensightenOptions.ns].data.engine(b).get(a.key):f.getWaitForKey(a.key,d[ensightenOptions.ns].data.engine(b),c)};f.getWait=function(a,b,g){var f=+new Date,e=d[ensightenOptions.ns].when.defer(),p=function(){var c=b.get(a);if(-1===g.wait)return c;c.then(function(a){g.setCheck(a)?
e.resolve(a):setTimeout(q,g.interval)},function(a){setTimeout(q,g.interval)})},q=function(){var a=+new Date-f;-1!==g.wait&&a<g.wait?p():e.reject("Timeout")};g.interval=g.interval||500;g.wait=g.wait||5E3;c.utils.isArray(a)?g.setCheck=g.setCheck||function(a){for(var b=!0,e=0;e<a.length;e++)b=b&&!!a[e];return b}:g.setCheck=g.setCheck||function(a){return!!a};p();return e.promise};f.getWaitForKey=function(a,b,c){var g=d[ensightenOptions.ns].when.defer(),e=function(){if(f.data&&f.data.hasOwnProperty(a)){var e=
b.get(a);if(-1===c.wait)return e;e.then(function(a){g.resolve(a)},function(a){g.reject(a)})}else setTimeout(p,c.interval)},p=function(){e()};c.interval=c.interval||100;c.wait=c.wait||1;e();return g.promise};c.set=function(a,b,c){var g=f.normalizeInputArgs(a,b);Array.prototype.slice.call(arguments);return d[ensightenOptions.ns].data.engine(c||"memory").set(g.key,g.val)};c.remove=function(a,b){return d[ensightenOptions.ns].data.engine(b||"memory").remove(a)};c.clear=function(a){return d[ensightenOptions.ns].data.engine(a||
"memory").clear()};c.define=function(a,b){b&&(a.name=b.id||b.name);if(!a.name)return d[ensightenOptions.ns].when.reject(Error("Invalid parameters: missing 'name'"));a.id=a.name;var g=a.load||"page";a.load=a.load||"javascript";a.load=-1<a.load.indexOf("javascript")?a.load:a.load+",javascript";a.trigger=a.trigger||function(){return d[ensightenOptions.ns].when.resolve()};a.priv=a.priv||!1;a.collection=a.collection||"Data Layer";a.persist=d[ensightenOptions.ns].data.engine("memory");a.storage=c.storage[g.toLowerCase()]||
c.storage.page;var m=a.extract||function(){return document},e=a.transform||function(a){return a},p=function(b,c){var e=[];e.push(a.persist.set(b,c));a.storage.set(a.id,c);"object"==typeof d[ensightenOptions.ns].data.dataExport&&d[ensightenOptions.ns].data.dataExport(b,c,a.collection);d[ensightenOptions.ns].when.all(e).then(function(a){q.resolve(a)},function(a){q.reject(a)})},q=d[ensightenOptions.ns].when.defer();try{var h=a.trigger()}catch(v){d[ensightenOptions.ns].reportException(new f.DataDefinitionException(null,
'"'+v+'" error caught in Data Definition trigger: '+a.dataDefName+", ID:"+a.id+". Using bottom of body trigger.")),h=d[ensightenOptions.ns].data.bottomOfBodyTrigger()}h.then(function(){q.resolve(d[ensightenOptions.ns].when.reduce([function(){try{return m()}catch(v){return d[ensightenOptions.ns].reportException(new f.DataDefinitionException(null,'"'+v+'" error caught in Data Definition extractor: '+a.dataDefName+", ID:"+a.id+".")),null}}(),function(){try{return e.apply(this,arguments)}catch(v){return d[ensightenOptions.ns].reportException(new f.DataDefinitionException(null,
'"'+v+'" error caught in Data Definition transformer: '+a.dataDefName+", ID "+a.id+".")),null}},p],function(b,c,e,d){if(1==e)return c(b);2==e&&c(a.name,b)}))},function(a){q.reject(a)});f.dataDefinitions[a.id]=a;f.dataDefinitionsBySourceCollName[""+a.source+"."+a.collection+"."+a.dataDefName]=a;return q.promise};c.checkConditions=function(a){var b,g={lt:function(a,b){var c=+a,e=+b;return isNaN(c)||isNaN(e)?(d[ensightenOptions.ns].reportException(new f.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+
a+", compareTo: "+b)),!1):c<e},gt:function(a,b){var c=+a,e=+b;return isNaN(c)||isNaN(e)?(d[ensightenOptions.ns].reportException(new f.DataDefinitionException(null,"Value(s) cannot be converted to number: compareWith: "+a+", compareTo: "+b)),!1):c>e},eql:function(a,b){return a==b},exists:function(a,b){return null==a||a==n?!1:!0},re:function(a,b,c){b=new RegExp(b,c?"i":"");try{return a.match(b)}catch(u){return!1}},starts:function(a,b,d){b=c.utils.escapeRegEx(b);return g.re(a,"^"+b,d)},ends:function(a,
b,d){b=c.utils.escapeRegEx(b);return g.re(a,b+"$",d)},contains:function(a,b,d){b=c.utils.escapeRegEx(b);return g.re(a,".*"+b+".*",d)}};g.is=g.eql;g["starts with"]=g.starts;g["ends with"]=g.ends;g["is greater than"]=g.gt;g["is less than"]=g.lt;g.matches=g.re;for(b=0;b<a.values.length;b++){var m=(a.customComparator?a.customComparator[b]?a.customComparator[b]:g[a.comparators[b]]:g[a.comparators[b]])(a.values[b],a.compareTo[b],a.caseInsensitive?a.caseInsensitive[b]||!1:!1);a.not[b]&&(m=!m);if(!m)return!1}return!0};
c.triggerPromise=function(a,b,c){c=c||5E3;var f=+new Date,e=d[ensightenOptions.ns].when.defer();(function(){var d=a();d!=b?e.resolve(d):+new Date-f<c?setTimeout(arguments.callee,200):e.reject("timed out")})();return e.promise};c.timeoutPromise=function(a,b){var c=d[ensightenOptions.ns].when.defer();b=b||800;a.then(c.resolve,c.reject);setTimeout(function(){c.reject(Error("timed out"))},b);return c.promise};c.delayTrigger=function(a){a=a||10;var b=d[ensightenOptions.ns].when.defer();setTimeout(function(){b.resolve()},
a);return b.promise};c.delayUntilTrigger=function(a,b,c,f){c=c||null;f=f||200;var e=+new Date,g=d[ensightenOptions.ns].when.defer();(function(){var d=a();d!=b?g.resolve(d):c?+new Date-e<c?setTimeout(arguments.callee,f):g.reject("timed out"):setTimeout(arguments.callee,f)})();return g.promise};f.applyTrigger=function(a){var b=d[ensightenOptions.ns].when.defer();a(function(){b.resolve(!0)});return b.promise};c.immediateTrigger=function(){return f.applyTrigger(d[ensightenOptions.ns].bindImmediate)};
c.bottomOfBodyTrigger=function(){return f.applyTrigger(d[ensightenOptions.ns].bindDOMParsed)};c.whenValueExistsTrigger=function(){return d[ensightenOptions.ns].when.resolve(this.extract())};c.afterEnsightenCompleteTrigger=function(){return f.applyTrigger(d[ensightenOptions.ns].bindPageSpecificCompletion)};c.afterElementsDownloadedTrigger=function(){return f.applyTrigger(d[ensightenOptions.ns].bindDOMLoaded)};c.getAllDataDefinitionsOnCurrentPage=function(){return f.dataDefinitions};c.getAllDataDefinitionsOnCurrentPage_S_C_N=
function(){return f.dataDefinitionsBySourceCollName};c.getDataDefinitionById=function(a){return f.dataDefinitions[a||-1]||{}};c.getDataDefinitionBySourceCollectionName=function(a,b,c){return f.dataDefinitionsBySourceCollName[""+a+"."+b+"."+c]||{}};c.getDataDefinitionByPercentSyntax=function(a){a=(""+a).split("_");return 1>a.length?{}:f.dataDefinitions[a[1]]||{}};c.resolve=function(a,b){var g=this;var h=null;if(!f.checkForInvalidDataDefinitions(a))if(b)d[ensightenOptions.ns].bindDataDefinitionComplete(function(){var c=
f.collectAvailableDataDefinitions(a);c.isInvalid||d[ensightenOptions.ns].when.all(c.promises).then(function(c){try{b.apply(g,c)}catch(v){d[ensightenOptions.ns].reportException(new f.DataDefinitionException(a,"Error resolving data definitions: "+a+". Details: "+v))}},function(b){d[ensightenOptions.ns].reportException(new f.DataDefinitionException(a,"Error resolving data definitions: "+a+". Details: "+b))})});else{var e=[];h=a;c.utils.isArray(a)||(h=[a]);for(var p=0;p<h.length;p++)e.push(f.getSync(h[p]));
return h=c.utils.isArray(a)?e:e[0]}};c.extract=function(a,b){var c="",f=function(a,b){var c=~b.indexOf("#")?b.split("#")[1]:"",e=c?0:~b.indexOf("[")?parseInt(b.match(/\[(\d+)\]/)[1]):0,d=(c?b.split("#")[0]:e?b.split("[")[0]:b).toLowerCase();if(a==document&&"html"==d&&0==e)return document.getElementsByTagName("html")[0];if(~b.indexOf("#"))return document.getElementById(b.split("#")[1]);var f=a.firstChild;if(!f)return null;for(var g=0,e=0!=e?e-1:e;f;){if(1==f.nodeType){if(f.tagName.toLowerCase()==d&&
""!=c&&f.id==c||f.tagName.toLowerCase()==d&&g==e&&""==c)return f;f.tagName.toLowerCase()==d&&g++}f=f.nextSibling}},e=function(a,b){a=a.split("/");for(var c=f(b||document,a[1]),e=2;e<a.length;e++){if(null==c)return null;c=f(c,a[e])}return c},p=function(){for(var a={},b=d.document.getElementsByTagName("META")||[],c=0,e=b.length;c<e;c++){var f=b[c].name||b[c].getAttribute("property")||"";0!==f.length&&(a[f]=b[c].content)}return a}(),h=function(a){var b=p[a];if(b)return b;for(var b=d.document.getElementsByTagName("META")||
[],c=0,e=b.length;c<e;c++){var f=b[c].name||b[c].getAttribute("property")||"";if(a==f)return b[c].content}},k=function(a){return(val=(new RegExp("&"+a+"=([^&]*)")).exec(d.location.search.replace(/^\?/,"&")))?val[0].split("=")[1]:""},l=function(a){return(val=(new RegExp("^"+a+"=.*|;\\s*"+a+"=.*")).exec(d.document.cookie))?val[0].split("=")[1].split(";")[0]:""},n=function(a){(a=r(a))&&a.nodeType&&1==a.nodeType&&(a=a.value||a.innerHTML||"");return a.toString().replace(/\n|\r|\s\s+/g,"")||""},r=function(a){var b=
"";if(0==a.indexOf("/HTML/BODY"))b=e(a);else try{b=eval(a)}catch(B){b=""}return b};try{return b?"meta"==b?c=h(a):"cookie"==b?c=l(a):"param"==b?c=k(a):"content"==b?c=n(a):"event"==b?c=r(a):"var"==b&&(c=d[a]):c=h(a)||l(a)||k(a)||n(a)||r(a)||d[a]||"",c||""}catch(t){return""}};"undefined"==typeof l&&(l={exports:{}});return c}(window);
window[ensightenOptions.ns].data.defineEngine("store",function(){var d={},n=window,k=n.document,l,f=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};d.set=function(a,b){};d.get=function(a){};d.remove=function(a){};d.clear=function(){};try{if("localStorage"in n&&n.localStorage){var c=n.localStorage;d.set=function(a,b){var e,d=window.JSON&&window.JSON.stringify?window.JSON:window[ensightenOptions.ns].JSON;if(f(a)){var g=0;for(e=a.length;g<e;g++)c.setItem(a[g],"string"===
typeof b[g]?b[g]:d.stringify(b[g]))}else c.setItem(a,"string"===typeof b?b:d.stringify(b))};d.get=function(a){if(f(a)){var b={},e;var d=0;for(e=a.length;d<e;d++)b[a[d]]=c.getItem(a[d]);return b}return c.getItem(a)};d.remove=function(a){if(f(a)){var b;var e=0;for(b=a.length;e<b;e++)c.removeItem(a[e])}else c.removeItem(a)};d.clear=function(){c.clear()};d.all=function(){return c}}else if("globalStorage"in n&&n.globalStorage)c=n.globalStorage[n.location.hostname],d.set=function(a,b){if(f(a)){var e;var d=
0;for(e=a.length;d<e;d++)c[a[d]]=b[d]}else c[a]=b},d.get=function(a){if(f(a)){var b={},e;var d=0;for(e=a.length;d<e;d++)b[a[d]]=c[a[d]]&&c[a[d]].value;return b}return c[a]&&c[a].value},d.remove=function(a){if(f(a)){var b;var d=0;for(b=a.length;d<b;d++)delete c[a[d]]}else delete c[a]},d.clear=function(){for(var a in c)delete c[a]},d.all=function(){return c};else if(k.documentElement.addBehavior){var h=function(a){return a.replace(g,"___")},n=function(a){return function(){var d=Array.prototype.slice.call(arguments,
0);d.unshift(c);b.appendChild(c);c.addBehavior("#default#userData");c.load("localStorage");d=a.apply(store,d);b.removeChild(c);return d}};try{var a=new ActiveXObject("htmlfile");a.open();a.write('<script>document.w=window\x3c/script><iframe src="/favicon.ico"></frame>');a.close();var b=a.w.frames[0].document;c=b.createElement("div")}catch(e){c=k.createElement("div"),b=k.body}var g=RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");d.set=n(function(a,b,c){if(f(b)){var e;var g=0;for(e=b.length;g<e;g++){fixedKey=
h(b[g]);if(void 0===c[g])return d.remove(fixedKey);a.setAttribute(fixedKey,c[g]);a.save("localStorage")}}else{fixedKey=h(b);if(void 0===c)return d.remove(fixedKey);a.setAttribute(fixedKey,c);a.save("localStorage")}});d.get=n(function(a,b){if(f(b)){var c={},d;var e=0;for(d=b.length;e<d;e++){var g=h(b[e]);c[b[e]]=a.getAttribute(g)}return c}b=h(b);return a.getAttribute(b)});d.remove=n(function(a,b){if(f(b)){var c;var d=0;for(c=b.length;d<c;d++)a.removeAttribute(h(b[d])),a.save("localStorage")}else b=
h(b),a.removeAttribute(b),a.save("localStorage")});d.clear=n(function(a){var b=a.XMLDocument.documentElement.attributes;a.load("localStorage");for(var c=0,d;d=b[c];c++)a.removeAttribute(d.name);a.save("localStorage")});d.all=n(function(a){for(var b=a.XMLDocument.documentElement.attributes,c={},d=0,f;f=b[d];++d){var e=h(f.name);c[f.name]=a.getAttribute(e)}return c})}}catch(e){}var m={};for(l in d)m[l]=d[l];m.testStorage=function(){try{var a="tk_"+Math.ceil(5E7*Math.random());m.set(a,"test");if("test"===
m.get(a))return m.remove(a),!0}catch(p){}return!1};d.utils=m;return window[ensightenOptions.ns].data.local=d}());
window[ensightenOptions.ns].data.defineEngine("cookie",function(d,n){var k=function(){return k.get.apply(k,arguments)},l=k.utils={isArray:Array.isArray||function(d){return"[object Array]"===Object.prototype.toString.call(d)},isPlainObject:window[ensightenOptions.ns].data.utils.isPlainObject,toArray:function(d){return Array.prototype.slice.call(d)},getKeys:Object.keys||function(d){var c=[],f="";for(f in d)d.hasOwnProperty(f)&&c.push(f);return c},escape:function(d){return String(d).replace(/[,;"\\=\s%]/g,
function(c){return encodeURIComponent(c)})},retrieve:function(d,c){return null==d?c:d},getAllCookies:function(){if(""===d.cookie)return{};for(var f=d.cookie.split("; "),c={},h=0,a=f.length;h<a;h++){var b=f[h].split("=");c[decodeURIComponent(b[0])]=decodeURIComponent(b[1])}return c},set:function(f,c,h){h=h||-1;if(l.isPlainObject(f))for(var a in f)f.hasOwnProperty(a)&&k.set(a,f[a],c);else if(l.isArray(f)){var b;a=0;for(b=f.length;a<b;a++)k.set(f[a],c[a],h)}else{a=h.expires!==n?h.expires:k.defaults.expires||
"";"number"===typeof a&&(a=new Date(a));a=l.isPlainObject(a)&&"toGMTString"in a?";expires="+a.toGMTString():l.isPlainObject(a)&&a instanceof Date?";expires="+a.toUTCString():";expires="+a;b=(b=h.path||k.defaults.path)?";path="+b:"";var g=h.domain||k.defaults.domain,g=g?";domain="+g:"";h=h.secure||k.defaults.secure?";secure":"";d.cookie=l.escape(f)+"="+l.escape(c)+a+b+g+h}},get:function(d,c){c=c||n;var f=l.getAllCookies();if(l.isArray(d)){var a={};for(var b=0,g=d.length;b<g;b++)a[d[b]]=l.retrieve(f[d[b]],
c),a[d[b]]===n&&(a[d[b]]=null);return a}a=l.retrieve(f[d],c);return a===n?null:a},getGMTString:function(d){var c=new Date;c.setTime(c.getTime()+864E5*d);return c.toGMTString()}};k.defaults={path:"/",expires:l.getGMTString(90)};k.set=function(d,c){l.set(d,c)};k.remove=function(d){d=l.isArray(d)?d:l.toArray(arguments);for(var c=0,f=d.length;c<f;c++)l.set(d[c],"",{expires:-1})};k.clear=function(){return k.remove(l.getKeys(l.getAllCookies()))};k.get=function(d,c){return l.get(d,c)};k.all=function(){return l.getAllCookies()};
k.utils=l;return window[ensightenOptions.ns].data.cookie=k}(document));
}
		
window[ensightenOptions.ns].ensEvent||(window[ensightenOptions.ns].ensEvent=function(q,w){var h={queue:{},pollQueue:{},pushTrigger:function(a,c){if("[object Array]"===Object.prototype.toString.call(a)){for(var g=0;g<a.length;g++)h.pushTrigger(a[g],c);return!0}if("string"!=typeof a)return!1;this.queue[a]=this.queue[a]||{fn:[]};"function"==typeof c&&this.queue[a].fn.push(c);return!0},callTrigger:function(a,c,g){if("string"!=typeof a)return!1;a=h.queue[a];if("object"==typeof a&&a.fn&&a.fn.length&&(0!=
a.fireOnFirstSet&&c==w||c!=w&&0!=a.fireOnUpdate))for(c=0;c<a.fn.length;c++)a.fn[c].call(this)},setPollOptions:function(a,c,g){this.queue[a]=this.queue[a]||{fn:[]};this.queue[a].fireOnFirstSet=c;this.queue[a].fireOnUpdate=g},callPoll:function(a,c,g,q,r){if("string"==typeof a&&c&&c.length&&!(1>c.length)){for(var n=0;n<c.length;n++)h.setPollOptions(c[n],q,r);h.pushWatch(a,c,g)}},pushWatch:function(a,c,g){this.pollQueue[a]||(this.pollQueue[a]={previousVal:w,eventArr:[],valueFn:g});this.pollQueue[a].eventArr=
this.pollQueue[a].eventArr.concat(c);this.pollQueue[a].valueFn=g},globalWatch:function(){setInterval(function(){for(var a in h.pollQueue){var c=h.pollQueue[a],g=c.valueFn(a);if(c.previousVal!==g){for(var n=0;n<c.eventArr.length;n++)h.callTrigger.call(q,c.eventArr[n],c.previousVal,g);h.pollQueue[a].previousVal=g}}},500)}};h.globalWatch();return{add:function(a,c){return h.pushTrigger(a,c)},get:function(a){return h.queue[a]},trigger:function(a,c){return h.callTrigger.call(c||q,a)},poll:function(a,c,
g,n,r){r=r||q[ensightenOptions.ns].data.resolve;return h.callPoll(a,c,r,g,n)}}}(window),function(q,w,h){w[q]=h()}("qwery",window[ensightenOptions.ns],function(){function q(){this.c={}}function w(b){return H.g(b)||H.s(b,"(^|\\s+)"+b+"(\\s+|$)",1)}function h(b,d){for(var e=0,f=b.length;e<f;e++)d(b[e])}function a(b){for(var d=[],e=0,f=b.length;e<f;++e)k(b[e])?d=d.concat(b[e]):d[d.length]=b[e];return d}function c(b){for(var d=0,e=b.length,f=[];d<e;d++)f[d]=b[d];return f}function g(b){for(;(b=b.previousSibling)&&
1!=b.nodeType;);return b}function n(b,d,e,f,a,l,k,c,g,h,t){var I,B,m;if(1!==this.nodeType||d&&"*"!==d&&this.tagName&&this.tagName.toLowerCase()!==d||e&&(I=e.match(Q))&&I[1]!==this.id)return!1;if(e&&(m=e.match(R)))for(b=m.length;b--;)if(!w(m[b].slice(1)).test(this.className))return!1;if(g&&u.pseudos[g]&&!u.pseudos[g](this,t))return!1;if(f&&!k)for(B in g=this.attributes,g)if(Object.prototype.hasOwnProperty.call(g,B)&&(g[B].name||B)==a)return this;return f&&!y(l,S(this,a)||"",k)?!1:this}function r(b){return J.g(b)||
J.s(b,b.replace(T,"\\$1"))}function y(b,d,e){switch(b){case "=":return d==e;case "^=":return d.match(x.g("^="+e)||x.s("^="+e,"^"+r(e),1));case "$=":return d.match(x.g("$="+e)||x.s("$="+e,r(e)+"$",1));case "*=":return d.match(x.g(e)||x.s(e,r(e),1));case "~=":return d.match(x.g("~="+e)||x.s("~="+e,"(?:^|\\s+)"+r(e)+"(?:\\s+|$)",1));case "|=":return d.match(x.g("|="+e)||x.s("|="+e,"^"+r(e)+"(-|$)",1))}return 0}function p(b,d){var e=[],f=[],a,l,k,c,g,m=d,t=C.g(b)||C.s(b,b.split(K)),u=b.match(L);if(!t.length)return e;
l=(t=t.slice(0)).pop();t.length&&(a=t[t.length-1].match(M))&&(m=N(d,a[1]));if(!m)return e;c=l.match(E);k=m!==d&&9!==m.nodeType&&u&&/^[+~]$/.test(u[u.length-1])?function(b){for(;m=m.nextSibling;)1==m.nodeType&&(c[1]?c[1]==m.tagName.toLowerCase():1)&&(b[b.length]=m);return b}([]):m.getElementsByTagName(c[1]||"*");a=0;for(l=k.length;a<l;a++)if(g=n.apply(k[a],c))e[e.length]=g;if(!t.length)return e;h(e,function(b){v(b,t,u)&&(f[f.length]=b)});return f}function v(b,d,e,a){function l(b,a,c){for(;c=U[e[a]](c,
b);)if(f(c)&&n.apply(c,d[a].match(E)))if(a){if(k=l(c,a-1,c))return k}else return c}var k;return(k=l(b,d.length-1,b))&&(!a||z(k,a))}function f(b,d){return b&&"object"===typeof b&&(d=b.nodeType)&&(1==d||9==d)}function l(b){var d=[],e,f;e=0;a:for(;e<b.length;++e){for(f=0;f<d.length;++f)if(d[f]==b[e])continue a;d[d.length]=b[e]}return d}function k(b){return"object"===typeof b&&isFinite(b.length)}function N(b,d,e){return 9===b.nodeType?b.getElementById(d):b.ownerDocument&&((e=b.ownerDocument.getElementById(d))&&
z(e,b)&&e||!z(b,b.ownerDocument)&&F('[id="'+d+'"]',b)[0])}function u(b,d){var e,l,g;g=d?"string"==typeof d?u(d)[0]:!d.nodeType&&k(d)?d[0]:d:m;if(!g||!b)return[];if(b===window||f(b))return!d||b!==window&&f(g)&&z(b,g)?[b]:[];if(b&&k(b))return a(b);if(e=b.match(V)){if(e[1])return(l=N(g,e[1]))?[l]:[];if(e[2])return c(g.getElementsByTagName(e[2]));if(W&&e[3])return c(g.getElementsByClassName(e[3]))}return F(b,g)}function t(b,d){return function(e){var f,a;O.test(e)?9!==b.nodeType&&((a=f=b.getAttribute("id"))||
b.setAttribute("id",a="__qwerymeupscotty"),d(b.parentNode||b,'[id="'+a+'"]'+e,!0),f||b.removeAttribute("id")):e.length&&d(b,e,!1)}}var m=document,D=m.documentElement,F,Q=/#([\w\-]+)/,R=/\.[\w\-]+/g,M=/^#([\w\-]+)$/,X=/^([\w]+)?\.([\w\-]+)$/,O=/(^|,)\s*[>~+]/,Y=/^\s+|\s*([,\s\+\~>]|$)\s*/g,A=/[\s\>\+\~]/,P=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,T=/([.*+?\^=!:${}()|\[\]\/\\])/g,V=new RegExp(M.source+"|"+/^([\w\-]+)$/.source+"|"+/^\.([\w\-]+)$/.source),L=new RegExp("("+A.source+
")"+P.source,"g"),K=new RegExp(A.source+P.source),E=new RegExp(/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/.source+"("+/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/.source+")?("+/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/.source+")?"),U={" ":function(b){return b&&b!==D&&b.parentNode},">":function(b,d){return b&&b.parentNode==d.parentNode&&b.parentNode},"~":function(b){return b&&b.previousSibling},"+":function(b,d,e,f){return b?(e=g(b))&&(f=g(d))&&e==f&&e:!1}};
q.prototype={g:function(b){return this.c[b]||void 0},s:function(b,d,e){d=e?new RegExp(d):d;return this.c[b]=d}};var H=new q,J=new q,x=new q,C=new q,z="compareDocumentPosition"in D?function(b,d){return 16==(d.compareDocumentPosition(b)&16)}:"contains"in D?function(b,d){d=9===d.nodeType||d==window?D:d;return d!==b&&d.contains(b)}:function(b,d){for(;b=b.parentNode;)if(b===d)return 1;return 0},S=function(){var b=m.createElement("p");return(b.innerHTML='<a href="#x">x</a>',"#x"!=b.firstChild.getAttribute("href"))?
function(b,e){return"class"===e?b.className:"href"===e||"src"===e?b.getAttribute(e,2):b.getAttribute(e)}:function(b,e){return b.getAttribute(e)}}(),W=!!m.getElementsByClassName,Z=m.querySelector&&m.querySelectorAll,aa=function(b,d){var e=[],f,a;try{if(9===d.nodeType||!O.test(b))return c(d.querySelectorAll(b));h(f=b.split(","),t(d,function(b,d){a=b.querySelectorAll(d);1==a.length?e[e.length]=a.item(0):a.length&&(e=e.concat(c(a)))}));return 1<f.length&&1<e.length?l(e):e}catch(ba){}return G(b,d)},G=
function(b,d){var e=[],f,a,c,k;b=b.replace(Y,"$1");if(f=b.match(X)){k=w(f[2]);f=d.getElementsByTagName(f[1]||"*");a=0;for(c=f.length;a<c;a++)k.test(f[a].className)&&(e[e.length]=f[a]);return e}h(f=b.split(","),t(d,function(b,f,l){k=p(f,b);a=0;for(c=k.length;a<c;a++)if(9===b.nodeType||l||z(k[a],d))e[e.length]=k[a]}));return 1<f.length&&1<e.length?l(e):e},A=function(b){"undefined"!==typeof b.useNativeQSA&&(F=b.useNativeQSA?Z?aa:G:G)};A({useNativeQSA:!0});u.configure=A;u.uniq=l;u.is=function(b,d,e){if(f(d))return b==
d;if(k(d))return!!~a(d).indexOf(b);for(var l=d.split(","),c;d=l.pop();)if(c=C.g(d)||C.s(d,d.split(K)),d=d.match(L),c=c.slice(0),n.apply(b,c.pop().match(E))&&(!c.length||v(b,c,d,e)))return!0;return!1};u.pseudos={};return u}),function(){function q(f,a,c){var l;n||(n=window[ensightenOptions.ns].qwery);l=n;if((l=l.call(c,a,c))&&0<l.length){if("_root"==a)f=c;else if(f===c)f=void 0;else{b:{for(var k=l.length,g=0;g<k;g++)if(f===l[g]){l=!0;break b}l=!1}l||(f.parentNode?(r++,f=q(f.parentNode,a,c)):f=void 0)}return f}return!1}
function w(f,a,c,g){p[f.id]||(p[f.id]={});p[f.id][a]||(p[f.id][a]={});p[f.id][a][c]||(p[f.id][a][c]=[]);p[f.id][a][c].push(g)}function h(a,c,g,h){if(h||g)if(h)for(var f=0;f<p[a.id][c][g].length;f++){if(p[a.id][c][g][f]===h){p[a.id][c][g].pop(f,1);break}}else delete p[a.id][c][g];else p[a.id][c]={}}function a(a,c,k){if(p[a][k]){var f=c.target||c.srcElement,l,h,m={},n=h=0;r=0;for(l in p[a][k])p[a][k].hasOwnProperty(l)&&(h=q(f,l,v[a].element))&&g.matchesEvent(k,v[a].element,h,"_root"==l,c)&&(r++,p[a][k][l].match=
h,m[r]=p[a][k][l]);c.stopPropagation=function(){c.cancelBubble=!0};for(h=0;h<=r;h++)if(m[h])for(n=0;n<m[h].length;n++){if(!1===m[h][n].call(m[h].match,c)){g.cancel(c);return}if(c.cancelBubble)return}}}function c(f,c,k,n){function l(c){return function(f){a(t,f,c)}}f instanceof Array||(f=[f]);k||"function"!=typeof c||(k=c,c="_root");var t=this.id,m;for(m=0;m<f.length;m++)p[t]&&p[t][f[m]]||g.addEvent(this,f[m],l(f[m])),n?h(this,f[m],c,k):w(this,f[m],c,k);return this}function g(a,c,k,h){if("string"==
typeof a&&"function"==typeof c||"string"==typeof c)g(document).on(a,c,k,h||!1);if(!(this instanceof g)){for(var f in v)if(v[f].element===a)return v[f];y++;v[y]=new g(a,y);v[y]._on=v[y].on;v[y].on=function(a,c,f,g){var h="function"==typeof c?c:f;if("function"==typeof c?f:g)a=[a],"string"==typeof c&&a.push(c),a.push(function(a){return function(c){c.defaultPrevented||window[ensightenOptions.ns].Delegate.load(this);if(this.nodeName&&"a"!=this.nodeName.toLowerCase())return a.call(this);"undefined"!=typeof c.preventDefault?
c.preventDefault():c.returnValue=!1;a.call(this)}}(h)),this._on.apply(this,a);else return this._on.call(this,a,c,f)};return v[y]}this.element=a;this.id=c}var n,r=0,y=0,p={},v={};g.prototype.on=function(a,g,h){return c.call(this,a,g,h)};g.prototype.off=function(a,g,h){return c.call(this,a,g,h,!0)};g.cancel=function(a){a.preventDefault();a.stopPropagation()};g.addEvent=function(a,c,g){a.element.addEventListener(c,g,"blur"==c||"focus"==c)};g.matchesEvent=function(){return!0};g.load=function(a){setTimeout(function(a,
c){return function(){if(a.nodeName&&"a"==a.nodeName.toLowerCase()){if(c&&/^javascript\s*\:/.test(c))return(new Function(unescape(c))).call(window);c&&(window.location.href=c)}}}(a,a.href||""),750)};window[ensightenOptions.ns].Delegate=g}(),function(q){var w=q.addEvent;q.addEvent=function(h,a,c){if(h.element.addEventListener)return w(h,a,c);"focus"==a&&(a="focusin");"blur"==a&&(a="focusout");h.element.attachEvent("on"+a,c)};q.cancel=function(h){h.preventDefault&&h.preventDefault();h.stopPropagation&&
h.stopPropagation();h.returnValue=!1;h.cancelBubble=!0}}(window[ensightenOptions.ns].Delegate),window[ensightenOptions.ns].on=window[ensightenOptions.ns].Delegate);Bootstrapper.dataDefinitionIds = [18626,40003,18627,46596,40005,40006,40007,19655,40008,19658,18508,45836,19665,40146,46293,40598,45344,49184,19809,15074,18980,19109,19110,40168,45742,15222,18617,19195,27261,5181,15230,16831,19199];Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer.mr_email_campaign_analytics!=undefined)return window.dataLayer.mr_email_campaign_analytics},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"MR Email Campaign",collection:"Adobe",source:"Manage",priv:"false"},{id:"40005"})},40005)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var returnVal="";if(typeof window.dataLayer!=="undefined")returnVal=window.dataLayer.mr_enrolled||"";return returnVal},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"mr_enrolled",collection:"Aries",source:"Manage",priv:"false"},{id:"46293"})},46293)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return"16600,18018,16622,16623,19404,19392,21269,22951"},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Partner IDs",collection:"Criteo",source:"Manage",priv:"false"},{id:"19109"})},19109)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var hotelSaved=false;if(window.dataLayer.analytics_prop_saved||window.dataLayer.prop_saved_marsha)hotelSaved=true;return hotelSaved},transform:function(val){if(val==true){var marshaCode=window.dataLayer.analytics_prop_saved||window.dataLayer.prop_saved_marsha,marshaCodesSaved=_sdi.util.readCookie("marshaCodesSaved")||
"";if(marshaCodesSaved.indexOf(marshaCode)==-1){marshaCodesSaved+=marshaCode+"|";window.marshaCodeJustAddedToCookie=marshaCode;_sdi.util.writeCookie("marshaCodesSaved",marshaCodesSaved);return val}else{if(window.marshaCodeJustAddedToCookie==marshaCode)return val=true;return val=false}}},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Saved Favorite Hotel",collection:"Adobe",source:"Manage",priv:"false"},{id:"40146"})},40146)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return null},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Salesforce -pageViewsInSession",collection:"SalesForce Chat",source:"Manage",priv:"false"},{id:"18626"})},18626)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{return window.dataLayer.prop_marsha_code}catch(e){return""}},transform:function(val){return val?val.toUpperCase():""},load:"page",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"Property Marsha Code",collection:"Adobe",source:"Manage",priv:"false"},{id:"18980"})},18980)},
-1,-1);Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{if(typeof tmParam!=="undefined")return tmParam.tm_otherbk||""}catch(e){return"EDL_Extractor_Error"}},load:"instance",dataDefName:"MVT OtherBK",collection:"Global",source:"Manage",priv:"false"},{id:"15230"})},15230)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var wasReferredFromRC="false";try{if(/^(?:https?:?)?(?:\/\/)?(?:[^\.]*\.?)?(ritzcarlton|trc\.stage\.rosetta)\.com/.test(document.referrer)){Bootstrapper.data.cookie.utils.set("rc_referred","1",{expires:(new Date((new Date).getTime()+30*6E4)).toUTCString()});wasReferredFromRC="true"}else if(~document.cookie.indexOf("; rc_referred\x3d1")){Bootstrapper.data.cookie.utils.set("rc_referred",
"1",{expires:(new Date((new Date).getTime()+30*6E4)).toUTCString()});wasReferredFromRC="true"}}catch(e){}return wasReferredFromRC},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Referred from RC in-session",collection:"Ritz Carlton",source:"Manage",priv:"false"},{id:"19195"})},19195)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{if(typeof tmParam!=="undefined")return tmParam.lead_time||""}catch(e){return"EDL_Extractor_Error"}},load:"instance",dataDefName:"Lead Time",collection:"Global",source:"Manage",priv:"false"},{id:"15222"})},15222)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer.mr_social_login_provider!=undefined)return window.dataLayer.mr_social_login_provider},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"MR Social Login",collection:"Adobe",source:"Manage",priv:"false"},{id:"40008"})},40008)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var rooms="Rooms-"+Bootstrapper.data.resolve("Manage.Adobe.homepage rooms");var adults="|Adults-"+Bootstrapper.data.resolve("Manage.Adobe.homepage adults");var children="|Children-"+Bootstrapper.data.resolve("Manage.Adobe.homepage children");var childAge=Bootstrapper.data.resolve("Manage.Adobe.homepage childAge");
var abp=rooms+adults+children+childAge;return abp},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"rateListAbp",collection:"Adobe",source:"Manage",priv:"false"},{id:"40598"})},40598)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.location.href.match(/marriott.de/i))return 3695;else if(window.location.href.match(/marriott.fr/i))return 3696;else if(window.location.href.match(/marriott.*uk/i))return 3693;else if(window.location.href.match(/espanol/i))return 6537;else if(window.location.href.match(/marriott.com/i))return 6541},
load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Sojern ID",collection:"Global",source:"Manage",priv:"false"},{id:"16831"})},16831)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var requestString="";var dataCollectionDomain=document.location.protocol==="https:"?"smetrics.marriott.com":"metrics.marriott.com";var pageName=encodeURIComponent(window.location.hostname+window.location.pathname);var cacheBuster=+new Date;requestString="//"+dataCollectionDomain+"/b/ss/marriottglobalsecondary/1/JS-1.7.0/s"+cacheBuster+"?AQB\x3d1\x26vid\x3d1234\x26ce\x3dUTF-8\x26pageName\x3d"+
pageName;Bootstrapper.imageRequest(requestString)},1857521,464684);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(!!window.dataLayer&&!!window.dataLayer.pageName)return dataLayer.pageName;else return""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"EX_EDL_PageName",collection:"Global",source:"Manage",priv:"false"},{id:"19809"})},19809)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer.mr_enrollment_source!=undefined)return window.dataLayer.mr_enrollment_source},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"MR Enrollment Source",collection:"Aries",source:"Manage",priv:"false"},{id:"46596"})},46596)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(typeof $data!=="undefined")return $data("sfDataLayer","rewardsLevel")},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Salesforce - rewardsLevel",collection:"SalesForce Chat",source:"Manage",priv:"false"},{id:"18508"})},18508)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return window.dataLayer.search_impression_criteria3},transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"search_impression_criteria3",collection:"Page",source:"Manage",priv:"false"},{id:"45742"})},45742)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return/ritz.*carlton/i.test(dataLayer.prop_brand_name)?"true":"false"},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Hotel Brand is RitzCarlton",collection:"Ritz Carlton",source:"Manage",priv:"false"},{id:"19199"})},19199)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;var swaObj={t:swaPage,tl:swaLink,_t:swaPageUnderscore};window.swaLog="muting SWA";function swaPage(){window.swaLog="swa.t called";if(typeof s==undefined)window.swaLog+=" before s loaded"}function swaPageUnderscore(){window.swaLog="swa._t called";if(typeof s==undefined)window.swaLog+=" before s loaded"}function swaLink(){if(s){s.prop49="swa.tl called";if(arguments.length>=
3)s.tl(arguments[0],arguments[1],arguments[2],swa);else s.prop49="swa.tl called without 3 arguments"}else window.swaLog="swa.tl called before s loaded"}window.swa=swaObj;window.s=undefined},1875113,467530);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer)if(window.dataLayer.search_advance_purchase_days)return window.dataLayer.search_advance_purchase_days;else if(window.dataLayer.analytics_booking_pace)return window.dataLayer.analytics_booking_pace},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Advance Purchase Window",
collection:"Adobe",source:"Manage",priv:"false"},{id:"27261"})},27261)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var returnVal="";if(typeof window.dataLayer!=="undefined")returnVal=window.dataLayer.analytics_checkin_day;return returnVal},transform:function(val){return val?val:""},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"analytics_checkin_day",collection:"Adobe",
source:"Manage",priv:"false"},{id:"45344"})},45344)},-1,-1);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;if(/^(www\.marriott\.com)$|^(mi-stageq01\.com)$|^(www\.mi-perftest1\.com)$/i.test(window.location.hostname))if(/default\.mi/i.test(window.location.pathname)){if(typeof window.dataLayer!=="undefined"){window.outpaceAltId=dataLayer.mr_prof_id_alternate;window.outpaceLanguage=dataLayer.brwsrLang;window.outpacePCID=Bootstrapper.Cookies.get("MI_Visitor")}var p=window.location.protocol;
if(p==="http:"||p==="https:"){var a=document.createElement("script");a.type="text/javascript";a.src=(p==="https:"?"https:":"http:")+"//web.archive.org/web/20170807191527/https://d1mqz30n8nowyf.cloudfront.net/"+(/prod/i.test(Bootstrapper.ensightenOptions.publishPath)?"prod":"demo")+"/js/outpace_marriott_homepage.min.js";var b=document.createElement("div");b.appendChild(a);document.write(b.innerHTML)}}else if(/^\/reservation\/confirmation\.mi/i.test(window.location.pathname)){if(typeof window.dataLayer!=="undefined"){window.outpaceAltId=dataLayer.mr_prof_id_alternate;
window.outpacePCID=Bootstrapper.Cookies.get("MI_Visitor");window.outpaceConfNumber=dataLayer.res_confirmation_number;window.outpaceMarshaCode=dataLayer.prop_marsha_code;window.outpaceOrderTotal=dataLayer.res_revenue_total_locale;window.outpaceNumberOfNights=dataLayer.nmbNights;window.outpacePropCurrency=dataLayer.prop_currency_type;window.outpaceRevenueTotalUsd=dataLayer.res_revenue_total_usd;window.outpaceRoomsPerNight=dataLayer.res_rooms_per_night}var p=window.location.protocol;if(p==="http:"||
p==="https:"){var a=document.createElement("script");a.type="text/javascript";a.src=(p==="https:"?"https:":"http:")+"//web.archive.org/web/20170807191527/https://d1mqz30n8nowyf.cloudfront.net/"+(/prod/i.test(Bootstrapper.ensightenOptions.publishPath)?"prod":"demo")+"/js/outpace_booking.min.js";var b=document.createElement("div");b.appendChild(a);document.write(b.innerHTML)}}},1875719,[1884036],467232,[351236]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var savedDateStateStr=Bootstrapper.Cookies.get("SavedDateState");if(savedDateStateStr){var mdy=savedDateStateStr.split("/");var savedDateState=new Date(mdy[2],mdy[0]-1,mdy[1]);var now=new Date;now.setHours(0,0,0,0);if(savedDateState<now)return"Expired";else if(savedDateState>=now)return"Active"}},
transform:function(val){return val?val:""},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Saved Date State",collection:"Adobe",source:"Manage",priv:"false"},{id:"45836"})},45836)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{if(typeof dataLayer!=="undefined")return dataLayer.mr_cei_CEI_SttBhvSeg_leis||""}catch(e){return"EDL_Extractor_Error"}},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"PO Segment Leisure",collection:"Global",source:"Manage",priv:"false"},{id:"19658"})},
19658)},-1,-1);Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return null},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Salesforce - timeOnPage",collection:"SalesForce Chat",source:"Manage",priv:"false"},{id:"18617"})},18617)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var obj={};obj.price=Bootstrapper.data.resolve("15175")||"N/A";obj.marsha=Bootstrapper.data.resolve("15077")||"N/A";obj.rooms="1";return[obj]},transform:function(v){return v},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Criteo Product Object",collection:"Criteo",
source:"Manage",priv:"false"},{id:"19110"})},19110)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.Cookies=function(){return{domain:function(){return window.location.hostname.replace(/www\.|espanol\.|arabic\.|intdev\./,"")}()||location.hostname,get:function(a,c){for(var b=document.cookie.split(";"),d=0;d<b.length;d++){var e=b[d].replace(/^\s+/,"").split("\x3d");if(e[0]==a)return c?e[1]:decodeURIComponent(e[1])}return""},set:function(a,c,b){document.cookie=
a+"\x3d"+encodeURIComponent(c)+(b?";expires\x3d"+b:"")+";path\x3d/;domain\x3d"+this.domain;return this.get(a)==c},test:function(a){return this.get(a)?!0:!1}}}();Bootstrapper.getQueryParam=function(key,loc){if(!this.params||loc){var search=loc||window.location.search;var params=search.replace(/^\?/,""),paramObj={};params=params.split("\x26");for(var i=0;i<params.length;i++){var t=params[i].split("\x3d");paramObj[t[0]]=t[1]}if(!loc)this.params=paramObj;else return paramObj[key]||""}return this.params[key]||
""};Bootstrapper.getQueryParam2=function(qsName){if(dataLayer.page_url_query_string){var params=dataLayer.page_url_query_string.replace(/&amp/g,"").split(";");if(params.length>0)for(var i in params){var parts=params[i].split("\x3d"),name=parts.length>0?parts[0]:"",value=parts.length>1?parts[1]:"";if(name.toLowerCase()==qsName.toLowerCase()&&value)return value}return undefined}};window.clearFromUrl=function(url_query,sensKeys){var url_parts=url_query.split("?");if(url_parts.length>1){var local_variables_array=
url_parts[1].split("\x26");var local_param_container={};for(i=0;i<local_variables_array.length;i++){key_value_pair=local_variables_array[i].split("\x3d");local_param_container[key_value_pair[0]]=key_value_pair[1]}for(j=0;j<sensKeys.length;j++)delete local_param_container[sensKeys[j]];var url_string="";for(key in local_param_container)if(key)url_string+="\x26"+key+"\x3d"+local_param_container[key];url_string=url_parts[0]+"?"+url_string.substring(1);return url_string}else return url_query}},1884036,
351236);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer.analytics_deals_special_offerId!=undefined)return window.dataLayer.analytics_deals_special_offerId},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"special offer ID",collection:"Adobe",source:"Manage",priv:"false"},{id:"40003"})},40003)},
-1,-1);Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer.mr_register_for_promo!=undefined)return window.dataLayer.mr_register_for_promo},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"MR Register for Promo",collection:"Adobe",source:"Manage",priv:"false"},{id:"40007"})},40007)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer.mr_enrollment_source!=undefined)return window.dataLayer.mr_enrollment_source},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"MR Enrollment Source",collection:"Adobe",source:"Manage",priv:"false"},{id:"40006"})},40006)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper._SC=Bootstrapper._SC||{};Bootstrapper._SC.dataHandler=Bootstrapper._SC.dataHandler||function(a,b){return a&&a.length&&0<a.length&&a[0]&&a[0][b]?a[0][b]:Bootstrapper.data.resolve(b)};Bootstrapper.AF.push(["join","s","dl","40003"]);Bootstrapper.AF.push(["join","s","dl","26218"]);Bootstrapper.AF.push(["join","s","dl","40005"]);Bootstrapper.AF.push(["join","s",
"dl","40168"]);Bootstrapper.AF.push(["join","s","dl","40007"]);Bootstrapper.AF.push(["join","s","dl","40008"]);Bootstrapper.AF.push(["join","s","dl","40213"]);Bootstrapper.AF.push(["join","s","dl","40216"]);Bootstrapper.AF.push(["join","s","dl","45835"]);Bootstrapper.AF.push(["join","s","dl","45836"]);Bootstrapper.AF.push(["join","s","dl","46062"]);Bootstrapper.AF.push(["join","s","dl","49184"]);Bootstrapper.AF.push(["push","SiteCatalyst","ns","s"]);Bootstrapper.AF.push(["join","s","pre",[["prop5",
function anon(){if(window.dataLayer.env_site_id){var site_id=window.dataLayer.env_site_id;if(site_id=="UK")site_id="GB";return site_id}}],["eVar41",function(){return window.s.prop5}],["prop56",function(){try{return dataLayer.sessionId}catch(e){return""}}],["eVar47",function(){try{return dataLayer.pers_non_member_ctrl_grp_id}catch(e){return""}}],["eVar59",function(){try{return dataLayer.cookie_mvt_global_ctrl}catch(e){return""}}],["eVar20",function(){try{return dataLayer.page_breakpt_orientation}catch(e){return""}}],
["prop9",function(){try{if(window.location.pathname.indexOf("changeConfirmation")>-1)return window.dataLayer.res_change_conf}catch(e){return""}}],["prop26","Ensighten"],["prop19",function anon(){if(dataLayer&&dataLayer.page_url_query_string){var matches=dataLayer.page_url_query_string.match(/OP=(.+[^&])/i);if(matches&&matches.length>1)return matches[1].split(";")[0]}if(s.c_r("MUAT")){var muatObj=JSON.parse(decodeURIComponent(s.c_r("MUAT")));var testerEid=muatObj.testerEid||"";var testReason=muatObj.testReason||
"";var testCase=muatObj.testCase||"";var testSeq=muatObj.testSeq||0;if(testerEid!=""&&testReason!=""&&testCase!=""){testSeq++;var uatString=testerEid.replace(/\|/g,"")+"|"+testReason.replace(/\|/g,"")+"|"+testCase.replace(/\|/g,"")+"|"+testSeq;muatObj.testSeq=testSeq;document.cookie="MUAT\x3d"+encodeURIComponent(JSON.stringify(muatObj))+"; path\x3d/";return uatString}}}],["eVar23",function(){return Bootstrapper._SC.dataHandler(arguments,"40003")}],["prop36",function(){try{return dataLayer.SttBusProf}catch(e){return""}}],
["prop37",function(){try{return dataLayer.SttLeisProf}catch(e){return""}}],["prop38",function(){try{return dataLayer.SttBhvSeg}catch(e){return""}}],["prop40",function(){try{return dataLayer.SttDC}catch(e){return""}}],[["contextData","dtm.no_block"],"true"],["prop64",function anon(){if(document.location.pathname=="/marriott/travel-inspiration/WHPH.mi")return"WHPH";else if(document.location.pathname=="/marriott/travel-inspiration/TSAT.mi")return"TSAT";else if(document.location.pathname=="/travel-inspiration.mi")if(s.Util.getQueryParam("seg")){var seg=
s.Util.getQueryParam("seg");var cleanSeg=seg.match(/^[a-zA-Z]{1,4}/);if(cleanSeg[0]!="")cleanSeg[0]=cleanSeg[0].toUpperCase();return cleanSeg[0]}}],["eVar64",function anon(){if(document.location.pathname=="/reservation/confirmation.mi"){var iata="";if(jQuery)iata=jQuery("input#iata").val();if(iata!="")return iata}}],["eVar8",function(){try{return window.dataLayer.mr_id}catch(e){return""}}],["eVar9",function(){return Bootstrapper._SC.dataHandler(arguments,"26218")}],["events",function anon(){var evts=
s.events;if(window.dataLayer){if(window.dataLayer.prof_state=="authenticated"){evts=s.apl(evts,"event8",",",1);evts=s.apl(evts,"event9",",",1)}if(window.dataLayer.mr_enrolled&&!Bootstrapper.Cookies.get("mr_enrolled")&&document.location.href.indexOf("signIn")==-1){evts=s.apl(evts,"event19",",",1);Bootstrapper.Cookies.set("mr_enrolled","true")}if(window.dataLayer.mr_activated)evts=s.apl(evts,"event50",",",1);if(window.dataLayer.search_availability_search=="true"){evts=s.apl(evts,"event61",",",1);evts=
s.apl(evts,"event62",",",1)}if(window.dataLayer.analytics_deals_special_offerId||window.dataLayer.page_url_path_branch.indexOf("/hotels/hotel-deals")!=-1)evts=s.apl(evts,"event21",",",1);if(window.dataLayer.mr_email_campaign_analytics){var emailCampaignStr=window.dataLayer.mr_email_campaign_analytics.toLowerCase();if(emailCampaignStr.match(/\bunsubscribed/g))evts=s.apl(evts,"event22",",",1);if(emailCampaignStr.match(/\bsubscribed/g))evts=s.apl(evts,"event20",",",1)}var hotelSaved=false;if(window.dataLayer.analytics_prop_saved||
window.dataLayer.prop_saved_marsha){hotelSaved=true;var marshaCode=window.dataLayer.analytics_prop_saved||window.dataLayer.prop_saved_marsha,marshaCodesSaved=_sdi.util.readCookie("marshaCodesSaved")||"";if(marshaCodesSaved.indexOf(marshaCode)==-1){marshaCodesSaved+=marshaCode+"|";window.marshaCodeJustAddedToCookie=marshaCode;_sdi.util.writeCookie("marshaCodesSaved",marshaCodesSaved);hotelSaved=true}else if(window.marshaCodeJustAddedToCookie==marshaCode)hotelSaved=true;else hotelSaved=false}if(hotelSaved)evts=
s.apl(evts,"event23",",",1);if(window.dataLayer.mr_register_for_promo)evts=s.apl(evts,"event53",",",1);if(window.dataLayer.dreamHtls)evts=s.apl(evts,"event82",",",1);if(window.dataLayer.mr_isInitialLink=="yes")evts=s.apl(evts,"event90",",",1)}return evts}],["eVar75",function anon(){$.urlParam=function(name){var results=(new RegExp("[?\x26]"+name+"\x3d([^\x26#]*)")).exec(window.location.href);return results[1]||0};window.vsrectran=$.urlParam("vsrectran");return vsrectran}],["prop11",function(){return Bootstrapper._SC.dataHandler(arguments,
"40005")}],["prop43",function(){return Bootstrapper._SC.dataHandler(arguments,"40168")}],["prop44",function(){return Bootstrapper._SC.dataHandler(arguments,"40007")}],["eVar56",function(){return Bootstrapper._SC.dataHandler(arguments,"40008")}],["eVar39",function(){return Bootstrapper._SC.dataHandler(arguments,"40213")}],["eVar43",function(){return Bootstrapper._SC.dataHandler(arguments,"40216")}],["eVar86",function(){return Bootstrapper._SC.dataHandler(arguments,"45835")}],["eVar87",function(){return Bootstrapper._SC.dataHandler(arguments,
"45836")}],["prop25",function(){return Bootstrapper._SC.dataHandler(arguments,"46062")}],["prop71",function(){return Bootstrapper._SC.dataHandler(arguments,"49184")}]]])},2019566,413090);
Bootstrapper.bindDependencyImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.Cookies.set("AMCV_664516D751E565010A490D4C%40AdobeOrg","",new Date);Bootstrapper.Cookies.set("AMCVS_664516D751E565010A490D4C%40AdobeOrg","",new Date)},1907068,[1884036],466461,[351236]);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return Bootstrapper.Marriott.model["appVersionInfo.launchType"]},transform:function(val){if(isNaN(val))return val.toLowerCase();else{var types=["install","upgrade","launch"];return types[Number(val)]}},load:"instance",trigger:function(){var p=Bootstrapper.when.defer();Bootstrapper.deferreds=
Bootstrapper.deferreds||{};Bootstrapper.deferreds["appVersionInfo.launchType"]=p;return p.promise},dataDefName:"Launch Type",collection:"Mobile Global",source:"Manage",priv:"false"},{id:"5181"})},5181)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){if(window.dataLayer.rewards_enrollment_source!=undefined)return window.dataLayer.rewards_enrollment_source},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Rewards Enrollment Source",collection:"Adobe",source:"Manage",priv:"false"},{id:"40168"})},40168)},-1,
-1);Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){return null},load:"page",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"Search Error Message",collection:"SalesForce Chat",source:"Manage",priv:"false"},{id:"18627"})},18627)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{if(typeof dataLayer!=="undefined")return dataLayer.res_revenue_total_usd||""}catch(e){return"EDL_Extractor_Error"}},load:"instance",dataDefName:"Total Amount",collection:"Global",source:"Manage",priv:"false"},{id:"15074"})},15074)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){var returnVal="";if(typeof window.Bootstrapper!=="undefined"&&typeof window.Bootstrapper.ensightenOptions!=="undefined"&&typeof window.Bootstrapper.ensightenOptions.publishPath!=="undefined")returnVal=window.Bootstrapper.ensightenOptions.publishPath;return returnVal},transform:function(val){return val?
val:""},load:"instance",trigger:Bootstrapper.data.immediateTrigger,dataDefName:"ensighten_publishpath",collection:"Adobe",source:"Manage",priv:"false"},{id:"49184"})},49184)},-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{if(typeof dataLayer!=="undefined")return dataLayer.mr_cei_SttBhvSeg||""}catch(e){return"EDL_Extractor_Error"}},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"mr_cei_SttBhvSeg",collection:"Global",source:"Manage",priv:"false"},{id:"19665"})},19665)},
-1,-1);
Bootstrapper.bindImmediate(function(){var Bootstrapper=window["Bootstrapper"];var ensightenOptions=Bootstrapper.ensightenOptions;Bootstrapper.registerDataDefinition(function(){Bootstrapper.data.define({extract:function(){try{if(typeof dataLayer!=="undefined")return dataLayer.mr_cei_CEI_SttBhvSeg_bus||""}catch(e){return"EDL_Extractor_Error"}},load:"instance",trigger:Bootstrapper.data.bottomOfBodyTrigger,dataDefName:"PO Segment Business",collection:"Global",source:"Manage",priv:"false"},{id:"19655"})},19655)},
-1,-1);Bootstrapper.getServerComponent(Bootstrapper.getExtraParams ? Bootstrapper.getExtraParams() : undefined);}})();

}
/*
     FILE ARCHIVED ON 19:15:27 Aug 07, 2017 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 07:53:03 Apr 30, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 355.108
  exclusion.robots: 0.1
  exclusion.robots.policy: 0.09
  cdx.remote: 0.065
  esindex: 0.008
  LoadShardBlock: 294.173 (3)
  PetaboxLoader3.datanode: 192.98 (5)
  load_resource: 110.391 (2)
  PetaboxLoader3.resolve: 49.135 (2)
*/