!function(e,t,n,o,r){var i="11426",c=t.IntentProperties?t.IntentProperties.namespace||"intent":"blackcrow",a=t.blackcrow||t.intent||{},s=a.SITE_NAME||"hunterfan";a.BUNDLE_NAME="hunterfan.js",a.BUNDLE_NAME="hunterfan.js",a.TAG_SRC=t.blackcrowTagSrc||"JS";var u,l={apps:[{active:!0,app:"TARGET",platforms:[{platform:"FACEBOOK_ADS"},{platform:"GOOGLE_ANALYTICS",tracking_id:"G-08XN30BSWY"},{api_key:"JH6WVV",platform:"KLAVIYO"},{conversion_id:"AW-811719251",platform:"GOOGLE_ADS"},{platform:"PINTEREST"},{platform:"MICROSOFT_ADS"}]}],bundles:[{name:"hunterfan"}],config:{emailFormTracking:{active:!0,platforms:[{name:"klaviyo"}]},events:{view:{fbEventsToIntercept:[{event:"InitiateCheckout",page_id:"checkout"},{event:"AddToCart",page_id:"AddToCart"}]}},shopify:{add_to_cart:{active:!0},checkout:{active:!0}},spa:{refresh:{delay:1e3,enabled:!0}},visitor:{id_name:"_bcai_i",id_source:"cookie",set_info:!0}},facebookAccounts:[{advancedMatching:!0,pixelId:"652693965108110"}],name:"HUNTERFAN",pages:[{ignored:!1,log_purchase:!0,pageName:"confirmation",pattern:"/.*/checkouts/.*/thank_you"},{ignored:!1,log_purchase:!0,pageName:"confirmation",pattern:"/r/purchase/thanks"},{ignored:!1,log_purchase:!1,pageName:"collections.products",pattern:"/collections/.*/product(s)?/"},{ignored:!1,log_purchase:!1,pageName:"collections.other",pattern:"/collections/[A-Za-z0-9]"},{ignored:!1,log_purchase:!1,pageName:"products.other",pattern:"/products/[A-Za-z0-9]"},{ignored:!1,log_purchase:!1,pageName:"products.landing",pattern:"/products"},{ignored:!1,log_purchase:!1,pageName:"blog",pattern:"/blog"},{ignored:!1,log_purchase:!1,pageName:"deals",pattern:"/deals"},{ignored:!1,log_purchase:!1,pageName:"checkout",pattern:"/r/checkout"},{ignored:!1,log_purchase:!1,pageName:"payment",pattern:"/r/pay"},{ignored:!1,log_purchase:!1,pageName:"processing",pattern:"/.*/checkouts/.*/processing"},{ignored:!1,log_purchase:!1,pageName:"payment",pattern:"/.*/checkouts/.*payment_method"},{ignored:!1,log_purchase:!1,pageName:"shipping",pattern:"/.*/checkouts/.*shipping_method"},{ignored:!1,log_purchase:!1,pageName:"checkout",pattern:"/.*/checkouts/"},{ignored:!1,log_purchase:!1,pageName:"orders.other",pattern:"/.*/orders/"},{ignored:!1,log_purchase:!1,pageName:"cart",pattern:"/cart"},{ignored:!1,log_purchase:!1,pageName:"articles",pattern:"/article"},{ignored:!1,log_purchase:!1,pageName:"account",pattern:"/account"},{ignored:!1,log_purchase:!1,pageName:"search",pattern:"/search"},{ignored:!1,log_purchase:!1,pageName:"blogs",pattern:"/blogs"},{ignored:!1,log_purchase:!1,pageName:"pages",pattern:"/pages"},{ignored:!1,log_purchase:!1,pageName:"collections",pattern:"/collections/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"tracker",pattern:"/apps/tracktor"},{ignored:!1,log_purchase:!1,pageName:"tools",pattern:"/tools"},{ignored:!1,log_purchase:!1,pageName:"policies",pattern:"/policies"},{ignored:!1,log_purchase:!1,pageName:"store-locator",pattern:"/store-locator"},{ignored:!1,log_purchase:!1,pageName:"home",pattern:"^https?:\\/\\/([a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?\\.)+[a-z0-9][a-z0-9-]{0,61}[a-z0-9]\\/?([?#]|$)"},{ignored:!1,log_purchase:!1,pageName:"addtocart"},{ignored:!1,log_purchase:!1,pageName:"emailsubmit"},{ignored:!1,log_purchase:!1,pageName:"other"}]};try{var p;t.blackcrow=a,t.intent=a,Array.isArray(a)&&(p=a,a={},t.blackcrow=a,t.intent=a);var f="https://api.blackcrow.ai/",d=function(){var e="init.blackcrow.ai";n.currentScript?e=n.currentScript.src.split("/")[2]:"ShopifyAppExtension"===a.TAG_SRC&&(e="shopify-init.blackcrow.ai");return"https://"+e+"/"}();function _(e,t){var o=n.createElement("link");o.rel=t,o.href=e,n.head.appendChild(o)}"ShopifyAppExtension"===a.TAG_SRC||t.blackcrowpreconnected||(_(f,"preconnect"),_(f,"dns-prefetch"),_(d,"preconnect"),_(d,"dns-prefetch"),t.blackcrowpreconnected=1),function(){var e={6611:function(e,t,n){n.p=d}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var i=o[t]={exports:{}};return e[t](i,i.exports,r),i.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof t)return t}}(),function(){var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e+"../../"}(),function(){"use strict";r(6611);const e="\n";function o(t,n){if("string"==typeof t){const o=t.split(e);return o.splice(1,n),o.join(e)}return""}function u(){return a.TAG_SRC||"JS"}function _(){return"ShopifyAppExtension"===u()}function m(){return _()?t.location.hostname:t.top.location.hostname}function g(){return _()?t.location.href:function(){try{return t.location!==t.top.location}catch(e){return!0}}()?t.top.location.href:t.location.href}function h(){return t?.navigator?.userAgent}function v(e){return performance&&"function"==typeof performance.getEntriesByType&&performance.getEntriesByType(e)||[]}function y(){return performance&&"function"==typeof performance.now&&performance.now()||0}function b(e,n){const o=r.g.browser;_()&&o?o.sendBeacon(e,n):t?.navigator?.sendBeacon(e,n)}const k=["clicktripz","example","partner"],w=[".shopifypreview.","localhost.","demo.","staging.","development-","development.","sp-blackcrow.myshopify.com"],E=["localhost","127.0.0.1"];function S(e){return-1!==k.indexOf(e.toLowerCase())||function(){const e=m();return""===e||E.includes(e)}()||function(){const e=m();let t=!1;return w.forEach((n=>{-1!==e.indexOf(n)&&(t=!0)})),t}()}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";if(S(s))return;const o="https://monitor-api.blackcrow.ai/",r=!1,c=JSON.stringify({message:e,status:n,service:"javascript-api",version:parseInt(i,10)||0,ddsource:"browser",ddtags:"env:"+(r?"dev":"production"),"logger.name":"monitor-api","http.useragent":h(),"view.site":s,...t});b(o,c)}function $(e){if("string"==typeof e.stack&&e.stack)return e.stack;try{throw e}catch(e){return o(e.stack,2)}}function T(e){let t=!0;return e.skipNotify&&(t=!1),-1!==e.message.indexOf("com.gargoylesoftware.htmlunit")&&(t=!1),t}function I(e,n){const o=`BlackCrow${n?` ${n}`:""} ${e.stack}`;t.console&&(t.console.error?t.console.error(o):t.console.log(o))}function N(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;try{e.stack=$(e)}catch(e){}const n=!1;n&&I(e,t.appName),T(e)&&"function"==typeof N.sendErrorToServer&&N.sendErrorToServer(e)}function C(e,t,n){if(e)if(void 0!==e.length){for(let o=0,r=e.length;o<r;o+=1)if(!1===t.call(n,e[o],o,e))return}else{const o=Object.keys(e);for(let r=0,i=o.length;r<i;r+=1)if(!1===t.call(n,e[o[r]],o[r],e))return}}N.sendErrorToServer=function(e){const t=Math.random();(e.overrideSampling||t>=.3&&t<.4)&&A(e.message,{status:e.status||"error","error.kind":e.name,"error.message":e.message,"error.stack":e.stack,"view.url":g(),"view.referrer":n.referrer})},a.error=N;let O="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=e;for(;n--;)t+=O[64*Math.random()|0];return t};function P(e,o){if(_())return t.blackcrow.cookie.get(e);o=o||n.cookie;const r={};return C(o.split(/\s?;\s?/),(e=>{const t=e.split(/\s?=\s?/);r[t.shift().trim()]=t.join("=").trim()})),r[e]}const L="_bcai_h",j="_bcai_i",q="_bcai_e",D="_bcai_vn",B="_bcai_vs",M="_bcai_v",U="_bcai_pu",R="_bcai_lpv",W="_bcai_spv",H="_bcai_em",G="_bcai_fn",F="_bcai_ln",V="_bcai_ph",J="_bcai_koc",z="_bcai_kps",Y="_bcai_pwo_ebc",K="_bcai_otc",X="_bcai_sec",Z="_bcai_ca",Q="_bcai_ebc",ee="_fbc",te="_fbp",ne="__kla_id";let oe;function re(e,o,r){try{let i;if(r){const e=new Date;e.setTime(e.getTime()+60*r*1e3),i=`;expires=${e.toUTCString()}`}else i="";const c=`${e}=${o}${i};domain=${function(){if(oe)return oe;const e=n.location.hostname.split(".");let t,o,r=e.length;if(1===r)oe="";else{for(t=`_bcai_t${(new Date).valueOf()}`;r>2&&(r-=1,o=e.slice(1).join("."),n.cookie=`${t}=${t}; domain=${o}`,t=P(t),n.cookie=`${t}=1; expires=Thu, 01 Jan 1970 00:00:00 GMT; domain=${o}`,t);)e.shift();oe=e.join(".")}return oe}()};path=/`;_()?(browser.cookie.set(c),t.blackcrow.cookie.set(e,o)):n.cookie=c}catch(e){}}const ie=30,ce=1051200;let ae;function se(){return ae||(ae=P(j),ae||(ae=x(),re(j,ae,ce)),ae)}function ue(e){const t=function(e,t){var n,o,r,i,c,a,s,u;for(n=3&e.length,o=e.length-n,r=t,c=3432918353,a=461845907,u=0;u<o;)s=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,r=27492+(65535&(i=5*(65535&(r=(r^=s=(65535&(s=(s=(65535&s)*c+(((s>>>16)*c&65535)<<16)&4294967295)<<15|s>>>17))*a+(((s>>>16)*a&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(s=0,n){case 3:s^=(255&e.charCodeAt(u+2))<<16;case 2:s^=(255&e.charCodeAt(u+1))<<8;case 1:r^=s=(65535&(s=(s=(65535&(s^=255&e.charCodeAt(u)))*c+(((s>>>16)*c&65535)<<16)&4294967295)<<15|s>>>17))*a+(((s>>>16)*a&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}(e||"",108);return t/4294967295}function le(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=se(),n=e.name||"",{force:o,allocations:r}=e,i=ue(`${t}${n}`);if(o)return r.find((e=>e.name===o))?.value;let c=0;const a=[];let s;return C(e.allocations,(e=>{if(a.push({min:c,max:c+e.percent,value:e.value}),c+=e.percent,c>1)throw new Error("Bucket allocation exceeds 100%")})),C(a,(e=>!(i>=e.min&&i<e.max)||(s=e.value,!1))),s}function pe(){return n.referrer}function fe(){return n.title}function de(e,t){const n=t.split("[");return n.length>1?e&&e[n[0]]&&e[n[0]][parseInt(n[1],10)]:e&&e[t]}function _e(e,t){if(e&&t&&"string"==typeof t)return t.split(".").reduce(de,e)}function me(e,t,n,o,r){e&&t&&"string"==typeof t&&(-1!==t.indexOf(".")?me(e,(t=t.split(".")).shift(),n,t,r):o&&0!==o.length?(r&&Object.prototype.hasOwnProperty.call(e,t)||(e[t]=e[t]||{}),me(e[t],o.shift(),n,o,r)):r&&Object.prototype.hasOwnProperty.call(e,t)||(e[t]=n))}function ge(e){function t(){return a.storage[e]}return e&&(a.storage[e]=a.storage[e]||{}),{clear:t=>{"bound_events"===e&&t?function(e,t){const n=a.storage[e].audience,o="object"==typeof n&&!1===t?.audience;a.storage[e]=o?{audience:n}:{}}(e,t):a.storage[e]={}},getAll:()=>t()||{},get:e=>_e(t(),e),set:(e,n)=>{const o=t();"string"==typeof e?me(o,e,n):C(e,((e,t)=>{me(o,t,e)}))},push:(e,n)=>{const o=t(),r=_e(o,e);Array.isArray(r)?r.push(n):me(o,e,[n])}}}a.storage=a.storage||{};const he=ge("page"),ve="history";function ye(e,t){return"function"==typeof t?t.toString().replace(/\s+/g," "):t}function be(){return console.group(`${c} history`),C(he.get(ve),(e=>{console.groupCollapsed(e.name),console.log("data",JSON.stringify(e.data,ye,4)),console.log(e.source),console.groupEnd()})),console.groupEnd(),""}function ke(e,t){const n=new Error("");n.name="source",n.stack=o(n.stack,1),he.push(ve,{name:e,data:t,source:n})}const we=Object.prototype.toString,Ee=Array.prototype.slice;function Se(e){e=e||{};for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return C(n,(t=>{C(t,((t,n)=>{const o=we.call(t).split(" ").pop();if("Undefined]"!==o){if(t&&t!==t.window&&!t.nodeType&&!t._isVue)return"Object]"===o?(e[n]=e[n]||{},void Se(e[n],t)):"Array]"===o?(e[n]=e[n]||[],void(e[n]=Ee.call(e[n]).concat(t))):"NodeList]"===o||"HTMLCollection]"===o?(e[n]=e[n]||[],void(e[n]=Ee.call(e[n]).concat(Ee.call(t)))):void(e[n]=t);e[n]=t}}))}),this),e}function Ae(){const e=t.blackcrow.pushedData;e&&(e.setByFacebookIntercept||e.winLocation!==g())&&(t.blackcrow.pushedData={})}function $e(e){Se(t.blackcrow.pushedData,e,{winLocation:g()})}function Te(e){t.blackcrow.pushedData={...e,winLocation:g()}}function Ie(e){return _e(t.blackcrow.pushedData,e)}t.blackcrow.pushedData=t.blackcrow.pushedData||{};const Ne=ge("events_api_response"),Ce=ge("api_config");function Oe(e){const t=new Error(e);return t.name="SequencingError",t.status="warn",t.stack=o(t.stack,1),t}let xe=!1,Pe=!1;function Le(e,t){if(e){const n=t.get(`data.${e}`);if("string"==typeof n){const e=n.toLowerCase();return"off"!==e&&"false"!==e&&n}return n}return t.get("data")}function je(e){Ce.set("data",e),Pe=!0}function qe(e){return!1===Pe&&a.error(new Oe("Attempting to access apiConfig before it has been set!")),Le(e,Ce)}function De(e){Ne.set("data",e),xe=!0}function Be(e){return!1===xe&&a.error(new Oe("Attempting to access events api response before it has been set!")),Le(e,Ne)}function Me(){return!!Be("history_id")}function Ue(e){const t={};if("string"==typeof e&&e.length){let n=e.split("?");n.shift(),n=n.join("?"),n=n.split("#")[0],C(n.split("&"),(e=>{let n=e;try{n=decodeURIComponent(n)}catch(e){a.error(e)}const o=n.indexOf("="),r=o>0?[n.slice(0,o),n.slice(o+1)]:[n];void 0!==r[1]&&(t[r[0]]=r[1])}))}return t}function Re(e,t){return t?Ue(t)[e]:Ue(g())[e]}const We="config.visitor.query_string";function He(e){const t=function(e){const t=e?_e(e,We):qe(We);return t?{param:t.param,separator:t.separator,index:t.index}:{}}(e),n=function(e){const t=e.param;if(t)return Re(t)}(t);if(n)return function(e,t){const n=t.separator,o=t.index;return n&&o?e.split(n)[o]||void 0:e}(n,t)}let Ge,Fe;function Ve(e){if(Ge)return Ge;const n=Ie("google_id")||He(e)||t.gaGlobal&&t.gaGlobal.vid||function(){let e;const n=t.GoogleAnalyticsObject?t[t.GoogleAnalyticsObject]:t.ga;return n&&"function"==typeof n.getAll&&C(n.getAll(),(t=>{try{const n=t.get("clientId");if(n)return e=n,!1}catch(e){}})),e}()||function(){if(void 0!==Fe)return Fe;let e;const t=P("_ga");if(t){const n=t.split(".");n.shift(),n.shift(),e=n.join(".")}return Fe=e,e}();return Ge=n,n}const Je="pushed_data";let ze,Ye="blackcrow".toUpperCase(),Ke=M,Xe=!1;function Ze(e,t,n){re(M,e,ce),re(B,t,ce),re(D,n,ce)}function Qe(){if(ze)return{id:ze,source:Ye,name:Ke,fallback:Xe};if(ze=P(M),ze)return Ye=P(B)||Ye,Ke=P(D)||Ke,Ze(ze,Ye,Ke),{id:ze,source:Ye,name:Ke,fallback:Xe};const e=qe("config.visitor.id_source"),n=qe("config.visitor.id_name");let o=Ie("visitor_id");if(o&&(Ye=Je.toUpperCase(),Ke="visitor_id"),"cookie"===e){const t=P(n);t&&(o=t,Ye=e.toUpperCase(),Ke=n)}else if("global"===e){const r=_e(t,n);r&&(o=r,Ye=e.toUpperCase(),Ke=n)}else if(e===Je){const t=Ie(n);t&&(o=t,Ye=e.toUpperCase(),Ke=n)}else if("google"===e){const t=Ve();t&&(o=t,Ye=e.toUpperCase(),Ke=n)}return o||(o=se(),Xe=!0),ze=o,Ze(o,Ye,Ke),{id:o,source:Ye,name:Ke,fallback:Xe}}function et(e){(e.overrideSampling||le({name:"error_sampling",allocations:[{percent:.1,value:!0}]}))&&A(e.message,{status:e.status||"error","error.kind":e.name,"error.message":e.message,"error.stack":e.stack,"usr.id":Qe().id,"view.url":Ie("page_url")||g(),"view.referrer":Ie("page_referrer_url")||pe()}),ke(e.name,e)}function tt(){a.error.sendErrorToServer=et}function nt(e){const t={name:"other",major:0,minor:0};if(/googlebot/.test(e)||/adsbot/.test(e)||/bingbot/.test(e)||/bingpreview/.test(e)||/slurp/.test(e)||/storebot/.test(e)||/spider/.test(e)||/crawler/.test(e)||/yandexbot/.test(e)||/ptst[ \/]/.test(e)||/externalhit/.test(e))return t.name="bot",t;const n=/(msie) ([\w.]+)/.exec(e)||/(ucbrowser)[ \/]([\w.]+)/.exec(e)||/(miuibrowser)[ \/]([\w.]+)/.exec(e)||/(opera mini)[ \/]([\w.]+)/.exec(e)||/(opr)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(e)||/(firefox)[ \/]([\w.]+)/.exec(e)||/(trident)(?:.*? rv:([\w.]+))?/.exec(e)||/(edg)[ \/]([\w.]+)/.exec(e)||/(edge)[ \/]([\w.]+)/.exec(e);if(n){"opr"===n[1]?n[1]="opera":"trident"===n[1]?n[1]="msie":"edg"===n[1]&&(n[1]="edge"),t.name=n[1].replace(/\s+/,"");const e=(n[2]||"").split(/\.|-|_/);t.major=parseInt(e[0],10)||0,t.minor=parseInt(e[1],10)||0}return t}function ot(e){return function(e){return!!e.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|tizen.+mobile|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)}(e)?"mobile":function(e){return!!(e.match(/ipad/)||e.match(/android/)&&!e.match(/mobi|mini|fennec/)||e.match(/macintosh/)&&t.navigator.maxTouchPoints>1)}(e)?"tablet":"desktop"}function rt(e){const t=(e=e||"").toLowerCase();return{browser:nt(t),deviceType:ot(t)}}function it(e){const t=new Error(e);return t.name="NotSupportedError",t.status="warn",t.stack=o(t.stack,1),t}function ct(){const e=function(){try{return!new Error("")}catch(e){return e}}();if(e)throw e.name="NotSupportedError",e.status="warn",e.message="Missing feature: errorConstructor",e}function at(e,t){if(!function(){const{browser:e}=rt(h());if("object"==typeof e){const t=e.name,n=e.major;if("bot"===t)return!1;if("msie"===t)return!1;if("edge"===t&&n<15)return!1;if("firefox"===t&&n<54)return!1;if("chrome"===t&&n<42)return!1;if("safari"===t&&n<10)return!1;if("ucbrowser"===t)return!1;if("miuibrowser"===t)return!1;if("opera"===t&&n<38)return!1;if("operamini"===t)return!1}return!0}())throw new it("Browser not supported");(function(e){const t=e?.config?.loadBundleWithShopifyWebPixel??!0;return!_()||t})(e)&&(ct(),t())}function st(e,t,n){if(e){const o=(e.options||{}).origEvent||{};clearTimeout(o.timeout),"function"!=typeof e.callback||o.timeoutReached||(e.callback(t),"function"==typeof n&&n())}}const ut=ge("bound_events"),lt=ge("triggered_events");function pt(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r={appName:e,eventName:t,callback:n,options:o};ut.push(`${e}.${t}`,r),C(lt.get(`${e}.${t}`),(e=>{st(r,e.data,e.onExec)}))}function ft(e,t){const n=new Error(e);return n.name=`${t||""}RequestError`,n.skipNotify=!0,n.stack=o(n.stack,1),n}function dt(e,t,n){return function(){try{for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return e.apply({},r)}catch(e){n&&n.interval&&clearInterval(n.interval),a.error(e,{appName:t})}}}var _t={fn:dt,addListener:function(e,t,n,o){const r=n.wrapped||dt(n,this.appName);n.wrapped=r,e.addEventListener?e.addEventListener(t,r,o):e.attachEvent&&e.attachEvent(t,r)},removeListener:function(e,t,n,o){n?e.removeEventListener(t,n.wrapped,o):e.removeEventListener(t)},setInterval:function(e,t){const n={};for(var o=arguments.length,i=new Array(o>2?o-2:0),c=2;c<o;c++)i[c-2]=arguments[c];const a=setInterval.apply(r.g,[dt(e,this.appName,n),t].concat(i));return n.interval=a,a},setTimeout:function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];return setTimeout.apply(r.g,[dt(e,this.appName),t].concat(o))}};function mt(e,t,n,o){function r(e){"function"==typeof o&&o(e)}fetch(e,t).then((e=>{if(e.ok)"function"==typeof n&&n(e);else{let t=`${e.status} ${e.statusText}`;try{e.json().then((e=>{const n=e.errors[0];t=`${n.error_type}: ${n.error_message}`,r(new Error(t))})).catch((()=>{r(new Error(t))}))}catch(e){r(new Error(t))}}})).catch(r)}function gt(e,t,n,o){function r(n){const r=new ft(n.message,t.servletName);a.error(r,{customDimensions:{url:e}}),"function"==typeof o&&_t.fn(o)(r)}function i(e){"object"==typeof e?"function"==typeof n&&_t.fn(n)(e||{}):r(new Error("JSON is not an object"))}mt(e,t,(function(e){e.json().then(_t.fn(i)).catch((e=>{r(new Error(`Invalid JSON ${e.message}`))}))}),r)}function ht(){const e=Math.round(y());if(!e||e<1)return"0";if(e<10)return"10";let t="0";return C(`${e}`,((e,n)=>{0===n?t=e:t+="0"})),t}const vt=n.documentElement,yt=t.screen,bt=Math.max;function kt(){return bt(t.pageYOffset,vt?.scrollTop)}function wt(e){try{const n=_()?t.blackcrow.localStorage.get(e):t.localStorage.getItem(e);return JSON.parse(n)}catch(e){}return null}function Et(e){try{return JSON.parse(t.sessionStorage.getItem(e))}catch(e){}return null}let St,At,$t,Tt;function It(){if(Tt)return Tt;const e=function(){try{return JSON.parse(t.atob(P(ne))).$exchange_id}catch{return}}();return Tt=e,e}function Nt(e,n){try{n&&(_()?(t.blackcrow.localStorage.set(e,JSON.stringify(n)),browser.localStorage.setItem(e,JSON.stringify(n))):t.localStorage.setItem(e,JSON.stringify(n)))}catch(e){}}function Ct(e){return`${Math.random().toString(36).substring(2,3)}${btoa(e)}`}function Ot(e){return e?atob(e.substring(1)):void 0}function xt(e){try{return n.querySelectorAll(`:is(${e})`)}catch(e){}try{return n.querySelectorAll(`:matches(${e})`)}catch(e){}try{return n.querySelectorAll(`:-webkit-any(${e})`)}catch(e){}try{return n.querySelectorAll(`:-moz-any(${e})`)}catch(e){return[]}}function Pt(e){_t.addListener(t,"message",(t=>{if(t.origin&&t.origin.indexOf(".attn.tv")>0){const n=t.data.__attentive||{};n&&n.email&&e(n.email)}}))}function Lt(e){const t=n.getElementById("continue_button"),o=n.querySelectorAll("input[type=email]");t&&o&&_t.addListener(t,"click",(()=>{e(o[0]&&o[0].value)}))}function jt(){return _e(t,"ShopifyCustomer.email")||_e(t,"Shopify.checkout.email")||_e(t,"Shopify.Checkout.customer.email")}function qt(){return _e(t,"userProperties.email")}function Dt(){const e=_e(t,"_learnq");if(e&&"function"==typeof e.identify)return e.identify().$email}function Bt(e){if(e)return e.trim()}function Mt(e){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(e)}function Ut(e){const t=Bt(e);return t&&Mt(t)?t:void 0}function Rt(e){const t=Ut(e);return t?Ct(t):void 0}function Wt(e){const t=Rt(e);t&&Nt(H,t)}function Ht(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};e.value&&t(e.value)}function Gt(e){return function(e,t){let n=e.textContent||e.innerText;return n&&(n=n.toLowerCase()),n&&-1!==n.indexOf(t.toLowerCase())}(e,"email")}function Ft(e){return Array.from(e).filter((e=>function(e){if(e.labels){if(Array.from(e.labels).some((e=>Gt(e))))return!0}else if(e.id&&Array.from(n.getElementsByTagName("label")).some((t=>t.htmlFor===e.id&&Gt(t))))return!0;if(e.parentNode){const t=e.parentNode;return"label"===t.tagName.toLowerCase()&&Gt(t)}return!1}(e)))}const Vt='input[type="email"], input[autocomplete~="email"], input[placeholder~="email" i], input[type="text"][id*="email" i], input[type="text"][name*="email" i]';function Jt(){let e=xt(Vt);if(!e.length){const t=n.querySelectorAll('input[type="text"]');t.length&&(e=Ft(t))}return e}function zt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};const n=Jt();C(n,(t=>{Ht(t,e)})),_t.addListener(t,"focusout",(t=>{const o=t.target;if(o.matches(Vt)||Array.isArray(n)&&n.includes(o)){const t=o.value;t&&e(t)}}))}function Yt(){const e=wt(H)||P(H);return e?Ot(e):void 0}function Kt(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function Xt(e,t,n,o,r,i){return Kt((c=Kt(Kt(t,e),Kt(o,i)))<<(a=r)|c>>>32-a,n);var c,a}function Zt(e,t,n,o,r,i,c){return Xt(t&n|~t&o,e,t,r,i,c)}function Qt(e,t,n,o,r,i,c){return Xt(t&o|n&~o,e,t,r,i,c)}function en(e,t,n,o,r,i,c){return Xt(t^n^o,e,t,r,i,c)}function tn(e,t,n,o,r,i,c){return Xt(n^(t|~o),e,t,r,i,c)}function nn(e){return function(e){var t,n="",o=32*e.length;for(t=0;t<o;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}(function(e,t){var n,o,r,i,c;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var a=1732584193,s=-271733879,u=-1732584194,l=271733878;for(n=0;n<e.length;n+=16)o=a,r=s,i=u,c=l,a=Zt(a,s,u,l,e[n],7,-680876936),l=Zt(l,a,s,u,e[n+1],12,-389564586),u=Zt(u,l,a,s,e[n+2],17,606105819),s=Zt(s,u,l,a,e[n+3],22,-1044525330),a=Zt(a,s,u,l,e[n+4],7,-176418897),l=Zt(l,a,s,u,e[n+5],12,1200080426),u=Zt(u,l,a,s,e[n+6],17,-1473231341),s=Zt(s,u,l,a,e[n+7],22,-45705983),a=Zt(a,s,u,l,e[n+8],7,1770035416),l=Zt(l,a,s,u,e[n+9],12,-1958414417),u=Zt(u,l,a,s,e[n+10],17,-42063),s=Zt(s,u,l,a,e[n+11],22,-1990404162),a=Zt(a,s,u,l,e[n+12],7,1804603682),l=Zt(l,a,s,u,e[n+13],12,-40341101),u=Zt(u,l,a,s,e[n+14],17,-1502002290),a=Qt(a,s=Zt(s,u,l,a,e[n+15],22,1236535329),u,l,e[n+1],5,-165796510),l=Qt(l,a,s,u,e[n+6],9,-1069501632),u=Qt(u,l,a,s,e[n+11],14,643717713),s=Qt(s,u,l,a,e[n],20,-373897302),a=Qt(a,s,u,l,e[n+5],5,-701558691),l=Qt(l,a,s,u,e[n+10],9,38016083),u=Qt(u,l,a,s,e[n+15],14,-660478335),s=Qt(s,u,l,a,e[n+4],20,-405537848),a=Qt(a,s,u,l,e[n+9],5,568446438),l=Qt(l,a,s,u,e[n+14],9,-1019803690),u=Qt(u,l,a,s,e[n+3],14,-187363961),s=Qt(s,u,l,a,e[n+8],20,1163531501),a=Qt(a,s,u,l,e[n+13],5,-1444681467),l=Qt(l,a,s,u,e[n+2],9,-51403784),u=Qt(u,l,a,s,e[n+7],14,1735328473),a=en(a,s=Qt(s,u,l,a,e[n+12],20,-1926607734),u,l,e[n+5],4,-378558),l=en(l,a,s,u,e[n+8],11,-2022574463),u=en(u,l,a,s,e[n+11],16,1839030562),s=en(s,u,l,a,e[n+14],23,-35309556),a=en(a,s,u,l,e[n+1],4,-1530992060),l=en(l,a,s,u,e[n+4],11,1272893353),u=en(u,l,a,s,e[n+7],16,-155497632),s=en(s,u,l,a,e[n+10],23,-1094730640),a=en(a,s,u,l,e[n+13],4,681279174),l=en(l,a,s,u,e[n],11,-358537222),u=en(u,l,a,s,e[n+3],16,-722521979),s=en(s,u,l,a,e[n+6],23,76029189),a=en(a,s,u,l,e[n+9],4,-640364487),l=en(l,a,s,u,e[n+12],11,-421815835),u=en(u,l,a,s,e[n+15],16,530742520),a=tn(a,s=en(s,u,l,a,e[n+2],23,-995338651),u,l,e[n],6,-198630844),l=tn(l,a,s,u,e[n+7],10,1126891415),u=tn(u,l,a,s,e[n+14],15,-1416354905),s=tn(s,u,l,a,e[n+5],21,-57434055),a=tn(a,s,u,l,e[n+12],6,1700485571),l=tn(l,a,s,u,e[n+3],10,-1894986606),u=tn(u,l,a,s,e[n+10],15,-1051523),s=tn(s,u,l,a,e[n+1],21,-2054922799),a=tn(a,s,u,l,e[n+8],6,1873313359),l=tn(l,a,s,u,e[n+15],10,-30611744),u=tn(u,l,a,s,e[n+6],15,-1560198380),s=tn(s,u,l,a,e[n+13],21,1309151649),a=tn(a,s,u,l,e[n+4],6,-145523070),l=tn(l,a,s,u,e[n+11],10,-1120210379),u=tn(u,l,a,s,e[n+2],15,718787259),s=tn(s,u,l,a,e[n+9],21,-343485551),a=Kt(a,o),s=Kt(s,r),u=Kt(u,i),l=Kt(l,c);return[a,s,u,l]}(function(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var o=8*e.length;for(t=0;t<o;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}(e),8*e.length))}function on(e){return nn(unescape(encodeURIComponent(e)))}function rn(e){return function(e){var t,n,o="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=o.charAt(t>>>4&15)+o.charAt(15&t);return r}(on(e))}function cn(e){return(qe("experiments")||[]).find((t=>t.name===e))||{}}const an={checkout_abandonment:"ca",klaviyo_overlay:"ko",sticky_call_to_action:"pb"};function sn(e){const t=cn(e);if(!t.name)return t;const n=Ue(g());return{name:t.name,active:t.active,data:function t(o,r){if(!o)return o;const i=Array.isArray(o)?[]:{};let c;return Object.keys(o).forEach((a=>{const s=r?`${r}_${a}`:a;c=function(t,o){let r,i;if(Array.isArray(t)&&t.length&&t[0].value&&"number"==typeof t[0].percent)r=`${e}_${o}`,i=t;else if(t.allocations){const n=t.name||o;r=`${e}_${n}`,i=t.allocations}if(r&&i){const c=an[e]||e,a=t.short_name||o;return le({name:r,allocations:i,force:n[`bcai_${c}_${a}`]})}return t}(o[a],s),i[a]="object"==typeof c?t(c,s):c})),i}(t.data)}}const un=e=>()=>Ie(e)||Et(e)||wt(e)||P(e),ln=e=>()=>P(e),pn=(e,t)=>{let n;return()=>(n=n||t(),{platform:e,id:n})},fn=pn("fa",(function(){if(St)return St;const e=Ie("facebook_id")||function(){if(void 0!==At)return At;let e;const t=P(te);if(t){const n=t.split(".");n.shift(),n.shift(),e=n.join(".")}return At=e,e}();return St=e,e})),dn=pn("ga",Ve),_n=pn("cdp",un("cdp_id")),mn=pn("shop_cid",(function(){if($t)return $t;const e=function(){const e=_e(t,"Shopify.checkout.customer_id")||_e(t,"ShopifyAnalytics.meta.page.customerId")||_e(t,"__st.cid");if(e)return e.toString()}();return $t=e,e})),gn=pn("shop_aid",ln("_shopify_y")),hn=pn("kl_cid",It),vn=pn("attv_cid",ln("__attentive_id")),yn=pn("ju_cid",(function(){return t?.ju_config?.ju_vid})),bn=pn("bx_hid",(function(){return t?.bouncex?.cookie?.hardID})),kn=pn("bx_sid",(function(){return t?.bouncex?.cookie?.softID})),wn=pn("tab_cid",un("taboola global:user-id")),En=pn("bc_cid",ln(j)),Sn=pn("_bc_i",se),An=pn("_bt_uid",ln("tag_user_id")),$n=pn("_bc_em",(function(){const e=sn("pwo_additional_context")?.active;if(e){const e=Yt();if(e)return rn(`${e}bcai${s}`)}}));let Tn;function In(){return Tn||P(L)||void 0}function Nn(){const e=In()?.split("_",3);if(e)return{page_correlation_id:e[0],session_id:e[1]};a.error(new Oe("Attempted to parse historyId before it has been set!"))}const Cn=ge("page"),On={page:{ignored:!1,log_purchase:!1}};function xn(e){return{page:{ignored:e.ignored,log_purchase:e.log_purchase}}}function Pn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Ie("page_id"),o=On;void 0!==n&&e?C(e.filter((e=>e.pageName)),(e=>{if(e.pageName===n)return o=xn(e),!1})):void 0===n&&e&&C(e.filter((e=>e.pattern)),(e=>{try{const r=t.match(e.pattern);if(r){if(n=e.pageName,o=xn(e),r.length>1)for(let e=1;e<r.length;e+=1)n=n.replace(`$${e}`,r[e]);return!1}}catch(e){}})),n||(n="other");const r=Cn.get("lastUrl"),i=Cn.get("lastId"),c=n!==i||t!==r;return Cn.set("lastUrl",t),Cn.set("lastId",n),{id:n,config:o,isNewPage:c,currentUrl:t,lastUrl:r}}function Ln(){return Cn.get("lastId")}let jn={};function qn(e){jn=e}function Dn(e,t,n){const o={};return C(jn,((r,i)=>{"function"==typeof r?o[i]=r(e[i],t,n):void 0!==r&&(o[i]=r)})),o}function Bn(){const e={},n=_e(t,"Shopify.checkout");if(n&&(Se(e,{event_id:n.order_id,total_price:n.total_price,currency:n.presentment_currency,shipping_method:n.shipping_rate&&n.shipping_rate.title,shipping_price:n.shipping_rate&&n.shipping_rate.price,cart:n.line_items&&n.line_items.map((e=>({id:e.product_id,price:e.price,quantity:e.quantity,categories:[e.title],msrp:e.line_price,color:e.variant_title,brand:e.vendor})))}),n.discount)){const t=n.discount;Se(e,{discounts:[{code:t.code,discount_amount:t.amount,discount_currency:n.currency,discount_percent:t.rate,applicable:t.applicable,reason:t.reason}]})}return e}const Mn=le({name:"performance_sampling",allocations:[{percent:.1,value:!0}]});function Un(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:`${d}js/core/`;try{const t=v("resource").find((t=>t.name.includes(e)));return t&&t.startTime}catch(e){return void a.error(new it("Unable to get start time: Browser does not support PerformanceResourceTiming interface"))}}function Rn(){try{const e=v("resource").find((e=>e.name.includes(`${d}js/core/`)));if(e){const{name:t}=e;if(t.includes("shopify-init"))return"SHOPIFY";if(t.includes("source=gtm"))return"GTM"}return"JS"}catch(e){return void a.error(new it("Unable to get start time: Browser does not support PerformanceResourceTiming interface"))}}function Wn(){const e=Un(),t=Rn();if(e&&"GTM"===t){const t=function(){try{const e=v("resource").find((e=>e.name.includes("gtm.js")));return e&&e.startTime}catch(e){return void a.error(new it("Unable to get start time: Browser does not support PerformanceResourceTiming interface"))}}();if(t){return e-t}}}function Hn(){if(Mn){const e=Un(),t=Rn()||"unknown",n="GTM"===t?Wn()||"unknown":"N/A";e&&A(`Initial script load after ${e} ms`,{"script.start_time":e,"script.load_method":t,"script.time_since_gtm_start":n,"view.url":Ie("page_url")||g(),"view.referrer":Ie("page_referrer_url")||pe()})}}function Gn(){if(Mn){const e=function(){try{const e=v("resource").find((e=>e.name.includes(`${f}v1/events/view`)));return e&&e.startTime}catch(e){return void a.error(new it("Unable to get time to view request: Browser does not support PerformanceResourceTiming interface"))}}()-Un();e&&A(`Time to initiate view request: ${e} ms`,{"script.time_to_view":e,"view.url":Ie("page_url")||g(),"view.referrer":Ie("page_referrer_url")||pe()})}}const Fn={VIEW:"view",PURCHASE:"purchase",DELAYED_PURCHASE:"delayed_purchase",BAD_ACTOR_TIMEOUT:"bad_actor_timeout",BAD_ACTOR_BEFOREUNLOAD:"bad_actor_beforeunload",PWO_IMPR:"pwo_impression",PWO_EMAIL_LEAD:"pwo_email_lead",PWO_SMS_LEAD:"pwo_sms_lead",PWO_CLOSE:"pwo_close",PWO_OPEN_ATTEMPT:"pwo_open_attempt",PWO_DECISION:"pwo_decision",CA_CART_CHECKOUT:"ca_cart_checkout",CA_PAYMENT:"ca_payment",CA_SHIPPING_EXIT:"ca_shipping_exit",CA_TEST:"ca_test",DEVICE_MOTION:"device_motion",DISCOUNT_APPLIED:"discount_applied",DISCOUNT_INTERACTION:"discount_interaction",MARKETING_CHECKOUT_EVENT:"marketing_checkout_event",KLAVIYO_OPEN:"klv_open",KLAVIYO_CLOSE:"klv_close",KLAVIYO_LEAD:"klv_lead",KLAVIYO_SPLIT:"klv_split",PRED_WELCOME_PLATFORM_LOADED:"pred_welcome_platform_loaded",OUT_OF_STOCK:"out_of_stock",PAYMENT_METHOD_CLICK:"payment_method_click",HEADER_CLICK:"header_click",PREDICTIVE_BUTTON:"predictive_button",PREDICTIVE_BUTTON_DECISION:"predictive_button_decision",PRED_WELCOME_DECISION:"pred_welcome_decision",EXIT_INTENT:"exit_intent",RB_ACTIVE:"rb_active",PRED_WELCOME_OPEN_ATTEMPT:"pred_welcome_open_attempt",PRED_WELCOME_OPEN_LISTENER_SET:"pred_welcome_open_listener_set"};function Vn(){return{api_client_type:"JS",api_client_version:i,api_client_source:u()}}function Jn(e){const t=Ie(`custom_${e}`);return"object"==typeof t?Array.isArray(t)?String(t):JSON.stringify(t):t}function zn(e){e=e||{};for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return C(n,(t=>{C(t,((t,n)=>{(t||0===t||!1===t)&&(e[n]=t)}))})),e}function Yn(){return{coupon:Ie("coupon"),shipping_method:Ie("shipping_method"),shipping_price:Ie("shipping_price"),total_price:Ie("total_price"),zip_code:Ie("zip_code"),custom_1:Jn(1),custom_2:Jn(2),custom_3:Jn(3),custom_4:Jn(4),custom_5:Jn(5),custom_6:Jn(6),custom_7:Jn(7),custom_8:Jn(8),custom_9:Jn(9),custom_10:Jn(10),traffic_groups:Ie("traffic_groups"),partner_controlled_experiments:Ie("partner_controlled_experiments"),referrer_source:Ie("referrer_source"),referrer_medium:Ie("referrer_medium"),referrer_campaign:Ie("referrer_campaign"),referrer_term:Ie("referrer_term"),cart:Ie("cart"),currency:Ie("currency"),is_logged_in_user:Ie("user_is_logged_in"),user_has_subscription:Ie("user_has_subscription")}}function Kn(e){const n=Qe();return{metadata:Vn(),build:i,site_name:s,custom_dimensions:Ie("custom_dimensions"),device_info:h(),device_width:_()?t.outerWidth:yt?.width,device_height:_()?t.outerHeight:yt?.height,page_id:e,page_url:Ie("page_url")||g(),page_referrer_url:Ie("page_referrer_url")||pe(),page_title:Ie("page_title")||fe(),page_time:ht(),visitor_id:n.id,internal_id:se(),member_id:Ie("member_id"),history_id:In(),user_identifiers:[fn(),dn(),_n(),mn(),gn(),hn(),vn(),wn(),En(),Sn(),yn(),bn(),kn(),An(),$n()],user_metadata:{visitor_id:{source:n.source,name:n.name,fallback_used:n.fallback}},bundle_load_start:Un(),attr:{nb:{active:!!t.Northbeam},tw:{active:!!t.TriplePixel},bt:{active:!!t.edgetag}}}}function Xn(e){return!e||["view","purchase","delayed_purchase"].includes(e)}function Zn(e){return!e||["view","purchase"].includes(e)}function Qn(e){return!e||"purchase"===e}const eo={travel:function(e){return{destination_airport:e.destination_airport,destination_city:e.destination_city,destination_country:e.destination_country,destination_state:e.destination_state,end_date:e.end_date,lodging_id:e.lodging_id,origin_airport:e.origin_airport,rooms:e.rooms,start_date:e.start_date,travelers:e.travelers}}};function to(){const e={};return C(eo,((t,n)=>{const o=Ie(`${n}`);o&&(e[n]=t(o))})),e}function no(e){["custom_dimensions","event_id"].forEach((t=>{void 0===e[t]&&(e[t]="")}))}function oo(e){return[Fn.PWO_DECISION,Fn.PWO_OPEN_ATTEMPT,Fn.PWO_IMPR,Fn.PWO_EMAIL_LEAD,Fn.PWO_SMS_LEAD,Fn.PWO_CLOSE].includes(e)}let ro={},io={};function co(){io={},ro={}}function ao(e){return io[e]||0}function so(e,t){const n=Date.now(),o=function(e,t){return e.startsWith("datalayer-")||[Fn.PREDICTIVE_BUTTON,Fn.KLAVIYO_OPEN].includes(e)?"":t-(ro[e]||0)<500?"debounce":""}(e,n)||function(e){let t=!1;const n="view"===e?1:qe(`config.events.${e}.dedupe.limit_per_page`);return n&&(t=ao(e)>=n),t?"limit_per_page":""}(e)||function(e,t,n){let o="";const r=t.event_id,i=qe(`config.events.${e}.dedupe.time_threshold`);if(r||i){const t=wt(q)||{},c=t[e]||{};i&&n-(c.time||0)<parseInt(i,10)&&(o="time_threshold"),!o&&r&&r===c.id&&(o="repeat_id"),o||(t[e]={time:n,id:r},Nt(q,t))}return o}(e,t,n);return o||(io[e]=ao(e)+1,ro[e]=n),o}const uo="EventsAPI",lo=8192;function po(e){return new Blob([e]).size}function fo(e,t,n,o){let r=`${f}v1/events/${e}?`;S(s)&&(r=`https://api.sandbox.blackcrow.ai/v1/events/${e}?`);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.page_id||Ln();let o=Kn(n);return Xn(e)&&(o={...o,...Yn()},Se(o,to(),Bn())),Qn(e)&&void 0===o.purchase_type&&(o.purchase_type=""),oo(e)&&(o={...o,...t}),no(o),C(o,((e,n)=>{void 0!==t[n]&&(o[n]=t[n])})),Zn(e)||Se(o,{custom_dimensions:Nn()}),zn({},o,Dn(o,e,n))}(e,t),c=so(e,i);if(c)return void a.error(new ft(`Duplicate ${e}: ${c}`,uo));const u=JSON.stringify(i);po(u)>lo&&a.error(new ft(`Body for event ${e} exceeds 8192 bytes`),uo);const l={servletName:uo,method:"POST",cache:"no-cache",body:u};ke(`request: ${e}`,{body:u}),gt(r,l,n,o)}const _o="start",mo="session",go="set",ho="extend",vo="refresh",yo="partner_event",bo="view",ko="view_response",wo="purchase",Eo="scores_update",So="pwo_impression",Ao="pwo_email_lead",$o="pwo_sms_lead",To="pwo_close",Io="pwo_open_attempt",No="overrides",Co="clear_overrides",Oo="discount_applied",xo="discount_interaction",Po="out_of_stock",Lo="ca_cart_checkout",jo="ca_payment",qo="ca_shipping_exit",Do="payment_method_click",Bo="predictive_button",Mo="exit_intent",Uo="rb_active",Ro="add_to_cart",Wo="initiate_checkout",Ho=["purchase","referral","call","update_account"],Go=["purchase","referral","call"];function Fo(e){let t=e.trigger;const n=e.data||{};"call"===t&&(n.purchase_type="call"),-1!==Go.indexOf(t)&&(t=Fn.PURCHASE),fo(t,n)}const Vo=ge("bound_events"),Jo=ge("triggered_events");function zo(e,n,o,r){(r=r||{}).noCache||Jo.push(`${e}.${n}`,{data:o,onExec:r.onExec});C(Vo.get(`${e}.${n}`),(e=>{st(e,o,r.onExec)})),r.postMessage&&function(e){let{appName:n,eventName:o,data:r,sendFn:i}=e;const s={namespace:c,app_name:n,event_name:o,data:r};if(i)i(s,"*");else try{t.top.postMessage(s,"*")}catch(e){if(!(e instanceof DataCloneError))throw e;a.error(new it("Attempting to post invalid message object"))}}({appName:e,eventName:n,data:o})}function Yo(e){if(!e)return;const t=e.app_name||"platform",n=e.data,o=e.trigger;if(o)return ke(`trigger: ${o}`,e),void(o===ho?$e(n):o===go?Te(n):(r=o,-1!==Ho.indexOf(r)?zo(t,yo,e):zo(t,o,n)));var r;const i=e.bind;if(i)return ke(`bind: ${i}`,e),void pt(t,i,e.callback,{origEvent:e});ke("unrecognized",e)}function Ko(){C(p,(e=>{Yo(e)}))}function Xo(){return a.postMessageEventListener&&_t.removeListener(t,"message",a.postMessageEventListener),a.postMessageEventListener=e=>{const t=e.data||{};t.namespace===c&&(ke(`trigger: ${t.event_name}`,t.data),zo(t.app_name||"platform",t.event_name,t.data))},_t.addListener(t,"message",a.postMessageEventListener),Yo}function Zo(){Xo(),a.push=Yo,a.history=be}function Qo(e){return e?_e(t.IntentProperties,e):t.IntentProperties}function er(){const e=Qo();if(e){const t={page_id:e.page_id,visitor_id:e.visitor_id||e.publisher_user_id,member_id:e.member_id,user_is_logged_in:e.is_logged_in_user,user_has_subscription:e.user_has_subscription,page_url:e.page_url,page_referrer_url:e.page_referrer_url,page_title:e.page_title,referrer_source:e.referrer_source,site_currency:e.site_currency,site_country:e.site_country,site_language:e.site_language,site_name:e.site_name,traffic_groups:e.traffic_groups,custom_1:e.site_custom_1,custom_2:e.site_custom_2,custom_3:e.site_custom_3,custom_4:e.site_custom_4,custom_5:e.site_custom_5,custom_6:e.site_custom_6,custom_7:e.site_custom_7};e.cart&&(t.cart=e.cart),e.travel&&(t.travel=Se({},{start_date:e.travel.start_date,end_date:e.travel.end_date,origin_airport:e.travel.origin_airport,destination_airport:e.travel.destination_airport,travelers:e.travel.travelers})),Yo({trigger:ho,data:t})}}const tr=ge("bound_events"),nr=ge("triggered_events");function or(){const e=_e(t,"Shopify.checkout.total_tax");if(e)return e;const o=n.querySelectorAll("[data-checkout-total-taxes-target]");if(o.length){return o[0].textContent.startsWith("$")?o[0].textContent.trim().substring(1):o[0].textContent.trim()}return"0.00"}function rr(e){/complete|interactive|loaded/.test(n.readyState)?e():_t.addListener(n,"DOMContentLoaded",(()=>{e()}))}function ir(){return Se({},function(){const e=n.getElementById("shopify-pay-alternate-title");if(_e(t,"ShopifyPay")&&e)return{custom_dimensions:{payment_type:"shop-pay"}};if(_e(t,"Shopify.checkout")){const e=n.getElementsByClassName("payment-icon");if(e.length&&e[0].textContent)return{custom_dimensions:{payment_type:e[0].textContent.trim()}}}}(),{custom_dimensions:{tax_amount:t.Shopify?or():void 0},total_price:t.cart_json?.total_price})}function cr(){t.IntentProperties&&$e({total_price:Qo("total_price"),coupon:Qo("coupon"),shipping_method:Qo("shipping_method"),shipping_price:Qo("shipping_price"),zip_code:Qo("zip_code")}),re("_bcai_up",!0,ce),fo(Fn.PURCHASE,ir())}function ar(e){_t.addListener(t,"message",(t=>{if(t.origin&&t.origin.indexOf(".attn.tv")>0){const n=t.data.__attentive||{};n&&n.phone&&e(`+1${n.phone}`)}}))}function sr(e){const t=n.getElementById("continue_button"),o=n.querySelectorAll("input[type=tel]");t&&o&&_t.addListener(t,"click",(()=>{if(o[0]){const t=o[0].value;e(t)}}))}function ur(){return _e(t,"Shopify.checkout.phone")}function lr(){const e=_e(t,"_learnq");if(e&&"function"==typeof e.identify)return e.identify().$phone}function pr(e){const t=function(e){let t=e.match("\\+")?e:`+1${e}`;return t=t.replace(/^(\+)|\D/g,"$1"),t}(e);return function(e){return new RegExp(/^\+\d{10,14}$/g).test(e)}(t)?Ct(t):void 0}function fr(e){const t=pr(e);t&&Nt(V,t)}function dr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};e.value&&t(e.value)}const _r='input[type="tel"], input[autocomplete~="tel"], input[type="text"][id*="phone" i], input[type="text"][name*="phone" i]';function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};const t=xt(_r);C(t,(t=>{dr(t,e)})),_t.addListener(n,"focusout",(t=>{const n=t.target;if(n.matches(_r)){const t=n.value;t&&e(t)}}))}function gr(){const e=wt(V)||P(V);return e?Ot(e):void 0}function hr(){!function(e){const t=n.getElementById("continue_button"),o=n.getElementById("checkout_shipping_address_first_name"),r=n.getElementById("checkout_shipping_address_last_name");t&&o&&r&&_t.addListener(t,"click",(()=>{e(o.value,r.value)}))}(((e,t)=>{Nt(G,Ct(e)),Nt(F,Ct(t))}))}function vr(){const e=wt(G);return e?Ot(e):void 0}function yr(){const e=wt(F);return e?Ot(e):void 0}function br(e,t){const o=n.createElement(e);return Object.keys(t).forEach((e=>{o[e]=t[e]})),o}function kr(e,t){let n=encodeURIComponent(e);return t&&(n=n.replace(/%2C/g,",")),n}function wr(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=[];return C(e,((e,o)=>{if(null!=e&&""!==e){const r=typeof e;"function"===r?e=e.name:"object"===r&&(e=Array.isArray(e)?e.toString():JSON.stringify(e)),n.push(`${kr(o,t)}=${kr(e,t)}`)}})),n.join("&")}function Er(e){const t=Object.keys(e).map((t=>function(e){if(!e||!crypto||!crypto.subtle||"function"!=typeof crypto.subtle.digest)return Promise.resolve(void 0);const t=(new TextEncoder).encode(e);return crypto.subtle.digest("SHA-256",t).then((e=>Array.from(new Uint8Array(e)))).then((e=>e.map((e=>e.toString(16).padStart(2,"0"))).join("")))}(e[t]).then((n=>{e[t]=n}))));return Promise.all(t).then((()=>Se({},e)))}function Sr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];try{return e()}catch(i){return n?_t.setTimeout((()=>Sr(e,t,n-1,r?2*o:o,r)),o):t(i)}}function Ar(){const e=gr();return Se({},{em:Yt(),ph:e&&e.replace(/\D/g,""),fn:vr(),ln:yr()})}function $r(e,t,n){let o=`https://www.facebook.com/tr?id=${e}&ev=${t}`;return Er(Ar()).then((e=>{C(e,((e,t)=>{o+=`&ud[${t}]=${e}`}))})).then((()=>{C(n,((e,t)=>{o+=`&cd[${t}]=${e}`}));const e=P(te);return e&&(o+=`&fbp=${e}`),o}))}function Tr(e,t,o,r){return $r(e,t,o).then((e=>{e+="&",e+=wr({dl:g(),rl:n.referrer}),Sr((()=>{mt(e,{method:"GET"},r,(e=>{throw e}))}),(e=>a.error(new Error(`facebook_ads api call failed with message ${e.message}`))),9,300,!0)}))}const Ir="measure";function Nr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"|";return e.filter((e=>null!=e&&""!==e)).join(t)}function Cr(e){const t=Number(e);return isNaN(t)?e:t}function Or(e){const t=`${e}`;return 1===t.length?`0${t}`:t}function xr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e)return`${e.getFullYear()}${t}${Or(e.getMonth()+1)}${t}${Or(e.getDate())}`}function Pr(){return t.ShopifyAnalytics&&t.ShopifyAnalytics.lib&&t.ShopifyAnalytics.lib.config&&t.ShopifyAnalytics.lib.config["Facebook Pixel"]&&t.ShopifyAnalytics.lib.config["Facebook Pixel"].conversionsAPIEnabled}const Lr="Integration not available";let jr=0;function qr(){return jr+=1,jr}function Dr(e,t){return"string"==typeof e&&"string"==typeof t?0===e.localeCompare(t,void 0,{sensitivity:"accent"}):e===t}function Br(e){if(e){const t=qe("apps")||[];if(t)return t.find((t=>Dr(t.app,e)))||{}}return{}}function Mr(e){const t=Br(e).platforms||[],n=[];return t.forEach((e=>{n.push(e.platform.toLowerCase())})),n}function Ur(e,t){if(e&&t){const n=Br(e);if(n){return(n.platforms||[]).find((e=>Dr(e.platform,t)))||{}}}return{}}function Rr(e){return e&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PWO",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["formBuckets","overlayBuckets","overlayBuckets_triggerBuckets","overlayBuckets_triggerBuckets_formBuckets"];if(null==e?.overlaySetting)return e;const o=Ue(g());function r(e,r){let i,c;if(Array.isArray(e)&&e.length){const o=JSON.parse(JSON.stringify(e));"number"!=typeof o[0].percent&&n.includes(r)&&(o[0].percent=1),"number"==typeof o[0].percent&&(i=`${t}_${r}`,c=o.map((e=>({percent:e.percent,value:{...e}}))))}if(i&&c){const n=t,a=e.short_name||r;return le({name:i,allocations:c,force:o[`bcai_${n}_${a}`]})}return e}function i(e,t){if(null==e)return e;const n=Array.isArray(e)?[]:{};let o;return Object.keys(e).forEach((c=>{const a=t?`${t}_${c}`:c;o=r(e[c],a),n[c]="object"==typeof o?i(o,a):o})),n}return{...e,overlaySetting:i(e.overlaySetting)}}(Br(e),e).overlaySetting||{}}function Wr(e){return e&&Br(e).identitySetting||{}}function Hr(e){const t=new Error(e);return t.name="GlobalInterfaceError",t.status="warn",t.stack=o(t.stack,1),t}function Gr(){var e,o,r,i,c,a;o=n,r="script",(e=t).fbq||(i=e.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},e._fbq||(e._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(c=o.createElement(r)).async=!0,c.src="https://connect.facebook.net/en_US/fbevents.js",(a=o.getElementsByTagName(r)[0]).parentNode.insertBefore(c,a))}function Fr(e){return t=>{t.message===Lr?a.error(new Hr(e)):a.error(t)}}const Vr="facebook_ads",Jr="trackCustom";function zr(e,n){t.fbq("init",e,n),li({location:"init"},"FB init event not sent")}function Yr(e){if("function"!=typeof t.fbq||"function"!=typeof t.fbq.getState)throw new Error(Lr);if("function"==typeof t.fbq.getState().then)t.fbq.getState().then((t=>{let{pixels:n}=t;n&&n.length>0&&e(n)}));else{if(!(t.fbq.getState().pixels&&t.fbq.getState().pixels.length>0))throw new Error(Lr);e(t.fbq.getState().pixels)}}function Kr(){return qe("facebookAccounts")||[]}function Xr(e){return void 0===e?Pr():e}function Zr(){return Nr([c,"validation"])}function Qr(e){e.forEach((e=>{const t=e.pixelId,n=e.advancedMatching;if(t){const e=Xr(n)?Ar():{};_()?Tr(t,Zr(),e):zr(t,e)}}))}function ei(e,n){Gr();const o=Kr();Sr((()=>{if("function"!=typeof t.fbq)throw new Error(Lr);o.length?Qr(o):Yr((e=>{e.forEach((e=>{Xr()&&zr(e.id,Ar())}))})),n()}),Fr("facebook_ads globals not found"))}function ti(e,t,n){return function(){"function"==typeof e&&e(Vr,{eventName:t,eventObject:n})}}function ni(e,t,n,o){const r=ti(o,t,n),i=Kr();i.length&&i.forEach((e=>{Tr(e.pixelId,t,n,r)}))}function oi(e,n,o,r){const i=ti(r,n,o);Yr((()=>{t.fbq(Jr,n,o),i()}))}function ri(e,t){Kr().forEach((o=>{const r=o.pixelId;r&&function(e,t,o){$r(e,t,o).then((e=>{const t=br("img",{width:1,height:1,src:e});t.style.display="none",n&&n.body&&"function"==typeof n.body.append&&n.body.append(t)}))}(r,e,t)}))}function ii(e,t,n,o){return r=>(ri(e,t),"function"==typeof o&&o("facebook_ads",{eventName:e,eventObject:t},"score_push_img_pixel"),n(r))}function ci(e,t,n){let o;return o=e===Ir?Nr([c,n],"_"):Nr([t,n]),o}function ai(e,t){return{app_name:e,integration_product:t.integration_product,conversion_product:t.conversion_product,conversion_type:t.conversion_type,comparison_population:t.comparison_population,comparison_group:t.comparison_group,comparison_type:t.comparison_type,threshold_setter:t.threshold_setter,threshold_group_count:t.threshold_group_count,score:Cr(t.score),event_date:xr(new Date,"-"),eventDate:xr(new Date)}}function si(e,t){const n=function(e){return`${c}_${e}`}(e);return{eventName:ci(e,n,t.integration_product),eventObject:ai(n,t)}}function ui(){const e=Ur("target",Vr);return e&&Object.keys(e).length>0}function li(e,t){if(ui()){const n=Zr();Sr((()=>oi(0,n,Se({},e,{eventHitId:qr()}))),ii(n,Se({},e,{eventHitId:qr()}),Fr(t),80))}}function pi(e,t){_()?function(e,t){const n=Kr();n.length&&Qr(n),t()}(0,t):ei(0,t)}var fi={eventHitType:Jr,name:Vr,identify:pi,setup:pi,send:function(e,t,n){_()?function(e,t,n){if(!e)return;const o=si(t,e);ni(0,o.eventName,o.eventObject,n)}(e,t,n):function(e,t,n){if(!e)return;const o=si(t,e),r=o.eventName,i=o.eventObject;Sr((()=>oi(0,r,i,n)),ii(r,Se({},i,{eventHitId:qr()}),Fr("facebook_ads globals not found"),n),80,150)}(e,t,n)},sendValidationEvent:function(e,t){_()?function(e){ui()&&ni(0,Zr(),Se({},e,{eventHitId:qr()}))}(e):li(e,t)}};const di="audience";function _i(e){return Be(`apps.${e}`)}const mi=`${c}_audience|score_update`,gi=`${c}_score`,hi=`contextData.${gi}`;function vi(e,t){return(n,o,r)=>{n&&Sr((()=>t(n,o,r)),(function(t){t.message===Lr?a.error(new Hr(`${e} globals not found`),{appName:o}):a.error(t)}))}}const yi="adobe_analytics";var bi={name:yi,send:vi(yi,(function(e,n,o){const r=_e(t,"s.tl");if("function"==typeof r){const t={contextData:{[gi]:Cr(e.score)},linkTrackVars:hi};return r(true,"o",mi,t),void("function"==typeof o&&o(yi,t))}throw new Error(Lr)}))};const ki="dynamic_yield";var wi={name:ki,send:vi(ki,(function(e,n,o){const r=_e(t,"DY.API");let i;var a;"3"===e.threshold_group_count&&(i="1"===(a=e.score)?"low":"2"===a?"medium":"high");const s=Nr([c,e.comparison_group.toLowerCase(),i||`score_${e.score}`]);if("function"!=typeof r)throw new Error(Lr);{const t=Cr(e.score);r("event",{name:s,properties:{}}),"function"==typeof o&&o(ki,{EVENT_PREFIX:`${c}_${n}`,score:t})}}))};function Ei(e){const t=new Error(e);return t.name="ConfigDataError",t.status="warn",t.stack=o(t.stack,1),t}const Si="event",Ai="owox";let $i=[];function Ti(e,t,n,o){e.cid=t,e.z=Date.now(),mt(`https://google-analytics.bi.owox.com/${n}?${wr(e)}`,{method:"GET"},(()=>o(Ai,e)))}var Ii={eventHitType:Si,name:Ai,send:function(e,n,o){const r=t.GoogleAnalyticsObject?t[t.GoogleAnalyticsObject]:t.ga;let i=Ur(n,Ai).tracking_id;if("function"==typeof r){const t=_t.setTimeout((()=>{a.error(new Hr("owox ready hook not fired"))}),5e3);r((s=>{if(clearTimeout(t),i=i||s&&s.get("trackingId"),i||C(r.getAll(),(e=>{const t=e.get("trackingId");if(t)return i=t,!1})),i){if(!e)return;const t=Nr([`${c}_${n}`,e.integration_product,e.conversion_product,e.conversion_type]),r=Nr([e.comparison_type,e.threshold_setter,e.threshold_group_count,e.comparison_population,e.comparison_group]);$i.push({v:1,ni:1,t:Si,tid:i,dl:g(),ec:t,ea:r,el:Cr(e.score)}),Array.isArray($i)&&Sr((()=>function(e){const t=Ve();if(!t)throw new Error(Lr);e(t)}((e=>{const t=$i;$i={push:t=>{Ti(t,e,i,o)}},t.forEach((t=>{Ti(t,e,i,o)}))}))))}else a.error(new Ei("owox tracking id not found"))}))}}};const Ni=le({name:"kpi_sampling",allocations:[{percent:.1,value:!0}]});function Ci(e,t,n){Ni&&A(`${n} ${t}`,{"evt.name":n,"evt.integration":t,appName:e,"usr.id":Qe().id,"view.url":Ie("page_url")||g(),"view.referrer":Ie("page_referrer_url")||pe()})}const Oi={[bi.name]:bi,[wi.name]:wi,[Ii.name]:Ii};function xi(e,t,n){Ci(di,e,t),ke(`audience ${t}: ${e}`,n)}var Pi={appName:di,platforms:Oi,sendAppScores:function(e){const t=_i("audience.integrations"),n=[];return C(t,(t=>{const o=t.platform;e[o]&&n.push(e[o].then((()=>{!function(e,t){void 0!==Oi[e]&&t&&C(t,(t=>{t.name&&Oi[e].send(t,di,((e,t)=>{xi(e,"score_push",t)}))}))}(o,t.scores)})))})),function(){const e=_i("audience.scores");e&&e.length&&zo(di,Eo,e,{onExec:()=>{xi(s,Eo,e)}});const t=e?e[0]:null;if(t){const e={score:parseInt(t.score,10),comparison_group:t.comparison_group,threshold_group_count:t.threshold_group_count};zo(di,"score_update",Se({},e),{onExec:()=>{xi(s,"score_update",e)}})}}(),Promise.all(n)}};const Li={[fi.name]:fi};function ji(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"score_push";Ci(Ir,e,n),ke(`measure ${n}: ${e}`,t)}var qi={appName:Ir,platforms:Li,sendAppScores:function(e){const t=_i("measure.integrations"),n=P(U),o=[];return"scored"===n?re(U,"scored",ie):function(e){const t=Re("blackcrow_promising_user")||"";return"enabled"===e||void 0===e&&"active"===t.toLowerCase()||void 0===e&&g().toLowerCase().indexOf("blackcrow_promising_user%3dactive")>0}(n)&&C(t,(t=>{const n=t.platform;e[n]&&o.push(e[n].then((()=>{!function(e,t){void 0!==Li[e]&&t&&t.length>0?(re(U,"scored",ie),C(t,(t=>{t.name&&Li[e].send(t,Ir,ji)}))):re(U,"enabled",ie)}(n,t.scores)})))})),Promise.all(o)}};const Di="pwo",Bi="delay",Mi="page_view",Ui="exit_intent",Ri=["OPEN","EMAIL_LEAD","LEAD","CLOSE"],Wi="attentive";let Hi,Gi={},Fi=!0;const Vi={OPEN:So,CLOSE:To,EMAIL_LEAD:Ao,LEAD:$o};var Ji={name:Wi,setup:function(e,n){Hi=e?.toUpperCase(),Gi={},Fi&&(Fi=!1,_t.addListener(t,"message",(e=>{if(e.origin&&-1!==e.origin.indexOf(".attn.tv")){const t=e.data.__attentive||{};if(t&&Ri.includes(t.action)){const{action:e,creativeId:n}=t,o=Gi[n];if(o?.includes(e))return;Gi[n]=o?[...o,e]:[e],function(e){let{action:t,creativeId:n}=e;const o=Vi[t];o&&a.push({trigger:o,data:{rendered_form_id:n}})}(t)}}}))),Sr((()=>{const e=t.__attentive?.trigger;if("function"!=typeof e)throw new Error("attentive globals not found");n()}),(()=>a.error(new Hr(`[${Hi}] attentive globals not found.`))),100)},isIdentified:function(){return Promise.resolve("attentive"===Re("utm_source"))},triggerOverlay:function(e){t.__attentive.trigger(null,null,null,e)},addAttributesToUserProfile:function(){}};const zi=["open","embedOpen","close","redirectedToUrl","submit","stepSubmit"];function Yi(){if(!t.klaviyo){t._klOnsite=t._klOnsite||[];try{t.klaviyo=new Proxy({},{get:(e,n)=>"push"===n?function(){let e;(e=t._klOnsite).push.apply(e,arguments)}:function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];const i="function"==typeof o[o.length-1]?o.pop():void 0,c=new Promise((e=>{t._klOnsite.push([n].concat(o,[function(t){i&&i(t),e(t)}]))}));return c}})}catch(e){t.klaviyo=t.klaviyo||[],t.klaviyo.push=function(){let e;(e=t._klOnsite).push.apply(e,arguments)}}}}function Ki(){return!!_e(t,"Shopify")}function Xi(){return Ki()&&t.location.pathname.includes("products")}function Zi(){return!!_e(t,"Shopify.Checkout")}function Qi(){return _e(t,"Shopify.Checkout.currency")||_e(t,"cart_json.currency")||_e(t,"Shopify.currency.active")||_e(t,"afterpay_shop_currency")}function ec(){if(!Ki())return;const e=_e(t,"Shopify.Checkout.step");if(e)switch(e){case"payment_method":return"payment";case"shipping_method":return"shipping";case"contact_information":return"contact";case"thank_you":return"confirmation";default:return e}return function(){const e=_e(t,"Shopify.Checkout.isOrderStatusPage"),n=_e(t,"Shopify.checkout");return void 0!==e||void 0!==n}()?"order_status":Xi()?"products":Ki()&&"/"===t.location.pathname?"index":t.location.pathname}const tc="klaviyo";let nc={},oc="PWO";function rc(){return new Promise(((e,n)=>Sr((()=>{if(Re("_kx"))return e(!0);const n=t._learnq?._loaded&&t?._learnq?.isIdentified||t._klOnsite?._loaded&&t._klOnsite.isIdentified||t?.klaviyo?.isIdentified;if("function"==typeof n){const t=n();if(void 0!==t)return e(t)}throw(o=new Error(Lr)).overrideSampling=!0,o.message=`klaviyo_renderer: ${o.message}`,o;var o}),function(e,t){return n=>{"klaviyo_renderer: Integration not available"===n.message?a.error(new Hr(e)):a.error(n),t()}}(`[${oc}] klaviyo could not determine whether user is identified`,n))))}function ic(e){(t?._learnq?.push||t?._klOnsite?.push||t?.klaviyo?.push)(["identify",{$email:e}])}function cc(){rc().then((e=>{if(!1===e){const e=Yt();e?ic(e):rr((()=>{zt((e=>{const t=Ut(e);t&&ic(t)}))}))}}))}function ac(){if("confirmation"===ec()){!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=P(e);const i=_t.setInterval((()=>{const o=P(e);if(o!==r)try{t(o),n()&&clearInterval(i)}catch(e){clearInterval(i),a.error(new Error(`Error occurred in one of the callbacks: ${e}`))}finally{r=o}}),o)}(ne,(function(){const e=It();e&&fo("kl_purchase",{kl_cid:e})}),It);const e=Yt()||jt();e&&ic(e)}else cc()}var sc={name:tc,setup:function(e,n){function o(e){const n=e?.formId,o=function(e){const t=e.type,n=e?.metaData;let o=null;switch(t){case"open":o=So;break;case"submit":n?.$email&&(o=Ao);break;case"stepSubmit":n?.$phone_number&&(o=$o);break;case"close":o=To}return o}(e);var r,i;(function(e,t){return t&&nc[e]?.includes(t)})(n,o)||(!function(e,t){const n=nc[e];nc[e]=n?[...n,t]:[t]}(n,o),r=o,i={rendered_form_id:n},a.push({trigger:r,data:i}),o===Ao&&(t?._learnq?.push||t?._klOnsite?.push||t?.klaviyo?.push)(["track","Welcome Form Submit"]))}oc=e?.toUpperCase(),nc={},_t.addListener(t,"klaviyoForms",(e=>{e.detail&&zi.includes(e.detail.type)&&o(e.detail)})),"function"==typeof t.klaviyo?.identify&&t._klOnsite?._loaded||Yi(),Sr((()=>{const e=t.klaviyo?.identify;if("function"!=typeof e||!t._klOnsite?._loaded)throw new Error("klaviyo globals not found");ac(),n()}),(()=>a.error(new Hr(`[${oc}] klaviyo globals not found.`))),100)},isIdentified:rc,triggerOverlay:function(e){t.klaviyo.openForm(e)},addAttributesToUserProfile:function(e){const n=t._learnq?._loaded&&t?._learnq?.push||t._klOnsite?._loaded&&t?._klOnsite?.push||t?.klaviyo?.push;"function"==typeof n&&n(["identify",e])}};function uc(e,t){if("function"!=typeof t)return;const n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];try{r[1]?.match(e)&&t&&_t.addListener(this,"load",(()=>{""===this.responseType||"text"===this.responseType?t(this.responseText):"json"===this.responseType&&t(JSON.stringify(this.response))}))}catch(t){a.error(new ft(`XHR Sniffer Error For URL: ${e}`))}return n.apply(this,r)}}function lc(e,t){const n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];try{r[1]?.match(e)&&t(r)}catch(t){a.error(new ft(`XHR Intercept Error For URL: ${e}`))}return n.apply(this,r)}}const pc="justuno";let fc,dc={};function _c(e){return e.overrideSampling=!0,e.message=`justuno_renderer: ${e.message}`,e}function mc(e,t){return n=>{"justuno_renderer: Integration not available"===n.message?a.error(_c(new Hr(e))):a.error(n),t(e)}}var gc={name:pc,setup:function(e,n){function o(e,t){var n,o;(function(e,t){return dc[e]?.includes(t)})(e,t)||(!function(e,t){if(e){const n=dc[e];dc[e]=n?[...n,t]:[t]}}(e,t),n=t,o={rendered_form_id:e},a.push({trigger:n,data:o}))}dc={},fc=e?.toUpperCase(),_()?n():(t.juapp=t.juapp||function(){(t.juapp.q=t.juapp.q||[]).push(arguments)},lc("(justuno.com|jst.ai)/api/analytics/impression",(()=>{o(void 0,So)})),t.juapp("trackFunc","engagement",((e,t,n,r,i,c)=>{c.find((e=>"phone_number"===e.name&&e.value.length>0))?o(r,$o):e&&o(r,Ao)})),t.ju_windowevent=(e,t)=>{"unload"===e&&o(t,To)},Sr((()=>{if(!t.ju_loadiframe||"function"!=typeof t.ju_loadiframe||!t.ju_initialized)throw _c(new Error(Lr));n()}),mc(`[${fc}] justuno globals not found.`,n),100))},isIdentified:function(){return t._klOnsite?._loaded||Yi(),new Promise(((e,n)=>Sr((()=>{const n=t.klaviyo?.isIdentified;if("function"==typeof n&&t._klOnsite?._loaded)return e(sc.isIdentified());throw _c(new Error(Lr))}),mc(`[${fc}] justuno could not determine whether user is identified (using klaviyo).`,n))))},triggerOverlay:function(e){t.ju_loadiframe({campaign_id:e??""})},addAttributesToUserProfile:function(e){"function"==typeof t?.klaviyo?.push||t._klOnsite?._loaded||Yi(),sc.addAttributesToUserProfile(e)}};function hc(){return Number(P(W))||0}function vc(){const e=Number(P(R))||0;re(R,e+1,ce);const t=hc();t<1&&zo("platform",mo),re(W,t+1,ie)}function yc(){return!!P(Y)||!!function(){const e=Rr(Di).excludedQueryParams;return e&&e.some((e=>Re(e.name)===e.value))}()&&(re(Y,!0),!0)}function bc(){const e=Rr(Di),t=e?.overlayBuckets,n=function(e){let t=e?.formBuckets?.formConfig;return void 0!==e?.overlayBuckets?.triggerBuckets?.formBuckets?.formConfig&&Object.keys(e.overlayBuckets.triggerBuckets.formBuckets.formConfig).length>0&&(t=e.overlayBuckets.triggerBuckets.formBuckets.formConfig),{formId:"mobile"===rt(h()).deviceType?t?.mobile:t?.desktop,profile:t?.profile}}(e);return void 0===t?void 0:{resolved_trigger_config:{...t},resolved_form_id:n.formId,resolved_form_profile:n.profile}}function kc(e){if("mobile"!==rt(h()).deviceType)rr((()=>{_t.addListener(n?.documentElement,"mouseleave",e)}));else{let n=kt();const o=function(){const e=t?.innerHeight+t?.scrollY||0;return bt(vt?.offsetHeight,vt?.scrollHeight,e)}();if(o>0){const t=_t.setInterval((()=>{let r=n-kt();r<0&&(r=0,n=kt());r/o>.3&&(clearInterval(t),e())}),150)}}}function wc(e,t,n,o,r){const i=Rr(e),c=i.renderer?.toLowerCase();return n(i.identifyPlatforms,c).then((e=>{const n=e.some((e=>!0===e)),i=!!P(J),c=!!P(z);n||o()||i||c||r(t)}))}function Ec(e){const t={};return{getEventData:function(){return Se({},bc(),(n=e,{closed_overlay:!!P(J),identified:n.some((e=>!0===e)),pii_submitted:!!P(z),channel_excluded:yc()}),{session_page_views:hc()},t);var n},extendEventData:function(e){Se(t,e)}}}let Sc,Ac,$c,Tc=!1;const Ic={[Ji.name]:Ji,[gc.name]:gc,[sc.name]:sc};function Nc(e,t){return e||[t]}function Cc(e,t){const n=Nc(e,t),o=[];return n.forEach((e=>{const t=Ic[e.toLowerCase()];t&&"function"==typeof t.isIdentified&&o.push(t.isIdentified().catch((()=>!0)))})),Promise.all(o)}function Oc(){return Tc}function xc(){Tc=!1}function Pc(){return Sc}function Lc(){return Ac}function jc(){Ac=void 0}function qc(){return $c?.getEventData()||{}}function Dc(){return qc()?.resolved_trigger_config?.name}function Bc(e){return{resolved_form_id:e.form_id,resolved_form_profile:e.form_profile,trigger_type:e.trigger_type,trigger_count:e.trigger_count}}function Mc(){return Ic[Rr(Di)?.renderer?.toLowerCase()]}function Uc(e){const t=Rr(Di),n=t.identifyPlatforms,o=t.renderer?.toLowerCase();Nc(n,o).forEach((t=>{Ic[t.toLowerCase()].addAttributesToUserProfile(e)}))}function Rc(e){a.push({trigger:Io}),Mc().triggerOverlay(e.form_id),Uc({blackcrow_exposed_population_bucket:Dc(),bcai_trigger:e.trigger_type,profile:e.form_profile})}function Wc(e,t){const n=Mc()?.name??"unknown";a.error(new Error(`[${Di.toUpperCase()}] error when triggering overlay for creative "${e?.form_id}" on ${n} due to error "${t.message}".`))}function Hc(e){_t.setTimeout((()=>wc(Di,e,Cc,Oc,Rc).catch((t=>Wc(e,t)))),1e3*e.trigger_count)}function Gc(e){const t=qc()?.resolved_trigger_config?.triggerBuckets?.showOverlayOnATC;t&&pt("platform",Ro,(()=>{(function(e){if(!e.overlay_eligible){const e=Rr(Di),t=qc(),n=!e?.ignoredPagePaths||!function(e){const t=g();return e?.ignoredPagePaths.some((e=>t.includes(e)))}(e);return!(t.channel_excluded||t.identified||t.pii_submitted||!n)}return!0})(e)&&!P(K)&&(re(K,"true",ie),Sc=!0,Rc(e))}))}function Fc(e){const t=e?.apps?.pwo;if(t){n={...Bc(t)},$c&&$c.extendEventData(n);const e=Dc();if(Uc(Se({},{blackcrow_all_population_bucket:e,blackcrow_eligible_population_bucket:t?.overlay_eligible?e:void 0})),Gc(t),function(e){return!Oc()&&e.overlay_eligible&&e.trigger_type&&e.trigger_count>-1&&null!==e.trigger_count}(t))switch(t.trigger_type){case Bi:Hc(t);break;case Mi:!function(e){hc()>=e.trigger_count&&wc(Di,e,Cc,Oc,Rc).catch((t=>Wc(e,t)))}(t);break;case Ui:pt("platform",Mo,(()=>{Oc()||Hc(t)}))}}else a.error(new Error(`[${Di.toUpperCase()}] missing "pwo" in response: ${JSON.stringify(e)}`));var n}function Vc(){zo("platform",Mo)}function Jc(){const e=Rr(Di),t=e?.overlayClosedCookieDuration||ie;pt("platform",ko,(()=>{Me()&&(pt("platform",To,(e=>{Pc()||re(J,"true",t),fo(Fn.PWO_CLOSE,Se(e,qc(),{bcai_triggered:Oc(),overlay_triggered_by_atc:Pc(),overlay_triggered_by_seu:Lc()})),xc(),Sc=void 0,jc()})),pt("platform",Ao,(e=>{re(z,"true",ce),fo(Fn.PWO_EMAIL_LEAD,Se(e,qc(),{bcai_triggered:Oc(),overlay_triggered_by_atc:Pc(),overlay_triggered_by_seu:Lc()}))})),pt("platform",$o,(e=>{re(z,"true",ce),fo(Fn.PWO_SMS_LEAD,Se(e,qc(),{bcai_triggered:Oc(),overlay_triggered_by_atc:Pc(),overlay_triggered_by_seu:Lc()}))})),pt("platform",So,(e=>{fo(Fn.PWO_IMPR,Se(e,qc(),{bcai_triggered:Oc(),overlay_triggered_by_atc:Pc(),overlay_triggered_by_seu:Lc()}))})),pt("platform",Io,(e=>{Tc=!0,fo(Fn.PWO_OPEN_ATTEMPT,Se(e,qc()))})),e?.overlayBuckets?.triggerBuckets?.showSecondOverlayOnExitIntent&&pt("platform",Mo,(()=>{const e=qc();Lc()||!function(){const e=!!P(X),t=!!P(z),n=yc();return!(e||t||n)}()||e.identified||(Rc({trigger_type:Mo,form_id:e.resolved_form_id,form_profile:e.resolved_form_profile}),re(X,"true",ie),Ac=!0)})))}))}var zc={appName:Di,init:function(){const e={},t=Rr(Di),n=t.renderer?.toLowerCase();if(_())a.error(new Hr("[PWO] Disabled while running in WebPixelManager."));else if(void 0===n)a.error(new Error("[PWO] No configured overlay renderer"));else{const o=Ic[n],r=t.identifyPlatforms;e.isIdentified=Cc(r,n),o&&"function"==typeof o.setup?(e.renderer=new Promise((e=>o.setup(Di,e))),Jc(),kc(Vc)):a.error(new Error("[PWO] Unrecognized overlay renderer configured"))}return e},sendAppScores:function(e){return e.renderer&&e.isIdentified&&Me()?e.renderer.then((()=>e.isIdentified.then((e=>{return $c=Ec(e),t=Fn.PWO_DECISION,n=$c.getEventData(),fo(t,n,(e=>{Fc(e)})),{eventName:t,eventData:n};var t,n})))):Promise.resolve()},cleanup:function(){xc(),jc(),$c=void 0}};const Yc="cordial";var Kc={name:Yc,send:vi(Yc,(function(e,n,o){const r=Nr([`${c}`,e.integration_product]),i=_e(t,"crdl");if("function"!=typeof i)throw new Error(Lr);i("event",r,{app_name:n,integration_product:e.integration_product,conversion_product:e.conversion_product,conversion_type:e.conversion_type,comparison_population:e.comparison_population,comparison_group:e.comparison_group,comparison_type:e.comparison_type,threshold_setter:e.threshold_setter,threshold_group_count:e.threshold_group_count,score:Cr(e.score)}),"function"==typeof o&&o(Yc,r)}))};const Xc=t.GoogleAnalyticsObject||"ga";t[Xc]=t[Xc]||function(){(t[Xc].q=t[Xc].q||[]).push(arguments)};t[Xc];t.dataLayer=t.dataLayer||[];const Zc="function"==typeof t.gtag?t.gtag:function(){t.dataLayer.push(arguments)};function Qc(){const e=P("_ga")?.split(".");return e?.slice(-2).join(".")}function ea(e,n){if(_()){const t=Ur(e,n).tracking_id;return null!=t&&t.startsWith("UA-")&&void 0!==Qc()}if(Array.isArray(t.dataLayer)){let e=!1;return C(t.dataLayer,(t=>{"config"===t[0]&&t[1]&&0===t[1].indexOf("UA-")&&(e=!0)})),e}return!1}function ta(e,n){if(_()){const t=Ur(e,n).tracking_id;return null!=t&&t.startsWith("G-")&&void 0!==Qc()}if(Array.isArray(t.dataLayer)){let e=!1;return C(t.dataLayer,(t=>{"config"===t[0]&&t[1]&&0===t[1].indexOf("G-")&&(e=!0)})),e}return!1}const na="event",oa="google_analytics";function ra(e,t,n,o,r,i,c,a,s){const u={};return u.category=Nr([e,t,n,o]),u.action=Nr([r,i,c,a]),u.label=s,u}function ia(e,n){let{onSuccess:o,eventPrefix:r,integrationProduct:i,conversionProduct:c,conversionType:s,comparisonType:u,thresholdSetter:l,thresholdGroupCount:p,comparisonPopulation:f,score:d}=n;const _=Ur(e,oa);if(_.pageBlocked)return;const m=t.GoogleAnalyticsObject?t[t.GoogleAnalyticsObject]:t.ga,g=ra(r,i,c,s,u,l,p,f,d),h=g.category,v=g.action,y=g.label;function b(){"function"==typeof o&&o(oa,{eventCategory:h,eventAction:v,eventLabel:y})}if(ea(e,oa))Zc("event",v,{event_category:h,event_label:y,non_interaction:!0}),b();else if(ta()){const e=Nr([r,i],"_");Zc("event",e,{non_interaction:!0,app_name:r,integration_product:i,conversion_product:c,conversion_type:s,comparison_population:f,comparison_type:u,threshold_setter:l,threshold_group_count:p,score:d}),b()}else{if("function"!=typeof m)throw new Error(Lr);{const e=_t.setTimeout((()=>{a.error(new Hr("google_analytics ready hook not fired"))}),5e3);m((t=>{clearTimeout(e);if(!(t&&t.get("trackingId"))){let e=_.tracking_id;e||C(m.getAll(),(t=>{const n=t.get("trackingId");if(n)return e=n,!1})),e?m("create",e,"auto"):a.error(new Ei("google_analytics tracking id not found"))}m("send",{hitType:na,eventCategory:h,eventAction:v,eventLabel:y,nonInteraction:!0}),b()}))}}}function ca(e,t){let{onSuccess:o,eventPrefix:r,integrationProduct:i,conversionProduct:c,conversionType:a,comparisonType:s,thresholdSetter:u,thresholdGroupCount:l,comparisonPopulation:p,score:f}=t;const d=ra(r,i,c,a,s,u,l,p,f),_=d.category,m=d.action,v=d.label;function y(){"function"==typeof o&&o(oa,{eventCategory:_,eventAction:m,eventLabel:v})}if(ea(e,oa)){!function(e,t,o,r,i){const c=new URL("https://www.google-analytics.com/collect");c.search=wr({v:1,t:na,tid:e,cid:Qc(),ec:t,ea:o,el:r,ua:h(),dl:g(),dt:n.title,ni:1}),mt(c.toString(),{method:"GET",mode:"cors"},i)}(Ur(e,oa).tracking_id,_,m,v,y)}else{if(!ta(e,oa))throw new Error(Lr);!function(e,t){let{onSuccess:o,eventPrefix:r,integrationProduct:i,conversionProduct:c,conversionType:a,comparisonType:s,thresholdSetter:u,thresholdGroupCount:l,comparisonPopulation:p,score:f}=t;const d=new URL("https://www.google-analytics.com/g/collect");d.search=wr({v:2,tid:e,en:na,cid:Qc(),dl:g(),dt:n.title,ep:{app_name:r,integration_product:i,conversion_product:c,comparison_population:p,comparison_type:s,conversion_type:a,threshold_setter:u,threshold_group_count:l,non_interaction:!0},epn:{score:f}}),mt(d.toString(),{method:"POST",mode:"cors"},o)}(Ur(e,oa).tracking_id,{onSuccess:y,eventPrefix:r,integrationProduct:i,conversionProduct:c,conversionType:a,comparisonType:s,thresholdSetter:u,thresholdGroupCount:l,comparisonPopulation:p,score:f})}}var aa={eventHitType:na,name:oa,setup:function(e,t){if(!_()){const t=Ur(e,oa).tracking_id;if(t){const e=n.createElement("script");e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,e.async=!0,n.getElementsByTagName("head")[0].appendChild(e),Zc("js",new Date),Zc("config",t,{send_page_view:!1})}}t()},send:function(e,t,n){const o=`${c}_${t}`;if(!e)return;const r=_()?ca:ia;Sr((()=>r(t,{onSuccess:n,eventPrefix:o,integrationProduct:e.integration_product,conversionProduct:e.conversion_product,conversionType:e.conversion_type,comparisonType:e.comparison_type,thresholdSetter:e.threshold_setter,thresholdGroupCount:e.threshold_group_count,comparisonPopulation:e.comparison_population,score:Cr(e.score)})),(function(e){e.message===Lr?a.error(new Hr("google_analytics globals not found"),{appName:t}):a.error(e)}))}};const sa="google_ads";function ua(e){return Ur(e,sa)?.conversion_id}function la(e){const t=g(),n=pe(),o=fe(),r=Date.now(),i=P("_gcl_au")?.split(".").splice(-2).join(".");return wr({data:`event=${e};non_interaction=true`,fst:r,random:r,auid:i,url:t,ref:n,tiba:o,hn:"www.googleadservices.com",rfmt:3,fmt:4,async:1,cv:11,guid:"ON"})}function pa(e,t,n){const o=function(e){return ua(e)?.split("-").splice(-1).join()}(t),r=la(e);try{b(`https://googleads.g.doubleclick.net/pagead/viewthroughconversion/${o}/?${r}`),n()}catch(e){a.error(new Error(`google_ads api call failed with ${e}`))}}function fa(e,n,o){if(!function(){if(Array.isArray(t.dataLayer)){let e=!1;return C(t.dataLayer,(t=>{"config"===t[0]&&t[1]&&0===t[1].indexOf("AW-")&&(e=!0)})),e}return!1}())throw new Error(Lr);Zc("event",e,{send_to:ua(n),non_interaction:!0}),o()}var da={eventHitType:"event",name:sa,setup:function(e,t){if(!_()){const t=ua(e);if(t){const e=n.createElement("script");e.src=`https://www.googletagmanager.com/gtag/js?id=${t}`,e.async=!0,n.getElementsByTagName("head")[0].appendChild(e),Zc("js",new Date),Zc("config",t)}}t()},send:vi(sa,(function(e,t,n){const o=Nr([`${c}_${t}`,e.integration_product,e.conversion_product,e.conversion_type,e.comparison_type,e.threshold_setter,e.threshold_group_count,e.comparison_population,`score_${Cr(e.score)}`]);function r(){"function"==typeof n&&n(sa,{event:o})}_()?pa(o,t,r):fa(o,t,r)}))};const _a="heap";var ma={name:_a,send:vi(_a,(function(e,n,o){const r=_e(t,"heap");if(!r||"function"!=typeof r.addUserProperties)throw new Error(Lr);{const t={[Nr([c,e.comparison_group,e.threshold_group_count])]:e.score};r.addUserProperties(t),"function"==typeof o&&o(_a,t)}}))};const ga="klaviyo";function ha(e,n,o,r){function i(){"function"==typeof r&&r(ga,n)}function c(){const e=Yt(),t=Cr(o.score),r={[n]:t};return e&&Se(r,{$email:e}),r}if(_()){const t=Ur(e,ga).api_key;t&&mt(`https://a.klaviyo.com/api/onsite/identify?c=${t}`,{body:JSON.stringify({token:t,properties:c()}),method:"POST",mode:"cors",credentials:"omit"},i())}else t._learnq||(t._learnq=[],a.error(new Hr("klaviyo globals not found"))),t._learnq.push(["identify",c()]),i()}const va={},ya={};var ba={name:ga,setup:function(e,o){if(!_()){const o=Ur(e,ga).api_key,r=t._learnq?t._learnq.identify:null;if(o&&"function"!=typeof r){const e=n.createElement("script");e.src=`https://static.klaviyo.com/onsite/js/klaviyo.js?company_id=${o}`,e.async=!0,n.getElementsByTagName("head")[0].appendChild(e)}}o()},send:function(e,n,o){if(!e)return;const r=Nr([`${c}`,"score",e.threshold_group_count,e.comparison_group]);void 0!==e.name&&(va[e.name]={appName:n,eventName:r,scoreObj:e,onSuccess:o},void 0===ya[e.name]&&(ya[e.name]=function(e){const t=va[e];return()=>{ha(t.appName,t.eventName,t.scoreObj,t.onSuccess)}}(e.name)),_t.addListener(t,"beforeunload",ya[e.name])),_t.setTimeout((()=>ha(n,r,e,o)),5e3)}};const ka="microsoft_ads";var wa={eventHitType:"event",name:ka,setup:function(e,o){const r=Ur(e,ka).tracking_id;var i,c,a,s,u,l,p;r?(c=n,a="script",(i=t)[s="uetq"]=i[s]||[],u=function(){var e={ti:r};e.q=i[s],i[s]=new UET(e),i[s].push("pageLoad"),o()},(l=c.createElement(a)).src="//bat.bing.com/bat.js",l.async=1,l.onload=l.onreadystatechange=function(){var e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(u(),l.onload=l.onreadystatechange=null)},(p=c.getElementsByTagName(a)[0]).parentNode.insertBefore(l,p)):o()},send:function(e,n,o){const r=`${c}_${n}`;if(!e)return;const i=e.integration_product,s=Nr([r,i,e.conversion_product,e.conversion_type]),u=Nr([e.comparison_type,e.threshold_setter,e.threshold_group_count,e.comparison_population,e.comparison_group]);let l,p;if("prospecting"===i)p=e.raw_probability;else{l=Cr(e.score);const t=Number(e.score);t>=0&&(p=t)}!function(e,n){let{onSuccess:o,eventCategory:r,eventAction:i,eventLabel:c,eventValue:s}=n;try{t.uetq=t.uetq||[],t.uetq.push("event",i,{event_category:r,event_label:c,event_value:s}),"function"==typeof o&&o(ka,{event_category:r,event_action:i,event_label:c,event_value:s})}catch(t){a.error(new Hr("microsoft_ads globals not found"),{appName:e})}}(n,{onSuccess:o,eventCategory:s,eventAction:u,eventLabel:l,eventValue:p})}};const Ea="oracle_responsys";var Sa={name:Ea,send:vi(Ea,(function(e,n,o){const r=_e(t,"ORA.click");if("function"!=typeof r)throw new Error(Lr);{const t=Cr(e.score);r({data:{bc_score:t,"wt.dl":99}}),"function"==typeof o&&o(Ea,t)}}))};const Aa="outbrain";var $a={name:Aa,send:vi(Aa,(function(e,n,o){const r=_e(t,"obApi");if("function"!=typeof r)throw new Error(Lr);{const t=Nr([`${c}`,e.integration_product,e.threshold_group_count,Cr(e.score)]," ").replace(/[^0-9a-z\s]/gi,"");r("track",t),"function"==typeof o&&o(Aa,t)}}))};const Ta="pinterest",Ia=`${c}`;function Na(e){return{lead_type:e.integration_product,video_title:e.conversion_product,order_id:e.conversion_type,property:e.comparison_group,promo_code:e.comparison_type,search_query:e.threshold_setter,order_quantity:Cr(e.threshold_group_count),value:Cr(e.score)}}function Ca(e,t,o){const r=P("_pin_unauth"),i=P("_derived_epik"),c={event:Ia,ed:t,tid:e,pd:{...r&&{pin_unauth:r},...i&&{derived_epik:i}}};return o&&(c.ad={loc:g(),ref:n.referrer}),c}var Oa={name:Ta,send:vi(Ta,(function(e,n,o){if(_())!function(e,t,n){const o=Ur(t,Ta).tracking_id;if(o){const t="https://ct.pinterest.com",r=Na(e);mt(`${t}/user/?${wr(Ca(o,r,!1),!1)}`,{method:"GET"},n,(()=>a.error(new Error("pinterest api call failed")))),mt(`${t}/v3/?${wr(Ca(o,r,!0),!1)}`,{method:"GET"},n,(()=>a.error(new Error("pinterest api call failed"))))}}(e,n,o);else{const r=_e(t,"pintrk");if("function"!=typeof r)throw new Error(Lr);{const t=Na(e);Ur(n,Ta).advancedMatching&&Se(t,{em:Yt()}),r("track",Ia,t),"function"==typeof o&&o(Ta,Ia)}}}))};function xa(e){return new Array(e).fill(".",0,e).map((()=>function(){const e="0123456789abcdef";return e.charAt(Math.floor(Math.random()*e.length))}())).join("")}function Pa(){return`${xa(8)}-${xa(4)}-${xa(4)}-${xa(4)}-${xa(12)}`}const La="snapchat",ja="_scid",qa="u_sclid",Da="u_scsid",Ba="snaptr",Ma={};function Ua(e,t,n){let{getItem:o,setItem:r}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pa;return o(e).then((t=>{let o=t;o||(o=i(),r(e,o)),n(o)}))}function Ra(e){return Ma[e]}function Wa(e,t){return Ma[e]=t,Ma[e]}function Ha(e,t){const n=function(e){return Ur(e,La)?.pixel_id}(t),o=v("navigation")[0],r=v(Ba)[0];return{pid:n,ev:e.score,pl:g(),rf:pe(),ts:Date.now(),trackId:Pa(),u_c1:Ra(ja),u_sclid:Ra(qa),u_scsid:Ra(Da),m_dcl:o?.domContentLoadedEventEnd,m_pi:o?.domInteractive,m_pl:o?.loadEventEnd,m_pv:o?"v2":"v1",m_rd:Math.floor(y()),m_sl:r?.startTime,v:"2.0.0",bt:"1d53c387",if:!1}}function Ga(e){if("function"==typeof Promise.allSettled)return Promise.allSettled(e);const t=e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e})))));return Promise.all(t)}function Fa(e,t){return _()?Ga([Ua(ja,{getItem:r.g.browser.cookie.get,setItem:r.g.browser.cookie.set},(e=>{Wa(ja,e)})),Ua(qa,r.g.browser.localStorage,(e=>{Wa(qa,e)})),Ua(Da,r.g.browser.sessionStorage,(e=>{Wa(Da,e)}))]).finally(t):t()}var Va={name:La,identify:Fa,setup:Fa,send:vi(La,(function(e,n,o){return _()?function(e,t,n){mt("https://tr.snapchat.com/p",{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:wr(Ha(e,t))},(()=>{"function"==typeof n&&n(La,`${c},${e.score}`)}),(()=>{a.error("Unable to send scores to snapchat.")}))}(e,n,o):function(e,n,o){const r=_e(t,Ba);if("function"!=typeof r)throw new Error(Lr);if(r("track",e.score),"function"==typeof o){const t=Nr([`${c}`,e.score]);o(La,t)}}(e,0,o)}))};const Ja="taboola";var za={name:Ja,send:function(e,n,o){if(!e)return;void 0===t._tfa&&(t._tfa=[],a.error(new Hr("taboola globals not found"),{appName:n}));const r=Nr([`${c}`,e.integration_product,e.threshold_group_count,Cr(e.score)],"_");t._tfa.push({notify:"event",name:r}),"function"==typeof o&&o(Ja,r)}};function Ya(){const e={};let t=Yt();return t&&(t=t.toLowerCase()),e.email=t,e}function Ka(){const e={},t=P("_ttp");return t&&(e.anonymous_id=t),Er(Ya()).then((t=>({...e,...t})))}function Xa(e,t){return{content_id:Nr([`${c}_${e}`,t]),content_type:"product"}}function Za(e){const t={context:{page:{referrer:n.referrer,url:g()},pixel:{code:e},userAgent:h()}};return Ka().then((e=>(t.context.user=e,t)))}function Qa(e,t,n,o){return Za(e).then((e=>(e.event=t,e.properties=Xa(o,n),e)))}const es="tiktok";function ts(){return qe("tiktokAccounts")||[]}function ns(){a.error(new Error("tiktok api call failed"))}function os(e,n){const o=Yt(),r=gr();if(o||r){const i=e.pixelId,c=_e(t,"ttq.instance");"function"==typeof c&&"function"==typeof c(i).identify&&(c(i).identify({email:o,phone_number:r}),n&&"function"==typeof n&&n())}}function rs(e,t,n){mt("https://analytics.tiktok.com/api/v2/pixel",{body:JSON.stringify(e),method:"POST"},t,n)}function is(e,t){const n=e.pixelId;if(n){Ya().email&&function(e){return Za(e).then((e=>(e.event="EnrichAM",e)))}(n).then((e=>{rs(e,t,ns)}))}}function cs(e,t){return function(){if("function"==typeof e){const n=Nr([`${c}`,t.score]);e(es,n)}}}var as={name:es,identify:function(e,n){const o=_();ts().forEach((r=>{const i=r.pixelId,c=function(t,r){return()=>{const i=(_i(`${e}.integrations`)||[]).find((e=>es===e.platform));i&&i.scores&&i.scores.forEach((i=>{let{score:c,integration_product:a}=i;o?Qa(r,c,a,e).then((e=>{rs(e,n,ns)})):t(r).track(c,Xa(e,a))})),o||n&&"function"==typeof n&&n()}}(_e(t,"ttq.instance"),i);o?is(r,c):os(r,c)}))},setup:function(e,o){if(!_()){ts().forEach((e=>{const o=e.pixelId;o&&!function(e){const n=t.ttq;return!!(n&&n.instances()&&Array.isArray(n.instances()))&&!!n.instances().find((t=>e===t.pixelCode&&t.loaded))}(o)&&function(e,t,r){e.TiktokAnalyticsObject=r;var i=e[r]=e[r]||[];i.methods=["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie","disableCookie"],i.setAndDefer=function(e,t){e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}};for(var c=0;c<i.methods.length;c++)i.setAndDefer(i,i.methods[c]);i.instance=function(e){for(var t=i._i[e]||[],n=0;n<i.methods.length;n++)i.setAndDefer(t,i.methods[n]);return t},i.load=function(e,t){var o="https://analytics.tiktok.com/i18n/pixel/events.js";i._i=i._i||{},i._i[e]=[],i._i[e]._u=o,i._t=i._t||{},i._t[e]=+new Date,i._o=i._o||{},i._o[e]=t||{},(t=n.createElement("script")).type="text/javascript",t.async=!0,t.src=o+"?sdkid="+e+"&lib="+r,(e=n.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e)},i.load(o),i.page()}(t,0,"ttq")}))}o()},send:vi(es,(function(e,n,o){ts().forEach((r=>{_()?function(e,t,n,o){const r=e.pixelId;if(!r)throw new Error(Lr);{is(e);const i=t.score,c=t.integration_product;i&&(o="function"==typeof o?cs(o,t):void 0,Qa(r,i,c,n).then((e=>{rs(e,o,ns)})))}}(r,e,n,o):function(e,n,o,r){const i=e.pixelId,c=_e(t,"ttq.instance");if(!i||"function"!=typeof c)throw new Error(Lr);os(e),n.score&&c(i).track(n.score,Xa(o,n.integration_product)),cs(r,n)()}(r,e,n,o)}))}))};const ss="tradedesk";var us={name:ss,send:vi(ss,(function(e,t,o){const r=Ur(t,ss).pixel_id,i=Cr(e.score)-1,a=e.comparison_type,s=e.conversion_product,u=e.threshold_group_count;r&&!_()&&rr((()=>{if(function(e){let{src:t,alt:o}=e;const r=n.createElement("img");r.width=1,r.height=1,r.alt=o||"",r.src=t}({src:`https://insight.adsrvr.org/track/pxl/?${r}&fmt=3&td1=blackcrow&td2=comparison_type|${a}&td3=comparison_product|${s}&td4=threshold_group_count|${u}&td5=score|${i}`}),"function"!=typeof o)throw new Error(Lr);{const t=Nr([`${c}`,e.score]);o(ss,t)}}))}))};const ls="target",ps={[Kc.name]:Kc,[fi.name]:fi,[aa.name]:aa,[da.name]:da,[ma.name]:ma,[ba.name]:ba,[wa.name]:wa,[Sa.name]:Sa,[$a.name]:$a,[Oa.name]:Oa,[Va.name]:Va,[za.name]:za,[as.name]:as,[us.name]:us};function fs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"score_push";Ci(ls,e,n),ke(`target ${n}: ${e}`,t)}const ds="identity";function _s(e,t){return t||("_shopify_y"===e?"aid":e)}function ms(e){const t=[];return e.forEach((e=>{if("cookie"===e.source){const n=function(e){let t;const n=e.value,o=e.nameOverride,r=P(n);return n&&r&&(t={name:_s(n,o),value:r}),t}(e);n&&t.push(n)}})),t}function gs(e,t){const n=[];return e&&t&&n.push({name:e,value:t}),n}function hs(e,t,n,o){const r=ms(t);if(r.length){!function(e){let t=`${f}v1/events/platform?`;S(s)&&(t="https://api.sandbox.blackcrow.ai/v1/events/platform?");const n=JSON.stringify(e);po(n)>lo&&a.error(new ft("Body for platform event exceeds 8192 bytes"),uo),b(t,n)}(Se({site_name:s,metadata:Vn(),device_info:h(),page_url:g(),page_referrer_url:pe(),page_title:fe(),platform_name:e,platform_event_name:n,ids:r,user_data:{fbc:P(ee),fbp:P(te)}},o,{fb_test_event_code:P("fb_test_event_code")}))}}const vs="klaviyo";let ys;function bs(e,t){"track"===t[0]&&hs(vs,e,t[1],{data:t[2]})}var ks={name:vs,setup:function(e,n){var o;t._learnq=t._learnq||[],t._learnq?._loaded||(function(e){Array.isArray(t._learnq)&&t._learnq.forEach((t=>{bs(e,t)}))}(n),function(e){if("function"==typeof t._learnq.push){const n=t._learnq.push;t._learnq.push=function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];n.apply(this,o);const i=o[0];bs(e,i)}}}(n)),Sr((()=>{var e;if(!t._learnq?._loaded)throw(e=new Error(Lr)).overrideSampling=!0,e.message=`identity: ${e.message}`,e;!function(e){t._learnq.push&&"function"!=typeof ys&&(ys||(ys=t._learnq.push),t._learnq.push=function(){const t=Array.prototype.slice.call(arguments[0]);bs(e,t),ys.apply(this,arguments)})}(n)}),(o="Klaviyo platform load not detected.",e=>{"identity: Integration not available"===e.message?a.error(new Hr(o)):a.error(e)}),500,10)}};const ws="facebook_ads";function Es(e,t,n,o,r){"track"===t&&hs(ws,e,n,{data:o,platform_event_id:r?.eventID})}let Ss=[];function As(e,n){if(!t.fbq.alreadyIntercepted){if("function"!=typeof t.fbq?.getState)throw new Error(`facebook_ads pixel not yet loaded for ${e}.`);{const e=t.fbq;t.fbq=function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];Es(n,...o),e(...o)},Object.keys(e).forEach((n=>{Object.defineProperty(t.fbq,n,{set:t=>{e[n]=t},get:()=>e[n]})})),t.fbq.alreadyIntercepted=!0,Ss?.forEach((e=>{let[...t]=e;return Es(n,...t)})),Ss=[]}}}function $s(e,n){const o=[];if(n?.length){const r=function(e){const[t]=ms(e);if(t?.value)return{external_id:t.value}}(e);n.forEach((e=>{const n=!0===e?.loadPixel,i=e?.pixelId,c=o.includes(i);n&&i&&!c&&r&&(o.push(i),function(e,n){_()||(Gr(),t.fbq("init",e,n))}(i,r))}))}}var Ts={name:ws,setup:function(e,n){const o=Wr(e).platforms?.filter((e=>e.platform?.toLowerCase()===ws));$s(n,o),Sr((()=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ss=Ss.concat(e.filter((e=>!Ss.includes(e))))}(t.fbq?.queue),As(e,n)}),(()=>a.error(new Hr(`facebook_ads pixel not present for ${e}.`),100)))}};var Is={setup:function(e){Sr((()=>{!function(){if(!t.Shopify)throw new Hr("Shopify global missing")}(),e()}),(e=>a.error(e)))}};function Ns(e,n){var o=this;if("function"!=typeof n)return;const r=t.fetch;t.fetch=function(){for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return r.apply(o,i).then((t=>{try{"string"==typeof i[0]&&i[0]?.match(e)&&n(t.clone())}catch(t){a.error(new ft(`Fetch Sniffer for "${e}" failing with "${t?.message}" possibly due to unexpected ${i}.`))}return t}))}}const Cs=/.*(\/cart(\.json|\.js)|\/cart\/(change|update)(\.js|\.json)?)(\?.*)?$/gm,Os="_bcai_cs";let xs=!1;function Ps(e){delete e.sections;try{t.localStorage.setItem(Os,JSON.stringify(e))}catch(e){a.error(e)}}function Ls(){return t?.Shopify?.routes?.root?(e=`${t.Shopify.routes.root}/cart.js`,new Promise(((t,o)=>{mt(e,n,t,o)}))).catch((e=>a.error(e))):Promise.resolve();var e,n}var js={setup:function(){_()||xs||(xs=!0,uc(Cs,(e=>Ps(JSON.parse(e)))),Ns(Cs,(e=>{e.json().then(Ps)})))},getData:function(){if(_())return Promise.resolve();const e=function(){try{const e=t.localStorage.getItem(Os);return JSON.parse(e)}catch(e){return void a.error(e)}}();return e?Promise.resolve(e):Ls().then((e=>(e&&Ps(e),e)))}};const qs="AddPaymentInfo";var Ds={eventName:qs,setup:function(e){_()||Is.setup((()=>{"payment_method"===t?.Shopify?.Checkout?.step&&js.getData().then((t=>{hs("shopify",e,qs,{data:t})}))}))}};const Bs="AddToCart",Ms=/.*\/cart\/add(\.js|\.json)?(\?.*)?$/gm;let Us=!1;var Rs={eventName:Bs,setup:function(e){if(!Us){Us=!0;const t=t=>{const n=JSON.parse(JSON.stringify(t));delete n.featured_image,delete n.image,delete n.options_with_values,delete n.sections,hs("shopify",e,Bs,{data:n})};uc(Ms,(n=>{const o=JSON.parse(n);t(o,e)})),Ns(Ms,(n=>{n.json().then((n=>{t(n,e)}))}))}}};const Ws=["button#checkout[type=submit]","button#checkout[type=submit] *","button[name=checkout]","button[name=checkout] *","input#checkout[type=submit]","input#checkout[type=submit] *",'[href*="/checkout"]','[href*="/checkout"] *',"button.rebuy-cart__checkout-button","button.rebuy-cart__checkout-button *","i.rebuy-button-icon","i.rebuy-button-icon *",'form[action="/cart"] [name="checkout"]','form[action="/cart"] [name="checkout"] *'],Hs=["#dynamic-checkout-cart button","#dynamic-checkout-cart button *","#dynamic-checkout-cart [role=button]","#dynamic-checkout-cart [role=button] *",".additional-checkout-buttons button",".additional-checkout-buttons button *",".additional-checkout-buttons [role=button]",".additional-checkout-buttons [role=button] *"];var Gs={setup:function(e,t){return new Promise((o=>{rr((()=>{Zi()||_t.addListener(n,"click",(n=>{(function(e,t){return e.target.matches(`${[...Ws,...Hs,...t].filter((e=>!!e)).join(",")}`)})(n,t?.additionalSelectors??[])&&e()})),o()}))}))}};const Fs="InitiateCheckout";var Vs={eventName:Fs,setup:function(e,t){return js.setup(),Gs.setup((()=>{js.getData().then((t=>{hs("shopify",e,Fs,{data:t})}))}),t)}};const Js="PageView";var zs={eventName:Js,setup:function(e){e(Js)}};const Ys="Purchase";var Ks={eventName:Ys,setup:function(e){Is.setup((()=>{["thank_you","post_purchase"].includes(t.Shopify?.Checkout?.step)&&e(Ys,{data:t.Shopify?.checkout})}))}};const Xs={purchase:{eventName:"Purchase",convert:function(e){const t=e?.line_items?.map((e=>function(e){return{content_ids:[e?.product_id],id:e?.id,num_items:e?.quantity,value:parseFloat(e?.line_price),content_name:e?.title,content_category:e?.product_type}}(e)))??[];return{value:e?.total_price,currency:e?.currency,content_type:"product_group",num_items:t.reduce(((e,t)=>e+t.num_items),0),content_ids:t.reduce(((e,t)=>[...e,...t.content_ids]),[]),contents:t.map((e=>{const t={...e};return delete t.content_ids,t}))}}},pageview:{eventName:"PageView"}};var Zs={name:"facebook_ads",sendEvent:function(e,n){const o=function(e){let{data:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Xs[e?.toLowerCase()];if(!n)return;const o=n.convert&&n.convert(t);return{eventName:n.eventName,data:o}}(e,n);o&&t.fbq&&t.fbq("track",o?.eventName,o?.data,n?.platform_event_id)}};const Qs={[Zs.name]:Zs};let eu,tu,nu;var ou={setup:function(e,t){let{sendEventsToPlatformsFromBrowser:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eu=e,tu=t,nu=n??[]},sendEvent:function(e,t){let{sendEventsToPlatformsFromBrowser:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=n??nu,r={...t};!r.platform_event_id&&o?.length>0&&(r.platform_event_id=Pa()),hs(eu,tu,e,r),o.forEach((t=>{Qs[t]?.sendEvent(e,r)}))}};const ru="ViewedProduct";function iu(e,t){const n=JSON.parse(JSON.stringify(e));if(n.variants&&n.variants.length){const t=e.variants[0];t.name&&(n.title=t.name),n.variants=[t]}delete n.images,delete n.media,delete n.featured_image,delete n.description;const o=Qi();o&&(n.currency=o),hs("shopify",t,ru,{data:n})}var cu={eventName:ru,setup:function(e){Is.setup((()=>{if(Xi()){gt(`${t.location.pathname}.js${t.location.search}`,{},(t=>iu(t,e)))}}))},sendProductDataToPlatform:iu};const au="shopify";var su={name:au,setup:function(e,t){const n=function(e){const t=Wr(e),[n]=t?.platforms?.filter((e=>e?.platform===au.toUpperCase()));return n}(e),o=n?.events;ou.setup(au,t,n),Ds.setup(t,o?.AddPaymentInfo),Rs.setup(t,o?.AddToCart),Vs.setup(t,o?.InitiateCheckout),zs.setup(ou.sendEvent,o?.PageView),Ks.setup(ou.sendEvent,o?.Purchase),cu.setup(t,o?.ViewedProduct)}};function uu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=`${f}user/?`;S(s)&&(t="https://api.sandbox.blackcrow.ai/user/?");const n={site_name:s,ids:e},o=JSON.stringify(n);b(t,o)}var lu={name:"email",setup:function(e){!function(e){const t=jt()||qt()||Dt();t&&e(t),Pt((t=>{e(t)})),Lt((t=>{e(t)})),zt((t=>{e(t)}))}((function(t){const n=ms(e),o=gs("e",Rt(t));n.length&&o.length&&uu(n.concat(o))}))}};var pu={name:"phone",setup:function(e){!function(e){const t=ur()||lr();t&&e(t),ar((t=>{e(t)})),sr((t=>{e(t)})),mr((t=>{e(t)}))}((function(t){const n=ms(e),o=gs("p",pr(t));n.length&&o.length&&uu(n.concat(o))}))}};function fu(e,n){try{t.sessionStorage.setItem(e,JSON.stringify(n))}catch(e){}}function du(e,t){return Et(e)===t||(fu(e,t),!1)}var _u={name:"klaviyo",setup:function(e){const t=ms(e);function n(e){const n=gs("klx",e);t.length&&n.length&&uu(t.concat(n))}const o=It();n(Re("_kx")),du("_bcai_s_keid",o)||n(o)}};var mu={name:"facebook_ads",setup:function(e){const t=ms(e),[n,o]=[function(){const e=Re("fbclid");return e?.trim().length>0?`fb.1.${Date.now()}.${e}`:P(ee)}(),P(te)],[r,i]=[du("_bcai_s_fbc",n),du("_bcai_s_fbp",o)];!function(e){const n=Object.entries(e).reduce(((e,t)=>{let[n,o]=t;return e.concat(gs(n,o))}),[]);t.length&&n.length&&uu(t.concat(n))}({...!r&&{fbc:n},...!i&&{fbp:o}})}};const gu={[ks.name]:ks,[Ts.name]:Ts,[su.name]:su},hu={[lu.name]:lu,[pu.name]:pu,[_u.name]:_u,[mu.name]:mu};function vu(e){const t=[];return e.forEach((e=>{P(e.value)||t.push(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return new Promise(((t,o)=>{e(...n,(e=>t(e)),(e=>o(e)))}))}(gt,e.cookieLoadUrl,{mode:"no-cors",credentials:"include"}))})),t}function yu(){const e=Wr(ds),t=e.userAttributes||[],n=e.userIdentifiers||[],o=function(e){return e.filter((e=>"cookie"===e.source&&e.cookieLoadUrl))}(n);let r=[];const i=new Set((e.platforms||[]).map((e=>e?.platform?.toLowerCase())).filter((e=>e)));return o.length&&(r=vu(o)),Ga(r).then((rr((()=>{!function(e,t){t.forEach((t=>{const n=hu[t];n&&"function"==typeof n.setup&&n.setup(e)}))}(n,t)})),void function(e,t){0!==e.length&&t&&t.forEach((t=>{const n=gu[t];n&&"function"==typeof n.setup&&n.setup(ds,e)}))}(n,i)))}var bu={audience:Pi,measure:qi,pwo:zc,target:{appName:ls,init:function(){const e=Mr(ls),t={};return e.forEach((e=>{const n=ps[e];void 0!==n&&"function"==typeof n.setup?t[e]=new Promise((e=>n.setup(ls,e))):t[e]=Promise.resolve()})),t},platforms:ps,sendAppScores:function(e){const t=_i("target.integrations"),n=[];return C(t,(t=>{const o=t.platform,r=t.scores,i=ps[o];e[o]&&n.push(e[o].then((()=>{void 0!==i&&"function"==typeof i.send&&function(e,t){t&&C(t,(t=>{t.name&&ps[e].send(t,ls,fs)}))}(o,r)})))})),Promise.all(n)}},identity:{appName:ds,init:function(){return yu(),{}}}};let ku={};function wu(){const e={};return C(ku,(t=>{e[t.appName]=function(e){const t=Br(e.appName);if("function"==typeof e.init&&t.active)return e.init();const n=Mr(e.appName),o={};return n.forEach((e=>{o[e]=Promise.resolve()})),o}(t)})),e}function Eu(e){if(S(s))return Promise.resolve();const t=[];return C(ku,(n=>{t.push(function(e,t){const n=Br(e.appName);return"function"==typeof e.sendAppScores&&n.active?e.sendAppScores(t):Promise.resolve()}(n,e[n.appName]))})),Promise.all(t)}function Su(e){pt("platform",ko,(t=>e(t)))}function Au(e,t){return De(e),Eu(t)}function $u(e,t){var n;De(e),(n=e.history_id)&&(Tn=n,re(L,n,ce)),pt("platform",yo,Fo),qe("page.log_purchase")&&(cr(),rr((()=>{fo(Fn.DELAYED_PURCHASE,ir())}))),Gn(),Eu(t).then((()=>{fi.sendValidationEvent({location:"view_request"},"FB view event not sent")})),zo("platform",ko,e)}const Tu=`${c}_overrides`;let Iu=!1,Nu=null;function Cu(){Nu=null,fu(Tu,{})}function Ou(e){const t=Se({},Nu||Et(Tu),e);Nu=t,fu(Tu,t),Iu&&console.log(`Your <${c}> settings will apply on the next page load. Please refresh the page.`)}function xu(){pt("platform",No,Ou),pt("platform",Co,Cu),C(bu,((e,t)=>{pt("platform",`force_${t}`,(()=>{Ou({apps:{[t]:{active:!0}}})}))}))}function Pu(){return Iu=!0,Nu||Et(Tu)}function Lu(){return C(bu,((e,t)=>{Br(t).active&&(ku[e.appName]=e)})),wu()}let ju=!1;function qu(){const e=[...n.querySelectorAll("[data-checkout-total-shipping]")],t=function(){const e=[...n.querySelectorAll("[data-shipping-method-label-title]")];if(e.length){const t=[];return e.forEach((e=>{const n=new RegExp(/([A-Za-z0-9- ]*)(?:\s)(\([A-Za-z0-9- ]*\))/).exec(e.dataset.shippingMethodLabelTitle.trim());n&&n.length&&t.push({method:n[1],duration:n[2]})})),t}return null}();if(e.length&&t){const n=[];return e.forEach(((e,o)=>{const r={...t[o],cost:e.dataset.checkoutShippingRate,selected:e.checked};n.push(r)})),{custom_dimensions:{tax_amount:or(),shipping_options:n}}}return null}function Du(){const e=function(){const e=[...n.querySelectorAll("[data-review-section]")];if(e.length){const t=new RegExp(/([0-9A-Za-z- ]*)(?:\s)(\([A-Za-z0-9- ]*\))(?:\s**\s*)(.*)/).exec(e[0].textContent.trim());if(t&&t.length)return{custom_dimensions:{tax_amount:or(),selected_shipping_option:{method:t[1],cost:t[3]}}}}return null}();e&&a.push({trigger:jo,data:e})}function Bu(e){const t=Re("bcai_ca");return"test"===t||"control"!==t&&Boolean(e)}function Mu(e){const t={experiment_config:cn(e),resolved_experiment_config:sn(e)};return Object.keys(t.experiment_config).length>0?t:{}}function Uu(e){return(.01*e).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2})}let Ru=!1;function Wu(){return sn("checkout_abandonment")?.data?.free_shipping_test||{}}function Hu(){const e=Wu().version;if(e)return parseInt(e.replace("_",""),10)}function Gu(){Ru||t.dataLayer&&qe("config.google_optimize.container_id")&&(t.dataLayer.push({event:"checkout_abandonment.banner.activate"}),Ru=!0)}let Fu=!1;function Vu(){const e=Wu();!Fu&&function(e){const t=e.hotjar,n=e.hotjar_ratio_of_test_bucket;return t&&n&&le({name:"hotjar",allocations:[{percent:n,value:!0}]})}(e)&&(!function(e){const o=e.hjid,r=e.version;var i,c,a,s;o&&r&&(c=n,(i=t).hj=i.hj||function(){(i.hj.q=i.hj.q||[]).push(arguments)},i._hjSettings={hjid:o,hjsv:6},a=c.getElementsByTagName("head")[0],(s=c.createElement("script")).async=1,s.src="https://static.hotjar.com/c/hotjar-"+i._hjSettings.hjid+".js?sv="+i._hjSettings.hjsv,a.appendChild(s),t.hj("event","bcai_ca_test"),t.hj("event",`bcai_ca_test_${r}`))}(e),Fu=!0)}let Ju=!1;function zu(e){const n="cart/add",o=Ro;lc(n,(()=>{a.push({trigger:o})})),function(e,n,o){const r=t.fetch;t.fetch=function(){for(var t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];try{if("string"==typeof i[0]&&i[0]?.match(e)){if(o)return r.apply(this,i).then(_t.setTimeout((()=>n(i)),500));n(i)}}catch(t){a.error(new ft(`Fetch Intercept Error For URL: ${e}`))}return r.apply(this,i)}}(n,(()=>{a.push({trigger:o})}),e)}function Yu(e){const t=[];return e.items.forEach((e=>{t.push({sku:e.sku,id:e.id,quantity:e.quantity})})),e.items=t,e}function Ku(e,t){return e.items&&(e=Yu(e)),{cart_json:e,...Mu(t)}}function Xu(e,t,n,o){gt("/cart.json",{servletName:"ShopifyCart"},(r=>{const i={custom_dimensions:Ku(r,o)};n?t(n,Se({},e,i)):t(Se({},e,i))}))}const Zu="checkout_abandonment";function Qu(){return sn(Zu)?.data?.data_logging||{}}function el(){return sn(Zu).active}function tl(){const e=Wu().exclude_channels,t=Ue(g());if(e){(e.values||[]).forEach((n=>{var o,r;o=e.param,r=n,t[o]===r&&re(Q,"true")}))}}function nl(){const e=_e(t,"Shopify.Checkout.dynamicCheckoutPaymentInstrumentsConfig.paymentInstruments"),n=e?function(e){return Object.keys(Se({},e)).filter((e=>e.match("Config$"))).map((e=>e.replace(/Config$/,"")))}(e):void 0;return{custom_dimensions:{checkout_options:n}}}function ol(e){rr((()=>{!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Ln(),n=Qu().checkout_data_page_ids||[];if(el()&&-1!==n.indexOf(t)){const t=ec();let n;n="contact"===t?Se({},e,nl()):"shipping"===t?Se({},e,qu()):e,a.push({trigger:Lo,payload:n})}}(e)}));const t=Ln(),o=Wu();o.test_page_id&&el()&&t===o.test_page_id&&gt("/cart.json",{servletName:"ShopifyCart"},(e=>{const t=e.total_price,r=function(e){const t=e.comparison_type,n=e.comparison_group,o=e.score_range,r=(_i("audience.scores")||[]).find((e=>e.comparison_type===t&&e.comparison_group===n));return Bu(r&&-1!==o.indexOf(r.score))}(o),i=function(e){const t=[...n.getElementsByClassName("reduction-code__text")].find((t=>t.textContent===e)),o=n.getElementsByClassName("tags-list").length;return Boolean(1===o&&t||0===o)}(o.coupon_code),c=function(e,t){return!t||e<=t}(t,o.max_total_price),a=function(e,t){return!t||t<=e}(t,o.min_total_price),s=Bu((u=o.test_bucket_ratio)&&le({name:"checkout_abandonment",allocations:[{percent:u,value:!0}]}));var u;const l=0===n.getElementsByClassName("recurring-total-label-content").length,p=!P("_bcai_nfs"),f=!P(Q),d=function(e,t,n,o,r,i,c,a){const s=n&&o&&e&&t&&i&&c&&a;return s&&r?"treatment":s&&!r?"control":"not_eligible"}(r,i,c,a,s,l,p,f),_="treatment"===d,m=o.version,g=Re("bcai_ca"),h=Se({eligible:_,score_in_range:r,coupon_empty:i,cart_value_below_threshold:c,cart_value_above_threshold:a,test_bucket:s,non_subscription_item:l,pii_not_submitted:p,not_excluded_by_channel:f},{force_bucket:g}),v={custom_dimensions:{...Ku(e,Zu),eligibility:h,experiment_group:g?"not_eligible":d,version:m}};fo(Fn.CA_TEST,v),_&&(Vu(),o.a_a_test||(re(Z,"true",ie),o.display_banner_only?rr((()=>Gu())):rr((()=>function(e,t){const o=n.getElementsByClassName("order-summary-toggle");o.length&&o[0].click();const r=n.getElementById("checkout_reduction_code");r&&t.coupon_code&&(r.value=t.coupon_code);const i=n.getElementById("checkout_submit");i&&(i.removeAttribute("disabled"),i.classList.remove("btn--disabled"),i.click()),_t.setTimeout((()=>{const o=t.shipping_cost||595;if(o&&15===Hu()&&"USD"===Qi()){const t=Uu(e+o),r=n.querySelector("dl.total-recap");if(r){const e=br("dt",{className:"visually-hidden",innerHTML:"<span>Total price</span>"}),n=br("dd",{className:"order-summary__emphasis skeleton-while-loading",innerHTML:`<span>${t}</span>`});n.style.textDecoration="line-through",r.prepend(e,n)}const i=n.querySelector("tr.total-line--subtotal");i&&(i.querySelector("span.order-summary__emphasis").textContent=t);const c=n.querySelector("tr.total-line--reduction");c&&(c.querySelector("span.reduction-code__text").textContent="FREE SHIPPING",c.querySelector("td.total-line__price").querySelector("span.order-summary__emphasis").textContent=`-${Uu(o)}`)}[...n.getElementsByClassName("total-line--shipping")].forEach((e=>{e.style.display="none"})),[...n.getElementsByClassName("reduction-code__text")].forEach((e=>{e.style.opacity="1"}))}),2e3),Gu()}(t,o)))))}))}let rl=!1;let il=!1;function cl(e){const t=[...n.querySelectorAll(e)],o=t.length>0?t[0].textContent:null;return o?o.trim():null}function al(){if(Zi()){const e=n.querySelector(".tags-list"),t=e?e.querySelector(".reduction-code__text"):null,o=t?t.textContent:null,r=cl("[data-checkout-discount-amount-target]"),i=cl("[data-checkout-subtotal-price-target]");if(o){const e={custom_dimensions:{discount_code:o,discount_value:r,subtotal:i}};a.push({trigger:Oo,data:e})}}}function sl(e){a.push({trigger:xo,data:{custom_dimensions:{interaction_type:e}}})}function ul(){const e=n.getElementById("checkout_reduction_code");e&&_t.addListener(e,"focus",(()=>{sl("focused_input")}));const t=n.getElementById("checkout_submit");t&&_t.addListener(t.form,"submit",(function(){_t.setTimeout((()=>{n.getElementById("error-for-reduction_code")?sl("invalidated"):sl("validated")}),3e3)}));[...n.getElementsByClassName("tag")].forEach((e=>{const t=e.querySelector("span.reduction-code");t&&_t.addListener(t,"click",(()=>{sl("clicked_code")}));const n=e.querySelector("button[type=submit]");n&&_t.addListener(n,"click",(()=>{sl("clicked_remove")}))}))}const ll={platforms:{attentive:{submitEvents:["EMAIL_LEAD"]},bounceExchange:{submitEvents:["input_submission","campaign_submit"]},justUno:{},klaviyo:{submitEvents:["submit"]},sleekNote:{submitEvents:["submit"]},wisePops:{submitEvents:["after-form-submit"]},generic:{}},platformIdentifiers:["kl-","klaviyo","attn","fieldcaptureform","sleeknote","justuno","bx","bounceexchange","wisepops"],platformIdentifierExceptions:["kmail"],metadataViolators:["phone","email","sentIdentifiers"],page_id:"EmailSubmit"},{platformIdentifiers:pl,platformIdentifierExceptions:fl,metadataViolators:dl}=ll,_l=(e,t)=>{let{qualified:n,resolveTarget:o}=t;return!!e&&(n(e)?!o||e:!!e.parentElement&&_l(e.parentElement,{qualified:n,resolveTarget:o}))},ml={form:{qualified:e=>"form"===e.nodeName.toLowerCase(),resolveTarget:!0},footer:{qualified:e=>"footer"===e.nodeName.toLowerCase(),resolveTarget:!1},overlay:{qualified:e=>(e=>"fixed"===e.style.position||"0"===e.style.top||"0px"===e.style.top)(e)||(e=>"iframe"===e.nodeName.toLowerCase())(e),resolveTarget:!1}},gl=(e,t)=>_l(e,ml[t]),hl=e=>{if(!e)return"unknown";try{if((e=>gl(e,"overlay"))(e))return"overlay";if((e=>gl(e,"footer"))(e))return"footer";if("checkout"===Ln())return"checkout"}catch(e){a.error(new Hr("email location failed"))}return"unknown"},vl=(e,t)=>e.some((e=>"string"==typeof e&&e.toLowerCase().includes(t))),yl=(e,t)=>t.some(vl.bind(null,e)),bl=(e,t)=>{const n={...e};return C(Object.keys(n),(e=>{C(t,(t=>{e.includes(t)&&(n[e]="redacted")}))})),n},kl=(e,n)=>{const o=Bt(e.email||e.$email);var r;Mt(o)&&(Wt(o),(e=>{t._learnq=t._learnq||[],t._learnq.push(["identify",{$email:e}])})(o),r={...bl(e,dl),location:hl(n)},a.push({trigger:bo,data:{page_id:ll.page_id,custom_dimensions:r}}),re(z,"true",ce))},wl=["checkout","account","login"],El=Ln(),Sl=t.location.pathname,Al=e=>{if(wl.includes(El)||wl.some((e=>Sl.includes(e))))return;if((()=>{const e="checkout"===Ln(),t=n.querySelector('input[type="checkbox"]');return e&&t&&!t.checked})())return;const t=e.value;t&&kl({email:t},n.activeElement)},$l=()=>{let e;C(Jt(),(t=>{if(e=(e=>gl(e,"form"))(t),e){if((e=>{const t=[...Array.from(e.classList),e.action,e.id];return yl(t,pl)&&!yl(t,fl)})(e))return;_t.addListener(e,"submit",(()=>{Al(t)}))}else _t.addListener(t,"focusout",(()=>{Al(t)}))}))};const{submitEvents:Tl}=ll.platforms.attentive;const Il=(e,t)=>{if(t.isWrapped)return t;function n(){try{e.apply(this,arguments)}catch(e){}return t.apply(this,arguments)}return n.isWrapped=!0,n},Nl=(e,t)=>Il(e,"function"==typeof t?t:()=>{}),{submitEvents:Cl}=ll.platforms.bounceExchange;const{submitEvents:Ol}=ll.platforms.klaviyo;const{submitEvents:xl}=ll.platforms.sleekNote;const{submitEvents:Pl}=ll.platforms.wisePops;const Ll={attentive:function(){_t.addListener(t,"message",(e=>{const{origin:t,data:n,target:o}=e;if(t.includes(".attn.tv")){const{__attentive:e}=n;Tl.includes(e?.action)&&kl(e,o.document.activeElement)}}))},bounce_exchange:function(){_t.setTimeout((()=>{t.bouncex=t.bouncex||{},t.bouncex&&"function"==typeof t.bouncex.push&&(t.bouncex.push=Nl((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const{email:o,source:r}=t[0][1];Cl.includes(r)&&kl({email:o})}),t.bouncex.push))}),8e3)},just_uno:function(){_t.setTimeout((()=>{t.ju_callback=Nl(((e,t)=>{kl({email:t})}),t.ju_callback)}),5e3)},klaviyo:function(){_t.addListener(t,"klaviyoForms",(e=>{const{detail:t,target:n}=e,{type:o,metaData:r}=t;Ol.includes(o)&&kl(r,n.document.activeElement)}))},sleek_note:function(){_t.addListener(t,"sleekNote",(e=>{const{data:t,target:n}=e;xl.includes(t.type)&&kl(t.data,n.activeElement)}))},wise_pops:function(){_t.setTimeout((()=>{const e=t.WisePopsObject||"";Pl.forEach((n=>{t[e]("listen",n,(e=>{const{target:t}=e,n=t.querySelector('input[type="email"]')?.value;kl({email:n},t)}))}))}),5e3)}};function jl(){const e=Ue(t.location.search).variant,o=e?e.split("?")[0]:null;if(o)return parseInt(o,10);const r=[...n.querySelectorAll('input[name="id"]')];if(1===r.length)return parseInt(r,10);const i=t.ShopifyAnalytics?.meta;if(i?.product?.id){const e=[...n.querySelectorAll(`input[name="id"][data-productid="${i?.product?.id}"]`)];if(1===e.length&&e[0]?.value)return parseInt(e[0].value,10)}if(i?.product?.variants&&i?.selectedVariantId){const e=parseInt(i?.selectedVariantId,10),o=i?.product?.variants.filter((t=>t.id===e));if(t.ReCharge&&t.ga&&n.querySelector('[name="properties[shipping_interval_frequency]"]')?.value){const n=t.ReCharge.products.filter((t=>"string"==typeof t.variant_to_duplicate[`${e}`]));if(1===n.length)return n[0].variant_to_duplicate[`${e}`]}if(o.length)return e}return null}let ql=!1;function Dl(){gt(`${g().split("?")[0]}.js`,{},(e=>{const t=jl(),n=e.variants&&e.variants.length>1,o={custom_dimensions:{out_of_stock:{in_stock:!1}}};t&&n&&!function(e,t){const n=e.filter((e=>e.id.toString()===t));return!n[0]||n[0].available}(e.variants,t)?(o.custom_dimensions.out_of_stock.product_id=t,a.push({trigger:Po,data:o})):t||!n||e.variants.filter((e=>!0===e.available)).length>0?t||n||e.available||(e.variants?o.custom_dimensions.out_of_stock.product_id=e.variants[0].id:o.custom_dimensions.out_of_stock.product_id=e.id,a.push({trigger:Po,data:o})):(o.custom_dimensions.out_of_stock.product_id=e.variants[0].id,a.push({trigger:Po,data:o}))}),(()=>({})))}let Bl=!1;let Ml=!1;function Ul(e,o){!Ml&&function(e){const t=e.ratio;return e.active&&t&&le({name:"hotjar",allocations:[{percent:t,value:!0}]})}(o)&&(!function(e,o){var r,i,c,a;e&&o&&o.length&&(i=n,(r=t).hj=r.hj||function(){(r.hj.q=r.hj.q||[]).push(arguments)},r._hjSettings={hjid:e,hjsv:6},c=i.getElementsByTagName("head")[0],(a=i.createElement("script")).async=1,a.src="https://static.hotjar.com/c/hotjar-"+r._hjSettings.hjid+".js?sv="+r._hjSettings.hjsv,c.appendChild(a),C(o,(e=>{t.hj("event",e)})))}(o.hjid,e),Ml=!0)}function Rl(e,o,r,i){gt("/cart/add.js",{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}},(()=>{r.name.match("checkout")?t.location.href=i:function(e){n.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0}));const t=n.querySelector(e.cartCountSelector)||{},o=Cr(t.innerText.replace(/\D/g,""));t.innerText=(o+1).toString(),(n.getElementById("mini-cart")||{}).open=!0}(o)}))}function Wl(e,o,r,i,c,a){let s=r.singleItemCheckout?`/cart/${c}:1`:"/checkout";const u={items:[{id:c,quantity:1}]};var l,p;if(o.length&&!a&&(p=o,(l=e).innerHTML='<img class="loading_image" src="https://init.blackcrow.ai/public/loading.svg">',_t.setTimeout((()=>{l.innerHTML=p}),2e3)),r.addToCartOverrideSelector&&i.name.match("cart")&&t.location.pathname.includes("products"))n.querySelector(r.addToCartOverrideSelector)?.click();else{if("shop-pay"===i?.type&&(s="/checkout?payment=shop_pay"),t.ReCharge&&t.ga){const e=n.querySelector('[name="properties[shipping_interval_frequency]"]')?.value,o=n.querySelector('[name="properties[shipping_interval_unit_type]"]')?.value;e&&o&&(u.items[0].properties={shipping_interval_frequency:e,shipping_interval_unit_type:o}),gt("/cart.js",{},(e=>{const o=0===n.querySelectorAll(`input[name='id'][value='${c}']`).length;if(e.items.filter((e=>"string"==typeof e.properties?.shipping_interval_frequency)).length||o){const e=`&cart_token=${(n.cookie.match("(^|; )cart=([^;]*)")||0)[2]}`,o=`myshopify_domain=${t.Shopify.shop}`,r=`&${t.ga.getAll()[0].get("linkerParam")}`;s=`https://checkout.rechargeapps.com/r/checkout?${o}${e}${r}`}}))}if(t.ReChargeWidget?.getWidgets){const e=t.ReChargeWidget.getWidgets()[0]||{},n=e.state?.selectedVariantId,o=e.state?.sellingPlanId,r=e.productData?.selling_plan_groups[0]?.selling_plan_group_id,i={id:n,sellingPlanId:o,sellingPlanGroupId:r,isSubscription:e.subscriptionActive||!1};if(n&&o&&r&&t.ReChargeWidget?.api?.postToCart)return void t.ReChargeWidget.api.postToCart(i).then((()=>{t.location.href=s}))}if(t.og?.store?.getState()?.optedin&&t.og?.store?.getState()?.config?.frequencies?.length>0){const e=t.og?.store?.getState()?.optedin;e&&e.length&&(u.items[0].id=e[e.length-1].id,u.items[0].selling_plan=e[e.length-1].frequency)}t.Rebuy?gt(`${g().split("?")[0]}?view=metafield`,{},(e=>{e.metafields.erpLineItem&&(u.items[0].properties={"_erp-line-item":e.metafields.erpLineItem}),Rl(u,r,i,s)})):Rl(u,r,i,s)}}function Hl(e,o,r,i,c){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];_t.addListener(e,"click",(()=>{c.custom_dimensions.predictive_button.action=s?"clicked alternative option":"clicked button";let u=jl();if(u)Wl(e,o,r,i,u,s);else{const c=n.querySelector('a[role="button"]');gt(t.location.pathname.includes("pages")&&c?.href?`${c.href}.js`:`${g().split("?")[0]}.js`,{},(t=>{const n=t.variants.filter((e=>!0===e.available));0!==n.length&&(u=n[0].id,Wl(e,o,r,i,u,s))}))}a.push({trigger:Bo,data:c})}))}function Gl(e,o,r,i){const c=br("div",{className:"sticky-call-to-action-container "+(o.animated?"animated":"")});let s;if(o.headline){const e=function(e,t){const n=br("span",{className:"sticky-call-to-action-headline",innerHTML:e});return _t.addListener(n,"click",(()=>{t.custom_dimensions.predictive_button.action="clicked headline",a.push({trigger:Bo,data:t})})),n}(o.headline,r);c.append(e)}if("shop-pay"===i?.type){const e=br("script",{src:"https://cdn.shopify.com/shopifycloud/shop-js/client.js"}),a=n.createElement("shop-pay-button");return a.setAttribute("store-url",`${t.location.origin}`),c.append(e),c.append(a),Hl(a,"",o,i,r),c}const u=i.text;s={name:"add",type:"button",innerHTML:u,"accept-charset":"UTF-8",className:`sticky-call-to-action-submit ${i.name}`};const l=br("button",s);if(c.append(l),Hl(l,u,o,i,r),i.alt_option_text){s={innerHTML:i.alt_option_text,className:`sticky-call-to-action-submit-alt-option ${i.name}`};const e=br("a",s),t=n.querySelector(i.alt_option_override_container);t?t.append(e):c.append(e);const a={...i};i.name.match("checkout")?a.name="cart":a.name="checkout",Hl(e,i.alt_option_text,o,a,r,!0)}return c}function Fl(e){e.message===Lr?a.error(new Hr("google_analytics globals not found")):a.error(e)}const Vl="sticky_call_to_action";function Jl(){const e=Re("bcai_pbs");return parseFloat(e)>=0&&e}function zl(e,o,r,i,c){const s=n.querySelector(e.openMenuSelector);kt()>=i&&!o.classList.contains("active")&&bt(vt?.clientWidth,t.innerWidth)<464&&null===s?(o.classList.add("active"),r.custom_dimensions.predictive_button.action="render",a.push({trigger:Bo,data:r})):c&&o.classList.contains("active")&&kt()<i&&o.classList.remove("active")}function Yl(e){const t=function(){const e=Re("bcai_pbgn");return!!["control","treatment"].includes(e)&&e}();return t||e.experiment_group}function Kl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=Jl()||t.find((t=>t.name&&t.name===e.score_name))?.score;if(n){return e.score_values.sort(((e,t)=>t.score_threshold-e.score_threshold)).find((e=>e.score_threshold<=n))}return null}function Xl(e,t){const n=function(){const e=Re("bcai_pbtn");return!(!e||!e.length)&&e}(),o=cn(Vl)?.data?.button_displayed;let r={};return n&&Array.isArray(o)?(r=o.find((e=>e.name===n))?.value,r.score_values?Kl(r,t):r):e?.button_displayed?.score_values?Kl(e.button_displayed,t):e.button_displayed}function Zl(){const e=cn(Vl);if(!t.location.pathname.includes("products")&&!t.location.pathname.includes("pages")||!e.active)return;const o=sn(Vl)?.data||{};if(o.product_blacklist&&o.product_blacklist.includes(Ln()))return;const r=Yl(o);let i=`${g().split("?")[0]}.js`;function c(e){const i=jl();if(!(i||e.variants&&e.variants[0]?.id))return;const c=e.variants.find((e=>e.id===i))||{};gt("/cart.js",{},(u=>{if(n.querySelector(".sticky-call-to-action-container"))return;u.items&&(u=Yu(u));const l={custom_dimensions:{predictive_button:{action:"impression",button_displayed:o.button_displayed,experiment_group:r,item_cost:c.price||e.price,cart_total:u.total_price,cart_json:u,version:o.version}}};fo(Fn.PREDICTIVE_BUTTON_DECISION,l,(c=>{o.send_ga_events&&function(e,n){const o=Nr(["blackcrow",e,n]);Sr((()=>{if("function"!=typeof t.ga){if("function"!=typeof t.gtag)throw new Error(Lr);t.gtag("event",o,{event_category:o,event_label:null,non_interaction:!0})}else t.ga("send",{hitType:"event",eventCategory:o,eventAction:null,eventLabel:null,nonInteraction:!0})}),Fl)}(l.custom_dimensions.predictive_button.action,r);const u=Xl(o,c.apps?.audience?.scores);if(l.custom_dimensions.predictive_button.button_displayed=u,a.push({trigger:Bo,data:l}),!r||!u)return;if("control"===r){if(!o.controlButtonSelector)return;return void function(e,t,o){const r=n.querySelector(e),i=n.querySelector(t);if(r&&_t.addListener(r,"click",(()=>{o.custom_dimensions.predictive_button.action="clicked button",a.push({trigger:Bo,data:o})})),i)if(i.attributes.hidden){const e=new MutationObserver((()=>{i.attributes.hidden||(o.custom_dimensions.predictive_button.action="render",a.push({trigger:Bo,data:o}),e.disconnect())}));e.observe(i,{attributes:!0,childList:!0})}else o.custom_dimensions.predictive_button.action="render",a.push({trigger:Bo,data:o})}(o.controlButtonSelector,o.controlButtonContainer,l)}if(n.head.insertAdjacentHTML("beforeend",`<link type="text/css" rel="stylesheet" href="https://init.blackcrow.ai/public/css/${s.toLowerCase()}.css">`),o.hotjar){Ul([`bcai_pred_bttn_${u.name}`],o.hotjar)}const p=Gl(0,o,l,u);n.body.append(p),u.original_button_selector&&function(e,t,o,r){const i=n.querySelector(e.original_button_selector),c=t.querySelector(".sticky-call-to-action-submit");if(i){let t=e.text;if(e.include_prices){let c=o.variants.find((e=>e.id===r))||{};t+=` - ${Uu(c.price||o.price)}`;const a=n.querySelector(`input[value="${r}"]`);_t.addListener(a,"change",(()=>{a.value.length&&(c=o.variants.find((e=>e.id===parseInt(a.value,10)))||{},i.innerHTML=`${e.text} - ${Uu(c.price||o.price)}`)}))}i.innerHTML=t,_t.addListener(i,"click",(e=>{e.preventDefault(),c.click()}))}}(u,p,e,i);const f=u.scroll_depth||o.scroll_depth;f?_t.addListener(t,"scroll",(()=>{zl(o,p,l,f,u.hide_on_scroll_up)})):zl(o,p,l,f,u.hide_on_scroll_up)}))}))}if(t.location.pathname.includes("pages")){const e=new MutationObserver((()=>{if(n.querySelector('a[role="button"]')?.href){e.disconnect();const t=n.querySelector('a[role="button"]');if(i=`${t.href}.js`,!i.includes("/products/"))return;gt(i,{},(e=>c(e)))}}));e.observe(n,{attributes:!1,childList:!0,characterData:!1,subtree:!0})}else gt(i,{},(e=>c(e)))}var Ql=[function(){if(tl(),P(Z)){Vu();const e=Hu();13!==e&&14!==e||!el()||!Zi()||_e(t,"Shopify.checkout")||Gu()}Su((()=>{pt("platform",Lo,(e=>{Xu(e,fo,Fn.CA_CART_CHECKOUT,Zu)})),ol()}))},function(){rl||(rr((()=>{if(!["korres","dropps","theadventurechallenge","pacificabeauty","nativecos"].includes(s.toLowerCase()))return;let e,n;t.DeviceOrientationEvent&&(DeviceOrientationEvent.requestPermission||_t.addListener(t,"deviceorientation",(e=>{const[t,o,r]=[e.alpha,e.beta,e.gamma];n={alpha:t,beta:o,gamma:r}}),{once:!0})),t.DeviceMotionEvent&&(DeviceMotionEvent.requestPermission||_t.addListener(t,"devicemotion",(t=>{const[n,o,r]=[t.acceleration.x,t.acceleration.y,t.acceleration.z];e={x:n,y:o,z:r}}),{once:!0})),_t.addListener(t,"beforeunload",(()=>{if(n||e){const t={custom_dimensions:{motion:e,orientation:n}};fo(Fn.DEVICE_MOTION,t)}}))})),rl=!0)},function(){rr(al),Su((()=>{pt("platform",Oo,(e=>{fo(Fn.DISCOUNT_APPLIED,e)}))})),!1===il&&(_t.addListener(t,"beforeunload",(()=>{al()})),il=!0)},function(){rr(ul),Su((()=>{pt("platform",xo,(e=>{fo(Fn.DISCOUNT_INTERACTION,e)}))}))},function(){if("contact"!==ec())return;let e,t;const o={custom_dimensions:{initial_opt_in_status_email:null,initial_opt_in_status_phone:null,final_opt_in_status_email:null,final_opt_in_status_phone:null}};rr((()=>{e=n.getElementById("checkout_buyer_accepts_marketing"),t=n.getElementById("ps_accepts_sms"),o.custom_dimensions.initial_opt_in_status_email=e?e.checked:null,o.custom_dimensions.initial_opt_in_status_phone=t?t.checked:null;const r=n.getElementById("continue_button");r&&_t.addListener(r,"click",(()=>{t||(t=n.getElementById("ps_accepts_sms")),o.custom_dimensions.final_opt_in_status_email=e?e.checked:null,o.custom_dimensions.final_opt_in_status_phone=t?t.checked:null,fo(Fn.MARKETING_CHECKOUT_EVENT,o)}))}))},function(){const e=qe("config.emailFormTracking"),t=e?.active||!1,n=e?.platforms||[];t&&!0===t&&(rr((()=>{_t.setTimeout($l,5e3)})),n.map((e=>e.name)).forEach((e=>{const t=Ll[e];t&&t()})))},function(){rr((()=>{Xi()&&(Dl(),!1===ql&&(!function(){let e=n.URL;_t.addListener(n,"change",(()=>{const t=n.URL;jl()&&t&&e!==t&&(e=t,Dl())}))}(),ql=!0))})),Su((()=>{pt("platform",Po,(e=>{fo(Fn.OUT_OF_STOCK,e)}))}))},function(){Bl||(rr((()=>{"contact"===ec()&&(_t.addListener(t,"blur",(()=>{if("Checkout with PayPal"===n.activeElement.title){const e={custom_dimensions:{type:"paypal"}};a.push({trigger:Do,data:e})}})),_t.addListener(n,"click",(e=>{!function(e){const t=[{type:"shop_pay",button:[...n.querySelectorAll('[data-testid="ShopifyPay-button"]')]},{type:"google_pay",button:[...n.querySelectorAll('[data-testid="GooglePay-button"]')]},{type:"apple_pay",button:[...n.querySelectorAll('[data-testid="ApplePay-button"]')]}].filter((t=>t.button[0]===e.target));if(t.length){const e={custom_dimensions:{type:t[0].type}};a.push({trigger:Do,data:e})}}(e)})))})),Bl=!0),Su((()=>{pt("platform",Do,(e=>{fo(Fn.PAYMENT_METHOD_CLICK,e)}))}))},function(){Su((()=>{rr(Zl),pt("platform",Bo,(e=>{fo(Fn.PREDICTIVE_BUTTON,e)}))}))},function(){rr((()=>{const e=ec();"payment"===e&&Du(),"shipping"!==e||ju||(_t.addListener(t,"beforeunload",(()=>{!function(){const e=qu();e&&a.push({trigger:qo,data:e})}()})),ju=!0)})),Su((()=>{pt("platform",jo,(e=>{fo(Fn.CA_PAYMENT,e)})),pt("platform",qo,(e=>{fo(Fn.CA_SHIPPING_EXIT,e)}))}))},function(e){var n;!1===Ju&&(Sr((()=>{if(Ki()&&qe("config.shopify.add_to_cart.active"))return zu(!0);throw new Error("Shopify globals not found")})),qe("config.shopify.checkout.active")&&(n=qe("config.shopify.checkout.class_name"),_t.addListener(t,"click",(e=>{const t=_e(e,"target.className");("checkout"===e.target.getAttribute("name")||n&&"string"==typeof t&&t.match(n))&&a.push({trigger:"initiate_checkout"})}))),Ju=!0),Su((()=>{Ki()&&qe("config.shopify.add_to_cart.active")&&pt("platform",Ro,(t=>{Xu(Se({},t,{page_id:"AddToCart"}),e,void 0,"checkout_abandonment")})),pt("platform",Wo,(t=>e(Se({},t,{page_id:"checkout"}))))}))},function(){rr((()=>{_t.setTimeout((()=>{if(t.Rebuy){const e={custom_dimensions:{modules:t.Rebuy.modules}};a.push({trigger:Uo,data:e})}}),3e3)})),Su((()=>{pt("platform",Uo,(e=>{fo(Fn.RB_ACTIVE,e)}))}))}];const ep="target",tp=[fi,Va,as];function np(){function e(e){const t=Ur(ep,e.name);t&&0!==Object.keys(t).length&&"function"==typeof e.identify&&e.identify(ep,(()=>function(e){Ci(ep,e,"advanced_matching"),ke(`target advanced_matching: ${e}`,"update")}(e.name)))}tp.forEach((t=>e(t)))}function op(){(qe("config.visitor.set_info")||Pr())&&rr((function(){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};const t=jt()||qt()||Dt();t?(Wt(t),e()):(Pt((e=>{Wt(e)})),Lt((e=>{Wt(e)})),zt((t=>{Wt(t),e()})))}(np),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};const t=ur()||lr();t?(fr(t),e()):(ar((e=>{fr(e)})),sr((e=>{fr(e)})),mr((t=>{fr(t),e()})))}(np),hr()}))}let rp=!0;function ip(e){C(ku,(e=>{"function"==typeof e.cleanup&&e.cleanup()})),ku={},tr.clear(qe("config.clearBindings")),nr.clear(),Ae(),co(),De({}),je({}),e&&Object.keys(e).length>0&&Te(e)}function cp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};function t(e){xu();const t=Se(e,Pu());if(je(t),zo("platform",_o,{build:i}),pt("platform",vo,n),_e(t,"page.ignored"))return;vc();const o=Lu();function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};co(),fo(Fn.VIEW,e,(e=>{Au(e,o)}))}Su((()=>{pt("platform",bo,(e=>r(e)))})),Ql.forEach((e=>e(r))),fo(Fn.VIEW,{},(e=>{$u(e,o)}),(()=>{$u({},o)}))}function n(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=e.pages||[],r=g(),i=Pn(o,r);if(ke(`page: ${i.id} ${i.isNewPage?"":""}`,i),i.isNewPage){const o=Se(e,i.config);rp?(Ae(),rp=!1):ip(n),t(o)}}function o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Ve(e)?n():t<5?_t.setTimeout((()=>{o(t+1)}),400):(n(),a.error(new Hr("vendor id not found (google id)")))}"google"===_e(e,"config.visitor.id_source")?o():n(),op()}const ap=le({name:"log_spa_refresh_sampling",allocations:[{percent:.1,value:!0}]});function sp(e,t){ap&&A(e,{url:t})}function up(){if(!_()&&qe("config.spa.refresh.enabled")){const e=qe("config.spa.refresh.delay")||1e3;(t=>{if(void 0===t)return void a.error("Unable to setup SPA refresh: window.history is undefined");const n=t.pushState;t.pushState=function(){const o=arguments.length>=3?arguments[2]:"not passed";return sp("history_intercepted_initial",o),_t.setTimeout((()=>{sp("history_intercepted_timeout",o),a.push({trigger:vo})}),e),n.apply(t,arguments)}})(t.history)}}const lp=["load","error"],pp=le({name:"log_intercepted_fb_event",allocations:[{percent:.1,value:!0}]});function fp(e,t){const n="Interepted FB event - ".concat(e.event,". Event fired - ",t.type);pp&&A(n)}function dp(e,t){return e.find((e=>{const n=`facebook.com/tr/\\?id=.*&ev=${e.event}${(e.filters||[]).map((e=>`.*${e}`)).join()}`;return t.src.match(n)}))}const _p=(e,t,n,o)=>{n&&function(e,t,n){const o=dp(t,n);o&&(fp(o,e),a.push({trigger:wo}))}(t,n,e),o&&function(e,t,n){const o=dp(t,n);o&&(fp(o,e),Ki()||"AddToCart"!==o.event||a.push({trigger:Ro}),a.push({trigger:go,data:{page_id:o.page_id,setByFacebookIntercept:!0}}),a.push({trigger:vo}))}(t,o,e)};function mp(){if(!_()){const e=function(){const e=qe("config.events");return e&&e.purchase&&e.purchase.fbEventsToIntercept&&e.purchase.fbEventsToIntercept.length>0?e.purchase.fbEventsToIntercept:null}(),t=function(){const e=qe("config.events");return e&&e.view&&e.view.fbEventsToIntercept&&e.view.fbEventsToIntercept.length>0?e.view.fbEventsToIntercept:null}();if(e||t){const n=Image;Image=function(){for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];const c=new n(...r);return lp.forEach((n=>_t.addListener(c,n,(n=>{_p(c,n,e,t)})))),c}}}}!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};at(e,(()=>{a.SITE_NAME=s,tt(),Zo(),a.coreStarted?a.push({trigger:vo}):(a.coreStarted=!0,er(),qn(e.param_transforms),Ko(),cp(e),up(),mp(),Hn(),t())}))}(l)}()}()}catch(m){try{(u=m).message=u.name+": "+u.message,u.name="ParseError",a.error&&a.error(u)}catch(g){}}}(self,window,document);