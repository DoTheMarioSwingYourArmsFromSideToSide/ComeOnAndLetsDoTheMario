/*  Rapid+JS v7.2.5 Released on 2023-01-26T21:31Z | (c) Yottaa, Inc. | https://www.yottaa.com/rapidjs-license */ (function(k,Xa){return Xa(k)})('undefined'!==typeof window?window:this,function(k,Xa){function T(){var a='0123456789abcdef'.split(''),b=[],c=Math.random,d;b[8]=b[13]=b[18]=b[23]='-';b[14]='4';for(var g=0;36>g;g++)b[g]||(d=0|16*c(),b[g]=a[19==g?d&3|8:d&15]);return b.join('')}function Z(a){return f.rum.key+'-'+a}function ta(){for(var a=f.rum.key?f.rum.key:l.getCookie('yo-rum-key'),b=0,c=0,d=0,g=0;g<f.delayed.length;g++){var q=f.delayed[g];'none'!=q.orgDelayType&&(ha='active',q.newNode&&q.newNode.nodeName? 'img'==q.newNode.nodeName.toLowerCase()?c++:'script'==q.newNode.nodeName.toLowerCase()&&'attributesrc'!=q.type&&b++:q.me&&q.me.nodeName&&'script'==q.me.nodeName.toLowerCase()&&d++)}var g=null!=a?a:k.location.hostname,a=ua,q=Eb,H=Fb,h=document.location.href,m=navigator.userAgent,n=document.title,p=l.hasResourceTiming()&&l.def(k.performance.timing.toJSON),v=l.hasResourceTiming(),x=l.hasResourceTiming(),r=l.metaDataValue('X-Yottaa-Optimizations'),w=(new Date).getTime(),y;if(!1==l.hasResourceTiming()|| !1==l.def(k.performance.getEntriesByType))y={};else{y=k.performance.getEntriesByType('resource');for(var u=y.length,B={},t=0;t<u;t++){var A=y[t],D=B[A.initiatorType];D?(D.count++,D.size+=A.decodedBodySize):B[A.initiatorType]={count:1,size:A.decodedBodySize}}y=B}b={siteKey:g,uuid:a,formatVersion:q,releaseDate:H,requestType:'navigation',fullPageURL:h,pageCategory:'',userAgent:m,pageTitle:n,isNavigationSupported:p,isResourceTimingSupported:v,isPaintTimingSupported:x,yOptimizations:r,eventTimestamp:w, entryMap:y,sequencing:{numScriptsSequenced:b,numImagesSequenced:c,numBlocksSequenced:d,numDelayedObjects:f.delayed.length},commonDimensions:{}};f.rum.pageCategory&&(b.pageCategory=f.rum.pageCategory);C.geo&&(b.geo=C.geo);c=navigator.connection||navigator.mozConnection||navigator.webkitConnection;b.connection={};!0==e.def(c)&&(b.connection.effectiveType=c.effectiveType,b.connection.rtt=c.rtt);for(var z in U)b.commonDimensions[z]=U[z];b.commonDimensions.optState||(b.commonDimensions.optState=ha);try{if(k.localStorage&& localStorage.getItem){var I=localStorage.getItem(Z(Ya));if(null!=I){var I=JSON.parse(I),E=(new Date).getTime()>I.visitorTimestamp+Za;b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:I.numVisitorPageViews+1,numSessionPageViews:E?1:I.numSessionPageViews+1,visitorId:I.visitorId?I.visitorId:T(),numSessions:E?I.numSessions+1:I.numSessions,sessionId:E?T():I.sessionId,bandwidth:''}}else b.visitor={visitorTimestamp:(new Date).getTime(),numVisitorPageViews:1,numSessionPageViews:1,numSessions:1, visitorId:T(),sessionId:T(),bandwidth:''};localStorage.setItem(Z(Ya),JSON.stringify(b.visitor));var F=localStorage.getItem(Z(wa));null!=F&&(b.qoe=JSON.parse(F))}}catch(G){l.log('localStorage was not available',G)}!0==b.isNavigationSupported&&!0!==f.rum.spa&&(b.navigationTiming=k.performance.timing.toJSON(),b.experienceMetrics=ia,$a&&(b.webVitalsInfo=P));b.isPaintTimingSupported=!1;b.paintTiming={};b.userTiming={};b.measureTiming={};if(k.performance&&k.performance.getEntriesByType){z=k.performance.getEntriesByType('paint'); if(null!=z&&0<z.length)for(b.isPaintTimingSupported=!0,g=0;g<z.length;g++)b.paintTiming[z[g].name]=z[g].startTime;z=k.performance.getEntriesByType('mark');if(null!=z&&0<z.length)for(g=0;g<z.length;g++)b.userTiming[z[g].name]=z[g].startTime;z=k.performance.getEntriesByType('measure');if(null!=z&&0<z.length)for(g=0;g<z.length;g++)b.measureTiming[z[g].name]=z[g].duration}C.rum=b}function ab(a){for(var b=0;b<f.delayed.length;b++){var c=f.delayed[b];if(c.src==a||c.srcAttr==a)return c}return null}function $(a, b,c,d){a={lastByteTime:c.duration,implementationType:'dom',type:a,zone:b,resourceName:c.name,resourceSizeBytes:c.decodedBodySize};c=ab(c.name);null!=c&&(a.delayedType=c.orgDelayType,a.delayedValue=c.delayValue);e.def(d)&&(a.stack=d);return a}function xa(a){if(!1!=l.hasResourceTiming()){try{if(!k.localStorage||!k.localStorage.getItem)return}catch(b){l.log('localStorage was not available');return}var c=C.rum,d=[],g=k.performance.timing,q=0,H=0,h=g.domInteractive-g.navigationStart,m=g.domContentLoadedEventEnd- g.navigationStart,n=g.domComplete-g.navigationStart,va=g.loadEventEnd-g.navigationStart,v=k.performance.getEntries(),g=v.length,x;a:{if(document.querySelector&&(x=document.querySelector('img[class*=hero]'),null!=x)){x=x.currentSrc||x.src;break a}for(var r=document.getElementsByTagName('img'),t=null,y=0,u=document.documentElement.scrollTop||document.body.scrollTop,B=0;B<r.length;B++){x=r[B];var w=x.getBoundingClientRect();if(w.top-u<k.innerHeight)w.width*w.height>y&&(t=x.currentSrc||x.src,y=w.width* w.height);else break}x=t}for(r=0;r<g;r++)u=v[r],t=u.startTime,B=0,'resource'==u.entryType&&(t<=h?(H+=f.rum.advanced.domInteractiveCoef,B=1):t<=m?(H+=f.rum.advanced.domContentLoadedEventCoef,B=2):t<=n?(H+=f.rum.advanced.domCompleteCoef,B=3):t<=va||a&&r<a?(H+=f.rum.advanced.loadEventCoef,B=4):0<u.duration&&(q+=u.duration),y=ya[u.name],0!=B&&u.duration>f.rum.advanced.blockingTime?L.push($(4,B,u,y)):0==B&&u.duration>f.rum.advanced.performanceTime&&L.push($(0,B,u,y)),u.decodedBodySize>f.rum.advanced.violationSize&& L.push($(1,B,u,y)),!0==u.name.toLowerCase().startsWith('https:')&&!0==u.name.toLowerCase().startsWith('http:')&&L.push($(3,B,u,y)),x==u.name&&(p.setExperienceMetric('hero_image_display',u.startTime+u.duration),p.setExperienceMetric('hero_image',x)),u.toJSON&&(u=u.toJSON(),u.implementationType='dom',e.def(y)&&(u.stack=y),y=ab(u.name),null!=y&&(u.delayedType=y.orgDelayType,u.delayedValue=y.delayValue),u.onLoadStartTime=t-va,d.push(u)));1<g&&e._calculateTti(v,g,va);k.performance.getEntriesByName&&!0!== f.rum.spaTransition&&(a=document.getElementsByTagName('script'),za(a,'src'),a=document.getElementsByTagName('link'),za(a,'href'),a=document.getElementsByTagName('img'),za(a,'currentSrc'));a=localStorage.getItem(Z(wa));null==a?a={sessionTimeSaved:q,journeyTime:q}:(a=JSON.parse(a),a={sessionTimeSaved:(new Date).getTime()>a.collectionTimestamp+Za?q:a.sessionTimeSaved+q,journeyTime:a.journeyTime+q});a.entries=g;a.timeSaved=q;a.score=H;a.pageMeasured=c?c.fullPageURL:k.location.href;a.pageMeasuredCategory= c?c.pageCategory:'';a.violations=L;!0===f.rum.requests&&(a.resourceTiming=d);a.jsErrors=Aa;a.pageMeasuredUuid=ua;a.collectionTimestamp=(new Date).getTime();a.commonDimensions={};for(var A in U)a.commonDimensions[A]=U[A];a.experienceMetrics=ia;$a&&(a.webVitalsInfo=P);a.commonDimensions.optState||(a.commonDimensions.optState=ha);try{!0!==f.sendRumOnUnload?localStorage.setItem(Z(wa),JSON.stringify(a)):c.qoe=a}catch(D){e.log('LocalStorage failed to save',D)}}}function Gb(a){if(k.performance&&k.performance.getEntriesByType)for(var b= k.performance.getEntriesByType('resource'),c=0;c<b.length;c++)if(b[c].name===a)return c;return-1}function Hb(a,b,c,d){if(f.sequenceWrites&&'script'==a.nodeName.toLowerCase()){for(var g in D)0<D[g].length&&d.writeSelector!=D[g][0].getWriteSelector()&&e.def(d.writeSelector)&&(a.yo_writeSelector=d.writeSelector);e.def(d.writeSelector)&&e.def(d.writeSelector.nodeName)&&(d.writeSelector.id?d.writeSelector='#'+d.writeSelector.id:(b='yo_write_'+Math.floor(1E9*Math.random()),d.writeSelector.setAttribute('id', b),d.writeSelector='#'+b));g=e.select(d.writeSelector);if(null!=g){d=new A(g,{src:a},d);d.initialize();a.write_context=d;a.original_onload=a.onload;a.original_onreadystatechange=a.onreadystatechange;a.onload=a.onreadystatechange=null;var q=!1;a.onerror=a.onload=function(){q||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(e.log('loading ',this,this.write_context.getId()),q=!0,this.original_onload?this.original_onload.call(arguments):h.publish({topic:'sequence/afterloaded/'+ a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange=null)};a.onreadystatechange=function(){q||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(e.log('loading ',this,this.write_context.getId()),q=!0,this.original_onload||h.publish({topic:'sequence/afterloaded/'+a.src,message:a}),this.write_context.finalizeWriteOverride(),this.original_onload=this.write_context=this.onload=this.onreadystatechange= null);this.original_onreadystatechange&&this.original_onreadystatechange.call(arguments)}}}return!0}function Ib(a,b){for(;a.firstChild;)a.removeChild(a.firstChild);e.writeHTML(a,b)}function Jb(){if(!1!=f.afterShockLoaded){for(var a=0;a<f.delayed.length;a++)if('none'!=f.delayed[a].delayType)return;null!=f.intervalID&&(clearInterval(f.intervalID),f.intervalID=null,e.log('Turning off response timer all objects are loaded.'))}}function bb(a){f.sequenceWrites&&e.undef(a.yo_write)&&(a.yo_write=a.write, Ba=Kb,a.writeln=a.write=function(){var b=Array.prototype.slice.call(arguments).join('');Ba(b,a)})}function Kb(a,b){for(var c=!1,d=0;d<f.write.length;d++){var g=f.write[d];if(a.match(g.start)||1==g.state){var d={document:b},q;for(q in g)d[q]=g[q];c=!0;g.string&&!1==Ca?g.string+=a:(g.state=1,g.string=a);if(e.undef(g.end)||a.match(g.end)){if(e.undef(d.delayType)||'none'==d.delayType){g.config=d;if(e.def(d.onBefore))d.onBefore(g,b);e.undef(d.selector)||null==d.selector?d.selector=b:d.selector=e.select(d.selector); d.selector.yo_write?(Ca=!0,-1!=g.string.indexOf('m_js_controller.js')&&(Ca=!0),d.selector.yo_write(g.string)):e.writeHTML(d.selector,g.string,d.how);if(e.def(d.onAfter))d.onAfter(g,b)}else e.undef(d.selector)?(d.selector='yo_write_'+Math.floor(1E9*Math.random()),e.undef(d.how)&&(d.how='append'),e.undef(d.delayValue)&&(d.delayValue=d.selector),document.yo_write('<di'+'v id='+d.selector+' style=width:0px;height:0px></di'+'v>'),d.selector=e.select(d.selector).parentNode):d.selector=e.select(d.selector),q= Yo.sequence.resource(''),e.def(d.onBefore)&&q.beforeLoading(d.onBefore),e.def(d.onLoad)&&q.afterLoaded(d.onLoad),q.type='inner',q.how=g.how,q.newNode=a,q.before=d.selector,q.me=d.selector,f.delayed.push(q),domCompleteTriggered&&q.execute();g.state=2;g.string=''}break}}!1==c&&b.yo_write(a);e.log('write hander = '+a)}function cb(a){return function(b,c){var d='on'+b.toLowerCase(),g=E[d];if(g)!1==aa?ba(function(){try{c.call(g.object||k,g.event)}catch(a){e.log('Overridden event listener threw an exception', a)}},0):(g.listeners.push(c),g.stacks.push(Error().stack));else try{var q=Array.prototype.slice.call(arguments,0);return a?this.yo_addEventListener.apply(this,q):this.yo_attachEvent.apply(this,q)}catch(f){e.log('Overridden event listener threw an exception',f)}}}function Lb(a,b,c){function d(a){e.log('Loading '+c.before.src+' via event handler '+c.delayValue);c.afterShock();var f=null;e.def(a.currentTarget)?f=a.currentTarget:e.def(a.srcElement)&&(f=a.srcElement);e.removeEvent(f,b[0],d)}e.log('Adding event ', b[0],b[1]);e.addEvent(a,b[0],d)}function db(a,b){return a.top>b.top-a.height&&a.bottom<b.bottom+f.offset+2*a.height&&a.left>b.left-a.width&&a.right<b.right+f.offset+2*a.width}function Mb(a,b){return eb(this,a,b,'insert')}function Nb(a){return eb(this,a,a,'append')}function eb(a,b,c,d){h.publish({topic:'sequence/captured',message:{parentNode:a,newNode:b,before:c,captureType:d}});if(!1==Da(b,a,function(a,e){var k=a.clone();k.type=d;k.newNode=b;k.src=b?b.src:'';k.before=c;k.me=e;f.delayed.push(k)}))return V.safeWriteInsert(b, c,a,ca(b),'append'==d);a=f.delayed[f.delayed.length-1];if(domCompleteTriggered||'none'==a.delayType)return a.execute()}function Da(a,b,c){var d=null,g=null,f=!1;a&&a.nodeName&&(d=a.nodeName.toLowerCase());if('script'==d||'iframe'==d){g=ca(a);c(g,b);var f=!0,k=!1;a.onreadystatechange&&(a.onreadystatechangeOriginal=a.onreadystatechange,a.onreadystatechange=null);a.onreadystatechange=function(){k||this.readyState&&'loaded'!==this.readyState&&'complete'!==this.readyState||(h.publish({persistent:!0,topic:'sequence/afterloaded/'+ g.key,message:g}),k=!0);if(this.onreadystatechangeOriginal){var a=this.onreadystatechangeOriginal;this.onreadystatechangeOriginal=null;a.apply(this,arguments)}};a.onload&&(a.onloadOriginal=a.onload,a.onload=null);a.onload=function(){!1==k&&(h.publish({persistent:!0,topic:'sequence/afterloaded/'+g.key,message:g}),k=!0);if(this.onloadOriginal){var a=this.onloadOriginal;this.onloadOriginal=null;a.apply(this,arguments)}}}else if(g=ca(b),null==g||'none'!=g.delayType)c(g,b),g.before=b,f=!0;e.log(a.nodeName+ ' '+a.src+' is'+(f?' ':' NOT ')+'sequenced.');!1==f&&h.publish({topic:'sequence/beforeloading/'+g.key,message:g});return f}function ca(a){var b=a.src;!0==f.excludeParameters&&b&&b.split&&(b=b.split('?')[0]);!0==e.def(a.yo_src)&&(b=a.yo_src);if(null==b||0==b.length){var c=new (_delayed());c.delayType='none';return c}for(c=0;c<f.resources.length;c++){var d=f.resources[c];if(!0==d.match&&!0==e.matchUrl(d.url,b)||'function'===typeof d.url&&!0==d.url(a,d))if('xhr'===a.nodeName&&!0===d.xhr||'dom'===a.nodeName&& !0===d.dom||!0!==d.xhr&&!0!==d.dom&&'xhr'!==a.nodeName&&'dom'!==a.nodeName)return e.log('Found configuration for '+b+' delayType '+d.delayType),'empty'==d.delayType&&(a.src=null==d.delaySrc?'data:text/javascript;plain,//':d.delaySrc,d.delayType='none'),d}e.log('Did NOT find configuration for '+b+' checking local configuration. ');c=new (_delayed());c.key=c.src=b;if(null!=a.delayType)'empty'==a.delayType&&(a.src=null==a.delaySrc?'data:text/javascript;plain,//':a.delaySrc,a.delayType='none'),c[a.delayType](a.delayValue); else c[f.defaultType](f.defaultDelay);c.before=a;return c}function Ea(){for(var a=0;a<f.resources.length;a++){var b=f.resources[a];if(!b.isConfig){var c=new (_delayed());c.key=c.url=b.url;c.match=!0;c.local=!0;c[b.delayType](b.delayValue);f.resources[a]=c}}}function Fa(){var a=e.browser();return!!a&&'chrome'===a.name}function fb(a,b,c){da.postMessage({url:b[c],extensionId:a,extensionAssetUrls:b,assetIndex:c})}function Ga(a,b){ja++;m.setExtensionState(a,b);ja===m.supportedExtensions.length&&(m.detectionComplete= !0,h.publish({topic:'hijacking/finished',message:m.extensionList()}))}function Ob(a){var b=new XMLHttpRequest;b.open('GET',a.data.url);b.onreadystatechange=function(){4===this.readyState&&self.postMessage({assetFound:200===this.status,extId:a.data.extensionId,extAssetUrls:a.data.extensionAssetUrls,assetIdx:a.data.assetIndex})};b.send(null)}function Pb(){var a=new Blob(['self.onmessage = ',Ob.toString()],{type:'application/javascript'}),a=new Worker(URL.createObjectURL(a));a.onerror=function(a){n.utils.log('Journey Hijacking Web Worker Error: '+ a.message)};a.onmessage=function(a){var c=a.data.assetFound,d=a.data.extId,g=a.data.extAssetUrls;a=a.data.assetIdx;c?Ga(d,m.states.INSTALLED):a===g.length-1?Ga(d,c?m.states.INSTALLED:m.states.NOT_INSTALLED):fb(d,g,a+1)};return a}function ka(a,b,c,d){w.checkedComponents.push({id:a.id,state:b,extensionId:c.id});m.setExtensionState(c.id,m.states.INSTALLED);h.publish({topic:'hijacking/component-found',message:{element:d,component:a,extension:c}})}function Ha(a,b,c){a.remove();ka(b,la.BLOCKED,c,a);n.utils.log('Journey Hijacking removed', a,'which matches component',b,'of extension',c);h.publish({topic:'hijacking/blocked',message:{element:a,component:b,extension:c}})}function gb(a,b){Ia.push(h.subscribe({topic:'hijacking/found/'+a.id,callback:b}))}function Qb(a,b,c){c.reportOnly||'active'!==m.optState?b.requireDetection&&m.assetDetection.enabled?gb(c,function(){ka(b,la.DETECTED,c,a)}):ka(b,la.DETECTED,c,a):!0!==b.requireDetection?Ha(a,b,c):w.aggressiveBlocking?Ha(a,b,c):m.assetDetection.enabled?gb(c,function(){Ha(a,b,c)}):ka(b,la.DETECTED, c,a)}function Rb(){var a={childList:!0,subtree:!1};F=new MutationObserver(function(a){for(var c=0;c<a.length;c++)for(var d=0;d<a[c].addedNodes.length;d++)a:for(var g=a[c].addedNodes[d],e=m.supportedExtensions,f=0;f<e.length;f++){var k=e[f];if(k.components)for(var h=0;h<k.components.length;h++){var l;b:{var n=g,v=k.components[h],p=k;try{if(v.test(n)){Qb(n,v,p);l=!0;break b}}catch(r){l=!1;break b}l=void 0}if(l)break a}}});F.observe(k.document.documentElement,a);k.document.body?F.observe(k.document.body, a):k.document.addEventListener('DOMContentLoaded',function(){F.observe(k.document.body,a)})}function hb(a){var b=n.stats().rum,b={siteKey:b.siteKey,sessionId:b.visitor.sessionId,pageMeasured:b.fullPageURL,pageCategory:b.pageCategory,visitorId:b.visitor.visitorId,requestId:b.uuid,optState:m.optState,extensions:m.extensionList(),components:w.checkedComponents};if(a){var c;a:{a=Ja();var d=k.localStorage.getItem(a);if(d){try{c=JSON.parse(d)}catch(g){k.localStorage.removeItem(a);c=null;break a}k.localStorage.removeItem(a)}else c= null}c&&(b.previousPage=c)}return b}function Ka(){n.utils.log('Journey Hijacking will save new components to localstorage');ma=h.subscribe({topic:'hijacking/component-found',callback:Sb})}function Ja(){var a=n.stats().rum;return'hijacking-'+(a&&a.visitor&&a.visitor.sessionId)}function Sb(){var a=hb(!1),b=Ja(),c=JSON.stringify(a);k.localStorage.setItem(b,c);h.publish({topic:'hijacking/payload-saved',message:{storageKey:b,payload:a}})}function ib(){null!==na&&(h.unsubscribe(na),na=null)}function jb(){ib(); var a=hb(!0);if(!a.previousPage&&!1===m.hasDetectedExtensions)return n.utils.log('Journey Hijacking beacon cancelled, nothing to send'),Ka(),!1;var b=h.publish({topic:'hijacking/beforeSend',async:!1,message:a});if(0<b.length&&!1===b[0])return n.utils.log('Journey Hijacking beacon cancelled in beforeSend'),Ka(),!1;h.publish({topic:'hijacking/send',message:a});e.sendData(a,m.config.reportUri);n.utils.log('Journey Hijacking beacon sent');Ka();return!0}function kb(){var a=e.browser();return a?'chrome'=== a.name?!!(k.chrome&&k.chrome.runtime&&k.chrome.runtime.sendMessage)||!1===e.isAndroid()&&!1===e.isIos():'safari'===a.name?!0:!1:!1}var n={},ba=k.setTimeout,lb=k.setInterval,f={defaultDelay:5E3,defaultType:'none',log:!1,throttle:20,sequenceXHR:!1,sequenceWrites:!1,sendTimingData:!1,timingDataURL:'',offset:100,scan:['script','img','source','picture'],resources:[],abTesting:[],write:[],intervalID:null,lazyCheckSize:!0,pre:'data-yo-',srcAttrs:['data-yo-src','data-yo-srcset'],afterShockLoaded:!1,optimizeIE:!0, logPrefix:'Yo.utils.log: ',delayed:[],maxMessageSize:2048E3,scriptAttrs:['async','nomodule','defer'],ttiWatcherInterval:3E3,ttiLagTime:2E3,scrapeLevel:'top',sendRumOnUnload:!1,excludeParameters:!1,rumDelay:100},l={log:function(){if(f.log&&('undefined'!==typeof k&&l.def(k.console)&&l.def(k.console.log)||'undefined'!==typeof self&&l.def(self.console)&&l.def(self.console.log))){var a=Array.prototype.slice.call(arguments);a.unshift(f.logPrefix);console.log.apply(console,a)}},def:function(a){return'undefined'!= typeof a},undef:function(a){return!l.def(a)},isFunction:function(a){return!!(a&&a.constructor&&a.call&&a.apply)},decodeSafeString:function(a){return decodeURIComponent(a)},getCookie:function(a){for(var b=document.cookie.split(';'),c=0;c<b.length;c++){var d=b[c],g=d.indexOf(a+'=');if(0==g||1==g&&' '==d.charAt(0)){for(;' '==d.charAt(0);)d=d.substring(1,d.length);return d.substring(a.length+1,d.length)}}return null},setCookie:function(a,b,c){var d='';c&&(d=new Date,d=new Date(d.getTime()+1E3*c),d='; expires='+ d.toGMTString());document.cookie=a+'='+b+d+'; path=/';return!0},addEvent:function(a,b,c){a.attachEvent?a.attachEvent('on'+b,c):a.addEventListener&&a.addEventListener(b,c,!1)},removeEvent:function(a,b,c){a.detachEvent?a.detachEvent('on'+b,c):a.removeEventListener(b,c,!1)},metaDataValue:function(a,b){var c=document.getElementsByName(a);return null!=c&&1==c.length?1==arguments.length?c[0].getAttribute('content'):c[0].setAttribute('content',b):null},matchUrl:function(a,b){if(null==a||null==b||''==a)return!1; l.log('Match src',b,'and url',a);return'string'===typeof a&&-1!=b.indexOf(a)||'object'===typeof a&&null!=b.match(a)},sendData:function(a,b){if(!0==l.isIE('8'))return l.log('IE 8 detected we will not send data back for this browser currently.'),!1;var c=JSON.stringify(a);if(navigator.sendBeacon&&c.length<f.maxMessageSize&&3E4>c.length)n.pubsub.publish({topic:'sequence/beforeloading/'+b,message:a}),navigator.sendBeacon(b,c),n.pubsub.publish({topic:'sequence/afterloaded/'+b,message:a});else if(c.length< f.maxMessageSize){var d=new XMLHttpRequest;d.onreadystatechange=function(){4==this.readyState&&l.log('Rum data response received',this.status)};d.open('POST',b,!0);d.setRequestHeader('Content-type','application/json');d.send(c)}else l.log('Message is larger than max message length for qoe calles message size: ',c.length,f.maxMessageSize)}},h={},M={},mb=1,La={},oa=[],Tb=function(a,b){ba(function(){a.callback.call(a.context,b.message,b.topic)},0)};h.reset=function(){M={};mb=1;La={};oa=[]};h.subscribe= function(a){a.id=++mb;l.undef(a.priority)&&(a.priority=0);l.undef(a.priority)&&(a.priority=0);'string'===typeof a.topic&&-1!=a.topic.indexOf('*')&&(a.topic=new RegExp(a.topic.replace(/\*/g,'.*')));if('string'===typeof a.topic){a.topic=a.topic.toLowerCase();!0==l.undef(M[a.topic])&&(M[a.topic]=[]);M[a.topic].push(a);M[a.topic].sort(function(a,b){return b.priority-a.priority});var b=La[a.topic];l.def(b)&&a.callback.call(b.context,b.message,b.topic)}else oa.push(a);l.log('_pubsub.subscribe',a.topic, a.id);return a.id};h.publish=function(a){a.topic=a.topic.toLowerCase();for(var b=M[a.topic],c=b=!0==l.undef(b)?[]:b.slice(0),d=0;d<oa.length;d++){var g=oa[d];null!=a.topic.match(g.topic)&&c.push(g)}a.persistent&&(La[a.topic]=a);if(0<b.length){c=[];for(d=0;d<b.length;d++){var g=b[d],e=!0;!0==a.async?Tb(g,a):(e=g.callback.call(g.context,a.message,a.topic),!0==l.def(e)&&c.push(e));l.log('_pubsub.publish',g.topic,g.id);if(!1==e&&!0===a.cancellable)break}return c}l.log('_pubsub.publish',a.topic,'no callbacks'); return 0};h.unsubscribe=function(a){for(var b in M)for(var c=M[b],d=0;d<c.length;d++)if(c[d].id==a)return c.splice(d,1),l.log('_pubsub.unsubscribe','found',a),!0;l.log('_pubsub.unsubscribe','not found');return!1};var C={releaseDate:'2023-01-26-CTRL',errors:{has:!1},config:f},Ma=function(){return C};h.subscribe({topic:'core/configure',callback:function(a){Ma.config=f}});h.subscribe({topic:'core/start',callback:function(){Ma.config=f}});l.addEvent(k,'error',function(a){var b=a.message,c=a.lineno,d=a.filename; 3==arguments.length&&(b=arguments[0],d=arguments[1],c=arguments[2]);l.log('errorCapture',b,c,d);var g='';try{g=a&&a.error&&a.error.stack?a.error.stack:Error().stack}catch(e){}h.publish({topic:'core/js/error',persistent:!0,message:{message:b,implementationType:'dom',resourceName:d,lineNumber:c,stack:g,collectionTimestamp:(new Date).getTime()}});C.errors={has:!0}});var nb=0;l.hasWebVitals=function(){return'undefined'!==typeof k.LayoutShift};var Na=function(){(new PerformanceObserver(function(a){a=a.getEntries(); for(var b=0;b<a.length;b++){var c=a[b];h.publish({topic:'web-vitals/cumulative-layout-shift',persistent:!0,message:{score:c.value,entry:c}})}})).observe({type:'layout-shift',buffered:!0});(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];h.publish({topic:'web-vitals/first-input',persistent:!0,message:{delay:c.processingEnd-c.startTime,name:c.name,startTime:c.startTime,entry:c}})}})).observe({type:'first-input'});(new PerformanceObserver(function(a){a=a.getEntries(); for(var b=0;b<a.length;b++){var c=a[b];h.publish({topic:'web-vitals/largest-contentful-paint',persistent:!0,message:{time:c.startTime,entry:c}})}})).observe({type:'largest-contentful-paint',buffered:!0});(new PerformanceObserver(function(a){a=a.getEntries();for(var b=0;b<a.length;b++){var c=a[b];e.def(c.interactionId)&&nb<c.duration&&(nb=c.duration,h.publish({topic:'web-vitals/interaction-to-next-paint',persistent:!0,message:{time:c.duration,entry:c}}))}})).observe({type:'event',durationThreshold:16, buffered:!0})};try{!0==l.hasWebVitals()&&Na()}catch(Ub){l.log('WebVital initialize error',Ub.message)}l.hasResourceTiming=function(){return l.def(k.performance)&&l.def(k.performance.getEntries)};l.calculateTti=function(){var a=k.performance.timing;if(!1==l.hasResourceTiming()||l.undef(a.loadEventEnd))return-1;var b=k.performance.getEntries();return l._calculateTti(b,b.length,a.loadEventEnd-a.navigationStart)};l._calculateTti=function(a,b,c){for(var d=[],g=f.ttiLagTime,e=-1,k=a[0],h=k.startTime,l= h+k.duration,m=[h,l+g],n=0;n<b;n++)if(k=a[n],h=k.startTime,l=h+k.duration,'resource'==k.entryType)if(!0==(h+l>=m[0]&&h<=m[1])){if(d.push(k),2<d.length)if(m=[h,l+g],ob(d,m),3<=d.length)e=m[1]-g;else break}else if(h>m[1]-g){if(l>c)break;m=[h,l+g];ob(d,m)}if(e<c){if(!1==f.afterShockLoaded)return-1;e=c}p.setExperienceMetric('time_to_interactive',e);return e};var ob=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],g=d.startTime;!1==(g+(g+d.duration)>=b[0]&&g<=b[1])&&(a.splice(c,1),c--)}},p={},pb=!1, Eb='3',Fb='2023-01-26-CTRL',Aa=[],wa='rapid-js-qoe-5',Ya='rapid-js-visitor-3',L=[],ha='unknown',U={optState:ha},Za=18E5,ua=T(),ya={},Oa=0,qb=0,ia={},$a=l.hasWebVitals(),P={lcp:[],cls:[],fid:[],inp:[]};p.captureRum=function(){l.def(f.rum)&&l.def(f.rum.beaconUrl)&&!1==pb&&(pb=!0,!0!==f.rum.spa&&ba(function(){l.log('onload window event triggered');!0===f.sendRumOnUnload?ta():h.publish({topic:'rum/send',message:C.rum})},f.rumDelay),l.addEvent(k,'beforeunload',function(){l.log('beforeunload window event triggered'); !0===f.sendRumOnUnload?h.publish({topic:'rum/send',message:C.rum}):xa()}))};p.initialize=function(a,b,c,d,g){f.rum={beaconUrl:a,requests:b,key:c,post:!0,advanced:{performanceTime:1500,blockingTime:750,violationSize:1024E3,domInteractiveCoef:200,domContentLoadedEventCoef:150,domCompleteCoef:100,loadEventCoef:50}};l.def(g)&&(g.performanceTime&&(f.rum.advanced.performanceTime=g.performanceTime),g.blockingTime&&(f.rum.advanced.blockingTime=g.blockingTime),g.violationSize&&(f.rum.advanced.violationSize= g.violationSize),g.maxMessageSize&&(f.maxMessageSize=g.maxMessageSize));k.performance&&k.performance.setResourceTimingBufferSize&&k.performance.setResourceTimingBufferSize(500)};p.addViolation=function(a,b){L.push({lastByteTime:0,implementationType:'dom',type:a,zone:0,duration:0,startTime:-1,resourceName:b,resourceSizeBytes:0})};var za=function(a,b){for(var c=0;c<a.length;c++)if('href'!=b||'stylesheet'==a[c].rel){var d=a[c][b];if(null!=d&&''!=d&&(0==d.indexOf('//')&&(d=k.location.protocol+d),!0== d.startsWith('http'))){var g=k.performance.getEntriesByName(d);null!=g&&0!=g.length||L.push($(2,0,{name:d,duration:0,decodedBodySize:0},ya[d]))}}},Na=function(){p.setExperienceMetric('cumulative_layout_shift',0);h.subscribe({topic:'web-vitals/cumulative-layout-shift',callback:function(a){var b=a.entry,c=[];if(!b.hadRecentInput){var d=p.getExperienceMetric('cumulative_layout_shift');p.setExperienceMetric('cumulative_layout_shift',d+a.score)}for(a=0;a<b.sources.length;a++)d=b.sources[a],c.push({node:l.elementToString(d.node), currentRect:d.currentRect,previousRect:d.previousRect});P.cls.push({duration:b.duration,entryType:b.entryType,hadRecentInput:b.hadRecentInput,lastInputTime:b.lastInputTime,name:b.name,sources:c,startTime:b.startTime,value:b.value})}});h.subscribe({topic:'web-vitals/first-input',callback:function(a){var b=a.entry;p.setExperienceMetric('first_input_delay',a.delay);p.setExperienceMetric('first_input_name',a.name);p.setExperienceMetric('first_input_start_time',a.startTime);P.fid.push({cancelable:b.cancelable, duration:b.duration,entryType:b.entryType,name:b.name,processingEnd:b.processingEnd,processingStart:b.processingStart,startTime:b.startTime,target:l.elementToString(b.target)})}});h.subscribe({topic:'web-vitals/largest-contentful-paint',callback:function(a){var b=a.entry;p.setExperienceMetric('largest_contentful_paint',a.time);P.lcp.push({entryType:b.entryType,duration:b.duration,id:b.id,name:b.name,renderTime:b.renderTime,startTime:b.startTime,size:b.size,loadTime:b.loadTime,url:b.url,resourceIndex:Gb(b.url), element:l.elementToString(b.element)})}});h.subscribe({topic:'web-vitals/interaction-to-next-paint',callback:function(a){var b=a.entry;p.setExperienceMetric('interaction_to_next_paint',a.time);P.inp.push({duration:b.duration,entryType:b.entryType,interactionId:b.interactionId,name:b.name,processingEnd:b.processingEnd,processingStart:b.processingStart,startTime:b.startTime,target:l.elementToString(b.target)})}})};p.captureStack=function(){try{return Error().stack}catch(a){return''}};p.set=function(a, b){U[a]=b};p.spa=function(){f.rum&&(f.rum.spa=!0)};p.get=function(){return U};p.now=function(){return k.performance&&k.performance.now?Math.floor(k.performance.now()):Math.floor((new Date).getTime())};p.setExperienceMetric=function(a,b){ia[a]=b};p.getExperienceMetric=function(a){return ia[a]};h.subscribe({topic:'core/load',callback:function(){!0==e.def(f.rum)&&(f.rum.onLoadTime=p.now());p.captureRum()}});h.subscribe({topic:'sequence/captured',callback:function(a,b){var c='';a.open_args?c=a.open_args[1]: a.newNode&&a.newNode.src?c=a.newNode.src:a.delayed&&a.delayed.newNode&&a.delayed.newNode.src?c=a.delayed.newNode.src:a.src&&(c=a.src);ya[c]=p.captureStack()}});h.subscribe({topic:'core/js/error',callback:function(a,b){Aa.push(a)}});h.subscribe({topic:'rum/spa/transition/start',callback:function(a,b){if(0!=Oa){var c=p.now(),d=C.rum;f.rum.spa=f.rum.spaTransition=!0;if(l.undef(d)||l.undef(d.navigationTiming))l.undef(d)&&(d={}),k.performance&&k.performance.timing&&(d.navigationTiming=k.performance.timing.toJSON()); for(var g in d.navigationTiming)d.navigationTiming[g]=c;ua=T();L=[];Aa=[];xa(qb);k.performance&&(p.clearResourceTimings.call(k.performance),k.performance.clearMarks&&k.performance.clearMarks(),k.performance.clearMeasures&&k.performance.clearMeasures())}}});h.subscribe({topic:'rum/spa/rendered',callback:function(a,b){var c=C.rum,d=p.now(),g=c?c.navigationTiming:null;ta();c=C.rum;!0==e.undef(c.navigationTiming)&&(c.navigationTiming=g?g:k.performance&&k.performance.timing?k.performance.timing.toJSON(): {});a.pageType&&a.viewType&&(c.pageCategory=a.pageType+'-'+a.viewType);if(!0===f.rum.spaTransition)c.navigationTiming.loadEventEnd=d;else if(f.rum.onLoadTime)c.navigationTiming.loadEventEnd=c.navigationTiming.navigationStart+(c.navigationTiming.loadEventEnd-c.navigationTiming.navigationStart)+(d-f.rum.onLoadTime);else return f.rum.spa=!1,Oa++,!1;f.rum.spaTransition=!1;!0==l.hasResourceTiming()&&(qb=k.performance.getEntries().length);Oa++;c=h.publish({topic:'rum/beforeSend',async:!1,message:C.rum}); 0!=c.length&&!1===c[0]||l.sendData(C.rum,f.rum.beaconUrl);p.setExperienceMetric('cumulative_layout_shift',0);P={lcp:[],cls:[],fid:[],inp:[]};!0==e.def(n.sequence)&&(n.configure({scan:['img','source','script']}),n.sequence.displayNow())}});h.subscribe({topic:'rum/send',callback:function(a,b){ta();!0===f.sendRumOnUnload&&xa();var c=h.publish({topic:'rum/beforeSend',async:!1,message:C.rum});0!=c.length&&!1===c[0]||l.sendData(C.rum,f.rum.beaconUrl)}});k.performance&&k.performance.clearResourceTimings&& (p.clearResourceTimings=k.performance.clearResourceTimings,k.performance.clearResourceTimings=function(){});Na();var W=document;_loadCookieConfig=function(){var a=l.getCookie('yo-aftershock-config');if(null!=a&&0<a.length)try{a=JSON.parse(a),n.configure(a)}catch(b){}};_domready=function(){function a(a){b(a)}function b(a){('poll'===a||'readystatechange'===a.type)&&'complete'!==W.readyState||d||(d=!0,f.afterShockLoaded=!0,h.publish({topic:'core/load',async:!0,message:n,persistent:!0}))}function c(){try{W.documentElement.doScroll('left')}catch(a){ba(c, 50);return}b('poll')}var d=!1,g=!0;if('complete'===W.readyState)f.afterShockLoaded=!0,h.publish({topic:'core/load',async:!0,message:Yo,persistent:!0});else{if(W.createEventObject&&W.documentElement.doScroll){try{g=!k.frameElement}catch(e){}g&&c()}l.addEvent(k,'load',a)}};h.subscribe({topic:'core/start',callback:function(){_loadCookieConfig();_domready()}});var e=l;String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});String.prototype.endsWith|| (String.prototype.endsWith=function(a){return-1!==this.indexOf(a,this.length-a.length)});e.rewrite=function(a){var b=e.metaDataValue('resource.version'),c=e.metaDataValue('cdn.hostname'),d=e.metaDataValue('profile.id');return location.protocol+c+'/'+d+'/'+location.hostname+'/'+b+(0!=a.indexOf('/')?'/':'')+a};e.rewriteImageAPI=function(a){var b=e.metaDataValue('resource.version'),c=e.metaDataValue('cdn.hostname'),d=e.metaDataValue('profile.id'),g='o~',f=e.browser();f&&'chrome'===f.name?g+='f_webp': f&&'safari'===f.name&&13<=f.version&&(g+='f_jp2');!0==a.startsWith('/')&&!1==a.startsWith('//')&&(a=k.location.protocol+'//'+k.location.hostname+a);return location.protocol+c+'/'+d+'/'+g+'/'+b+'/'+a};e.rewriteSrcSet=function(a,b){for(var c=a.split(','),d='',g=0;g<c.length;g++){var e=c[g].trim(),f=e.lastIndexOf(' '),k='';-1!=f&&(k=' '+e.substring(f).trim(),e=e.substring(0,f).trim());e=b(e,k);d+=e+k;g<c.length-1&&(d+=', ')}return d};e.select=function(a){var b=-1;if(null==a||1==a.length)return null; if('document'==a)return document;if('window'==a)return k;if(e.def(a.nodeName))return a;if('.'==a[0])return a=document.getElementsByClassName(a.substring(1)),0<a.length?a[0]:null;if(-1!=(b=a.indexOf('['))){var c=a.substring(0,b),d=a.substring(b+1),g=d.indexOf(']'),f=d.indexOf('['),d=d.substring(0,g),h=0,g=-1,l=[],m=null;if(-1!=(h=d.indexOf('~')))g=2;else if(-1!=(h=d.indexOf('*')))g=1;else if(-1!=(h=d.indexOf('=')))g=0;else return null;if(-1!=f){f=a.substring(b+1+f+1);b=f.indexOf(']');try{f=parseInt(f.substring(0, b))}catch(n){}}var p=d.substring(0,h),h=d.substring(h+1);2==g&&(m=new RegExp(h));c=document.getElementsByTagName(c);for(b=0;b<c.length;b++){var v=0<p.length?c[b].getAttribute(p):c[b].innerHTML;0==g&&v==h?l.push(c[b]):1==g&&null!=v&&-1!=v.indexOf(h)?l.push(c[b]):2==g&&null!=v&&-1!=v.search(m)&&l.push(c[b])}e.log(a,d,p,h,0==l.length?l.length:l[0]);return-1!=f?f<l.length?l[f]:null:l[0]}'#'==a[0]&&(a=a.substring(1));return document.getElementById(a)};e.writeHTML=function(a,b,c){var d=document.createElement('div'); d.innerHTML='string'===typeof b?b:b.innerHTML;for(b=d.childNodes;0<b.length;)if('script'==b[0].nodeName.toLowerCase())if(b[0].src)n.sequence.script(d.removeChild(b[0]).src).load();else try{eval(d.removeChild(b[0]).innerHTML)}catch(g){e.log(g)}else'insert'==c?a.parentNode.insertBefore(d.removeChild(b[0]),a):a.appendChild(d.removeChild(b[0]))};e.contains=document.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:document.documentElement.contains?function(a, b){return a!==b&&(a.contains?a.contains(b):!1)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};e.updateHeadItemAttributes=function(a,b,c){0>a&&(document.cookie='yo-disable-instanton=true;Max-Age=2',k.location.reload(!0));a=document.documentElement.getElementsByTagName('head')[0].children[a];for(var d=0;d<b.length;d++)a.removeAttribute(b[d]);for(var g in c)a.setAttribute(g,c[g])};e.replaceHeadItemContent=function(a,b){0>a&&(document.cookie='yo-disable-instanton=true;Max-Age=2',k.location.reload(!0)); document.documentElement.getElementsByTagName('head')[0].children[a].textContent=b};e.isIE=function(a){var b=navigator.userAgent;return b&&a&&11==parseInt(a)&&-1!=b.indexOf('rv:11')?!0:b&&a&&-1!=b.indexOf('MSIE '+a)?!0:b&&(-1!=b.indexOf('MSIE')||-1!=b.indexOf('rv:11'))};e.isIos=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!k.MSStream};e.isAndroid=function(){return/Android/.test(navigator.userAgent)&&!k.MSStream};e.browser=function(){var a=navigator.userAgent,b,c=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)|| [];if(/trident/i.test(c[1]))return b=/\brv[ :]+(\d+)/g.exec(a)||[],{name:'IE',version:b[1]||''};if('Chrome'===c[1]&&(b=a.match(/\bOPR|Edge\/(\d+)/),null!=b))return{name:'Opera',version:b[1]};c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,'-?'];null!=(b=a.match(/version\/(\d+)/i))&&c.splice(1,1,b[1]);return{name:c[0].toLowerCase(),version:parseInt(c[1])}};e.inArray=function(a,b,c){var d;if(b){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(b,a,c);d=b.length;for(c=c?0>c?Math.max(0, d+c):c:0;c<d;c++)if(c in b&&b[c]===a)return c}return-1};e.elementToString=function(a){try{if(a instanceof HTMLElement){var b='<'+a.nodeName.toLowerCase();if(a.getAttribute){var c=a.getAttribute('name'),d=a.getAttribute('id'),g=a.getAttribute('class');null!=c&&0<c.length&&(b+=' name="'+c+'"');null!=d&&0<d.length&&(b+=' id="'+d+'"');null!=g&&0<g.length&&(b+=' class="'+g+'"')}return b+' />'}return a.toString?a.toString():'[Object]'}catch(e){}};var Pa=function(a){h.subscribe({topic:'sequence/beforeloading/'+ this.key,callback:a,context:this});return this},Qa=function(a){h.subscribe({topic:'sequence/afterloaded/'+this.key,callback:a,context:this});return this},V={},D={},A=function(a,b,c){this.id='yo_write_'+Math.floor(1E9*Math.random());this.writeContent='';this.writeLocation=a;this.offScreenDom=null;this.delayed=c;this.domElement=b;this.scripts=[];e.log('creating WriteContext',this.id,this.domElement.src);A.prototype.getId=function(a){return this.id};A.prototype.collectDocumentWrite=function(a){this.writeContent+= a;e.log('write override',this.getId(),this.domElement.src,a)};A.prototype.addScript=function(a){this.scripts.push(a)};A.prototype.getWriteSelector=function(){return this.delayed.writeSelector};A.prototype.executeDeferredScripts=function(){for(var a=0;a<this.scripts.length;a++){var b=this.scripts[a],c=b.getAttribute('src');e.def(b.yo_src)&&(c=b.yo_src);n.sequence.script(c).none().writeLocation(b.yo_writeSelector).load()}};A.prototype.finalizeWriteOverride=function(){null==this.writeLocation?e.log('write location is null, content ignored', this.getId(),this.domElement.src):0<this.writeContent.length?(e.log('creating off screen DOM',this.getId(),this.domElement.src),this.offScreenDom=W.createElement('div'),this.offScreenDom.innerHTML=this.writeContent):e.log('no content, just continue',this.getId(),this.domElement.src);this.continueWrite()};A.prototype.initialize=function(){var a=D[this.delayed.writeSelector];e.undef(a)&&(a=D[this.delayed.writeSelector]=[]);a.push(this);Ba=function(){var b=Array.prototype.slice.call(arguments,0,-1).join(''); 0<a.length&&a[a.length-1].collectDocumentWrite(b)}};A.prototype.insertContent=function(){for(;0<this.offScreenDom.childNodes.length;){var a=this.offScreenDom.childNodes[0],b=a.nodeName.toLowerCase();if('script'==b){b=a.getAttribute('language');if(null==b||'vbscript'!=b.toLowerCase()){D[this.delayed.writeSelector].push(this);try{this.offScreenDom.removeChild(a)}catch(c){}n.sequence.script(a.getAttribute('src')).none().writeLocation(this.delayed.writeSelector).load();return!1}try{eval(a.innerHTML), this.offScreenDom.removeChild(a)}catch(e){}this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}else if('link'==b&&'stylesheet'==a.getAttribute('rel').toLowerCase()){document.getElementsByTagName('head')[0].appendChild(a);try{this.offScreenDom.removeChild(a)}catch(f){}}else this.writeLocation.parentNode.insertBefore(a,this.writeLocation)}this.offScreenDom.innerHTML='';return!0};A.prototype.continueWrite=function(){for(var a=D[this.delayed.writeSelector],b=a.pop();b;){e.log('Continue writing ', b.getId());if(b.offScreenDom&&!1==b.insertContent())break;0==a.length&&b.executeDeferredScripts();b=a.pop()}}};V.safeWriteInsert=function(a,b,c,d,g){if(!0==Hb(a,b,c,d)){var f;a:{try{!0==e.def(a.yo_src)&&(!0==e.isIE()?a.setAttribute('src',a.yo_src):a.src=a.yo_src);a.yo_processed=!0;f=!0==g||c.contains&&!1==c.contains(b)?c.yo_ac(a):c.yo_ib(a,b);break a}catch(k){e.log('ERROR adding domElement into dom',a,k)}f=void 0}return f}};V.safeWriteEval=function(a,b,c,d,g){b=a;if(f.sequenceWrites&&e.def(d.writeLocation)){for(var q in D)0< D[q].length&&d.writeSelector!=D[q][0].getWriteSelector()&&e.def(d.writeSelector)&&(d.yo_writeSelector=d.writeSelector);e.def(d.writeSelector)&&e.def(d.writeSelector.nodeName)&&(d.writeSelector.id?d.writeSelector='#'+d.writeSelector.id:(q='yo_write_'+Math.floor(1E9*Math.random()),d.writeSelector.setAttribute('id',q),d.writeSelector='#'+q));q=e.select(d.writeSelector);null!=q&&(q=new A(q,{src:b},d),q.initialize(),d.write_context=q)}try{a=a.replace('<script>','').replace('\<scri'+'ipt>',''),'gpt'==g&& (a='googletag.cmd.push(function() { googletag.pubads().enableSyncRendering = function(){}; '+a+'});'),k.eval(a),f.sequenceWrites&&d.write_context.finalizeWriteOverride()}catch(h){e.log('Error eval',h)}};f.delayed=[];f.targets=[];var G=function(){this.executed=!1;this.cont=!0};G.prototype.afterLoaded=Qa;G.prototype.beforeLoading=Pa;G.prototype.execute=function(){return this.afterShock()};G.prototype.clone=function(){var a=new G,b;for(b in this)a[b]=this[b];return a};G.prototype.preventDefault=function(){this.cont= !1};G.prototype.key=null;G.prototype.isConfig=function(a){return this.delayType==a};G.prototype.afterShock=function(){var a=null;if(!0!=this.loaded&&(this.delayType='none',this.loaded=!0,e.log('Injecting ',this.newNode,', by ',this.type,' into the DOM now.'),'attributesrc'!=this.type&&h.publish({topic:'sequence/beforeloading/'+this.key,message:this}),!1!=this.cont)){var b=this.newNode,c=this.type,d=this.before;if('insert'==c)a=V.safeWriteInsert(b,d,this.me,this,!1);else if('append'==c)a=V.safeWriteInsert(b, null,this.me,this,!0);else if('replace'==c)this.me.replaceChild(b,d),h.publish({topic:'sequence/afterloaded/'+this.key,message:this});else if('attributesrc'==c)d.setAttribute('src',b.yo_src);else if('src'==c)e.def(this.animator)&&null!=this.animator?animator(d,this.animator):e.def(f.animator)&&animator(d,f.animator),b=d.getAttribute(f.pre+'srcset'),null!=b&&d.setAttribute('srcset',b),d.src=this.srcAttr;else if('style'==c)b.setAttribute('style',b.getAttribute(f.pre+'style'));else if('inner'==c)e.log(this.how+ ' -> '+b),'replace'==this.how?Ib(d,b):'eval'==this.how||'gpt'==this.how?a=V.safeWriteEval(b,d,this.me,this,this.how):e.writeHTML(d,b,this.how),h.publish({persistent:!0,topic:'sequence/afterloaded/'+this.key,message:this});else if('function'==c)e.log(this.how+' -> '+b),d=this.func.apply(this.funcThis,this.funcParameters),h.publish({topic:'sequence/afterloaded/'+this.key,message:{delayed:this,retVal:d}});else if('xhr'==c){this.xhr.onreadystatechange&&(this.xhr.original_oonreadystatechange=this.xhr.onreadystatechange); var g=this;this.xhr.onreadystatechange=function(a){4==g.xhr.readyState&&h.publish({topic:'sequence/afterloaded/'+g.key,message:[a,this]});g.xhr.original_oonreadystatechange&&g.xhr.original_oonreadystatechange.apply(this)};this.xhr.xhr_send.apply(this.xhr,this.xhr._yo.send_args)}else'image'==c&&this.loadImage(this);Jb();return a}};_delayed=function(){return G};var ea=function(a){var b=new (_delayed());'string'===typeof a&&0==a.indexOf('/')&&a.lastIndexOf('/')==a.length-1&&(a=new RegExp(a));b.key=b.url= a;b.match=!0;e.undef(f.resources)&&(f.resources=[]);for(var c=-1,d=0;d<f.resources.length;d++){var g=f.resources[d].url;if('string'===typeof a&&'string'===typeof g&&-1!=a.indexOf(g)||'string'!==typeof g&&'function'!==typeof g&&'string'===typeof a&&null!=a.match(g)){c=d;break}}b.writeLocation=function(a){this.writeSelector=a;return this};-1==c?f.resources.push(b):f.resources.splice(c,0,b);return b},Ba=null,Ca=!1;h.subscribe({topic:'core/configure',callback:function(){bb(document)}});var N={},Vb=function(a, b,c,d,g){this._yo={open_args:arguments,async:!1===c?!1:!0};e.log('xhr open = '+b+', async '+c);h.publish({topic:'sequence/captured',message:this._yo});return this.xhr_open.apply(this,arguments)},Wb=function(a){if(e.undef(this._yo)||!0!==this._yo.async)return this.xhr_send.apply(this,arguments);var b=this,c={src:this._yo.open_args[1],nodeName:'xhr'};if(!1==Da(c,c,function(a,c){var e=a.clone();e.type='xhr';e.xhr=b;e.src=c.src;e.newNode=c;f.delayed.push(e);!0==f.afterShockLoaded&&e.execute()}))return e.log('xhr send is NOT defered, '+ c.src),this.xhr_send.apply(this,arguments);this._yo.send_args=arguments;e.log('xhr send is defered, '+c.src+', '+f.delayed[f.delayed.length-1].delayType);return this},Xb=function(){if(e.undef(this._yo)||e.undef(this._yo.send_args)||!0!==this._yo.async)return this.xhr_abort.apply(this,arguments);e.log('Abort to the xhr object is called',' async true')};N.create=function(a){!0!=f.sequenceXHR&&n.configure({sequenceXHR:!0});a=ea(a);a.xhr=!0;a.rewrite=function(a){this.afterLoaded(function(c){e.log('Begging to rewrite data for ajax call.'); try{if(!(2>c.length)){var d=c[1],g=d.responseText,g=a.call(this,g);Object.defineProperty&&(Object.defineProperty(d,'responseText',{get:function(){return g}}),Object.defineProperty(d,'response',{get:function(){return g}}))}}catch(f){e.log('Error in rewrite handling',f)}})};return a};N.captureMethods=function(a){!0==e.undef(a.XMLHttpRequest.prototype.xhr_open)&&(a.XMLHttpRequest.prototype.xhr_open=a.XMLHttpRequest.prototype.open,a.XMLHttpRequest.prototype.xhr_send=a.XMLHttpRequest.prototype.send,a.XMLHttpRequest.prototype.xhr_abort= a.XMLHttpRequest.prototype.abort)};N.overrideMethods=function(a){a.XMLHttpRequest.prototype.open=Vb;a.XMLHttpRequest.prototype.send=Wb;a.XMLHttpRequest.prototype.abort=Xb};N.captureMethods(k);h.subscribe({topic:'core/configure',callback:function(){!0==f.sequenceXHR&&!0==e.def(XMLHttpRequest)&&N.overrideMethods(k)}});_findTags=function(a,b){var c=document.getElementsByTagName(a),d;e.log('Find all '+a+' tags in the document.');for(var g=0,k=c.length;g<k;g+=1){d=c[g];if(!0===b){var h=d.getAttribute(f.pre+ 'delayType');null==h||'defer'!=h&&'lazy'!=h||(d.setAttribute(f.pre+'delayType','none'),d.setAttribute(f.pre+'delayValue',''));h=d.getAttribute('type');null!=h&&(-1<h.indexOf('yo/sequence/defer')||-1<h.indexOf('yo/sequence/lazy'))&&d.setAttribute('type','yo/sequence/none/')}if('true'!==d.getAttribute(f.pre+'loaded')){var h=_srcAttr(d),l=d.getAttribute(f.pre+'style');h?(e.log('Found src ',a,', src = '+h+' tag to handle with AfterShocK.'),n.sequence.content(d).load()):'script'==a?(h=d.getAttribute('type'), d.getAttribute(f.pre+'src'),h&&-1<h.indexOf('yo/sequence')?(e.log('Found a '+a+', yo/sequence tag to handle with AfterShocK.'),n.sequence.content(d).load()):'yo/abtest'==h&&_abTestScript(d)):l&&(e.log('Found style ',a,', src = '+h+' tag to handle with AfterShocK.'),d=n.sequence.content(d),d.type='style',d.before=d.newNode,d.load())}}};_srcAttr=function(a){for(var b=0;b<f.srcAttrs.length;b++){var c=a.getAttribute(f.srcAttrs[b]);if(null!=c)return c}return(c=a.getAttribute('src'))&&'data:image/cloaked;plain,'== c.slice(0,25)?c.substring(25):null};_needsEval=function(a){var b=a.getAttribute('type');return'SCRIPT'==a.nodeName.toUpperCase()&&null==a.getAttribute('src')&&null!=b&&0<=b.indexOf('chain')};_loadFromDOM=function(a){a='string'===typeof a?e.select(a):a;var b=content=e.select(a.getAttribute(f.pre+'location')),c=a.getAttribute(f.pre+'how'),d=new (_delayed()),g=a.nodeName.toLowerCase(),q=a;'eval'==c||'gpt'==c?(content=a.innerHTML,d=n.sequence.script(content)):!0==_needsEval(a)?(content=a.innerHTML,c= 'eval',d=n.sequence.script(content)):null==c&&(c='replace');var h=a.getAttribute(f.pre+'key');null!=h&&(d.key=h);var l=a.getAttribute(f.pre+'delayType'),m=a.getAttribute(f.pre+'delayValue'),p=_srcAttr(a),r=p&&0<p.length?'src':'inner',v=a.getAttribute(f.pre+'animator'),x=a.getAttribute(f.pre+'onbefore');null!=x&&e.isFunction(k[x])&&d.beforeLoading(k[x]);var t=a.getAttribute(f.pre+'onLoad');null!=t&&e.isFunction(k[t])&&d.afterLoaded(k[t]);null==content&&(content=a,c='insert');a.setAttribute(f.pre+'loaded', 'true');if(-1===e.inArray(a,f.targets)){d.animator=v;if('img'==g||'source'==g||'picture'==g)null==l&&(l='lazy'),null==b&&(b=a);else if('script'==g){g=a.getAttribute('type');null!=g&&(g=g.split('/'),2<g.length&&(l=g[2],m=g[3]));g=a.getAttribute(f.pre+'writeLocation');d.writeSelector=g||a;v=p;null==v&&'chain'==l&&(v=a.getAttribute('src'));if(null!=v){null==l&&(l='none');b={};for(c=0;c<f.scriptAttrs.length;c++)d=f.scriptAttrs[c],b[d]=a.getAttribute(d);d=n.sequence.script(v,b)[l](m);null!=h&&(d.key=h); null!=x&&e.isFunction(k[x])&&d.beforeLoading(k[x]);null!=t&&e.isFunction(k[t])&&d.afterLoaded(k[t]);d.writeLocation(g||a);d.src=v;d.me=a;d.load();return d}null==b&&(b=a)}null==l&&(l='none');!0==e.contains(document.documentElement,a)&&a.setAttribute(f.pre+'loaded','true');d[l](m);d.before=b;d.me=q;d.type=r;d.srcAttr=p;d.how=c;d.match=!1;d.newNode='eval'==c||'gpt'==c?content:a;d.key||(d.key=d.srcAttr);return d}};h.subscribe({topic:'core/load',callback:function(){n.sequence.scanTags(!1)}});var pa={}, E={},aa=!1,Yb=function(a,b){var c='on'+b.toLowerCase();if(!e.def(E[c])&&(E[c]={object:a,name:b,event:null,propertySets:[],listeners:[],stacks:[]},e.addEvent(a,b,function(c){var d=E['on'+b.toLowerCase()];d.event=c;navigator.userAgent.match(/MSIE /)&&(d.event={type:c.type});!a.yo_addEventListener&&a.addEventListener&&(a.yo_addEventListener=a.addEventListener,a.addEventListener=cb(!0));!a.yo_attachEvent&&a.attachEvent&&(a.yo_attachEvent=a.attachEvent,a.attachEvent=cb(!1))}),Object.defineProperty&&'load'== b))try{Object.defineProperty(k,'onload',{set:function(a){try{!1==aa?a.call(k,E.onload.event):(E.onload.propertySets.push(a),E.onload.stacks.push(Error().stack))}catch(b){e.log('Overridden onload threw an exception',b)}}})}catch(d){e.log('onload property event handler threw exception',d)}};_clearEvents=function(a){!0==e.def(a.yo_addEventListener)&&(a.addEventListener=a.yo_addEventListener,delete a.yo_addEventListener);!0==e.def(a.yo_attachEvent)&&(a.attachEvent=a.yo_attachEvent,delete a.yo_attachEvent)}; pa.loadEvents=function(a,b){!0==e.undef(a)&&(a=[{eventName:'load',eventObject:k},{eventName:'DOMContentLoaded',eventObject:document}]);!0==e.def(b)&&(aa=b);for(var c=0;c<a.length;c++)Yb(a[c].eventObject,a[c].eventName)};pa.clearEvents=function(){for(var a=[k,document],b=0;b<a.length;b++)_clearEvents(a[b])};pa.fireLoadEvents=function(){if(!0==aa){aa=!1;e.log('fireLoadEvents was called will loop through all the events',E);for(var a in E){for(var b=E[a],c=0;c<b.propertySets.length;c++)try{b.propertySets[c].call(k, b.event)}catch(d){e.log('Exception for the property set listener',b,d)}for(c=0;c<b.listeners.length;c++)try{b.listeners[c].call(b.object||k,b.event)}catch(g){e.log('Exception for the event listener',b,g)}}}};var qa=null,rb=function(a){a.tempImage=new qa;var b=a.image.onload;a.image.onload=null;a.tempImage.onload=function(c){b&&b.call(a.image,c);h.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})};var c=a.image.onerror;a.image.onerror=null;a.tempImage.onerror=function(b){c&&c.call(a.image, b);h.publish({topic:'sequence/afterloaded/'+a.key,message:arguments})};h.publish({topic:'sequence/beforeloading/'+a.key,message:arguments});a.tempImage.src=a.src;a.image.setAttribute('src',a.src)},Zb=function(){null==qa&&(qa=Image,Image=function(){var a=new qa;try{Object.defineProperty(a,'src',{set:function(b){this.yo_src=b;Yo.utils.log('Overloaded image src being set',b);b={src:b,key:b.toLowerCase()};h.publish({topic:'sequence/captured',message:b});var d={src:b.src,key:b.key,nodeName:'image'};nodeConfig= ca(d);var g=nodeConfig.clone();g.type='image';g.src=d.src;g.image=this;g.newNode=d;f.delayed.push(g);g.loadImage=rb;!0==f.afterShockLoaded&&g.execute();b.image=a;'none'==nodeConfig.delayType&&rb(b)},get:function(){return this.yo_src?this.yo_src:''}})}catch(b){e.log(b)}return a})};h.subscribe({topic:'core/configure',callback:function(){!0==f.sequenceImage&&Zb()}});h.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.defer=function(a){this.orgDelayType=this.delayType='defer'; this.delayValue=a;if(!0==e.isIE()&&!1==f.optimizeIE)return e.log('Override defer on IE',this.url),this.none();this.execute=function(){if(!1!=f.afterShockLoaded&&!0!=this.executed){this.executed=!0;e.log('Loading ',this.newNode,' via timer event. It will load in ',this.delayValue);var a=this;ba(function(){a.afterShock()},1*this.delayValue);return this}};return this};_delayed().prototype.event=function(a){this.orgDelayType=this.delayType='event';this.delayValue=a;this.execute=function(){if(!1!=f.afterShockLoaded&& !0!=this.executed){this.executed=!0;e.log('Event handling '+(this.before?this.before.src:'no object')+' '+this.delayValue);var a=this.delayValue.split(' '),c=a[0].toLowerCase(),d=this;if('beforeloading'==c||'afterloaded'==c){a=a[1];if('#adjacent'==a)return this.defer(0);h.subscribe({topic:'sequence/'+c+'/'+a,context:this,callback:function(a){e.log('Loading '+(this.before?this.before.src:'no object')+' via event handler '+this.delayValue);d.afterShock()}})}else'pubsub'==c?(a=a[1],h.subscribe({topic:a, context:this,callback:function(a){e.log('Loading '+(this.before?this.before.src:'no object')+' via pubsub handler '+this.delayValue);d.afterShock()}})):Lb(e.select(a[1]),a,this);return this}};return this};h.subscribe({topic:'core/load',callback:function(){}});var Q={},O={top:0-f.offset,left:0-f.offset,height:0,width:0,right:0,bottom:0},sb=function(a){a=a.getBoundingClientRect();e.undef(a.width)&&(a={top:a.top,left:a.left,right:a.right,bottom:a.bottom,width:a.right-a.left,height:a.bottom-a.top});return a}, tb,ub;document.defaultView&&document.defaultView.getComputedStyle&&(tb=function(a,b){var c,d;if(d=a.ownerDocument.defaultView){if(d=d.getComputedStyle(a,null))c=d.getPropertyValue(b),''!==c||e.contains(a.ownerDocument.documentElement,a)||(c=a.style[b]);return c}});document.documentElement.currentStyle&&(ub=function(a,b){var c=a.currentStyle&&a.currentStyle[b];return''===c?'auto':c});var Ra=tb||ub;document.getElementsByClassName||(document.getElementsByClassName=function(a){return this.querySelectorAll('.'+ a)});Q.scrollHandler=function(a){O.height=k.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;O.bottom=O.height;O.width=k.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;O.right=O.width;if(e.undef(document.documentElement.getBoundingClientRect))return!0;for(var b=a=0;b<f.delayed.length;b++)if(f.delayed[b].isConfig('lazy')){var c=b,d=f.delayed[c],g=d.delayValue;if('string'===typeof g)g=e.select(g);else if(null==g||e.def(g))g=d.before;if(null!= g&&(g&&'SOURCE'==g.nodeName&&(g=g.parentNode),!0==e.contains(document.documentElement,g)))if(d=sb(g),!1==(null!=f.intervalID&&e.def(g.getBoundingClientRect))&&d.top<O.height+f.offset)e.log('showIfVisible is visible ',c,', ',g),f.delayed[c].afterShock();else{var h;if(h=!0==(null!=f.intervalID&&e.def(g.getBoundingClientRect)))if(h=!f.lazyCheckSize||0<d.width&&0<d.height)if(h=!0==db(d,O)){b:{h=g;for(var l=h.parentNode;null!=l&&1==l.nodeType;){var m=Ra(l,'overflow');if(m&&'hidden'==m.toLowerCase())h.yo_clipped= l;else if(0==Ra(l,'opacity')||'none'==Ra(l,'display')){d=!1;break b}l=l.parentNode}!0==e.undef(h.yo_clipped)&&(h.yo_clipped=!1);d=!1!=h.yo_clipped?db(d,sb(h.yo_clipped)):!0}h=!0==d}h&&(e.log('showIfVisible is visible ',c,', ',g),f.delayed[c].afterShock())}a++}};Q.delayed=function(a){this.orgDelayType=this.delayType='lazy';this.delayValue=a;this.execute=function(a){return this};return this};var vb=function(a,b){var c=0;return function(){var d=+new Date;d-c<b||(c=d,a.apply(this,arguments))}}(Q.scrollHandler, 20);e.addEvent(k,'scroll',vb);e.addEvent(k,'resize',vb);h.subscribe({topic:'core/load',callback:function(){Q.scrollHandler()}});_delayed().prototype.lazy=Q.delayed;h.subscribe({topic:'core/configure',callback:function(a){0<a.lazyTimer&&null==f.intervalID&&(f.intervalID=lb(Q.scrollHandler,a.lazyTimer))}});_delayed().prototype.none=function(){this.orgDelayType=this.delayType='none';this.execute=function(){return this.afterShock()};return this};_delayed().prototype.remove=function(a,b,c){var d=!1,g= 'yostore'+e.metaDataValue('resource.version')+this.key;this.delayValue=a;e.undef(a)||'always'==a?(d=!0,this.delayValue='always'):'session'==a?sessionStorage&&'true'==sessionStorage.getItem(g)?d=!0:sessionStorage&&sessionStorage.setItem(g,'true'):'visitor'==a&&(localStorage&&'true'==localStorage.getItem(g)?d=!0:localStorage&&localStorage.setItem(g,'true'));if(!0==d)this.orgDelayType=this.delayType='remove',this.execute=function(){return this};else this[b](c);return this};var F=null,$b=function(a,b){var c= e.select(b);F=new MutationObserver(function(c){for(var g=!1,f=0;f<c.length;f++){var h=c[f];if('attributes'==h.type&&'observe.attributes'==a.delayType||'observe.all'==a.delayType)if(e.log('The '+h.attributeName+' attribute was modified for ',b),'all'==a.delayValue){g=!0;break}else{if(h.attributeName==a.delayValue){g=!0;break}}else if('childList'==h.type&&'observe.children'==a.delayType||'observe.all'==a.delayType)if(e.log('A child node has been added or removed for',b),'all'==a.delayValue){g=!0;break}else if(0< h.addedNodes.length&&'added'==a.delayValue){g=!0;break}else if(0<h.removedNodes.length&&'removed'==a.delayValue){g=!0;break}}!0==g&&(a.afterShock(),F.disconnect())});F.observe(c,{attributes:!0,childList:!0})};_delayed().prototype.observe=function(a,b,c){this.orgDelayType=this.delayType='observe.'+b;this.delayValue=c?c:'all';if('undefined'===typeof MutationObserver)return e.log('Override defer on IE',this.url),this.none();this.execute=function(){if(!1!=f.afterShockLoaded&&!0!=this.executed)return this.executed= !0,e.log('Loading ',this.newNode,' via observer. It will loaded when ',a,'changes',b),$b(this,a),this};return this};_delayed().prototype.firstInput=function(a,b){return this.webvitals('first-input',a,b)};_delayed().prototype.largestContentfulPaint=function(a,b){return this.webvitals('largest-contentful-paint',a,b)};_delayed().prototype.timeToInteractive=function(a,b){return this.webvitals('time-to-interactive',a,b)};var ac=function(){var a=e.calculateTti();0<a&&(clearInterval(f.ttiWatcherIntervalID), h.publish({topic:'web-vitals/time-to-interactive',persistent:!0,message:{time:a}}))};_delayed().prototype.webvitals=function(a,b,c){this.delayType=this.orgDelayType=a;this.delayValue=a+'-'+b;!1==e.hasWebVitals()?(e.log('webvitals fallback for ',this.url),this.defer(b?b:1E3)):this.execute=function(){var a=this;this.executed=!0;h.subscribe({topic:'web-vitals/'+this.orgDelayType,callback:function(g,e){var h=!0;c&&(h=c(g));h&&(f.afterShockLoaded?a.afterShock():a.defer(b?b:0))}});'time-to-interactive'== this.orgDelayType&&(0<f.ttiWatcherInterval&&null==f.ttiWatcherIntervalID&&(f.ttiWatcherIntervalID=lb(ac,f.ttiWatcherInterval)),a.defer(b?b:1E3));!1==e.hasWebVitals()&&(e.log('webvitals fallback for ',this.url),a.defer(b?b:1E3))};return this};_delayed().prototype.spa=function(a){if(a)return this[a]();var b=this;this.event('pubsub rum/spa/rendered');h.subscribe({topic:'rum/spa/transition/start',callback:function(a,d){b.event('pubsub rum/spa/rendered')}});h.subscribe({topic:'rum/spa/rendered',callback:function(a, d){b.none()}})};_delayed().prototype.startTransition=function(a){this.orgDelayType=this.delayType='startTransition';this.delayValue=a;this.execute=function(){var a=this;this.executed=!0;h.subscribe({topic:'rum/spa/transition/start',callback:function(c,d){(e.undef(a.delayValue)||0<=(c.pageType+'-'+c.viewType).indexOf(a.delayValue))&&a.afterShock()}});return this};return this};_delayed().prototype.finishedRendering=function(a){this.orgDelayType=this.delayType='finishedRendering';this.delayValue=a;this.execute= function(){var a=this;this.executed=!0;h.subscribe({topic:'rum/spa/rendered',callback:function(c,d){(e.undef(a.delayValue)||0<=(c.pageType+'-'+c.viewType).indexOf(a.delayValue))&&a.afterShock()}});return this};return this};var wb=!1,xb=!1,J=function(){!1==xb&&(h.publish({topic:'sequencing/user/first',async:!0,persistent:!0,message:{}}),e.removeEvent(document,'mousemove',J),e.removeEvent(document,'scroll',J),e.removeEvent(document,'keydown',J),e.removeEvent(document,'click',J),e.removeEvent(document, 'touchstart',J),xb=!0)};_delayed().prototype.firstInteraction=function(a,b){this.orgDelayType=this.delayType='firstInteraction';!1==wb&&(wb=!0,e.addEvent(document,'mousemove',J),e.addEvent(document,'scroll',J),e.addEvent(document,'keydown',J),e.addEvent(document,'click',J),e.addEvent(document,'touchstart',J));this.execute=function(){var c=this;this.executed=!0;h.subscribe({topic:'sequencing/user/first',callback:function(d,g){!0!=a||f.afterShockLoaded?c.afterShock():c.defer(b?b:0)}})};return this}; var yb={};f.chaining={};_lastChainedResource=function(a,b){var c=yb[a];if(!0==e.undef(c))return yb[a]=[b],null;c.push(b);return c[c.length-2]};h.subscribe({topic:'core/load',callback:function(){}});_delayed().prototype.chain=function(a){this.orgDelayType=this.delayType='chain';this.delayValue=a;if(!0!=e.undef(this.before)){if(!0==e.isIE()&&!1==f.optimizeIE)return e.log('Override defer on IE',this.url),this.none();var b=_lastChainedResource(a,this);this.chainIndex=null==b?0:b.chainIndex+1;this.key= 'chained-resource-'+a+'-'+this.chainIndex;this.beforeLoading(function(a){!0==e.undef(a.writeSelector)&&(a.writeSelector=a.domElement||a.me);!0==e.def(a.writeSelector)&&(a.writeSelector.id&&''!=a.writeSelector.id?a.writeSelector='#'+a.writeSelector.id:a.writeSelector.setAttribute&&(a.writeSelector.setAttribute('id',a.key),a.writeSelector='#'+a.key),!1==f.sequenceWrites&&(f.sequenceWrites=!0,n.sequence.document(document)))});if(null==b){var c=f.chaining[a];!0==e.def(c)?c(this):this.defer(10)}else this.execute= function(){this.key='chained-resource-'+a+'-'+this.chainIndex;this.before&&this.before.src&&(this.key+='/'+this.before.src);this.executed=!0;var c=this;h.subscribe({topic:'sequence/afterloaded/'+b.key,context:this,callback:function(a){e.log('Loading chained resource',c);c.afterShock()}})};return this}};var fa={},R=null;_isImageLike=function(a){return-1!='imgpicturesourceiframe'.indexOf(a)};var bc=function(a,b){for(var c=f.scan.length,d=0;d<c;d++)if(f.scan[d]===b){var g=a.getAttribute('src'),e={domElement:a, src:''!=a.src?g:a.textContent,nodeName:'dom'};Da(e,e,function(c,d){var e=c.clone();e.type='dom';e.src=g;e.newNode=d;f.delayed.push(e);'script'==b&&(a.type='yo/sequence/'+e.delayType+'/'+e.delayValue,''!=a.src?(a.setAttribute('data-yo-src',a.src),a.src=''):a.setAttribute('data-yo-how','eval'))})}},zb=function(a){'none'===a&&null!==R?(R.disconnect(),R=null):'none'!==a&&'undefined'!==typeof MutationObserver&&null==R&&(R=new MutationObserver(function(a){for(var c=0;c<a.length;c++)for(var d=a[c].addedNodes, g=0;g<d.length;g++){var h=d[g];if(h.nodeType===Node.ELEMENT_NODE){var k=h.nodeName.toLowerCase();if('body'===k)r.node(h),'top'===f.scrapeLevel&&R.disconnect();else if('sequencing'===f.scrapeLevel&&(null==h.type||h.type.indexOf&&-1==h.type.indexOf('yo/sequence')))try{bc(h,k)}catch(l){e.log('Exception _sequenceScraping',l)}}}}),R.observe(document,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))};zb(f.scrapeLevel);h.subscribe({topic:'core/configure',callback:function(a,b){Ea();zb(a.scrapeLevel)}}); fa.createElement=function(a){a.yo_createElement||(a.yo_createElement=a.createElement,a.createElement=function(b){var c=a.yo_createElement(b),d=b.toLowerCase();e.log('_sequencing.createElement',c,b);if(('iframe'==d||'script'==d)&&!0==e.undef(c.yo_src_override)){c.yo_src_override=!0;try{Object.defineProperty(c,'src',{set:function(a){if(this.yo_src=a)if(e.log('Object.src',a),nodeConfig=ca(this),null!=nodeConfig&&'none'!=nodeConfig.delayType){if(a=nodeConfig.clone(),a.type='attributesrc',a.newNode=this, a.before=this,a.me=this,f.delayed.push(a),domCompleteTriggered)return a.execute()}else this.setAttribute('src',a)},get:function(){return this.yo_src?this.yo_src:''}})}catch(g){e.log(g)}}return c})};fa.create=function(a){a=ea(a);'sequencing'!=f.scrapeLevel&&n.configure({scrapeLevel:'sequencing'});a.dom=!0;return a};!0==e.isIE()&&!0==f.optimizeIE&&fa.createElement(document);var r={};domCompleteTriggered=!1;r.node=function(a){if(a=e.select(a))a.yo_ac=e.def(a.yo_ac)?a.yo_ac:a.appendChild,a.yo_ib=e.def(a.yo_ib)? a.yo_ib:a.insertBefore,a.appendChild=Nb,a.insertBefore=Mb};r.clearNode=function(a){e.def(a.yo_ib)&&(a.insertBefore=a.yo_ib);e.def(a.yo_ac)&&(a.appendChild=a.yo_ac)};r.addScanner=function(a){f.scan||(f.scan=[]);-1===e.inArray(a,f.scan)&&f.scan.push(a)};r.displayNow=function(a){!0===a&&'active'==n.rum.get().optState&&(a=!1);e.log('Handle the display of all visible tags up to now.');r.scanTags(!0,a);Q.scrollHandler({})};r.createTimer=function(a,b){Yo.configure({lazyTimer:a});b&&Yo.configure({lazyCheckSize:b})}; r.resource=ea;r.script=function(a,b,c){var d=ea(a);!0==e.isFunction(a)?(d.src='[object Function]'+a.name,d.key=c||'[object Function]'+a.name,d.func=a):(d.src=a,d.newNode=a,!0==e.def(c)&&(d.key=c));!0==e.undef(b)&&(b={});d.before={src:a,attributes:b};d.load=function(a){var c=document.createElement('script');c.type='text/javascript';b.async=!0;for(var d in b)null!=b[d]&&c.setAttribute(d,b[d]);c.yo_src=this.url;(a||document.getElementsByTagName('script')[0].parentNode).appendChild(c);return this};d.eval= function(){f.delayed.push(this);this.how='eval';this.type='inner';this.execute();return this};d.apply=function(a,b){f.delayed.push(this);this.how='apply';this.type='function';this.funcThis=a;this.funcParameters=b;this.execute();return this};d.writeLocation=function(a){this.writeSelector=a;return this};return d};r.xhr=N.create;r.content=function(a){var b=_loadFromDOM(a);h.publish({topic:'sequence/captured',message:{delayed:b,location:a}});b.load=function(){e.log('Sequence a script = ',a,', type '+ this.type);null==this.delayType||'none'==this.delayType?e.log('Content found that needs to be loaded immediately'):e.log('Content found that needs to be sequenced',this.delayType,this.delayValue);this.execute(f.delayed.length-1);f.delayed.push(this)};return b};r.event=pa;r.image=function(a){return ea(a)};r.dom=fa.create;r.createElement=fa.createElement;r.scanTags=function(a,b){if(f.scan){for(var c=0,d=f.scan.length;c<d;c++)_findTags(f.scan[c],b);!0!==a&&(f.scan=[])}};r.cloakImages=function(a,b){if(!0!= e.undef(k.btoa))for(var c=0,d=a.length;c<d;c+=1){var g=a[c],f=document.getElementsByTagName(g);e.log('Cloak '+g);for(var h=0,l=f.length;h<l;h+=1)for(var m=f[h],n=0,p=b.length;n<p;n+=1){var v=b[n],r=m.getAttribute(v);null!=r&&(e.log('Cloak '+g,v,r),m.setAttribute(v,'data:image/cloaked;base64,'+btoa(r)))}}};r.document=bb;r.captureMethods=N.captureMethods;r.overrideMethods=N.overrideMethods;var Ab=document.getElementsByTagName('script');0<Ab.length&&r.node(Ab[0].parentNode);r.node(document.getElementsByTagName('head')[0]); e.addEvent(document,'readystatechange',function(a){'interactive'===document.readyState&&(e.log('readystatechange is document.interactive, calling displayNow'),'unknown'!==n.rum.get().optState&&r.displayNow(!0))});h.subscribe({topic:'core/start',callback:function(){Ea()}});h.subscribe({topic:'core/configure',callback:function(a,b){Ea()}});h.subscribe({topic:'core/load',callback:function(){domCompleteTriggered=!0;for(var a=0;a<f.delayed.length;a++)f.delayed[a].execute()}});var K={},X={};_abTest=function(a, b,c,d,g,f,h,l){return Yo.sequence.resource(d).none().beforeLoading(function(){e.log('adding the google segmentation using a custom (dimension'+a+', '+b+', '+c+')',g,f);Yo.stats().errors.has&&(c+='_error');if('universal'==g){var d=!1;k.ga=function(){if(e.def(a)&&2<arguments.length&&0<=arguments[0].indexOf('set')&&arguments[1]!='dimension'+a){if((k.ga.q=k.ga.q||[]).push(arguments),ga(arguments[0],'dimension'+a,c),d=!0,!0==e.def(h)){for(var b=[],g=0;g<k.ga.q.length;g++)if(3!=k.ga.q[g].length||k.ga.q[g][1]!= 'dimension'+h)b[b.length]=k.ga.q[g];k.ga.q=b}}else(k.ga.q=k.ga.q||[]).push(arguments),!0==e.undef(h)&&!1==d&&((k.ga.q=k.ga.q||[]).push(['set','dimension'+a,c]),d=!0);_abTestAnalyticsUniversal(arguments)}}else if(e.def(_gaq)){for(var m=1,n=[],p=0;p<_gaq.length;p++)e.def(_gaq[p])&&2<_gaq[p].length&&-1!=_gaq[p][0].indexOf('_setCustomVar')?(!0!=e.undef(a)&&_gaq[p][1]==a||!0!=e.undef(h)&&_gaq[p][1]==h||(n[n.length]=_gaq[p]),m=p):n[n.length]=_gaq[p];_gaq=n;e.def(a)&&(n='_setCustomVar',0<_gaq.length&&0< _gaq[0].length&&(p=_gaq[0][0].indexOf('.'),-1!=p&&(n=_gaq[0][0].substring(0,p+1)+n)),e.def(l)&&(a=l),_gaq.splice(m,0,[n,a,b,c,e.undef(f)?2:f]));e.log('abTestAnalyticsClassic()');_abTestAnalyticsClassic()}else e.log('Error creating ga information, no selected version',g)})};_getCookieVariant=function(a){return l.getCookie('yo_abtesting_'+a.name+'v'+a.version)};_setCookieVariant=function(a,b,c){e.setCookie('yo_abtesting_'+a.name+'v'+a.version,b,c)};_configureAbTestAnalytics=function(){var a=config.abTestingAnalytics; e.def(a)&&e.undef(a.loaded)&&(_abTest(void 0,void 0,void 0,a.url,a.gaVersion),e.log('Registering analytics',a.url,a.gaVersion),a.loaded=!0)};_executeAllAbTest=function(){e.undef(f.abTestingAnalytics)?e.log('Analytics for ab testing not properly defined'):'classic'==f.abTestingAnalytics.gaVersion?_executeAllAbTestClassic():_executeAllAbTestUniversal()};_executeAllAbTestUniversal=function(){for(var a in f.abTesting){var b=f.abTesting[a];_executeAbTest(b);ga('set','dimension'+b.analytics.index,b.valuePrefix+ b.name+'_v'+b.version+'_'+b.chosenVariant)}!0==K.delayedTrack&&ga('send','pageview')};_executeAllAbTestClassic=function(){var a=null;if(e.def(k._gat)&&e.def(K.uaCode))for(var b=k._gat._getTrackers(),c=0;c<b.length;c++)b[c]._getAccount()==K.uaCode&&(a=b[c]);for(var d in f.abTesting)b=f.abTesting[d],_executeAbTest(b),c=2,'hit'==b.analytics.stickiness?c=3:'visitor'==b.analytics.stickiness&&(c=1),null!=a?a._setCustomVar(b.analytics.index,b.analytics.name,b.valuePrefix+b.name+'_v'+b.version+'_'+b.chosenVariant, c):e.def(k._gaq)&&k._gaq.push(['_setCustomVar',b.analytics.index,b.analytics.name,b.valuePrefix+b.name+'_v'+b.version+'_'+b.chosenVariant,c]);!0==K.delayedTrack&&(null!=a?(a._trackPageview(),e.log('pageTracker._trackPageview()')):e.def(k._gaq)?(k._gaq.push(['_trackPageview']),e.log("window._gaq.push(['_trackPageview'])")):e.log('Did not find the UA code so we can not track'))};_executeAbTest=function(a){var b=_getCookieVariant(a);null==b&&(b=_chooseVariant(a));'hit'!=a.stickiness&&_setCookieVariant(a, b,'visitor'==a.stickiness?864E5:60*(e.undef(a.sessionTime)?30:a.sessionTime));e.log('Variant',b,'was chooen for test',a.name);a.chosenVariant=b;a=a.variants[b];if(e.undef(a))'original'!=b&&e.log('Using original content as the variant',b,'was not found');else for(b=0;b<a.targets.length;b++){var c=a.targets[b];'function'==typeof c?c():Yo.sequence.content(c).load()}};_abTestScript=function(a){var b=a.getAttribute(f.pre+'abtestname'),c=f.abTesting[b];if(e.undef(c))e.log('Found variant script for test', b,"but doesn't exist");else if(b=a.getAttribute(f.pre+'variant'),e.def(c.variants[b]))e.log('Variant script with existing name',b,'already exists. This variant will be excluded');else{var b=a.getAttribute(f.pre+'variantname'),d=a.getAttribute(f.pre+'splitcondition');e.undef(c.variants[b])?c.variants[b]={splitCondition:d,targets:[a]}:c.variants[b].targets.push(a);e.log('Found script variant',b,'with splitCondition',d)}};_chooseVariant=function(a){var b=a.variants;if('percentage'==a.splitBy){var c= 0,d;for(d in b){a=b[d];var g=c;a.splitCondition*=1;c+=a.splitCondition;a.splitCondition+=g}100<b[b.length-1]&&e.log('Total percentage of variants is greater than 100, test will always leave out some variants');c=100*Math.random();for(d in b)if(a=b[d],c<a.splitCondition)return d;return'original'}e.log('Unsupported splitType',a.splitBy,'for test',a.name)};_abTestAnalyticsUniversal=function(a){'send'==a[0]&&e.def(K.delayedTrack)&&(k.ga.q.pop(),K.delayedTrack=!0)};_abTestAnalyticsClassic=function(a){if(e.def(K.delayedTrack)){a= [];for(var b=0;b<_gaq.length;b++)e.undef(_gaq[b])||1>_gaq[b].length||'_trackPageview'!=_gaq[b][0]?('_setAccount'==_gaq[b][0]&&(K.uaCode=_gaq[b][1]),a[a.length]=_gaq[b]):K.delayedTrack=!0;_gaq=a}};X.universal=function(a,b,c,d){return _abTest(a,void 0,b,c,'universal',void 0,d)};X.classic=function(a,b,c,d,g,e){return _abTest(a,b,c,d,'classic',g,e)};X.omniture=function(a,b,c,d){var g=s.t;s.t=function(){c&&(s[c]=d+s[c]);s['eVar'+a]=b;return g.apply(this,arguments)}};X.abTesting=function(a){e.undef(a.variants)&& (a.variants={});e.undef(a.splitBy)&&(a.splitBy='percentage');e.undef(a.stickiness)&&(a.stickiness='session');e.undef(a.version)&&(a.version='0');e.undef(a.analytics)&&(a.analytics={});e.undef(a.analytics.valuePrefix)&&(a.analytics.valuePrefix='yo_abtesting_');e.undef(a.analytics.name)&&(a.analytics.name='yottaa_abtest');e.undef(a.valuePrefix)&&(a.valuePrefix='');f.abTesting[a.name]=a};X.abVariant=function(a,b){var c=f.abTesting[name];e.undef(c)&&e.log('Test',name,'was not defined');c.variants.push(b)}; h.subscribe({topic:'core/load',callback:function(){_executeAllAbTest()}});f.services=[];var Y={add:function(a){a={afterLoaded:Qa,beforeLoading:Pa,host:a.host,key:'*'+a.host+'*',properties:a,name:a.name,budget:a.budget};f.services.push(a);h.publish({topic:'services/add',message:a});return a},findByHost:function(a){for(var b=Y.list(),c=0;c<b.length;c++){var d=b[c];if(!0==e.matchUrl(d.host,a))return e.log('Found service configuration for '+a+' service ',d),d}e.log('Did NOT find service configuration for '+ a+' checking local configuration. ');return null},findByName:function(a){for(var b=Y.list(),c=0;c<b.length;c++){var d=b[c];if(d.name==a)return e.log('Found service configuration for '+a+' service ',d),d}e.log('Did NOT find service configuration for '+a+' checking local configuration. ');return null},list:function(){return f.services}},S={};f.scheduling={onLoadTime:null,lastScheduleTime:6E3,last:100,step:100,scheduled:!1,hosts:[],priorities:{low:{last:3E3,step:100},medium:{last:1E3,step:100},high:{last:100, step:100},critical:{last:-1}},prioritiesToKeep:[],serviceToKeep:[],budgetTime:!1,servicesToBudget:[],loadTime:(new Date).getTime()};S.resource=function(a){return{afterLoaded:Qa,beforeLoading:Pa,src:a,key:'*'+a+'*'}};S.bestFit=function(){f.scheduling.type='bestfit';f.scheduling.scheduled=!0};S.priority=function(a){f.scheduling.type='priority';f.scheduling.scheduled=!0;if(a&&a.services)for(var b=0;b<a.services.length;b++)n.services.add(a.services[b])};S.spread=function(a){f.scheduling.type='spread'; e.def(a)&&(f.scheduling.step=a);f.scheduling.scheduled=!0};S.configure=function(a){for(var b in a)f.scheduling[b]=a[b];h.publish({topic:'schedule/configure',message:f});return f.scheduling};S.budget=function(a){if(a){a.budgetTime&&(f.scheduling.budgetTime=a.budgetTime);a.prioritiesToKeep&&(f.scheduling.prioritiesToKeep=a.prioritiesToKeep);if(a.servicesToBudget){f.scheduling.servicesToBudget=a.servicesToBudget;for(var b=0;b<a.servicesToBudget.length;b++){var c=a.servicesToBudget[b];c.budget=!0;n.services.add(c)}}f.scheduling.budgeter= a.budgeter?a.budgeter:cc}};h.subscribe({topic:'core/start',callback:function(){}});h.subscribe({topic:'sequence/captured',callback:function(a,b){null!=f.scheduling.onLoadTime&&(new Date).getTime()>f.scheduling.onLoadTime+f.scheduling.lastScheduleTime?e.log('Scheduling has expired',f.scheduling.lastScheduleTime):!0==f.scheduling.scheduled&&('spread'==f.scheduling.type?Sa(a,b):'bestfit'!=f.scheduling.type&&'priority'==f.scheduling.type&&dc(a,b))}});var dc=function(a,b){if(a.newNode){var c=a.newNode.src; if(c&&0<c.length){var d=Ta(c),g=Y.findByHost(d);if(null!=d&&-1==f.scheduling.hosts.indexOf(d)){if(null==g)return Sa(a,b);var k=f.scheduling.priorities[g.properties.priority];e.log('Service found ',g.properties.name,g.properties.priority);if(!0==e.undef(k))return Sa(a,b);0<=k.last&&(k.last+=k.step,h.subscribe({topic:'sequence/beforeloading/*'+d+'*',callback:function(){-1==f.scheduling.hosts.indexOf(d)&&f.scheduling.hosts.push(d)}}),c=null!=f.scheduling.budgeter?f.scheduling.budgeter(g,c,a,f.scheduling): !1,e.log('Scheduling resource ',a.newNode.src,d,'defer',k.last,', isBudgeted = ',c),!0==c?a.newNode.delayType='remove':(a.newNode.delayType='defer',a.newNode.delayValue=k.last))}}}},Sa=function(a,b){if(a.newNode){var c=a.newNode.src;if(c&&0<c.length){var d=Ta(c),g=Y.findByHost(c);null!=d&&-1==f.scheduling.hosts.indexOf(d)&&(f.scheduling.last+=f.scheduling.step,h.subscribe({topic:'sequence/beforeloading/*'+d+'*',callback:function(){-1==f.scheduling.hosts.indexOf(d)&&f.scheduling.hosts.push(d)}}),c= null!=f.scheduling.budgeter?f.scheduling.budgeter(g,c,a,f.scheduling):!1,e.log('Scheduling resource ',a.newNode.src,d,'defer',f.scheduling.last,', isBudgeted = ',c),!0==c?a.newNode.delayType='remove':(a.newNode.delayType='defer',a.newNode.delayValue=f.scheduling.last))}}},cc=function(a,b,c,d){c=d.budgetTime;var g=Ta(b);if(!1!==c){if((new Date).getTime()-f.scheduling.loadTime>=c){if(-1!=d.hosts.indexOf(g))return!1;if(d.servicesToBudget&&0<d.servicesToBudget.length)return(a=Y.findByHost(b))&&!0===a.budget? (p.addViolation(5,b),!0):!1;if(-1!=d.prioritiesToKeep.indexOf(a.properties.priority)||null!=a&&!1==a.budget)return!1;p.addViolation(5,b);return!0}null!=a&&(a.budget=!1)}return!1},Ta=function(a){return(a=a.split('/')[2])?a=a.split('.').slice(-2).join('.'):null};h.subscribe({topic:'core/load',callback:function(){f.scheduling.onLoadTime=(new Date).getTime()}});var Ua={create:function(a){var b=f;-1==b.srcAttrs.indexOf('data-src')&&b.srcAttrs.push('data-src');-1==b.srcAttrs.indexOf('data-srcset')&&b.srcAttrs.push('data-srcset'); b.imagePipeline=a;h.subscribe({topic:'sequence/beforeloading/*',callback:function(b,d){e.log('Yo.imagePipeline.beforeLoading - ',b);var g=b.before,f=a.optimizer||Ua.optimizer;f&&g&&g.nodeName&&'img'==g.nodeName.toLowerCase()&&(g=f(g,b.srcAttr))&&(e.log('Yo.imagePipeline updating image src - ',g),b.srcAttr=g)}})},rewrite:function(a,b){if(-1==b.indexOf('.yottaa.net')){var c=Yo.stats().config.imagePipeline;e.log('Yo.imagePipeline.rewrite',c,a,b);return location.protocol+c.cdn+'/'+c.profileId+'/'+a+'/'+ c.version+'/'+b}},optimizer:function(a,b,c){e.log('Yo.imagePipeline default image optimized',a,b);c=c||[];(a=e.browser())&&'chrome'===a.name?c.push('f_webp'):a&&'safari'===a.name&&13<=a.version&&c.push('f_jp2');return Ua.rewrite('o~'+c.join(','),b)}},Bb=function(a,b){var c='ul= dl= dt= sd= sr= vp= ct= rtt='.split(' ');c[0]+=navigator.language;c[1]+=encodeURIComponent(k.location.href.substring(0,1E3));c[2]+=encodeURIComponent(document.title);c[3]+=k.screen.colorDepth;c[4]+=k.screen.width+','+k.screen.height; c[5]+=k.screen.availWidth+','+k.screen.availHeight;if(b)for(var d in b)c.push(d+'='+encodeURIComponent(b[d]));d=navigator.connection||navigator.mozConnection||navigator.webkitConnection;c[6]+=d?d.effectiveType:'unknown';c[7]+=d?d.rtt:'unknown';try{if(k.sessionStorage&&sessionStorage.getItem){var g=sessionStorage.getItem('rapid.testVariations');if(g&&'undefined'!=g){var e=JSON.parse(g);for(d=0;d<e.length;d++)!0==e[d].sticky&&c.push('testVariation='+e[d].testId+'-'+e[d].variationName)}if(-1!=(iPos= k.location.hash.indexOf('yoQoeConfig=')))var f=k.location.hash.substring(iPos+12).split('&'),c=c.concat(f)}}catch(h){l.log('sessionStorage was not available')}e=null;e=k.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject('Microsoft.XMLHTTP');e.open('GET',a+'&'+c.join('&'),!1);e.send('');c=document.createElement('script');c.type='text/javascript';c.text=e.responseText;document.getElementsByTagName('head')[0].appendChild(c);l.log('Adding Rapid CTRL script into DOM: ',a);try{k.sessionStorage&&sessionStorage.setItem&& (g=p.get().testVariations)&&sessionStorage.setItem('rapid.testVariations',JSON.stringify(g))}catch(m){l.log('sessionStorage was not available')}},Cb={log:!1,resources:[],messageBridge:!1,defaultBlockedResponse:{status:200,body:'Blocked by service-worked'},security:{},handledResources:[],documentUri:''};self._serviceWorkerConfig=Cb;var ra={},ec={EQ:function(a,b){return a===b},NEQ:function(a,b){return a!==b},CONTAIN:function(a,b){return-1<a.indexOf(b)},'NOT-CONTAIN':function(a,b){return-1===a.indexOf(b)}, 'STARTS-WITH':function(a,b){return 0===a.indexOf(b)},'ENDS-WITH':function(a,b){return a.indexOf(b)===a.length-b.length},IN:function(a,b){return!0===b.includes(a)},'NOT-IN':function(a,b){return!1===b.includes(a)},REGEX:function(a,b){return Va(a,b)},MATCH:function(a,b){return Va(a,b)},'NOT-MATCH':function(a,b){return!1==Va(a,b)},'>':function(a,b){try{return parseFloat(b)>parseFloat(a)}catch(c){return!1}},'>=':function(a,b){try{return parseFloat(b)>=parseFloat(a)}catch(c){return!1}},'<':function(a,b){try{return parseFloat(b)< parseFloat(a)}catch(c){return!1}},'<=':function(a,b){try{return parseFloat(b)<=parseFloat(a)}catch(c){return!1}},'==':function(a,b){try{return parseFloat(a)==parseFloat(b)}catch(c){return!1}},'!=':function(a,b){try{return parseFloat(a)!=parseFloat(b)}catch(c){return!1}}},fc={PROTOCOL:function(a){return a.protocol},HOSTNAME:function(a){return a.hostname},HOST:function(a){return a.hostname},PATHNAME:function(a){return a.pathname},SEARCH:function(a){return a.search},EXTENSION:function(a){var b=a.pathname.lastIndexOf('.'); return-1==b?'':a.pathname.substring(b+1)}},gc={COUNTRYNAME:function(a){return a.countryname},COUNTRYCODE:function(a){return a.countrycode},REGION:function(a){return a.region},REGIONCODE:function(a){return a.regioncode},METRO:function(a){return a.metro},ZIPCODE:function(a){return a.zipcode},LONGITUDE:function(a){return a.longitude},LATITUDE:function(a){return a.latitude},CONTINENT:function(a){return a.continent}},hc={ALL:function(a){return!1},'function':function(a,b,c,d){return a.condition},'DOCUMENT-URI':function(a, b,c,d){return Cb.documentUri},'REQUEST-URI':function(a,b,c,d){return b.url},'USER-AGENT':function(a,b,c,d){return(d||k).navigator.userAgent},'User-Agent':function(a,b,c,d){return b.headers['User-Agent']},URI:function(a,b,c,d){return k.location.toString()},'URI-Component':function(a,b,c,d){return fc[a.request_property.toUpperCase()](b.uri)},Geo:function(a,b,c,d){return gc[a.request_property.toUpperCase()](b.geo)}};ra.matchAll=function(a,b,c){return new Promise(function(d,e){var f=ra.match(b,a,c);!0!= f?e(f):d(a)})};ra.match=function(a,b,c){for(var d=0;d<b.length;d++)if(!0==l.def(b[d].match)){var e;a:{e=a;for(var f=b[d].match,h=c,k=0;k<f.length;k++)if(!1==Db(f[k],e,h)){e=f[k];break a}e=!0}if(!0!=e)return!1}else if(!1==Db(b[d],a,c))return b[d];return!0};var Db=function(a,b,c){var d=hc[a.type||a.name];return d?(c=d(a,b,c,self),'function'===a.type?a.condition(a,b):'ALL'===a.type?!0:(b=ec[a.operator])&&c&&a.condition?b(c,a.condition):!1):!1},Va=function(a,b){try{var c=b.indexOf('(?i)');return-1==c? null!==a.match(b):null!==a.match(new RegExp(b.substring(c+4),'i'))}catch(d){return l.log('Bad Regex in Condition',d),!1}},t={enableAssetDetection:function(){if(t.enabled)return!1;if(!t.shouldDetectAssets)return n.utils.log('Journey Hijacking asset detection disabled'),!1;if(!Fa())return n.utils.log('Journey Hijacking asset detection not supported'),!1;t.enabled=!0;n.utils.log('Journey Hijacking asset detection enabled');m.config.detectOn&&(m.detectOnId=h.subscribe({topic:m.config.detectOn,callback:t.startDetection})); return!0},startDetection:function(){if(!t.enabled)return!1;n.utils.log('Journey Hijacking starting asset detection');h.publish({topic:'hijacking/start',message:m.config});da=Pb();ja=0;for(var a=m.supportedExtensions,b=0;b<a.length;b++){var c=a[b];c.assetUrls&&0!=c.assetUrls.length?fb(c.id,c.assetUrls,0):Ga(c.id,m.states.UNKNOWN)}return!0},isSupported:Fa,setAssetDetection:function(a){if(t.enabled||!1===Fa())return!1;t.shouldDetectAssets=!0===a;return!0},resetAssetDetection:function(){t.enabled=!1; t.shouldDetectAssets=!0;da&&(da.terminate(),da=null);ja=0},shouldDetectAssets:!0,enabled:!1},ja=0,da=null,F=null,la={DETECTED:1,NOT_DETECTED:2,BLOCKED:3},Ia=[],w={enableComponentDetection:function(){var a;if(a=!1===w.enabled)a:{a=m.supportedExtensions;for(var b=0;b<a.length;b++)if(a[b].components&&0<a[b].components.length){a=!0;break a}a=!1}a&&(Rb(),w.enabled=!0,n.utils.log('Component detection enabled'));return w.enabled},resetComponentDetection:function(){F&&F.disconnect();w.enabled=!1;w.checkedComponents= [];w.aggressiveBlocking=!1;for(var a=0;a<Ia.length;a++)h.unsubscribe(Ia[a])},checkedComponents:[],setAggressiveBlocking:function(a){w.aggressiveBlocking=!0===a},aggressiveBlocking:!1,enabled:!1},na=null,ma=null,Wa={send:function(){return m.assetDetection.enabled&&!1===m.detectionComplete?(na=h.subscribe({topic:'hijacking/finished',callback:jb}),!1):jb()},resetAnalytics:function(){ib();null!==ma&&(h.unsubscribe(ma),ma=null);k.localStorage.removeItem(Ja())}},sa={UNKNOWN:-1,INSTALLED:1,NOT_INSTALLED:2}, m={configure:function(a){if(!1===kb())return n.utils.log('Journey Hijacking was configured but is not supported in this browser'),!1;if(m.enabled)return n.utils.log('Journey Hijacking already configured'),!1;if(!a.reportUri||!a.extensions||0===a.extensions.length)return n.utils.log('Journey Hijacking config is invalid. Detection not enabled.'),!1;void 0!==a.detectAssets&&t.setAssetDetection(a.detectAssets);void 0!==a.aggressiveBlocking&&w.setAggressiveBlocking(a.aggressiveBlocking);m.allExtensions= a.extensions;m.supportedExtensions=a.extensions;if(0===m.supportedExtensions.length)return n.utils.log('No extensions supported for this browser.'),!1;a.hasOwnProperty('detectOn')||(a.detectOn='core/load');a.hasOwnProperty('sendOn')||(a.sendOn='rum/send');m.config=a;n.stats().config.hijacking=a;if('unknown'===m.optState){var b=n.rum.get().optState;m.optState='none'===b?'active':b}if('disabled'===m.optState)return n.utils.log('Journey Hijacking disabled.'),!1;m.enabled=!0;w.enableComponentDetection(); t.enableAssetDetection();m.config.sendOn&&(m.sendOnId=h.subscribe({topic:m.config.sendOn,callback:Wa.send}));h.publish({topic:'hijacking/configure',message:a});return!0},startDetection:t.startDetection,isSupported:kb,setOptState:function(a){if(m.enabled)return!1;if(-1===['active','bypass','control','none','disabled'].indexOf(a))return n.utils.log('Invalid optState '+a),!1;m.optState=a;return!0},setExtensionState:function(a,b){var c=m.extensionState[a]===sa.INSTALLED;m.extensionState[a]=b;b===sa.INSTALLED&& (m.hasDetectedExtensions=!0,c||(c={id:a,state:b},h.publish({topic:'hijacking/found/'+a,persistent:!0,message:c}),h.publish({topic:'hijacking/found',message:c})))},extensionList:function(){for(var a=[],b=0;b<m.supportedExtensions.length;b++){var c=m.supportedExtensions[b],d=m.extensionState;a.push({id:c.id,state:c.id in d?d[c.id]:sa.UNKNOWN})}return a},setAssetDetection:t.setAssetDetection,setAggressiveBlocking:w.setAggressiveBlocking,send:Wa.send,reset:function(){m.detectOnId&&(h.unsubscribe(m.detectOnId), m.detectOnId=null);m.sendOnId&&(h.unsubscribe(m.sendOnId),m.sendOnId=null);m.enabled=!1;m.hasDetectedExtensions=!1;m.optState='unknown';m.detectionComplete=!1;m.allExtensions=[];m.supportedExtensions=[];m.extensionState={};m.config={};n.stats().config.hijacking={};w.resetComponentDetection();Wa.resetAnalytics();t.resetAssetDetection();return!0},supportedExtensions:[],allExtensions:[],extensionState:{},enabled:!1,detectionComplete:!1,hasDetectedExtensions:!1,detectOnId:null,sendOnId:null,assetDetection:t, componentDetection:w,optState:'unknown',states:sa};k.Yo||(k.Yo={});n={utils:e,pubsub:h,configure:function(a,b){if('string'===typeof a)Bb(a,b);else for(var c in a)'resources'==c?f.resources=f.resources.concat(a.resources):'configurationUrl'==c?Bb(a[c],b):f[c]=a[c];h.publish({topic:'core/configure',message:f})},sequence:r,rum:p,abTesting:X,insert:{HEAD_START:'head_start',HEAD_END:'head_end',BODY_START:'body_start',BODY_END:'body_end',location:function(a){null!=document.body?document.write("<di'+'v id='yo_tag_"+ a+"'></di'+'v>"):document.write("<script id='yo_tag_"+a+"'>\x3c/script>");h.publish({topic:'tag/location/'+a,persistent:!0})},resource:function(a,b,c,d){var g=n.sequence.script(a);g.loaded=!0;h.subscribe({topic:'tag/location/'+b,callback:function(){var a=e.select('#yo_tag_'+b);n.sequence.node(a);c&&''!=c||(c='none');g[c](d);g.loaded=!1;g.load(a)}});return g},script:function(a,b,c,d){var e=Yo.sequence.script(a);e.loaded=!0;h.subscribe({topic:'tag/location/'+b,callback:function(){c&&''!=c||(c='none'); e[c](d);e.loaded=!1;e.eval()}});return e},content:function(a,b,c,d){var g=document.createElement('script');c&&''!=c||(c='none');g.setAttribute('type','yo/sequencing/'+c+'/'+d);var f=Yo.sequence.content(g);f.loaded=!0;0==b.indexOf('css:')?h.subscribe({topic:'core/load',callback:function(){e.def(a.nodeName)?g.appendChild(a):g.innerHTML=a;var c=b.split(':');f.before=e.select(c[1]);3==c.length&&('after'==c[2]?null==f.before.nextSibling?(f.before=f.before.parentNode,f.how='append'):f.before=f.before.nextSibling: 'prepend'==c[2]?0<f.before.childNodes.length?f.before=f.before.childNodes[0]:f.how='append':'append'==c[2]&&(f.how='append'));f.loaded=!1;f.load()}}):h.subscribe({topic:'tag/location/'+b,callback:function(){e.def(a.nodeName)?g.appendChild(a):g.innerHTML=a;f.loaded=!1;f.before=e.select('#yo_tag_'+b);f.load()}});return f}},stats:Ma,geo:function(){if(0===arguments.length)return C.geo;1===arguments.length&&(C.geo=arguments[0],h.publish({topic:'core/geo',message:arguments[0]}))},services:Y,schedule:S, imagePipeline:Ua,spa:{trackMetrics:function(){p.spa()},startTransition:function(a,b){return h.publish({topic:'rum/spa/transition/start',message:{pageType:a,viewType:b}})},finishedRendering:function(a,b){return h.publish({topic:'rum/spa/rendered',message:{pageType:a,viewType:b}})}},context:ra,hijacking:m};k.Yo=n;h.publish({topic:'core/start',message:n});return n}); 
let yoRequest = {
  uri: {
    pathname: window.location.pathname,
    hostname: window.location.hostname,
    protocol: window.location.protocol,
    search: window.location.search,
    extension: window.location.pathname.substring(window.location.pathname.lastIndexOf(".") + 1)
  },
  headers: {
    "User-Agent": navigator.userAgent
  },
  geo: {}
};

(function(yottaaRequest){
  Yo.rum.initialize("https://qoe-1.yottaa.net/log-nt/event", 5.000000 > Math.random() * 100.0, "bpXFb_SteyXIAA", true);
  var getForcedYoOptState = function(defaultValue){
      var urlHash = new URL(document.URL).hash;
      if (urlHash.length > 1) {
        var cookieTry = urlHash.substr(1);
        var split = cookieTry.split("=", 2);
        if (split[0] == "yo-opt-state" && split.length == 2) {
          document.cookie = cookieTry;
        }
      }
      if (document.cookie.includes('yo-opt-state')) {
         var found = document.cookie.split(';')
                   .map(c => c.trim())
                   .filter(c => c.startsWith("yo-opt-state"))
                   .map(c => {
                         if (c.includes("=")) {
                           pair = c.split("=");
                           return pair[1];
                         }
                         else {
                           return false;
                         }
                       })
                   .reduce(function(a, b) { return b;});
          if (found) {
             return found;
          }
      }
      return defaultValue;
  };
  var optState = getForcedYoOptState("none");
  var isControlRequest = optState == "control" || (optState == "none" && 0.01 > Math.random());
  var isBypassRequest = optState == "bypass";
  // Using Profile: Default Profile

  Yo.rum.set("profileId", 54198);

  // Action JavaScript

  if(!isControlRequest && !isBypassRequest){
  Yo.sequence.event.loadEvents();
Yo.sequence.dom("Yo.rum.initialize").none();
Yo.sequence.dom("klaviyo.js").defer(0);
  }
  // Action Sequence

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource("//" + window.location.hostname).none();

    optState = "active";
  }
  // Action JavaScript

  if(!isControlRequest && !isBypassRequest){
  Yo.pubsub.subscribe({
    topic: 'rum/beforeSend',
    callback: function(message, topic) {
      if (!window.dataLayer) return;

      for (var i = 0; i < window.dataLayer.length; i++) {
        if (window.dataLayer[i] && window.dataLayer[i].pagetype) {
          message.pageCategory = window.dataLayer[i].pagetype;
        }
      }
    }
});
  }
  // Action JavaScript

  if(!isControlRequest && !isBypassRequest){
  !function(){var e=null;if(document.body)return Yo.utils.log("Sequence body node, it already exists"),
void Yo.sequence.node(document.body);"undefined"!=typeof MutationObserver&&null==e&&(e=new MutationObserver(function(o){
for(var n=0;n<o.length;n++)for(var t=o[n].addedNodes,d=0;d<t.length;d++){
var u=t[d];u.nodeType===Node.ELEMENT_NODE&&"BODY"===u.nodeName&&
(Yo.utils.log("Sequence body node, found be MutationObserver"),Yo.sequence.node(u),e.disconnect())}}),
Yo.utils.log("MutationObserver to find body node"),e.observe(document,{childList:!0,subtree:!0,attributes:!1,characterData:!1}))}
(document,MutationObserver);
  }
  // Action Block

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("cloudinary.com")).none();

    optState = "active";
  }
  // Action Block

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("jquery")).none();

    optState = "active";
  }
  // Action Block

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("about:blank")).none();

    optState = "active";
  }
  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("javascript:")).none();

  }
  // Action Sequence

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("google-analytics")).none();

    optState = "active";
  }
  // Action Block

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("analytics.js")).none();

    optState = "active";
  }
  // Action Block

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("googletagmanager")).none();

    optState = "active";
  }
  // Action Sequence

  if(!isControlRequest && !isBypassRequest){
    Yo.sequence.resource(Yo.utils.decodeSafeString("/.*/")).defer(0);

    optState = "active";
  }
  if (isBypassRequest) {
    Yo.rum.set("optState", "bypass");
  } else if (isControlRequest) {
    Yo.rum.set("optState", "control");
  } else {
    Yo.rum.set("optState", optState);
  }
})(yoRequest);
