(function(e){"use strict";var c=e.externals.instantsearch,v=e.externals.algoliasearch,x=e.externals.widgets.searchBox,y=e.externals.widgets.stats,P=e.externals.widgets.sortBy,w=e.externals.widgets.clearRefinements,f=e.externals.widgets.panel,p=e.externals.widgets.hits,g=e.externals.widgets.pagination,_=e.externals.widgets.configure,b=e.externals.connectors.connectCurrentRefinements,q=e.externals.aa,o=!!e.is_collection_results_page&&!!e.config.instant_search_enabled_on_collection;if(!e.full_results&&!o||!e.config.instant_search_enabled)return;var k=[],L=null,C=null;if(o){var R=window.location.pathname.match(/\/collections\/([^/]+)/i),B=R&&R.length===2?R[1]:null;e.config.collection_id_indexing?L=e.current_collection_id?'collection_ids:"'+e.current_collection_id+'"':null:L='collections:"'+B+'"',k.push(L),C=e.config.collection_id_query_rules?e.current_collection_id:B}var S=null;e.config.stock_policy&&(e.config.stock_policy==="allow"||(e.config.stock_policy==="deny"?S="inventory_quantity > 0":e.config.stock_policy==="continue"&&(S="inventory_available:true")),S&&k.push(S));var I=o?e.config.collection_css_selector:e.config.results_selector,F=o&&e.collectionSortOrders?e.collectionSortOrders:e.sortOrders;I+=", .algolia-shopify-instantsearch";function W(t){var n={};return Object.keys(t).forEach(function(i){i==="configure"||i==="query"||i==="q"||(n[i]=t[i])}),n}function N(t){return{stateToRoute:function(n){var i=W(n[t]||{});return i.q=n[t].query,i},routeToState:function(n){var i={};return i[t]=W(n||{}),i[t].query=n.q,i}}}var s={colors:e.config.colors,distinct:!!e.config.show_products,facets:{hidden:o&&e.collectionHiddenFacets?e.collectionHiddenFacets:e.hiddenFacets,shown:o&&e.collectionShownFacets?e.collectionShownFacets:e.shownFacets,list:o&&e.collectionFacets?e.collectionFacets:e.facets,widgets:o&&e.collectionFacetsWidgets?e.collectionFacetsWidgets:e.facetsWidgets},hitsPerPage:o&&e.config.collections_full_results_hits_per_page?e.config.collections_full_results_hits_per_page:e.config.products_full_results_hits_per_page,poweredBy:e.config.powered_by,search:c({searchClient:v(e.config.app_id,e.config.search_api_key),indexName:e.config.index_prefix+"products",routing:{stateMapping:N(e.config.index_prefix+"products")},searchFunction:function(t){var n=t.getPage();t.setQueryParameter("highlightPreTag",'<span class="ais-highlight">'),t.setQueryParameter("highlightPostTag","</span>"),s.distinct&&t.setQueryParameter("distinct",!0),k.length&&t.setQueryParameter("filters",k.join(" AND ")),o&&(C?t.setQueryParameter("ruleContexts",[C.toString()]):t.setQueryParameter("ruleContexts",[])),t.setPage(n),t.search()}}),selector:I+", .algolia-shopify-instantsearch",sortOrders:F,storeName:e.storeName,templates:{currentItem:e.getTemplate("instant_search_current_refined_values_item"),empty:e.getTemplate("instant_search_no_result"),page:e.compileTemplate("instant_search"),product:e.getTemplate("instant_search_product"),stats:e.getTemplate("instant_search_stats"),style:e.compileTemplate("instant_search.css")}};e.instantsearch=s,s.poweredBy&&console.log("Algolia: Instant-Search");function j(){var t=s.$results.offsetWidth,n="lg";t<400?n="xs":t<600?n="sm":t<800&&(n="lg"),s.$results.classList.remove("ais-results-size-xs"),s.$results.classList.remove("ais-results-size-sm"),s.$results.classList.remove("ais-results-size-md"),s.$results.classList.remove("ais-results-size-lg"),s.$results.classList.add("ais-results-size-"+n)}var E=e.assign({},e.helpers,e.translation_helpers);if(Object.keys(E).forEach(function(t){var n=E[t];s.search.templatesConfig.helpers[t]=n}),s.search.templatesConfig.compileOptions=e.hoganOptions,e.appendStyle(e.render(s.templates.style,{distinct:s.distinct,colors:s.colors})),o&&document.querySelectorAll(e.config.collection_css_selector).length===0)throw new Error("Instant search CSS selector for collection page is incorrect\nFore more info see : https://www.algolia.com/doc/integration/shopify/building-search-ui/instant-search/#css-selector");if(document.querySelectorAll(e.config.results_selector).length===0)throw new Error("Instant search CSS selector is incorrect\nFore more info see : https://www.algolia.com/doc/integration/shopify/building-search-ui/instant-search/#css-selector");s.$results=document.querySelector(s.selector),s.$results.innerHTML=e.render(s.templates.page,{facets:s.facets.list,storeName:s.storeName,translations:e.translations,multipleSortOrders:F.length>1}),j(),window.addEventListener("resize",function(){j()}),s.search.addWidgets([{init:function(){var t=document.querySelector(".ais-facets-button");t.addEventListener("click",function(){var n=document.querySelector(".ais-facets");n.classList.contains("ais-facets__shown")?(t.textContent="Show filters",n.classList.remove("ais-facets__shown")):(t.textContent="Hide filters",n.classList.add("ais-facets__shown"))})}}]),s.search.addWidgets([_({hitsPerPage:s.hitsPerPage,clickAnalytics:!0,facetingAfterDistinct:!!e.config.show_products})]),s.search.addWidgets([x({container:".ais-search-box-container",placeholder:e.translations.searchForProduct,showReset:!1,showSubmit:!1})]),s.search.addWidgets([{init:function(t){s.poweredBy||(document.querySelector(".ais-algolia-icon").style.display="none"),document.querySelector(".ais-clear-input-icon").addEventListener("click",function(){t.helper.setQuery("").search();var n=document.querySelector(".ais-search-box--input");n.value="",n.focus()})},render:function(t){t.state.query?(document.querySelector(".ais-clear-input-icon").style.display="",document.querySelector(".ais-algolia-icon").style.display="none"):(s.poweredBy&&(document.querySelector(".ais-algolia-icon").style.display=""),document.querySelector(".ais-clear-input-icon").style.display="none")}}]),s.search.addWidgets([y({container:".ais-stats-container",templates:{text:s.templates.stats}})]),F.length>1&&s.search.addWidgets([P({container:".ais-sort-orders-container",items:s.sortOrders})]),s.search.addWidgets([{init:function(){document.querySelector(".ais-search-header .ais-change-display-block").addEventListener("click",function(){document.querySelector(".ais-change-display-block:not(.ais-change-display-selected)").classList.add("ais-change-display-selected"),document.querySelector(".ais-change-display-list.ais-change-display-selected").classList.remove("ais-change-display-selected"),document.querySelector(".ais-results-as-list").classList.replace("ais-results-as-list","ais-results-as-block")}),document.querySelector(".ais-search-header .ais-change-display-list").addEventListener("click",function(){document.querySelector(".ais-change-display-list:not(.ais-change-display-selected)").classList.add("ais-change-display-selected"),document.querySelector(".ais-change-display-block.ais-change-display-selected").classList.remove("ais-change-display-selected"),document.querySelector(".ais-results-as-block").classList.replace("ais-results-as-block","ais-results-as-list")})}}]);var T=s.facets.hidden.map(function(t){return t.name});s.search.addWidgets([{getConfiguration:function(){return{facets:T,disjunctiveFacets:T}},init:function(){}}]);var A=function(t){return Object.keys(t).map(function(n){return"data-"+n+'="'+t[n]+'"'}).join(" ")},M=function(t){var n=s.facets.list.find(function(i){return i.name===t.label});return t.refinements.map(function(i){return'<li class="ais-current-refined-values--item">  <a '+A(i)+'    class="ais-current-refined-values--link" role="button" aria-label="remove selected filter" tabindex="0">    <div>      <div class="ais-current-refined-values--label">'+n.title+"      </div>: "+i.label+"    </div>  </a></li>"}).join("")},D=function(t){var n=t.items,i=t.refine,r=t.widgetParams;r.container.innerHTML='<div class="ais-current-refined-values--header ais-facet--header ais-header">Selected filters</div><div class="ais-root ais-current-refined-values ais-facet">  <ul class="ais-current-refined-values--list">'+n.map(M).join("")+"  </ul></div>",Array.prototype.slice.call(r.container.querySelectorAll(".ais-current-refined-values--link")).forEach(function(l){l.addEventListener("click",function(a){var d=Object.keys(a.currentTarget.dataset).reduce(function(m,u){var h={};return h[u]=a.currentTarget.dataset[u],e.assign({},m,h)},{});i(d)}),l.addEventListener("keydown",function(a){if(a.keyCode==13){var d=Object.keys(a.currentTarget.dataset).reduce(function(m,u){var h={};return h[u]=a.currentTarget.dataset[u],e.assign({},m,h)},{});i(d)}})})},G=b(D),O=function(t,n){return n.some(function(i){var r=t.state.isConjunctiveFacet(i.name)&&t.state.isFacetRefined(i.name),l=t.state.isDisjunctiveFacet(i.name)&&t.state.isDisjunctiveFacetRefined(i.name),a=t.state.isHierarchicalFacet(i.name)&&t.state.isHierarchicalFacetRefined(i.name),d=t.state.getNumericRefinements(i.name),m=Object.keys(d).some(function(u){return d[u].length>0});return m||r||l||a})},Q=f({hidden:function(t){return!O(t.helper,s.facets.list)}})(G),z=f({hidden:function(t){return!O(t.helper,s.facets.list)}})(w);s.search.addWidgets([z({container:document.querySelector(".ais-clear-refinements-container"),templates:{resetLabel:e.translations.clearAll}}),Q({container:document.querySelector(".ais-current-refined-values-container")})]),s.facets.widgets.forEach(function(t){s.search.addWidgets([t.widget(t.params)])}),s.search.addWidgets([p({container:".ais-hits-container",templates:{empty:s.templates.empty,item:s.templates.product},transformItems:function(t){return t.map(function(n){return e.assign({},n,{_distinct:s.distinct,can_order:n.inventory_management!=="shopify"||n.inventory_policy==="continue"||n.inventory_quantity>0,translations:e.translations,queryID:n.__queryID,productPosition:n.__position,index:s.search.mainIndex.getIndexName()})})}})]),s.search.addWidgets([{init:function(){var t=document.querySelector(".ais-hits-container");t.addEventListener("click",function(n){var i=n.target,r;do{if(i.matches(".ais-hit")){r=i;break}i=i.parentNode}while(i&&i!==t);if(r){var l=r,a=l.dataset.handle,d=l.dataset.variantId,m=l.dataset.distinct,u="/products/"+a;if(m!=="true"&&(u+="?variant="+d),e.config.analytics_enabled){var h={index:r.dataset.algoliaIndex,eventName:"click",queryID:r.dataset.algoliaQueryid,objectIDs:[r.dataset.algoliaObjectid],positions:[Number(r.dataset.algoliaPosition)]};q.clickedObjectIDsAfterSearch(h),e.saveForConversionTracking(h)}window.location.href=u}})}}]),s.search.addWidgets([{init:function(){var t=document.querySelector(".ais-hits-container");t.addEventListener("click",function(n){var i=n.target,r;do{if(i.matches(".ais-hit--cart-button")){r=i;break}i=i.parentNode}while(i&&i!==t);if(r){n.stopPropagation();var l=r,a=l.dataset.formId;a&&document.getElementById(a).submit()}})}}]),s.search.addWidgets([{init:function(t){var n=document.querySelector(".ais-hits-container");n.addEventListener("click",function(i){var r=i.target,l;do{if(r.matches(".ais-hit-empty--clear-filters")){l=r;break}r=r.parentNode}while(r&&r!==n);if(l){var a=t.helper;a.clearTags(),s.facets.list.forEach(function(d){a.clearRefinements(d.name)}),a.search()}}),n.addEventListener("click",function(i){var r=i.target,l;do{if(r.matches(".ais-hit-empty--change-index")){l=r;break}r=r.parentNode}while(r&&r!==n);if(l){var a="/pages/parts-manuals?parts_and_manuals_shopify[query]="+t.helper.getQuery().query;window.location.href=a}})}}]),s.search.addWidgets([g({container:".ais-pagination-container",padding:2,maxPages:20})]),s.search.start(),e.contentHide.parentNode.removeChild(e.contentHide)})(window.algoliaShopify),function(e){"use strict";var c=[],v=e.document,x=e.MutationObserver||e.WebKitMutationObserver,y;function P(f,p){c.push({selector:f,fn:p}),y||(y=new x(w),y.observe(v.documentElement,{childList:!0,subtree:!0})),w()}function w(){for(var f=0,p=c.length,g,_;f<p;f++){g=c[f],_=v.querySelectorAll(g.selector);for(var b=0,q=_.length,o;b<q;b++)o=_[b],o.ready||(o.ready=!0,g.fn.call(o,o))}}e.ready=P}(this),ready(".ais-SearchBox-input",function(e){$(this).attr("id","ais-SearchBox-input")}),ready(".ais-SortBy-select",function(e){$(this).attr("id","ais-SortBy-select"),$(this).attr("value","shopify_USproducts")}),ready(".ais-Pagination-list",function(e){var c=window.location.href;$(".ais-Pagination-link").each(function(){label=$(this).text(),link=$(this).attr("href"),label=="\xAB"?label="Goto First Page":label=="\u2039"?label="Goto Previous Page":label=="\u203A"?label="Goto Next Page":label=="\xBB"?label="Goto Last Page":link==c?label="Current Page, Page "+label:label="Goto Page "+label,$(this).attr("aria-label",label)}),$(".ais-Pagination-link").click(function(){setTimeout(function(){var v=window.location.href;$(".ais-Pagination-link").each(function(){label=$(this).text(),link=$(this).attr("href"),label=="\xAB"?label="Goto First Page":label=="\u2039"?label="Goto Previous Page":label=="\u203A"?label="Goto Next Page":label=="\xBB"?label="Goto Last Page":link==v?label="Current Page, Page "+label:label="Goto Page "+label,$(this).attr("aria-label",label)})},500)})}),ready(".ais-Menu-list",function(e){$(this).attr("role","list")}),ready(".ais-Menu-item",function(e){$(this).attr("role","listitem"),$(this).keydown(function(c){c.keyCode==13&&$(this).click()})}),ready(".ais-current-refined-values--link",function(e){$(this).keydown(function(c){c.keyCode==13&&$(this).click()})}),ready(".ais-facet-slider.ais-facet-price",function(e){$(this).remove()}),ready(".ais-facet-disjunctive.ais-facet-price_range .ais-facet--label",function(e){$(this).removeAttr("role").removeAttr("tabindex")}),ready(".ais-facet-disjunctive.ais-facet-price_range .ais-facet--checkbox",function(e){$(this).keydown(function(c){c.keyCode==13&&$(this).click()})}),ready(".ais-RefinementList-list, .ais-Menu-list",function(e){$(this).parent().parent().parent().show()}),ready(".ais-RefinementList--noRefinement, .ais-Menu--noRefinement",function(e){$(this).parent().parent().hide()}),ready(".ais-current-refined-values--item a",function(e){$(this).keydown(function(c){c.keyCode==13&&$(this).click()})}),ready("#ais-SortBy-select option[value=shopify_USproducts]",function(e){$(this).attr("selected","selected")}),ready(".ais-facet-price_range-container .ais-RefinementList-item",function(e){var c=Math.floor(Math.random()*Math.floor(Math.random()*Date.now()));$(this).find("label").attr("for","facet-"+c),$(this).find("input").attr("id","facet-"+c)}),ready(".ais-SearchBox-submitIcon, .ais-SearchBox-resetIcon, .ais-SearchBox-loadingIcon",function(e){$(this).remove()});
//# sourceMappingURL=/s/files/1/0259/4629/2284/t/104/assets/algolia_instant_search.js.map?v=152536097657912793241681419244
