(function(e){"use strict";if(!e.config.autocomplete_enabled)return;var P=e.externals.algoliasearch,T=e.externals.autocomplete,k=e.externals.aa,x=P(e.config.app_id,e.config.search_api_key);function f(o){return o=="faqs"?x.initIndex("zendesk_hunterfan_articles"):x.initIndex(""+e.config.index_prefix+o)}function u(o,t){var n=o[t],r={empty:function(p){return e.render(n.templates.empty,e.assign({},p,{translations:e.translations}))},suggestion:function(p){return e.render(n.templates.hit,e.assign({_distinct:n.distinct},p,{translations:e.translations}))}};n.templates.footer&&(r.footer=function(p,d){return d.nbHits<=n.hitsPerPage||!e.config.instant_search_enabled?null:e.render(n.templates.footer,{query:p.query,nbHits:d.nbHits,translations:e.translations,helpers:e.helpers})});var i=null;return e.config.stock_policy&&t==="products"&&(e.config.stock_policy==="allow"||(e.config.stock_policy==="deny"?i="inventory_quantity > 0":e.config.stock_policy==="continue"&&(i="inventory_available:true"))),{name:t,source:function(s,p){var d={clickAnalytics:!0,hitsPerPage:n.hitsPerPage,highlightPreTag:'<span class="aa-highlight">',highlightPostTag:"</span>"};n.distinct&&(d.distinct=!0),i&&(d.filters=i),f(t).search(s,d).then(function(a){var _=a.hits.map(function(v,g){return e.assign({},v,{_position:g+1,_queryID:a.queryID,_index:e.config.index_prefix+t})});p(_,a)})},displayKey:"title",templates:r}}function b(o,t){if(t){var n=t.$node.get(0),r=t.dropdown.$menu.get(0),i=document.body.clientWidth-40,s=document.body.clientWidth,p=o.getBoundingClientRect(),d={top:p.top+document.body.scrollTop,left:p.left+document.body.scrollLeft},a=d.left,_=s-i-a,v=d.top,g=o.offsetHeight,w=a<_?"left":"right",m=Math.min(a,_);4*m>s&&(w="left",m=Math.round(s/4));var h=s-2*m;i>=600&&(w="left",m=a,h=i),n.style.left="",n.style.right="",n.style.top=v+g+8+"px",n.style[w]=m+"px",n.style.width=h+"px";var y="lg";h<300?y="xs":h<600?y="sm":h<900&&(y="md"),r.classList.remove("aa-dropdown-menu-size-xs","aa-dropdown-menu-size-sm","aa-dropdown-menu-size-md","aa-dropdown-menu-size-lg","aa-dropdown-menu-size-lg"),r.classList.add("aa-dropdown-menu-size-"+y)}}var l={articles:{hitsPerPage:e.config.articles_autocomplete_hits_per_page,index:f("articles"),templates:{empty:e.compileTemplate("autocomplete_articles_empty"),hit:e.compileTemplate("autocomplete_article")}},faqs:{hitsPerPage:3,index:f("faqs"),templates:{empty:e.compileTemplate("autocomplete_zendesk_empty"),hit:e.compileTemplate("autocomplete_zendesk")}},pages:{hitsPerPage:e.config.pages_autocomplete_hits_per_page,index:f("pages"),templates:{empty:e.compileTemplate("autocomplete_pages_empty"),hit:e.compileTemplate("autocomplete_page")}},collections:{hitsPerPage:e.config.collections_autocomplete_hits_per_page,index:f("collections"),templates:{empty:e.compileTemplate("autocomplete_collections_empty"),hit:e.compileTemplate("autocomplete_collection")}},products:{distinct:e.config.show_products,hitsPerPage:e.config.products_autocomplete_hits_per_page,index:f("products"),templates:{empty:e.compileTemplate("autocomplete_products_empty"),footer:e.compileTemplate("autocomplete_footer"),hit:e.compileTemplate("autocomplete_product")}}};e.config.powered_by&&console.log("Algolia: Autocomplete"),e.appendStyle(e.render(e.compileTemplate("autocomplete.css"),{colors:e.config.colors}));var c=T(e.config.input_selector+", .algolia-shopify-autocomplete",{debug:e.config.autocomplete_debug,hint:!1,appendTo:"body",templates:{dropdownMenu:e.render(e.compileTemplate("autocomplete"),{storeName:e.storeName,with:{articles:e.config.index_articles,collections:e.config.index_collections,pages:e.config.index_pages,footer:e.config.instant_search_enabled,poweredBy:e.config.powered_by,products:e.config.index_products}}),empty:"<div></div>"}},[e.config.index_collections&&u(l,"collections"),e.config.index_articles&&u(l,"articles"),e.config.index_pages&&u(l,"pages"),e.config.index_products&&u(l,"products"),u(l,"faqs")].filter(function(o){return!!o}));c.each(function(o){var t=c.eq(o).data("aaAutocomplete"),n="."+t.dropdown.cssClasses.prefix+"-"+t.dropdown.cssClasses.suggestion,r=t.dropdown._onSuggestionClick.bind(t.dropdown),i;t.dropdown.$menu.on("touchend",n,function(s){i===!1&&(s.preventDefault(),s.stopPropagation(),r.apply(this,arguments))}).on("touchmove",function(){i=!0}).on("touchstart",function(){i=!1})}),c.on("autocomplete:selected",function(o,t,n){if(e.config.analytics_enabled){var r={index:t._index,eventName:"click",queryID:t._queryID,objectIDs:[t.objectID],positions:[t._position]};k.clickedObjectIDsAfterSearch(r)}switch(n){case"products":{var i=!e.config.show_products&&t.objectID!==t.id;window.location.href="/"+n+"/"+t.handle+(i?"?variant="+t.objectID:"");break}case"articles":window.location.href="/blogs/"+t.blog.handle+"/"+t.handle;break;default:window.location.href="/"+n+"/"+t.handle}}),c.on("autocomplete:updated",function(){var o=c.data("aaAutocomplete");if(o.dropdown&&o.dropdown.datasets){var t=o.dropdown.datasets,n=t.find(function(s){return s.name==="products"});if(n&&n.cachedRenderExtraArgs){var r=n.cachedRenderExtraArgs.find(function(s){return!!s.userData});if(r&&r.userData){var i=r.userData.find(function(s){return!!s.redirect});i&&i.redirect&&(window.location.href=i.redirect)}}}}),c.on("autocomplete:redrawn",function(){var o=this,t;c.each(function(n,r){return r===o?(t=n,!1):!0}),b(this,c.eq(t).data("aaAutocomplete"))}),window.addEventListener("resize",function(){c.each(function(o){b(this,c.eq(o).data("aaAutocomplete"))})})})(window.algoliaShopify);
//# sourceMappingURL=/s/files/1/0259/4629/2284/t/104/assets/algolia_autocomplete.js.map?v=48506812298982030891681419244
