var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

window.pokemonUI=window.pokemonUI||{},window.pokemonUI.api=window.pokemonUI.api||{},window.pokemonUI.dictionary=window.pokemonUI.dictionary||{},window.mockAPI=window.location.href.indexOf("localhost:8765")>=0,window.addEventListener("load",function(){window.loaded=!0});var GreenSockAMDPath="vendor/greensock";requirejs.config({paths:{backbone:"vendor/backbone","backbone.super":"vendor/plugins/backbone.super","edge.5.0.0.min":"vendor/edge.5.0.0.min",breakpoint:"vendor/plugins/breakpoint","handlebars.runtime":"vendor/handlebars.runtime",jquery:"vendor/jquery-1.10.1","swfobject-2.1":"vendor/swfobject-2.1","swfobject-2.2":"vendor/swfobject-2.2",orbital:"vendor/orbital","custom-select-menu":"vendor/plugins/custom-select-menu.jquery",nouislider:"vendor/plugins/nouislider",pickadate:"vendor/plugins/picker.date",tabFocusManager:"vendor/plugins/TabWindowVisibilityManager.min",pixi:"vendor/pixi",typeahead:"vendor/plugins/typeahead","tiny-pubsub":"vendor/plugins/tiny-pubsub","tiny-scrollbar":"vendor/plugins/jquery.tinyscrollbar",xml2json:"vendor/plugins/jquery.xml2json",TweenJS:"vendor/Tween",TweenMax:"vendor/greensock/TweenMax",ScrollTo:"vendor/greensock/plugins/ScrollToPlugin",underscore:"vendor/underscore",delvePlayer:"vendor/delve.embed",easeljs:"vendor/createjs/easeljs-0.6.1.min",preloadjs:"vendor/createjs/preloadjs-0.3.1.min",soundjs:"vendor/createjs/soundjs-0.5.2.min",AlphaMaskFilter:"vendor/createjs/filters/AlphaMaskFilter",globalize:"vendor/globalize",cultures:"vendor/cultures",md5:"vendor/md5","jquery.jqpuzzle.full":"minigames/puzzler",puzzler:"minigames/puzzler",sockjs:"vendor/sockjs",toastr:"//web.archive.org/web/20151028121945/http://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.min",xdr:"vendor/plugins/xdr",datetimepicker:"vendor/jquery.datetimepicker",flipclock:"vendor/flipclock",datatables:"vendor/jquery.dataTables.min",gus:"gus",zeroclip:"vendor/ZeroClipboard.min"},shim:{breakpoint:["jquery"],"custom-select-menu":["jquery"],"handlebars.runtime":{exports:"Handlebars"},Picker:{exports:"Picker"},nouislider:["jquery"],pickadate:["vendor/plugins/picker","jquery"],tabFocusManager:["jquery"],"tiny-pubsub":["jquery"],"tiny-scrollbar":["jquery"],typeahead:["jquery"],TweenJS:{exports:"TWEEN"},TweenMax:{exports:"TweenMax"},delvePlayer:{exports:"LimelightPlayerUtil"},xdr:{deps:["jquery"]},easeljs:{exports:"createjs"},preloadjs:{exports:"createjs"},soundjs:{exports:"createjs"},AlphaMaskFilter:{deps:["easeljs"],exports:"createjs"},datetimepicker:{deps:["jquery"]},flipclock:{deps:["jquery"]},"jquery.jqpuzzle.full":{deps:["jquery"]},datatables:["jquery"],gus:["jquery"],zeroclip:{exports:"ZeroClipboard"}},map:{"*":{domReady:"vendor/plugins/domReady",handlebars:"handlebars.runtime",is:"vendor/plugins/is"}},waitSeconds:30}),define("config",function(){}),requirejs(["config"],function(){require(["modules/Application","models/applicationState","domReady!"],function(e,t){e.initialize({model:t})})}),define("main",function(){}),function(e,t){function H(e){var t=e.length,n=w.type(e);return w.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||n!=="function"&&(t===0||typeof t=="number"&&t>0&&t-1 in e)}function j(e){var t=B[e]={};return w.each(e.match(S)||[],function(e,n){t[n]=!0}),t}function q(e,n,r,i){if(!w.acceptData(e))return;var s,o,u=w.expando,a=e.nodeType,f=a?w.cache:e,l=a?e[u]:e[u]&&u;if((!l||!f[l]||!i&&!f[l].data)&&r===t&&typeof n=="string")return;l||(a?l=e[u]=c.pop()||w.guid++:l=u),f[l]||(f[l]=a?{}:{toJSON:w.noop});if(typeof n=="object"||typeof n=="function")i?f[l]=w.extend(f[l],n):f[l].data=w.extend(f[l].data,n);return o=f[l],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[w.camelCase(n)]=r),typeof n=="string"?(s=o[n],s==null&&(s=o[w.camelCase(n)])):s=o,s}function R(e,t,n){if(!w.acceptData(e))return;var r,i,s=e.nodeType,o=s?w.cache:e,u=s?e[w.expando]:w.expando;if(!o[u])return;if(t){r=n?o[u]:o[u].data;if(r){w.isArray(t)?t=t.concat(w.map(t,w.camelCase)):t in r?t=[t]:(t=w.camelCase(t),t in r?t=[t]:t=t.split(" ")),i=t.length;while(i--)delete r[t[i]];if(n?!z(r):!w.isEmptyObject(r))return}}if(!n){delete o[u].data;if(!z(o[u]))return}s?w.cleanData([e],!0):w.support.deleteExpando||o!=o.window?delete o[u]:o[u]=null}function U(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(I,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:F.test(r)?w.parseJSON(r):r}catch(s){}w.data(e,n,r)}else r=t}return r}function z(e){var t;for(t in e){if(t==="data"&&w.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function it(){return!0}function st(){return!1}function ot(){try{return o.activeElement}catch(e){}}function ct(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ht(e,t,n){if(w.isFunction(t))return w.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return w.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(ut.test(t))return w.filter(t,e,n);t=w.filter(t,e)}return w.grep(e,function(e){return w.inArray(e,t)>=0!==n})}function pt(e){var t=dt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Mt(e,t){return w.nodeName(e,"table")&&w.nodeName(t.nodeType===1?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function _t(e){return e.type=(w.find.attr(e,"type")!==null)+"/"+e.type,e}function Dt(e){var t=Ct.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Pt(e,t){var n,r=0;for(;(n=e[r])!=null;r++)w._data(n,"globalEval",!t||w._data(t[r],"globalEval"))}function Ht(e,t){if(t.nodeType!==1||!w.hasData(e))return;var n,r,i,s=w._data(e),o=w._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)w.event.add(t,n,u[n][r])}o.data&&(o.data=w.extend({},o.data))}function Bt(e,t){var n,r,i;if(t.nodeType!==1)return;n=t.nodeName.toLowerCase();if(!w.support.noCloneEvent&&t[w.expando]){i=w._data(t);for(r in i.events)w.removeEvent(t,r,i.handle);t.removeAttribute(w.expando)}if(n==="script"&&t.text!==e.text)_t(t).text=e.text,Dt(t);else if(n==="object")t.parentNode&&(t.outerHTML=e.outerHTML),w.support.html5Clone&&e.innerHTML&&!w.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML);else if(n==="input"&&xt.test(e.type))t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value);else if(n==="option")t.defaultSelected=t.selected=e.defaultSelected;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function jt(e,n){var r,s,o=0,u=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!u)for(u=[],r=e.childNodes||e;(s=r[o])!=null;o++)!n||w.nodeName(s,n)?u.push(s):w.merge(u,jt(s,n));return n===t||n&&w.nodeName(e,n)?w.merge([e],u):u}function Ft(e){xt.test(e.type)&&(e.defaultChecked=e.checked)}function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--){t=en[i]+n;if(t in e)return t}return r}function nn(e,t){return e=t||e,w.css(e,"display")==="none"||!w.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=w._data(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&nn(r)&&(s[o]=w._data(r,"olddisplay",an(r.nodeName)))):s[o]||(i=nn(r),(n&&n!=="none"||!i)&&w._data(r,"olddisplay",i?n:w.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function sn(e,t,n){var r=$t.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function on(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=w.css(e,n+Zt[s],!0,i)),r?(n==="content"&&(o-=w.css(e,"padding"+Zt[s],!0,i)),n!=="margin"&&(o-=w.css(e,"border"+Zt[s]+"Width",!0,i))):(o+=w.css(e,"padding"+Zt[s],!0,i),n!=="padding"&&(o+=w.css(e,"border"+Zt[s]+"Width",!0,i)));return o}function un(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=qt(e),o=w.support.boxSizing&&w.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=Rt(e,t,s);if(i<0||i==null)i=e.style[t];if(Jt.test(i))return i;r=o&&(w.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+on(e,t,n||(o?"border":"content"),r,s)+"px"}function an(e){var t=o,n=Qt[e];if(!n){n=fn(e,t);if(n==="none"||!n)It=(It||w("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(It[0].contentWindow||It[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=fn(e,t),It.detach();Qt[e]=n}return n}function fn(e,t){var n=w(t.createElement(e)).appendTo(t.body),r=w.css(n[0],"display");return n.remove(),r}function vn(e,t,n,r){var i;if(w.isArray(t))w.each(t,function(t,i){n||cn.test(e)?r(e,i):vn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&w.type(t)==="object")for(i in t)vn(e+"["+i+"]",t[i],n,r);else r(e,t)}function _n(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(S)||[];if(w.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Dn(e,t,n,r){function o(u){var a;return i[u]=!0,w.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===An;return o(t.dataTypes[0])||!i["*"]&&o("*")}function Pn(e,n){var r,i,s=w.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((s[i]?e:r||(r={}))[i]=n[i]);return r&&w.extend(!0,e,r),e}function Hn(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes;while(f[0]==="*")f.shift(),s===t&&(s=e.mimeType||n.getResponseHeader("Content-Type"));if(s)for(u in a)if(a[u]&&a[u].test(s)){f.unshift(u);break}if(f[0]in r)o=f[0];else{for(u in r){if(!f[0]||e.converters[u+" "+f[0]]){o=u;break}i||(i=u)}o=o||i}if(o)return o!==f[0]&&f.unshift(o),r[o]}function Bn(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function zn(){try{return new e.XMLHttpRequest}catch(t){}}function Wn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function Yn(){return setTimeout(function(){Xn=t}),Xn=w.now()}function Zn(e,t,n){var r,i=(Gn[t]||[]).concat(Gn["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function er(e,t,n){var r,i,s=0,o=Qn.length,u=w.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=Xn||Yn(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Yn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;tr(l,f.opts.specialEasing);for(;s<o;s++){r=Qn[s].call(f,e,l,f.opts);if(r)return r}return w.map(l,Zn,f),w.isFunction(f.opts.start)&&f.opts.start.call(e,f),w.fx.timer(w.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function tr(e,t){var n,r,i,s,o;for(n in e){r=w.camelCase(n),i=t[r],s=e[n],w.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=w.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function nr(e,t,n){var r,i,s,o,u,a,f=this,l={},c=e.style,h=e.nodeType&&nn(e),p=w._data(e,"fxshow");n.queue||(u=w._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,f.always(function(){f.always(function(){u.unqueued--,w.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[c.overflow,c.overflowX,c.overflowY],w.css(e,"display")==="inline"&&w.css(e,"float")==="none"&&(!w.support.inlineBlockNeedsLayout||an(e.nodeName)==="inline"?c.display="inline-block":c.zoom=1)),n.overflow&&(c.overflow="hidden",w.support.shrinkWrapBlocks||f.always(function(){c.overflow=n.overflow[0],c.overflowX=n.overflow[1],c.overflowY=n.overflow[2]}));for(r in t){i=t[r];if($n.exec(i)){delete t[r],s=s||i==="toggle";if(i===(h?"hide":"show"))continue;l[r]=p&&p[r]||w.style(e,r)}}if(!w.isEmptyObject(l)){p?"hidden"in p&&(h=p.hidden):p=w._data(e,"fxshow",{}),s&&(p.hidden=!h),h?w(e).show():f.done(function(){w(e).hide()}),f.done(function(){var t;w._removeData(e,"fxshow");for(t in l)w.style(e,t,l[t])});for(r in l)o=Zn(h?p[r]:0,r,f),r in p||(p[r]=o.start,h&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}function ir(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function sr(e){return w.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=typeof t,s=e.location,o=e.document,u=o.documentElement,a=e.jQuery,f=e.$,l={},c=[],h="1.10.1",p=c.concat,d=c.push,v=c.slice,m=c.indexOf,g=l.toString,y=l.hasOwnProperty,b=h.trim,w=function(e,t){return new w.fn.init(e,t,r)},E=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,S=/\S+/g,x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,N=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,C=/^[\],:{}\s]*$/,k=/(?:^|:|,)(?:\s*\[)+/g,L=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,O=/^-ms-/,M=/-([\da-z])/gi,_=function(e,t){return t.toUpperCase()},D=function(e){if(o.addEventListener||e.type==="load"||o.readyState==="complete")P(),w.ready()},P=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",D,!1),e.removeEventListener("load",D,!1)):(o.detachEvent("onreadystatechange",D),e.detachEvent("onload",D))};w.fn=w.prototype={jquery:h,constructor:w,init:function(e,n,r){var i,s;if(!e)return this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=T.exec(e);if(i&&(i[1]||!n)){if(i[1]){n=n instanceof w?n[0]:n,w.merge(this,w.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0));if(N.test(i[1])&&w.isPlainObject(n))for(i in n)w.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}s=o.getElementById(i[2]);if(s&&s.parentNode){if(s.id!==i[2])return r.find(e);this.length=1,this[0]=s}return this.context=o,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):w.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),w.makeArray(e,this))},selector:"",length:0,toArray:function(){return v.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return w.each(this,e,t)},ready:function(e){return w.ready.promise().done(e),this},slice:function(){return this.pushStack(v.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},w.fn.init.prototype=w.fn,w.extend=w.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u=="boolean"&&(l=u,u=arguments[1]||{},a=2),typeof u!="object"&&!w.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((s=arguments[a])!=null)for(i in s){e=u[i],r=s[i];if(u===r)continue;l&&r&&(w.isPlainObject(r)||(n=w.isArray(r)))?(n?(n=!1,o=e&&w.isArray(e)?e:[]):o=e&&w.isPlainObject(e)?e:{},u[i]=w.extend(l,o,r)):r!==t&&(u[i]=r)}return u},w.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===w&&(e.$=f),t&&e.jQuery===w&&(e.jQuery=a),w},isReady:!1,readyWait:1,holdReady:function(e){e?w.readyWait++:w.ready(!0)},ready:function(e){if(e===!0?--w.readyWait:w.isReady)return;if(!o.body)return setTimeout(w.ready);w.isReady=!0;if(e!==!0&&--w.readyWait>0)return;n.resolveWith(o,[w]),w.fn.trigger&&w(o).trigger("ready").off("ready")},isFunction:function(e){return w.type(e)==="function"},isArray:Array.isArray||function(e){return w.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):typeof e=="object"||typeof e=="function"?l[g.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||w.type(e)!=="object"||e.nodeType||w.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(w.support.ownLast)for(n in e)return y.call(e,n);for(n in e);return n===t||y.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||o;var r=N.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=w.buildFragment([e],t,i),i&&w(i).remove(),w.merge([],r.childNodes))},parseJSON:function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(t===null)return t;if(typeof t=="string"){t=w.trim(t);if(t&&C.test(t.replace(L,"@").replace(A,"]").replace(k,"")))return(new Function("return "+t))()}w.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&w.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&w.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(O,"ms-").replace(M,_)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=H(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:b&&!b.call("﻿ ")?function(e){return e==null?"":b.call(e)}:function(e){return e==null?"":(e+"").replace(x,"")},makeArray:function(e,t){var n=t||[];return e!=null&&(H(Object(e))?w.merge(n,typeof e=="string"?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(m)return m.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=H(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&(u[u.length]=r);else for(i in e)r=t(e[i],i,n),r!=null&&(u[u.length]=r);return p.apply([],u)},guid:1,proxy:function(e,n){var r,i,s;return typeof n=="string"&&(s=e[n],n=e,e=s),w.isFunction(e)?(r=v.call(arguments,2),i=function(){return e.apply(n||this,r.concat(v.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i):t},access:function(e,n,r,i,s,o,u){var a=0,f=e.length,l=r==null;if(w.type(r)==="object"){s=!0;for(a in r)w.access(e,n,a,r[a],!0,o,u)}else if(i!==t){s=!0,w.isFunction(i)||(u=!0),l&&(u?(n.call(e,i),n=null):(l=n,n=function(e,t,n){return l.call(w(e),n)}));if(n)for(;a<f;a++)n(e[a],r,u?i:i.call(e[a],a,n(e[a],r)))}return s?e:l?n.call(e):f?n(e[0],r):o},now:function(){return(new Date).getTime()},swap:function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i}}),w.ready.promise=function(t){if(!n){n=w.Deferred();if(o.readyState==="complete")setTimeout(w.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",D,!1),e.addEventListener("load",D,!1);else{o.attachEvent("onreadystatechange",D),e.attachEvent("onload",D);var r=!1;try{r=e.frameElement==null&&o.documentElement}catch(i){}r&&r.doScroll&&function s(){if(!w.isReady){try{r.doScroll("left")}catch(e){return setTimeout(s,50)}P(),w.ready()}}()}}return n.promise(t)},w.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()}),r=w(o),function(e,t){function ot(e,t,n,i){var s,o,u,a,f,l,p,m,g,w;(t?t.ownerDocument||t:E)!==h&&c(t),t=t||h,n=n||[];if(!e||typeof e!="string")return n;if((a=t.nodeType)!==1&&a!==9)return[];if(d&&!i){if(s=Z.exec(e))if(u=s[1]){if(a===9){o=t.getElementById(u);if(!o||!o.parentNode)return n;if(o.id===u)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&y(t,o)&&o.id===u)return n.push(o),n}else{if(s[2])return H.apply(n,t.getElementsByTagName(e)),n;if((u=s[3])&&r.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(u)),n}if(r.qsa&&(!v||!v.test(e))){m=p=b,g=t,w=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){l=bt(e),(p=t.getAttribute("id"))?m=p.replace(nt,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=l.length;while(f--)l[f]=m+wt(l[f]);g=$.test(e)&&t.parentNode||t,w=l.join(",")}if(w)try{return H.apply(n,g.querySelectorAll(w)),n}catch(S){}finally{p||t.removeAttribute("id")}}}return Lt(e.replace(W,"$1"),t,n,i)}function ut(e){return Y.test(e+"")}function at(){function t(n,r){return e.push(n+=" ")>s.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function ft(e){return e[b]=!0,e}function lt(e){var t=h.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ct(e,t,n){e=e.split("|");var r,i=e.length,o=n?null:t;while(i--)if(!(r=s.attrHandle[e[i]])||r===t)s.attrHandle[e[i]]=o}function ht(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:e[t]===!0?t.toLowerCase():null}function pt(e,t){return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}function dt(e){if(e.nodeName.toLowerCase()==="input")return e.defaultValue}function vt(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||O)-(~e.sourceIndex||O);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function mt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function gt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function yt(e){return ft(function(t){return t=+t,ft(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function bt(e,t){var n,r,i,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=s.preFilter;while(u){if(!n||(r=X.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(i=[]);n=!1;if(r=V.exec(u))n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),u=u.slice(n.length);for(o in s.filter)(r=G[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(n=r.shift(),i.push({value:n,type:o,matches:r}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)}function wt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function Et(e,t,n){var r=t.dir,s=n&&r==="parentNode",o=x++;return t.first?function(t,n,i){while(t=t[r])if(t.nodeType===1||s)return e(t,n,i)}:function(t,n,u){var a,f,l,c=S+" "+o;if(u){while(t=t[r])if(t.nodeType===1||s)if(e(t,n,u))return!0}else while(t=t[r])if(t.nodeType===1||s){l=t[b]||(t[b]={});if((f=l[r])&&f[0]===c){if((a=f[1])===!0||a===i)return a===!0}else{f=l[r]=[c],f[1]=e(t,n,u)||i;if(f[1]===!0)return!0}}}}function St(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function Tt(e,t,n,r,i,s){return r&&!r[b]&&(r=Tt(r)),i&&!i[b]&&(i=Tt(i,s)),ft(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||kt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?xt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=xt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?j.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=xt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):H.apply(o,g)})}function Nt(e){var t,n,r,i=e.length,o=s.relative[e[0].type],u=o||s.relative[" "],a=o?1:0,l=Et(function(e){return e===t},u,!0),c=Et(function(e){return j.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<i;a++)if(n=s.relative[e[a].type])h=[Et(St(h),n)];else{n=s.filter[e[a].type].apply(null,e[a].matches);if(n[b]){r=++a;for(;r<i;r++)if(s.relative[e[r].type])break;return Tt(a>1&&St(h),a>1&&wt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(W,"$1"),n,a<r&&Nt(e.slice(a,r)),r<i&&Nt(e=e.slice(r)),r<i&&wt(e))}h.push(n)}return St(h)}function Ct(e,t){var n=0,r=t.length>0,o=e.length>0,u=function(u,a,l,c,p){var d,v,m,g=[],y=0,b="0",w=u&&[],E=p!=null,x=f,T=u||o&&s.find.TAG("*",p&&a.parentNode||a),N=S+=x==null?1:Math.random()||.1;E&&(f=a!==h&&a,i=n);for(;(d=T[b])!=null;b++){if(o&&d){v=0;while(m=e[v++])if(m(d,a,l)){c.push(d);break}E&&(S=N,i=++n)}r&&((d=!m&&d)&&y--,u&&w.push(d))}y+=b;if(r&&b!==y){v=0;while(m=t[v++])m(w,g,a,l);if(u){if(y>0)while(b--)!w[b]&&!g[b]&&(g[b]=D.call(c));g=xt(g)}H.apply(c,g),E&&!u&&g.length>0&&y+t.length>1&&ot.uniqueSort(c)}return E&&(S=N,f=x),w};return r?ft(u):u}function kt(e,t,n){var r=0,i=t.length;for(;r<i;r++)ot(e,t[r],n);return n}function Lt(e,t,n,i){var o,u,f,l,c,h=bt(e);if(!i&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&r.getById&&t.nodeType===9&&d&&s.relative[u[1].type]){t=(s.find.ID(f.matches[0].replace(rt,it),t)||[])[0];if(!t)return n;e=e.slice(u.shift().value.length)}o=G.needsContext.test(e)?0:u.length;while(o--){f=u[o];if(s.relative[l=f.type])break;if(c=s.find[l])if(i=c(f.matches[0].replace(rt,it),$.test(u[0].type)&&t.parentNode||t)){u.splice(o,1),e=i.length&&wt(u);if(!e)return H.apply(n,i),n;break}}}return a(e,h)(i,t,!d,n,$.test(e)),n}function At(){}var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b="sizzle"+ -(new Date),E=e.document,S=0,x=0,T=at(),N=at(),C=at(),k=!1,L=function(){return 0},A=typeof t,O=1<<31,M={}.hasOwnProperty,_=[],D=_.pop,P=_.push,H=_.push,B=_.slice,j=_.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",q="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=q.replace("w","w#"),U="\\["+I+"*("+q+")"+I+"*(?:([*^$|!~]?=)"+I+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+R+")|)|)"+I+"*\\]",z=":("+q+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+U.replace(3,8)+")*)|.*)\\)|)",W=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),X=new RegExp("^"+I+"*,"+I+"*"),V=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),$=new RegExp(I+"*[+~]"),J=new RegExp("="+I+"*([^\\]'\"]*)"+I+"*\\]","g"),K=new RegExp(z),Q=new RegExp("^"+R+"$"),G={ID:new RegExp("^#("+q+")"),CLASS:new RegExp("^\\.("+q+")"),TAG:new RegExp("^("+q.replace("w","w*")+")"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/^(?:input|select|textarea|button)$/i,tt=/^h\d$/i,nt=/'|\\/g,rt=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),it=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{H.apply(_=B.call(E.childNodes),E.childNodes),_[E.childNodes.length].nodeType}catch(st){H={apply:_.length?function(e,t){P.apply(e,B.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}u=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},r=ot.support={},c=ot.setDocument=function(e){var t=e?e.ownerDocument||e:E,n=t.parentWindow;if(t===h||t.nodeType!==9||!t.documentElement)return h;h=t,p=t.documentElement,d=!u(t),n&&n.frameElement&&n.attachEvent("onbeforeunload",function(){c()}),r.attributes=lt(function(e){return e.innerHTML="<a href='#'></a>",ct("type|href|height|width",pt,e.firstChild.getAttribute("href")==="#"),ct(F,ht,e.getAttribute("disabled")==null),e.className="i",!e.getAttribute("className")}),r.input=lt(function(e){return e.innerHTML="<input>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}),ct("value",dt,r.attributes&&r.input),r.getElementsByTagName=lt(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),r.getElementsByClassName=lt(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),r.getById=lt(function(e){return p.appendChild(e).id=b,!t.getElementsByName||!t.getElementsByName(b).length}),r.getById?(s.find.ID=function(e,t){if(typeof t.getElementById!==A&&d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){return e.getAttribute("id")===t}}):(delete s.find.ID,s.filter.ID=function(e){var t=e.replace(rt,it);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),s.find.TAG=r.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==A)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},s.find.CLASS=r.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==A&&d)return t.getElementsByClassName(e)},m=[],v=[];if(r.qsa=ut(t.querySelectorAll))lt(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||v.push("\\["+I+"*(?:value|"+F+")"),e.querySelectorAll(":checked").length||v.push(":checked")}),lt(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&v.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")});return(r.matchesSelector=ut(g=p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt(function(e){r.disconnectedMatch=g.call(e,"div"),g.call(e,"[s!='']:x"),m.push("!=",z)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),y=ut(p.contains)||p.compareDocumentPosition?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},r.sortDetached=lt(function(e){return e.compareDocumentPosition(t.createElement("div"))&1}),L=p.compareDocumentPosition?function(e,n){if(e===n)return k=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);if(i)return i&1||!r.sortDetached&&n.compareDocumentPosition(e)===i?e===t||y(E,e)?-1:n===t||y(E,n)?1:l?j.call(l,e)-j.call(l,n):0:i&4?-1:1;return e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,s=e.parentNode,o=n.parentNode,u=[e],a=[n];if(e===n)return k=!0,0;if(!s||!o)return e===t?-1:n===t?1:s?-1:o?1:l?j.call(l,e)-j.call(l,n):0;if(s===o)return vt(e,n);r=e;while(r=r.parentNode)u.unshift(r);r=n;while(r=r.parentNode)a.unshift(r);while(u[i]===a[i])i++;return i?vt(u[i],a[i]):u[i]===E?-1:a[i]===E?1:0},t},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){(e.ownerDocument||e)!==h&&c(e),t=t.replace(J,"='$1']");if(r.matchesSelector&&d&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var n=g.call(e,t);if(n||r.disconnectedMatch||e.document&&e.document.nodeType!==11)return n}catch(i){}return ot(t,h,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==h&&c(e),y(e,t)},ot.attr=function(e,n){(e.ownerDocument||e)!==h&&c(e);var i=s.attrHandle[n.toLowerCase()],o=i&&M.call(s.attrHandle,n.toLowerCase())?i(e,n,!d):t;return o===t?r.attributes||!d?e.getAttribute(n):(o=e.getAttributeNode(n))&&o.specified?o.value:null:o},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,n=[],i=0,s=0;k=!r.detectDuplicates,l=!r.sortStable&&e.slice(0),e.sort(L);if(k){while(t=e[s++])t===e[s]&&(i=n.push(s));while(i--)e.splice(n[i],1)}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(!i)for(;t=e[r];r++)n+=o(t);else if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(i===3||i===4)return e.nodeValue;return n},s=ot.selectors={cacheLength:50,createPseudo:ft,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(rt,it),e[3]=(e[4]||e[5]||"").replace(rt,it),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var n,r=!e[5]&&e[2];return G.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:r&&K.test(r)&&(n=bt(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(e[0]=e[0].slice(0,n),e[2]=r.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(rt,it).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&T(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[b]||(m[b]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[b]||(t[b]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){y&&((c[b]||(c[b]={}))[e]=[S,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,r=s.pseudos[e]||s.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],s.setFilters.hasOwnProperty(e.toLowerCase())?ft(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=j.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ft(function(e){var t=[],n=[],r=a(e.replace(W,"$1"));return r[b]?ft(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:ft(function(e){return function(t){return ot(e,t).length>0}}),contains:ft(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ft(function(e){return Q.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(rt,it).toLowerCase(),function(t){var n;do if(n=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||e.nodeType===3||e.nodeType===4)return!1;return!0},parent:function(e){return!s.pseudos.empty(e)},header:function(e){return tt.test(e.nodeName)},input:function(e){return et.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()===e.type)},first:yt(function(){return[0]}),last:yt(function(e,t){return[t-1]}),eq:yt(function(e,t,n){return[n<0?n+t:n]}),even:yt(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:yt(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:yt(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:yt(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})s.pseudos[n]=mt(n);for(n in{submit:!0,reset:!0})s.pseudos[n]=gt(n);a=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=bt(e)),n=t.length;while(n--)s=Nt(t[n]),s[b]?r.push(s):i.push(s);s=C(e,Ct(i,r))}return s},s.pseudos.nth=s.pseudos.eq,At.prototype=s.filters=s.pseudos,s.setFilters=new At,r.sortStable=b.split("").sort(L).join("")===b,c(),[0,0].sort(L),r.detectDuplicates=k,w.find=ot,w.expr=ot.selectors,w.expr[":"]=w.expr.pseudos,w.unique=ot.uniqueSort,w.text=ot.getText,w.isXMLDoc=ot.isXML,w.contains=ot.contains}(e);var B={};w.Callbacks=function(e){e=typeof e=="string"?B[e]||j(e):w.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){r=e.memory&&t,i=!0,o=u||0,u=0,s=a.length,n=!0;for(;a&&o<s;o++)if(a[o].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,a&&(f?f.length&&l(f.shift()):r?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function i(t){w.each(t,function(t,n){var r=w.type(n);r==="function"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&r!=="string"&&i(n)})})(arguments),n?s=a.length:r&&(u=t,l(r))}return this},remove:function(){return a&&w.each(arguments,function(e,t){var r;while((r=w.inArray(t,a,r))>-1)a.splice(r,1),n&&(r<=s&&s--,r<=o&&o--)}),this},has:function(e){return e?w.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],s=0,this},disable:function(){return a=f=r=t,this},disabled:function(){return!a},lock:function(){return f=t,r||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!i||f)&&(n?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},w.extend({Deferred:function(e){var t=[["resolve","done",w.Callbacks("once memory"),"resolved"],["reject","fail",w.Callbacks("once memory"),"rejected"],["notify","progress",w.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,s){var o=s[0],u=w.isFunction(e[t])&&e[t];i[s[1]](function(){var e=u&&u.apply(this,arguments);e&&w.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?w.extend(e,r):r}},i={};return r.pipe=r.then,w.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=v.call(arguments),r=n.length,i=r!==1||e&&w.isFunction(e.promise)?r:0,s=i===1?e:w.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?v.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&w.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),w.support=function(t){var n,r,s,u,a,f,l,c,h,p=o.createElement("div");p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*")||[],r=p.getElementsByTagName("a")[0];if(!r||!r.style||!n.length)return t;u=o.createElement("select"),f=u.appendChild(o.createElement("option")),s=p.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute=p.className!=="t",t.leadingWhitespace=p.firstChild.nodeType===3,t.tbody=!p.getElementsByTagName("tbody").length,t.htmlSerialize=!!p.getElementsByTagName("link").length,t.style=/top/.test(r.getAttribute("style")),t.hrefNormalized=r.getAttribute("href")==="/a",t.opacity=/^0.5/.test(r.style.opacity),t.cssFloat=!!r.style.cssFloat,t.checkOn=!!s.value,t.optSelected=f.selected,t.enctype=!!o.createElement("form").enctype,t.html5Clone=o.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,u.disabled=!0,t.optDisabled=!f.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}s=o.createElement("input"),s.setAttribute("value",""),t.input=s.getAttribute("value")==="",s.value="t",s.setAttribute("type","radio"),t.radioValue=s.value==="t",s.setAttribute("checked","t"),s.setAttribute("name","t"),a=o.createDocumentFragment(),a.appendChild(s),t.appendChecked=s.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,p.attachEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).click());for(h in{submit:!0,change:!0,focusin:!0})p.setAttribute(l="on"+h,"t"),t[h+"Bubbles"]=l in e||p.attributes[l].expando===!1;p.style.backgroundClip="content-box",p.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle=p.style.backgroundClip==="content-box";for(h in w(t))break;return t.ownLast=h!=="0",w(function(){var n,r,s,u="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=o.getElementsByTagName("body")[0];if(!a)return;n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(p),p.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=p.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=s[0].offsetHeight===0,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,p.innerHTML="",p.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",w.swap(a,a.style.zoom!=null?{zoom:1}:{},function(){t.boxSizing=p.offsetWidth===4}),e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(p,null)||{}).top!=="1%",t.boxSizingReliable=(e.getComputedStyle(p,null)||{width:"4px"}).width==="4px",r=p.appendChild(o.createElement("div")),r.style.cssText=p.style.cssText=u,r.style.marginRight=r.style.width="0",p.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof p.style.zoom!==i&&(p.innerHTML="",p.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.innerHTML="<div></div>",p.firstChild.style.width="5px",t.shrinkWrapBlocks=p.offsetWidth!==3,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=p=s=r=null}),n=u=a=f=r=s=null,t}({});var F=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,I=/([A-Z])/g;w.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?w.cache[e[w.expando]]:e[w.expando],!!e&&!z(e)},data:function(e,t,n){return q(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return q(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&e.nodeType!==1&&e.nodeType!==9)return!1;var t=e.nodeName&&w.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),w.fn.extend({data:function(e,n){var r,i,s=null,o=0,u=this[0];if(e===t){if(this.length){s=w.data(u);if(u.nodeType===1&&!w._data(u,"parsedAttrs")){r=u.attributes;for(;o<r.length;o++)i=r[o].name,i.indexOf("data-")===0&&(i=w.camelCase(i.slice(5)),U(u,i,s[i]));w._data(u,"parsedAttrs",!0)}}return s}return typeof e=="object"?this.each(function(){w.data(this,e)}):arguments.length>1?this.each(function(){w.data(this,e,n)}):u?U(u,e,w.data(u,e)):null},removeData:function(e){return this.each(function(){w.removeData(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=w._data(e,t),n&&(!r||w.isArray(n)?r=w._data(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),s=w._queueHooks(e,t),o=function(){w.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return w._data(e,n)||w._data(e,n,{empty:w.Callbacks("once memory").add(function(){w._removeData(e,t+"queue"),w._removeData(e,n)})})}}),w.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?w.queue(this[0],e):n===t?this:this.each(function(){var t=w.queue(this,e,n);w._queueHooks(this,e),e==="fx"&&t[0]!=="inprogress"&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},delay:function(e,t){return e=w.fx?w.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=w.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!="string"&&(n=e,e=t),e=e||"fx";while(u--)r=w._data(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var W,X,V=/[\t\r\n\f]/g,$=/\r/g,J=/^(?:input|select|textarea|button|object)$/i,K=/^(?:a|area)$/i,Q=/^(?:checked|selected)$/i,G=w.support.getSetAttribute,Y=w.support.input;w.fn.extend({attr:function(e,t){return w.access(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})},prop:function(e,t){return w.access(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return e=w.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=typeof e=="string"&&e;if(w.isFunction(e))return this.each(function(t){w(this).addClass(e.call(this,t,this.className))});if(a){t=(e||"").match(S)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(V," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");n.className=w.trim(r)}}}return this},removeClass:function(e){var t,n,r,i,s,o=0,u=this.length,a=arguments.length===0||typeof e=="string"&&e;if(w.isFunction(e))return this.each(function(t){w(this).removeClass(e.call(this,t,this.className))});if(a){t=(e||"").match(S)||[];for(;o<u;o++){n=this[o],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(V," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?w.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return w.isFunction(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var s,o=0,u=w(this),a=t,f=e.match(S)||[];while(s=f[o++])a=r?a:!u.hasClass(s),u[a?"addClass":"removeClass"](s)}else if(n===i||n==="boolean")this.className&&w._data(this,"__className__",this.className),this.className=this.className||e===!1?"":w._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(V," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return r=w.valHooks[s.type]||w.valHooks[s.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(s,"value"))!==t?n:(n=s.value,typeof n=="string"?n.replace($,""):n==null?"":n);return}return i=w.isFunction(e),this.each(function(n){var s;if(this.nodeType!==1)return;i?s=e.call(this,n,w(this).val()):s=e,s==null?s="":typeof s=="number"?s+="":w.isArray(s)&&(s=w.map(s,function(e){return e==null?"":e+""})),r=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()];if(!r||!("set"in r)||r.set(this,s,"value")===t)this.value=s})}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return t!=null?t:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(w.support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!w.nodeName(n.parentNode,"optgroup"))){t=w(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=w.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=w.inArray(w(r).val(),s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}},attr:function(e,n,r){var s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;if(typeof e.getAttribute===i)return w.prop(e,n,r);if(u!==1||!w.isXMLDoc(e))n=n.toLowerCase(),s=w.attrHooks[n]||(w.expr.match.bool.test(n)?X:W);if(r===t)return s&&"get"in s&&(o=s.get(e,n))!==null?o:(o=w.find.attr(e,n),o==null?t:o);if(r!==null)return s&&"set"in s&&(o=s.set(e,r,n))!==t?o:(e.setAttribute(n,r+""),r);w.removeAttr(e,n)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(S);if(s&&e.nodeType===1)while(n=s[i++])r=w.propFix[n]||n,w.expr.match.bool.test(n)?Y&&G||!Q.test(n)?e[r]=!1:e[w.camelCase("default-"+n)]=e[r]=!1:w.attr(e,n,""),e.removeAttribute(G?n:r)},attrHooks:{type:{set:function(e,t){if(!w.support.radioValue&&t==="radio"&&w.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!w.isXMLDoc(e),o&&(n=w.propFix[n]||n,s=w.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):J.test(e.nodeName)||K.test(e.nodeName)&&e.href?0:-1}}}}),X={set:function(e,t,n){return t===!1?w.removeAttr(e,n):Y&&G||!Q.test(n)?e.setAttribute(!G&&w.propFix[n]||n,n):e[w.camelCase("default-"+n)]=e[n]=!0,n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,n){var r=w.expr.attrHandle[n]||w.find.attr;w.expr.attrHandle[n]=Y&&G||!Q.test(n)?function(e,n,i){var s=w.expr.attrHandle[n],o=i?t:(w.expr.attrHandle[n]=t)!=r(e,n,i)?n.toLowerCase():null;return w.expr.attrHandle[n]=s,o}:function(e,n,r){return r?t:e[w.camelCase("default-"+n)]?n.toLowerCase():null}});if(!Y||!G)w.attrHooks.value={set:function(e,t,n){if(!w.nodeName(e,"input"))return W&&W.set(e,t,n);e.defaultValue=t}};G||(W={set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="",r==="value"||n===e.getAttribute(r)?n:t}},w.expr.attrHandle.id=w.expr.attrHandle.name=w.expr.attrHandle.coords=function(e,n,r){var i;return r?t:(i=e.getAttributeNode(n))&&i.value!==""?i.value:null},w.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&r.specified?r.value:t},set:W.set},w.attrHooks.contenteditable={set:function(e,t,n){W.set(e,t===""?!1:t,n)}},w.each(["width","height"],function(e,t){w.attrHooks[t]={set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}}})),w.support.hrefNormalized||w.each(["href","src"],function(e,t){w.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),w.support.style||(w.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),w.support.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.support.enctype||(w.propFix.enctype="encoding"),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(w.isArray(t))return e.checked=w.inArray(w(e).val(),t)>=0}},w.support.checkOn||(w.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;w.event={global:{},add:function(e,n,r,s,o){var u,a,f,l,c,h,p,d,v,m,g,y=w._data(e);if(!y)return;r.handler&&(l=r,r=l.handler,o=l.selector),r.guid||(r.guid=w.guid++),(a=y.events)||(a=y.events={}),(h=y.handle)||(h=y.handle=function(e){return typeof w===i||!!e&&w.event.triggered===e.type?t:w.event.dispatch.apply(h.elem,arguments)},h.elem=e),n=(n||"").match(S)||[""],f=n.length;while(f--){u=rt.exec(n[f])||[],v=g=u[1],m=(u[2]||"").split(".").sort();if(!v)continue;c=w.event.special[v]||{},v=(o?c.delegateType:c.bindType)||v,c=w.event.special[v]||{},p=w.extend({type:v,origType:g,data:s,handler:r,guid:r.guid,selector:o,needsContext:o&&w.expr.match.needsContext.test(o),namespace:m.join(".")},l);if(!(d=a[v])){d=a[v]=[],d.delegateCount=0;if(!c.setup||c.setup.call(e,s,m,h)===!1)e.addEventListener?e.addEventListener(v,h,!1):e.attachEvent&&e.attachEvent("on"+v,h)}c.add&&(c.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),o?d.splice(d.delegateCount++,0,p):d.push(p),w.event.global[v]=!0}e=null},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=w.hasData(e)&&w._data(e);if(!m||!(l=m.events))return;t=(t||"").match(S)||[""],f=t.length;while(f--){u=rt.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in l)w.event.remove(e,p+t[f],n,r,!0);continue}c=w.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=l[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=s=h.length;while(s--)o=h[s],(i||v===o.origType)&&(!n||n.guid===o.guid)&&(!u||u.test(o.namespace))&&(!r||r===o.selector||r==="**"&&o.selector)&&(h.splice(s,1),o.selector&&h.delegateCount--,c.remove&&c.remove.call(e,o));a&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&w.removeEvent(e,p,m.handle),delete l[p])}w.isEmptyObject(l)&&(delete m.handle,w._removeData(e,"events"))},trigger:function(n,r,i,s){var u,a,f,l,c,h,p,d=[i||o],v=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];f=h=i=i||o;if(i.nodeType===3||i.nodeType===8)return;if(nt.test(v+w.event.triggered))return;v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),a=v.indexOf(":")<0&&"on"+v,n=n[w.expando]?n:new w.Event(v,typeof n=="object"&&n),n.isTrigger=s?2:3,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=r==null?[n]:w.makeArray(r,[n]),c=w.event.special[v]||{};if(!s&&c.trigger&&c.trigger.apply(i,r)===!1)return;if(!s&&!c.noBubble&&!w.isWindow(i)){l=c.delegateType||v,nt.test(l+v)||(f=f.parentNode);for(;f;f=f.parentNode)d.push(f),h=f;h===(i.ownerDocument||o)&&d.push(h.defaultView||h.parentWindow||e)}p=0;while((f=d[p++])&&!n.isPropagationStopped())n.type=p>1?l:c.bindType||v,u=(w._data(f,"events")||{})[n.type]&&w._data(f,"handle"),u&&u.apply(f,r),u=a&&f[a],u&&w.acceptData(f)&&u.apply&&u.apply(f,r)===!1&&n.preventDefault();n.type=v;if(!s&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(d.pop(),r)===!1)&&w.acceptData(i)&&a&&i[v]&&!w.isWindow(i)){h=i[a],h&&(i[a]=null),w.event.triggered=v;try{i[v]()}catch(g){}w.event.triggered=t,h&&(i[a]=h)}return n.result},dispatch:function(e){e=w.event.fix(e);var n,r,i,s,o,u=[],a=v.call(arguments),f=(w._data(this,"events")||{})[e.type]||[],l=w.event.special[e.type]||{};a[0]=e,e.delegateTarget=this;if(l.preDispatch&&l.preDispatch.call(this,e)===!1)return;u=w.event.handlers.call(this,e,f),n=0;while((s=u[n++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,o=0;while((i=s.handlers[o++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(i.namespace))e.handleObj=i,e.data=i.data,r=((w.event.special[i.origType]||{}).handle||i.handler).apply(s.elem,a),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return l.postDispatch&&l.postDispatch.call(this,e),e.result},handlers:function(e,n){var r,i,s,o,u=[],a=n.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||e.type!=="click"))for(;f!=this;f=f.parentNode||this)if(f.nodeType===1&&(f.disabled!==!0||e.type!=="click")){s=[];for(o=0;o<a;o++)i=n[o],r=i.selector+" ",s[r]===t&&(s[r]=i.needsContext?w(r,this).index(f)>=0:w.find(r,this,null,[f]).length),s[r]&&s.push(i);s.length&&u.push({elem:f,handlers:s})}return a<n.length&&u.push({elem:this,handlers:n.slice(a)}),u},fix:function(e){if(e[w.expando])return e;var t,n,r,i=e.type,s=e,u=this.fixHooks[i];u||(this.fixHooks[i]=u=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=u.props?this.props.concat(u.props):this.props,e=new w.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=s.srcElement||o),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,u.filter?u.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(i=e.target.ownerDocument||o,s=i.documentElement,r=i.body,e.pageX=n.clientX+(s&&s.scrollLeft||r&&r.scrollLeft||0)-(s&&s.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||r&&r.scrollTop||0)-(s&&s.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ot()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){if(this===ot()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(w.nodeName(this,"input")&&this.type==="checkbox"&&this.click)return this.click(),!1},_default:function(e){return w.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=w.extend(new w.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?w.event.trigger(i,null,t):w.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},w.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:st):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||w.now(),this[w.expando]=!0},w.Event.prototype={isDefaultPrevented:st,isPropagationStopped:st,isImmediatePropagationStopped:st,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},w.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!w.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),w.support.submitBubbles||(w.event.special.submit={setup:function(){if(w.nodeName(this,"form"))return!1;w.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=w.nodeName(n,"input")||w.nodeName(n,"button")?n.form:t;r&&!w._data(r,"submitBubbles")&&(w.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),w._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&w.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(w.nodeName(this,"form"))return!1;w.event.remove(this,"._submit")}}),w.support.changeBubbles||(w.event.special.change={setup:function(){if(Z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")w.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),w.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),w.event.simulate("change",this,e,!0)});return!1}w.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!w._data(t,"changeBubbles")&&(w.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&w.event.simulate("change",this.parentNode,e,!0)}),w._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return w.event.remove(this,"._change"),!Z.test(this.nodeName)}}),w.support.focusinBubbles||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){w.event.simulate(t,e.target,w.event.fix(e),!0)};w.event.special[t]={setup:function(){n++===0&&o.addEventListener(e,r,!0)},teardown:function(){--n===0&&o.removeEventListener(e,r,!0)}}}),w.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(o in e)this.on(o,n,r,e[o],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=st;else if(!i)return this;return s===1&&(u=i,i=function(e){return w().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=w.guid++)),this.each(function(){w.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=st),this.each(function(){w.event.remove(this,e,r,n)})},trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}});var ut=/^.[^:#\[\.,]*$/,at=/^(?:parents|prev(?:Until|All))/,ft=w.expr.match.needsContext,lt={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if(typeof e!="string")return this.pushStack(w(e).filter(function(){for(t=0;t<i;t++)if(w.contains(r[t],this))return!0}));for(t=0;t<i;t++)w.find(e,r[t],n);return n=this.pushStack(i>1?w.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=w(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(w.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ht(this,e||[],!0))},filter:function(e){return this.pushStack(ht(this,e||[],!1))},is:function(e){return!!ht(this,typeof e=="string"&&ft.test(e)?w(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,s=[],o=ft.test(e)||typeof e!="string"?w(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&w.find.matchesSelector(n,e))){n=s.push(n);break}return this.pushStack(s.length>1?w.unique(s):s)},index:function(e){return e?typeof e=="string"?w.inArray(this[0],w(e)):w.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?w(e,t):w.makeArray(e&&e.nodeType?[e]:e),r=w.merge(this.get(),n);return this.pushStack(w.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return w.dir(e,"parentNode")},parentsUntil:function(e,t,n){return w.dir(e,"parentNode",n)},next:function(e){return ct(e,"nextSibling")},prev:function(e){return ct(e,"previousSibling")},nextAll:function(e){return w.dir(e,"nextSibling")},prevAll:function(e){return w.dir(e,"previousSibling")},nextUntil:function(e,t,n){return w.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return w.dir(e,"previousSibling",n)},siblings:function(e){return w.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return w.sibling(e.firstChild)},contents:function(e){return w.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:w.merge([],e.childNodes)}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=w.filter(r,i)),this.length>1&&(lt[e]||(i=w.unique(i)),at.test(e)&&(i=i.reverse())),this.pushStack(i)}}),w.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return e.nodeType===1}))},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!w(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vt=/ jQuery\d+="(?:null|\d+)"/g,mt=new RegExp("<(?:"+dt+")[\\s/>]","i"),gt=/^\s+/,yt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,wt=/<tbody/i,Et=/<|&#?\w+;/,St=/<(?:script|style|link)/i,xt=/^(?:checkbox|radio)$/i,Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/^$|\/(?:java|ecma)script/i,Ct=/^true\/(.*)/,kt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:w.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},At=pt(o),Ot=At.appendChild(o.createElement("div"));Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,w.fn.extend({text:function(e){return w.access(this,function(e){return e===t?w.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Mt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=Mt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?w.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&w.cleanData(jt(n)),n.parentNode&&(t&&w.contains(n.ownerDocument,n)&&Pt(jt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&w.cleanData(jt(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&w.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return w.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(vt,""):t;if(typeof e=="string"&&!St.test(e)&&(w.support.htmlSerialize||!mt.test(e))&&(w.support.leadingWhitespace||!gt.test(e))&&!Lt[(bt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(yt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(w.cleanData(jt(n,!1)),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=w.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),w(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=p.apply([],e);var r,i,s,o,u,a,f=0,l=this.length,c=this,h=l-1,d=e[0],v=w.isFunction(d);if(v||!(l<=1||typeof d!="string"||w.support.checkClone||!Tt.test(d)))return this.each(function(r){var i=c.eq(r);v&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(l){a=w.buildFragment(e,this[0].ownerDocument,!1,!n&&this),r=a.firstChild,a.childNodes.length===1&&(a=r);if(r){o=w.map(jt(a,"script"),_t),s=o.length;for(;f<l;f++)i=a,f!==h&&(i=w.clone(i,!0,!0),s&&w.merge(o,jt(i,"script"))),t.call(this[f],i,f);if(s){u=o[o.length-1].ownerDocument,w.map(o,Dt);for(f=0;f<s;f++)i=o[f],Nt.test(i.type||"")&&!w._data(i,"globalEval")&&w.contains(u,i)&&(i.src?w._evalUrl(i.src):w.globalEval((i.text||i.textContent||i.innerHTML||"").replace(kt,"")))}a=r=null}}return this}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){var n,r=0,i=[],s=w(e),o=s.length-1;for(;r<=o;r++)n=r===o?this:this.clone(!0),w(s[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}}),w.extend({clone:function(e,t,n){var r,i,s,o,u,a=w.contains(e.ownerDocument,e);w.support.html5Clone||w.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(Ot.innerHTML=e.outerHTML,Ot.removeChild(s=Ot.firstChild));if((!w.support.noCloneEvent||!w.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!w.isXMLDoc(e)){r=jt(s),u=jt(e);for(o=0;(i=u[o])!=null;++o)r[o]&&Bt(i,r[o])}if(t)if(n){u=u||jt(e),r=r||jt(s);for(o=0;(i=u[o])!=null;o++)Ht(i,r[o])}else Ht(e,s);return r=jt(s,"script"),r.length>0&&Pt(r,!a&&jt(e,"script")),r=u=i=null,s},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l,c=e.length,h=pt(t),p=[],d=0;for(;d<c;d++){s=e[d];if(s||s===0)if(w.type(s)==="object")w.merge(p,s.nodeType?[s]:s);else if(!Et.test(s))p.push(t.createTextNode(s));else{u=u||h.appendChild(t.createElement("div")),a=(bt.exec(s)||["",""])[1].toLowerCase(),l=Lt[a]||Lt._default,u.innerHTML=l[1]+s.replace(yt,"<$1></$2>")+l[2],i=l[0];while(i--)u=u.lastChild;!w.support.leadingWhitespace&&gt.test(s)&&p.push(t.createTextNode(gt.exec(s)[0]));if(!w.support.tbody){s=a==="table"&&!wt.test(s)?u.firstChild:l[1]==="<table>"&&!wt.test(s)?u:0,i=s&&s.childNodes.length;while(i--)w.nodeName(f=s.childNodes[i],"tbody")&&!f.childNodes.length&&s.removeChild(f)}w.merge(p,u.childNodes),u.textContent="";while(u.firstChild)u.removeChild(u.firstChild);u=h.lastChild}}u&&h.removeChild(u),w.support.appendChecked||w.grep(jt(p,"input"),Ft),d=0;while(s=p[d++]){if(r&&w.inArray(s,r)!==-1)continue;o=w.contains(s.ownerDocument,s),u=jt(h.appendChild(s),"script"),o&&Pt(u);if(n){i=0;while(s=u[i++])Nt.test(s.type||"")&&n.push(s)}}return u=null,h},cleanData:function(e,t){var n,r,s,o,u=0,a=w.expando,f=w.cache,l=w.support.deleteExpando,h=w.event.special;for(;(n=e[u])!=null;u++)if(t||w.acceptData(n)){s=n[a],o=s&&f[s];if(o){if(o.events)for(r in o.events)h[r]?w.event.remove(n,r):w.removeEvent(n,r,o.handle);f[s]&&(delete f[s],l?delete n[a]:typeof n.removeAttribute!==i?n.removeAttribute(a):n[a]=null,c.push(s))}}},_evalUrl:function(e){return w.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),w.fn.extend({wrapAll:function(e){if(w.isFunction(e))return this.each(function(t){w(this).wrapAll(e.call(this,t))});if(this[0]){var t=w(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return w.isFunction(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=w.isFunction(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){w.nodeName(this,"body")||w(this).replaceWith(this.childNodes)}).end()}});var It,qt,Rt,Ut=/alpha\([^)]*\)/i,zt=/opacity\s*=\s*([^)]*)/,Wt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Vt=/^margin/,$t=new RegExp("^("+E+")(.*)$","i"),Jt=new RegExp("^("+E+")(?!px)[a-z%]+$","i"),Kt=new RegExp("^([+-])=("+E+")","i"),Qt={BODY:"block"},Gt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];w.fn.extend({css:function(e,n){return w.access(this,function(e,n,r){var i,s,o={},u=0;if(w.isArray(n)){s=qt(e),i=n.length;for(;u<i;u++)o[n[u]]=w.css(e,n[u],!1,s);return o}return r!==t?w.style(e,n,r):w.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t=typeof e=="boolean";return this.each(function(){(t?e:nn(this))?w(this).show():w(this).hide()})}}),w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Rt(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":w.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=w.camelCase(n),f=e.style;n=w.cssProps[a]||(w.cssProps[a]=tn(f,a)),u=w.cssHooks[n]||w.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o==="string"&&(s=Kt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(w.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!w.cssNumber[a]&&(r+="px"),!w.support.clearCloneStyle&&r===""&&n.indexOf("background")===0&&(f[n]="inherit");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=w.camelCase(n);return n=w.cssProps[a]||(w.cssProps[a]=tn(e.style,a)),u=w.cssHooks[n]||w.cssHooks[a],u&&"get"in u&&(o=u.get(e,!0,r)),o===t&&(o=Rt(e,n,i)),o==="normal"&&n in Yt&&(o=Yt[n]),r===""||r?(s=parseFloat(o),r===!0||w.isNumeric(s)?s||0:o):o}}),e.getComputedStyle?(qt=function(t){return e.getComputedStyle(t,null)},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u.getPropertyValue(n)||u[n]:t,f=e.style;return u&&(a===""&&!w.contains(e.ownerDocument,e)&&(a=w.style(e,n)),Jt.test(a)&&Vt.test(n)&&(i=f.width,s=f.minWidth,o=f.maxWidth,f.minWidth=f.maxWidth=f.width=a,a=u.width,f.width=i,f.minWidth=s,f.maxWidth=o)),a}):o.documentElement.currentStyle&&(qt=function(e){return e.currentStyle},Rt=function(e,n,r){var i,s,o,u=r||qt(e),a=u?u[n]:t,f=e.style;return a==null&&f&&f[n]&&(a=f[n]),Jt.test(a)&&!Wt.test(n)&&(i=f.left,s=e.runtimeStyle,o=s&&s.left,o&&(s.left=e.currentStyle.left),f.left=n==="fontSize"?"1em":a,a=f.pixelLeft+"px",f.left=i,o&&(s.left=o)),a===""?"auto":a}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&Xt.test(w.css(e,"display"))?w.swap(e,Gt,function(){return un(e,t,r)}):un(e,t,r)},set:function(e,n,r){var i=r&&qt(e);return sn(e,n,r?on(e,t,r,w.support.boxSizing&&w.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),w.support.opacity||(w.cssHooks.opacity={get:function(e,t){return zt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=w.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if((t>=1||t==="")&&w.trim(s.replace(Ut,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(t===""||r&&!r.filter)return}n.filter=Ut.test(s)?s.replace(Ut,i):s+" "+i}}),w(function(){w.support.reliableMarginRight||(w.cssHooks.marginRight={get:function(e,t){if(t)return w.swap(e,{display:"inline-block"},Rt,[e,"marginRight"])}}),!w.support.pixelPosition&&w.fn.position&&w.each(["top","left"],function(e,t){w.cssHooks[t]={get:function(e,n){if(n)return n=Rt(e,t),Jt.test(n)?w(e).position()[t]+"px":n}}})}),w.expr&&w.expr.filters&&(w.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!w.support.reliableHiddenOffsets&&(e.style&&e.style.display||w.css(e,"display"))==="none"},w.expr.filters.visible=function(e){return!w.expr.filters.hidden(e)}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+Zt[r]+t]=s[r]||s[r-2]||s[0];return i}},Vt.test(e)||(w.cssHooks[e+t].set=sn)});var ln=/%20/g,cn=/\[\]$/,hn=/\r?\n/g,pn=/^(?:submit|button|image|reset|file)$/i,dn=/^(?:input|select|textarea|keygen)/i;w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&dn.test(this.nodeName)&&!pn.test(e)&&(this.checked||!xt.test(e))}).map(function(e,t){var n=w(this).val();return n==null?null:w.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(hn,"\r\n")}}):{name:t.name,value:n.replace(hn,"\r\n")}}).get()}}),w.param=function(e,n){var r,i=[],s=function(e,t){t=w.isFunction(t)?t():t==null?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=w.ajaxSettings&&w.ajaxSettings.traditional);if(w.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){s(this.name,this.value)});else for(r in e)vn(r,e[r],n,s);return i.join("&").replace(ln,"+")},w.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var mn,gn,yn=w.now(),bn=/\?/,wn=/#.*$/,En=/([?&])_=[^&]*/,Sn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,xn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Tn=/^(?:GET|HEAD)$/,Nn=/^\/\//,Cn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,kn=w.fn.load,Ln={},An={},On="*/".concat("*");try{gn=s.href}catch(Mn){gn=o.createElement("a"),gn.href="",gn=gn.href}mn=Cn.exec(gn.toLowerCase())||[],w.fn.load=function(e,n,r){if(typeof e!="string"&&kn)return kn.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),w.isFunction(n)?(r=n,n=t):n&&typeof n=="object"&&(o="POST"),u.length>0&&w.ajax({url:e,type:o,dataType:"html",data:n}).done(function(e){s=arguments,u.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,s||[e.responseText,t,e])}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gn,type:"GET",isLocal:xn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":On,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":w.parseJSON,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Pn(Pn(e,w.ajaxSettings),t):Pn(w.ajaxSettings,e)},ajaxPrefilter:_n(Ln),ajaxTransport:_n(An),ajax:function(e,n){function N(e,n,r,i){var l,g,y,E,S,T=n;if(b===2)return;b=2,u&&clearTimeout(u),f=t,o=i||"",x.readyState=e>0?4:0,l=e>=200&&e<300||e===304,r&&(E=Hn(c,x,r)),E=Bn(c,E,x,l);if(l)c.ifModified&&(S=x.getResponseHeader("Last-Modified"),S&&(w.lastModified[s]=S),S=x.getResponseHeader("etag"),S&&(w.etag[s]=S)),e===204||c.type==="HEAD"?T="nocontent":e===304?T="notmodified":(T=E.state,g=E.data,y=E.error,l=!y);else{y=T;if(e||!T)T="error",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+"",l?d.resolveWith(h,[g,T,x]):d.rejectWith(h,[x,T,y]),x.statusCode(m),m=t,a&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?g:y]),v.fireWith(h,[x,T]),a&&(p.trigger("ajaxComplete",[x,c]),--w.active||w.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=w.ajaxSetup({},n),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?w(h):w.event,d=w.Deferred(),v=w.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,E="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(b===2){if(!l){l={};while(t=Sn.exec(o))l[t[1].toLowerCase()]=t[2]}t=l[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return b===2?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||E;return f&&f.abort(t),N(0,t),this}};d.promise(x).complete=v.add,x.success=x.done,x.error=x.fail,c.url=((e||c.url||gn)+"").replace(wn,"").replace(Nn,mn[1]+"//"),c.type=n.method||n.type||c.method||c.type,c.dataTypes=w.trim(c.dataType||"*").toLowerCase().match(S)||[""],c.crossDomain==null&&(r=Cn.exec(c.url.toLowerCase()),c.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||(r[1]==="http:"?"80":"443"))===(mn[3]||(mn[1]==="http:"?"80":"443")))),c.data&&c.processData&&typeof c.data!="string"&&(c.data=w.param(c.data,c.traditional)),Dn(Ln,c,n,x);if(b===2)return x;a=c.global,a&&w.active++===0&&w.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Tn.test(c.type),s=c.url,c.hasContent||(c.data&&(s=c.url+=(bn.test(s)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=En.test(s)?s.replace(En,"$1_="+yn++):s+(bn.test(s)?"&":"?")+"_="+yn++)),c.ifModified&&(w.lastModified[s]&&x.setRequestHeader("If-Modified-Since",w.lastModified[s]),w.etag[s]&&x.setRequestHeader("If-None-Match",w.etag[s])),(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+On+"; q=0.01":""):c.accepts["*"]);for(i in c.headers)x.setRequestHeader(i,c.headers[i]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&b!==2){E="abort";for(i in{success:1,error:1,complete:1})x[i](c[i]);f=Dn(An,c,n,x);if(!f)N(-1,"No Transport");else{x.readyState=1,a&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{b=1,f.send(g,N)}catch(T){if(!(b<2))throw T;N(-1,T)}}return x}return x.abort()},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,n){return w.get(e,t,n,"script")}}),w.each(["get","post"],function(e,n){w[n]=function(e,r,i,s){return w.isFunction(r)&&(s=s||i,i=r,r=t),w.ajax({url:e,type:n,dataType:s,data:r,success:i})}}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),w.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||w("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){if(t||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var jn=[],Fn=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jn.pop()||w.expando+"_"+yn++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.jsonp!==!1&&(Fn.test(n.url)?"url":typeof n.data=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Fn.test(n.data)&&"data");if(a||n.dataTypes[0]==="jsonp")return s=n.jsonpCallback=w.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a?n[a]=n[a].replace(Fn,"$1"+s):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+s),n.converters["script json"]=function(){return u||w.error(s+" was not called"),u[0]},n.dataTypes[0]="json",o=e[s],e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,jn.push(s)),u&&w.isFunction(o)&&o(u[0]),u=o=t}),"script"});var In,qn,Rn=0,Un=e.ActiveXObject&&function(){var e;for(e in In)In[e](t,!0)};w.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&zn()||Wn()}:zn,qn=w.ajaxSettings.xhr(),w.support.cors=!!qn&&"withCredentials"in qn,qn=w.support.ajax=!!qn,qn&&w.ajaxTransport(function(n){if(!n.crossDomain||w.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=w.noop,Un&&delete In[o]);if(i)a.readyState!==4&&a.abort();else{c={},u=a.status,f=a.getAllResponseHeaders(),typeof a.responseText=="string"&&(c.text=a.responseText);try{l=a.statusText}catch(h){l=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(p){i||s(-1,p)}c&&s(u,l,c,f)},n.async?a.readyState===4?setTimeout(r):(o=++Rn,Un&&(In||(In={},w(e).unload(Un)),In[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Vn,$n=/^(?:toggle|show|hide)$/,Jn=new RegExp("^(?:([+-])=|)("+E+")([a-z%]*)$","i"),Kn=/queueHooks$/,Qn=[nr],Gn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Jn.exec(t),s=i&&i[3]||(w.cssNumber[e]?"":"px"),o=(w.cssNumber[e]||s!=="px"&&+r)&&Jn.exec(w.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,w.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};w.Animation=w.extend(er,{tweener:function(e,t){w.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Gn[n]=Gn[n]||[],Gn[n].unshift(t)},prefilter:function(e,t){t?Qn.unshift(e):Qn.push(e)}}),w.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(w.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=w.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):e.elem.style&&(e.elem.style[w.cssProps[e.prop]]!=null||w.cssHooks[e.prop])?w.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),s=w.speed(t,n,r),o=function(){var t=er(this,w.extend({},e),s);(i||w._data(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=w.timers,o=w._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Kn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&w.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=w._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=w.timers,o=r?r.length:0;n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.speed=function(e,t,n){var r=e&&typeof e=="object"?w.extend({},e):{complete:n||!n&&t||w.isFunction(e)&&e,duration:e,easing:n&&t||t&&!w.isFunction(t)&&t};r.duration=w.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in w.fx.speeds?w.fx.speeds[r.duration]:w.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){w.isFunction(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},w.timers=[],w.fx=rr.prototype.init,w.fx.tick=function(){var e,n=w.timers,r=0;Xn=w.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||w.fx.stop(),Xn=t},w.fx.timer=function(e){e()&&w.timers.push(e)&&w.fx.start()},w.fx.interval=13,w.fx.start=function(){Vn||(Vn=setInterval(w.fx.tick,w.fx.interval))},w.fx.stop=function(){clearInterval(Vn),Vn=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fx.step={},w.expr&&w.expr.filters&&(w.expr.filters.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length}),w.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){w.offset.setOffset(this,e,t)});var n,r,s={top:0,left:0},o=this[0],u=o&&o.ownerDocument;if(!u)return;return n=u.documentElement,w.contains(n,o)?(typeof o.getBoundingClientRect!==i&&(s=o.getBoundingClientRect()),r=sr(u),{top:s.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):s},w.offset={setOffset:function(e,t,n){var r=w.css(e,"position");r==="static"&&(e.style.position="relative");var i=w(e),s=i.offset(),o=w.css(e,"top"),u=w.css(e,"left"),a=(r==="absolute"||r==="fixed")&&w.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),w.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},w.fn.extend({position:function(){if(!this[0])return;var e,t,n={top:0,left:0},r=this[0];return w.css(r,"position")==="fixed"?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),w.nodeName(e[0],"html")||(n=e.offset()),n.top+=w.css(e[0],"borderTopWidth",!0),n.left+=w.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-w.css(r,"marginTop",!0),left:t.left-n.left-w.css(r,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||u;while(e&&!w.nodeName(e,"html")&&w.css(e,"position")==="static")e=e.offsetParent;return e||u})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);w.fn[e]=function(i){return w.access(this,function(e,i,s){var o=sr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?w(o).scrollLeft():s,r?s:w(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),w.each({Height:"height",Width:"width"},function(e,n){w.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){w.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return w.access(this,function(n,r,i){var s;return w.isWindow(n)?n.document.documentElement["client"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])):i===t?w.css(n,r,u):w.style(n,r,i,u)},n,o?i:t,o,null)}})}),w.fn.size=function(){return this.length},w.fn.andSelf=w.fn.addBack,typeof module=="object"&&module&&typeof module.exports=="object"?module.exports=w:(e.jQuery=e.$=w,typeof define=="function"&&define.amd&&define("jquery",[],function(){return w}))}(window),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.4.4";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(x.has(e,o)&&t.call(r,e[o],o,e)===n)return};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?null:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t||x.identity);return T(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};x.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)})},x.countBy=function(e,t,n){return L(e,t,n,function(e,t){x.has(e,t)||(e[t]=0),e[t]++})},x.sortedIndex=function(e,t,n,r){n=n==null?x.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,0,t):e[0]},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return T(e,function(e){x.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(a.apply(r,arguments))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=u.call(arguments),t=x.max(x.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=x.pluck(e,""+r);return n},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s},x.bind=function(e,t){if(e.bind===S&&S)return S.apply(e,u.call(arguments,1));var n=u.call(arguments,2);return function(){return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);return t.length===0&&(t=x.functions(e)),T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,f<=0?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},x.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&(t[t.length]=n);return t},x.values=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push(e[n]);return t},x.pairs=function(e){var t=[];for(var n in e)x.has(e,n)&&t.push([n,e[n]]);return t},x.invert=function(e){var t={};for(var n in e)x.has(e,n)&&(t[e[n]]=n);return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]==null&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var O=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=O(e[o],t[o],n,r)))break}else{var a=e.constructor,l=t.constructor;if(a!==l&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(l)&&l instanceof l))return!1;for(var c in e)if(x.has(e,c)){o++;if(!(u=x.has(t,c)&&O(e[c],t[c],n,r)))break}if(u){for(c in t)if(x.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};x.isEqual=function(e,t){return O(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){var r=Array(e);for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};M.unescape=x.invert(M.escape);var _={escape:new RegExp("["+x.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(M.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(_[e],function(t){return M[e][t]})}}),x.result=function(e,t){if(e==null)return null;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),j.call(this,n.apply(x,e))}})};var D=0;x.uniqueId=function(e){var t=++D+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(B,function(e){return"\\"+H[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var j=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],j.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return j.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),typeof define=="function"&&define.amd&&define("underscore",[],function(){return x})}.call(this),function(e,t){typeof exports!="undefined"?t(e,exports,require("underscore")):typeof define=="function"&&define.amd?define("backbone",["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)}):e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,s=[],o=s.push,u=s.slice,a=s.splice;t.VERSION="1.0.0",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var f=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this,s=n.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,r)},off:function(e,t,r){var i,s,o,u,a,f,l,h;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events={},this;u=e?[e]:n.keys(this._events);for(a=0,f=u.length;a<f;a++){e=u[a];if(o=this._events[e]){this._events[e]=i=[];if(t||r)for(l=0,h=o.length;l<h;l++)s=o[l],(t&&t!==s.callback&&t!==s.callback._callback||r&&r!==s.context)&&i.push(s);i.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&h(n,t),r&&h(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;typeof t=="object"&&(n=this),e&&((r={})[e._listenerId]=e);for(var s in r)r[s].off(t,n,this),i&&delete this._listeners[s];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){var s=n.split(l);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},h=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t)}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){f[t]=function(t,r,i){var s=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=n.uniqueId("l"));return s[o]=t,typeof r=="object"&&(i=this),t[e](r,i,this),this}}),f.bind=f.on,f.unbind=f.off,n.extend(t,f);var d=t.Model=function(e,t){var r,i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},n.extend(this,n.pick(t,v)),t.parse&&(i=this.parse(i,t)||{});if(r=n.result(this,"defaults"))i=n.defaults({},i,r);this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},v=["url","urlRoot","collection"];n.extend(d.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=!0);for(var h=0,p=u.length;h<p;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t.trigger("sync",t,n,e)},F(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t;if(i&&(!r||!r.wait)&&!this.set(i,r))return!1;r=n.extend({validate:!0},r);if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},u,i)),r.parse===void 0&&(r.parse=!0);var a=this,f=r.success;return r.success=function(e){a.attributes=u;var t=a.parse(e,r);r.wait&&(t=n.extend(i||{},t));if(n.isObject(t)&&!a.set(t,r))return!1;f&&f(a,e,r),a.trigger("sync",a,e,r)},F(this,r),s=this.isNew()?"create":r.patch?"patch":"update",s==="patch"&&(r.attrs=i),o=this.sync(s,this,r),i&&r.wait&&(this.attributes=u),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)};if(this.isNew())return e.success(),!1;F(this,e);var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||j();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t||{},{validationError:r})),!1):!0}});var m=["keys","values","pairs","invert","pick","omit"];n.each(m,function(e){d.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var g=t.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},y={add:!0,remove:!0,merge:!0},b={add:!0,merge:!1,remove:!1};n.extend(g.prototype,f,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.defaults(t||{},b))},remove:function(e,t){e=n.isArray(e)?e.slice():[e],t||(t={});var r,i,s,o;for(r=0,i=e.length;r<i;r++){o=this.get(e[r]);if(!o)continue;delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,t.silent||(t.index=s,o.trigger("remove",o,this,t)),this._removeReference(o)}return this},set:function(e,t){t=n.defaults(t||{},y),t.parse&&(e=this.parse(e,t)),n.isArray(e)||(e=e?[e]:[]);var r,i,s,u,f,l,c=t.at,h=this.comparator&&c==null&&t.sort!==!1,p=n.isString(this.comparator)?this.comparator:null,d=[],v=[],m={};for(r=0,i=e.length;r<i;r++){if(!(s=this._prepareModel(e[r],t)))continue;(f=this.get(s))?(t.remove&&(m[f.cid]=!0),t.merge&&(f.set(s.attributes,t),h&&!l&&f.hasChanged(p)&&(l=!0))):t.add&&(d.push(s),s.on("all",this._onModelEvent,this),this._byId[s.cid]=s,s.id!=null&&(this._byId[s.id]=s))}if(t.remove){for(r=0,i=this.length;r<i;++r)m[(s=this.models[r]).cid]||v.push(s);v.length&&this.remove(v,t)}d.length&&(h&&(l=!0),this.length+=d.length,c!=null?a.apply(this.models,[c,0].concat(d)):o.apply(this.models,d)),l&&this.sort({silent:!0});if(t.silent)return this;for(r=0,i=d.length;r<i;r++)(s=d[r]).trigger("add",s,this,t);return l&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r]);return t.previousModels=this.models,this._reset(),this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,n.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,n.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,r){t||(t=this.comparator);var i=n.isFunction(t)?t:function(e){return e.get(t)};return n.sortedIndex(this.models,e,i,r)},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},F(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var w=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];n.each(w,function(e){g.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var E=["groupBy","countBy","sortBy"];n.each(E,function(e){g.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var S=t.View=function(e){this.cid=n.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)continue;var i=t.match(x),s=i[1],o=i[2];r=n.bind(r,this),s+=".delegateEvents"+this.cid,o===""?this.$el.on(s,r):this.$el.on(s,o,r)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=n.extend({},n.result(this,"options"),e)),n.extend(this,n.pick(e,T)),this.options=e},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}else this.setElement(n.result(this,"el"),!1)}}),t.sync=function(e,r,i){var s=N[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||j()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1),o.type==="PATCH"&&window.ActiveXObject&&(!window.external||!window.external.msActiveXFilteringEnabled)&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,a,i),a};var N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,A=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,f,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);i&&i.apply(s,o),s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o)}),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(k,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/]+)"}).replace(A,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e){return e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,P=/msie [\w.]+/,H=/\/$/;M.started=!1,n.extend(M.prototype,f,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(H,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,s=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(D,"/"),s&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(r)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var o=this.location,u=o.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!u)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&u&&o.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search));if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),r=n.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return r},navigate:function(e,t){if(!M.started)return!1;if(!t||t===!0)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new M;var B=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=g.extend=C.extend=S.extend=M.extend=B;var j=function(){throw new Error('A "url" property or function must be specified')},F=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),define("backbone.super",["require","exports","module","backbone"],function(e,t,n){var r=e("backbone");r.Model.extend=r.Collection.extend=r.Router.extend=r.View.extend=function(e,t){var n=s(this,e,t);return n.extend=this.extend,n};var i=function(){},s=function(e,t,n){var r,s=e.prototype,o=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;t&&t.hasOwnProperty("constructor")?r=t.constructor:r=function(){e.apply(this,arguments)},_.extend(r,e),i.prototype=e.prototype,r.prototype=new i;if(t){_.extend(r.prototype,t);for(var u in t)typeof t[u]=="function"&&typeof s[u]=="function"&&o.test(t[u])&&(r.prototype[u]=function(e,t){var n=function(){var n=this._super;this._super=s[e];var r;try{r=t.apply(this,arguments)}finally{this._super=n}return r};for(var r in t)n[r]=t[r],delete t[r];return n}(u,t[u]))}return n&&_.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r};return r}),define("globalize",[],function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x;return e=function(t){return new e.prototype.init(t)},e.cultures={},e.prototype={constructor:e,init:function(t){return this.cultures=e.cultures,this.cultureSelector=t,this}},e.prototype.init.prototype=e.prototype,e.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},e.cultures["default"].calendar=e.cultures["default"].calendars.standard,e.cultures.en=e.cultures["default"],e.cultureSelector="en",t=/^0x[a-f0-9]+$/i,n=/^[+\-]?infinity$/i,r=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,i=/^\s+|\s+$/g,s=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},o=function(e,t){return e.substr(e.length-t.length)===t},u=function(){var e,t,n,r,i,s,o=arguments[0]||{},c=1,h=arguments.length,p=!1;typeof o=="boolean"&&(p=o,o=arguments[1]||{},c=2),typeof o!="object"&&!f(o)&&(o={});for(;c<h;c++)if((e=arguments[c])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;p&&r&&(l(r)||(i=a(r)))?(i?(i=!1,s=n&&a(n)?n:[]):s=n&&l(n)?n:{},o[t]=u(p,s,r)):r!==undefined&&(o[t]=r)}return o},a=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},f=function(e){return Object.prototype.toString.call(e)==="[object Function]"},l=function(e){return Object.prototype.toString.call(e)==="[object Object]"},c=function(e,t){return e.indexOf(t)===0},h=function(e){return(e+"").replace(i,"")},p=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},d=function(e,t,n){var r;for(r=e.length;r<t;r+=1)e=n?"0"+e:e+"0";return e},v=function(e,t){var n=0,r=!1;for(var i=0,s=e.length;i<s;i++){var o=e.charAt(i);switch(o){case"'":r?t.push("'"):n++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(o),r=!1}}return n},m=function(e,t){t=t||"F";var n,r=e.patterns,i=t.length;if(i===1){n=r[t];if(!n)throw"Invalid date format string '"+t+"'.";t=n}else i===2&&t.charAt(0)==="%"&&(t=t.charAt(1));return t},g=function(e,t,n){function T(e,t){var n,r=e+"";return t>1&&r.length<t?(n=c[t-2]+r,n.substr(n.length-t,t)):(n=r,n)}function N(){return h||p?h:(h=d.test(t),p=!0,h)}function C(e,t){if(x)return x[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();default:throw"Invalid part value "+t}}var r=n.calendar,i=r.convert,s;if(!t||!t.length||t==="i"){if(n&&n.name.length)if(i)s=g(e,r.patterns.F,n);else{var o=new Date(e.getTime()),u=w(e,r.eras);o.setFullYear(E(e,r,u)),s=o.toLocaleString()}else s=e.toString();return s}var a=r.eras,f=t==="s";t=m(r,t),s=[];var l,c=["0","00","000"],h,p,d=/([^d]|^)(d|dd)([^d]|$)/g,y=0,S=b(),x;!f&&i&&(x=i.fromGregorian(e));for(;;){var k=S.lastIndex,L=S.exec(t),A=t.slice(k,L?L.index:t.length);y+=v(A,s);if(!L)break;if(y%2){s.push(L[0]);continue}var O=L[0],M=O.length;switch(O){case"ddd":case"dddd":var _=M===3?r.days.namesAbbr:r.days.names;s.push(_[e.getDay()]);break;case"d":case"dd":h=!0,s.push(T(C(e,2),M));break;case"MMM":case"MMMM":var D=C(e,1);s.push(r.monthsGenitive&&N()?r.monthsGenitive[M===3?"namesAbbr":"names"][D]:r.months[M===3?"namesAbbr":"names"][D]);break;case"M":case"MM":s.push(T(C(e,1)+1,M));break;case"y":case"yy":case"yyyy":D=x?x[0]:E(e,r,w(e,a),f),M<4&&(D%=100),s.push(T(D,M));break;case"h":case"hh":l=e.getHours()%12,l===0&&(l=12),s.push(T(l,M));break;case"H":case"HH":s.push(T(e.getHours(),M));break;case"m":case"mm":s.push(T(e.getMinutes(),M));break;case"s":case"ss":s.push(T(e.getSeconds(),M));break;case"t":case"tt":D=e.getHours()<12?r.AM?r.AM[0]:" ":r.PM?r.PM[0]:" ",s.push(M===1?D.charAt(0):D);break;case"f":case"ff":case"fff":s.push(T(e.getMilliseconds(),3).substr(0,M));break;case"z":case"zz":l=e.getTimezoneOffset()/60,s.push((l<=0?"+":"-")+T(Math.floor(Math.abs(l)),M));break;case"zzz":l=e.getTimezoneOffset()/60,s.push((l<=0?"+":"-")+T(Math.floor(Math.abs(l)),2)+":"+T(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":r.eras&&s.push(r.eras[w(e,a)].name);break;case"/":s.push(r["/"]);break;default:throw"Invalid date format pattern '"+O+"'."}}return s.join("")},function(){var e;e=function(e,t,n){var r=n.groupSizes,i=r[0],s=1,o=Math.pow(10,t),u=Math.round(e*o)/o;isFinite(u)||(u=e),e=u;var a=e+"",f="",l=a.split(/e/i),c=l.length>1?parseInt(l[1],10):0;a=l[0],l=a.split("."),a=l[0],f=l.length>1?l[1]:"",c>0?(f=d(f,c,!1),a+=f.slice(0,c),f=f.substr(c)):c<0&&(c=-c,a=d(a,c+1,!0),f=a.slice(-c,a.length)+f,a=a.slice(0,-c)),t>0?f=n["."]+(f.length>t?f.slice(0,t):d(f,t)):f="";var h=a.length-1,p=n[","],v="";while(h>=0){if(i===0||i>h)return a.slice(0,h+1)+(v.length?p+v+f:f);v=a.slice(h-i+1,h+1)+(v.length?p+v:""),h-=i,s<r.length&&(i=r[s],s++)}return a.slice(0,h+1)+p+v+f},y=function(t,n,r){if(!isFinite(t))return t===Infinity?r.numberFormat.positiveInfinity:t===-Infinity?r.numberFormat.negativeInfinity:r.numberFormat.NaN;if(!n||n==="i")return r.name.length?t.toLocaleString():t.toString();n=n||"D";var i=r.numberFormat,s=Math.abs(t),o=-1,u;n.length>1&&(o=parseInt(n.slice(1),10));var a=n.charAt(0).toUpperCase(),f;switch(a){case"D":u="n",s=p(s),o!==-1&&(s=d(""+s,o,!0)),t<0&&(s="-"+s);break;case"N":f=i;case"C":f=f||i.currency;case"P":f=f||i.percent,u=t<0?f.pattern[0]:f.pattern[1]||"n",o===-1&&(o=f.decimals),s=e(s*(a==="P"?100:1),o,f);break;default:throw"Bad number format specifier: "+a}var l=/n|\$|-|%/g,c="";for(;;){var h=l.lastIndex,v=l.exec(u);c+=u.slice(h,v?v.index:u.length);if(!v)break;switch(v[0]){case"n":c+=s;break;case"$":c+=i.currency.symbol;break;case"-":/[1-9]/.test(s)&&(c+=i["-"]);break;case"%":c+=i.percent.symbol}}return c}}(),b=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},w=function(e,t){if(!t)return 0;var n,r=e.getTime();for(var i=0,s=t.length;i<s;i++){n=t[i].start;if(n===null||r>=n)return i}return 0},E=function(e,t,n,r){var i=e.getFullYear();return!r&&t.eras&&(i-=t.eras[n].offset),i},function(){var e,t,n,r,i,o,u;e=function(e,t){if(t<100){var n=new Date,r=w(n),i=E(n,e,r),s=e.twoDigitYearMax;s=typeof s=="string"?(new Date).getFullYear()%100+parseInt(s,10):s,t+=i-i%100,t>s&&(t-=100)}return t},t=function(e,t,n){var r,i=e.days,a=e._upperDays;return a||(e._upperDays=a=[u(i.names),u(i.namesAbbr),u(i.namesShort)]),t=o(t),n?(r=s(a[1],t),r===-1&&(r=s(a[2],t))):r=s(a[0],t),r},n=function(e,t,n){var r=e.months,i=e.monthsGenitive||e.months,a=e._upperMonths,f=e._upperMonthsGen;a||(e._upperMonths=a=[u(r.names),u(r.namesAbbr)],e._upperMonthsGen=f=[u(i.names),u(i.namesAbbr)]),t=o(t);var l=s(n?a[1]:a[0],t);return l<0&&(l=s(n?f[1]:f[0],t)),l},r=function(e,t){var n=e._parseRegExp;if(!n)e._parseRegExp=n={};else{var r=n[t];if(r)return r}var i=m(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),s=["^"],o=[],u=0,a=0,f=b(),l;while((l=f.exec(i))!==null){var c=i.slice(u,l.index);u=f.lastIndex,a+=v(c,s);if(a%2){s.push(l[0]);continue}var h=l[0],p=h.length,d;switch(h){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":d="(\\D+)";break;case"tt":case"t":d="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":d="(\\d{"+p+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":d="(\\d\\d?)";break;case"zzz":d="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":d="([+-]?\\d\\d?)";break;case"/":d="(\\/)";break;default:throw"Invalid date format pattern '"+h+"'."}d&&s.push(d),o.push(l[0])}v(i.slice(u),s),s.push("$");var g=s.join("").replace(/\s+/g,"\\s+"),y={regExp:g,groups:o};return n[t]=y},i=function(e,t,n){return e<t||e>n},o=function(e){return e.split(" ").join(" ").toUpperCase()},u=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t[n]=o(e[n]);return t},S=function(s,o,u){s=h(s);var a=u.calendar,f=r(a,o),l=(new RegExp(f.regExp)).exec(s);if(l===null)return null;var p=f.groups,d=null,v=null,m=null,g=null,y=null,b=0,w,E=0,S=0,x=0,T=null,N=!1;for(var C=0,k=p.length;C<k;C++){var L=l[C+1];if(L){var A=p[C],O=A.length,M=parseInt(L,10);switch(A){case"dd":case"d":g=M;if(i(g,1,31))return null;break;case"MMM":case"MMMM":m=n(a,L,O===3);if(i(m,0,11))return null;break;case"M":case"MM":m=M-1;if(i(m,0,11))return null;break;case"y":case"yy":case"yyyy":v=O<4?e(a,M):M;if(i(v,0,9999))return null;break;case"h":case"hh":b=M,b===12&&(b=0);if(i(b,0,11))return null;break;case"H":case"HH":b=M;if(i(b,0,23))return null;break;case"m":case"mm":E=M;if(i(E,0,59))return null;break;case"s":case"ss":S=M;if(i(S,0,59))return null;break;case"tt":case"t":N=a.PM&&(L===a.PM[0]||L===a.PM[1]||L===a.PM[2]);if(!N&&(!a.AM||L!==a.AM[0]&&L!==a.AM[1]&&L!==a.AM[2]))return null;break;case"f":case"ff":case"fff":x=M*Math.pow(10,3-O);if(i(x,0,999))return null;break;case"ddd":case"dddd":y=t(a,L,O===3);if(i(y,0,6))return null;break;case"zzz":var _=L.split(/:/);if(_.length!==2)return null;w=parseInt(_[0],10);if(i(w,-12,13))return null;var D=parseInt(_[1],10);if(i(D,0,59))return null;T=w*60+(c(L,"-")?-D:D);break;case"z":case"zz":w=M;if(i(w,-12,13))return null;T=w*60;break;case"g":case"gg":var P=L;if(!P||!a.eras)return null;P=h(P.toLowerCase());for(var H=0,B=a.eras.length;H<B;H++)if(P===a.eras[H].name.toLowerCase()){d=H;break}if(d===null)return null}}}var j=new Date,F,I=a.convert;F=I?I.fromGregorian(j)[0]:j.getFullYear(),v===null?v=F:a.eras&&(v+=a.eras[d||0].offset),m===null&&(m=0),g===null&&(g=1);if(I){j=I.toGregorian(v,m,g);if(j===null)return null}else{j.setFullYear(v,m,g);if(j.getDate()!==g)return null;if(y!==null&&j.getDay()!==y)return null}N&&b<12&&(b+=12),j.setHours(b,E,S,x);if(T!==null){var q=j.getMinutes()-(T+j.getTimezoneOffset());j.setHours(j.getHours()+parseInt(q/60,10),q%60)}return j}}(),x=function(e,t,n){var r=t["-"],i=t["+"],s;switch(n){case"n -":r=" "+r,i=" "+i;case"n-":o(e,r)?s=["-",e.substr(0,e.length-r.length)]:o(e,i)&&(s=["+",e.substr(0,e.length-i.length)]);break;case"- n":r+=" ",i+=" ";case"-n":c(e,r)?s=["-",e.substr(r.length)]:c(e,i)&&(s=["+",e.substr(i.length)]);break;case"(n)":c(e,"(")&&o(e,")")&&(s=["-",e.substr(1,e.length-2)])}return s||["",e]},e.prototype.findClosestCulture=function(t){return e.findClosestCulture.call(this,t)},e.prototype.format=function(t,n,r){return e.format.call(this,t,n,r)},e.prototype.localize=function(t,n){return e.localize.call(this,t,n)},e.prototype.parseInt=function(t,n,r){return e.parseInt.call(this,t,n,r)},e.prototype.parseFloat=function(t,n,r){return e.parseFloat.call(this,t,n,r)},e.prototype.culture=function(t){return e.culture.call(this,t)},e.addCultureInfo=function(e,t,n){var r={},i=!1;typeof e!="string"?(n=e,e=this.culture().name,r=this.cultures[e]):typeof t!="string"?(n=t,i=this.cultures[e]==null,r=this.cultures[e]||this.cultures["default"]):(i=!0,r=this.cultures[t]),this.cultures[e]=u(!0,{},r,n),i&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},e.findClosestCulture=function(e){var t;if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];typeof e=="string"&&(e=e.split(","));if(a(e)){var n,r=this.cultures,i=e,s,o=i.length,u=[];for(s=0;s<o;s++){e=h(i[s]);var f,l=e.split(";");n=h(l[0]),l.length===1?f=1:(e=h(l[1]),e.indexOf("q=")===0?(e=e.substr(2),f=parseFloat(e),f=isNaN(f)?0:f):f=1),u.push({lang:n,pri:f})}u.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0});for(s=0;s<o;s++){n=u[s].lang,t=r[n];if(t)return t}for(s=0;s<o;s++){n=u[s].lang;do{var c=n.lastIndexOf("-");if(c===-1)break;n=n.substr(0,c),t=r[n];if(t)return t}while(1)}for(s=0;s<o;s++){n=u[s].lang;for(var p in r){var d=r[p];if(d.language===n)return d}}}else if(typeof e=="object")return e;return t||null},e.format=function(e,t,n){var r=this.findClosestCulture(n);return e instanceof Date?e=g(e,t,r):typeof e=="number"&&(e=y(e,t,r)),e},e.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures["default"].messages[e]},e.parseDate=function(e,t,n){n=this.findClosestCulture(n);var r,i,s;if(t){typeof t=="string"&&(t=[t]);if(t.length)for(var o=0,u=t.length;o<u;o++){var a=t[o];if(a){r=S(e,a,n);if(r)break}}}else{s=n.calendar.patterns;for(i in s){r=S(e,s[i],n);if(r)break}}return r||null},e.parseInt=function(t,n,r){return p(e.parseFloat(t,n,r))},e.parseFloat=function(e,i,s){typeof i!="number"&&(s=i,i=10);var o=this.findClosestCulture(s),u=NaN,a=o.numberFormat;e.indexOf(o.numberFormat.currency.symbol)>-1&&(e=e.replace(o.numberFormat.currency.symbol,""),e=e.replace(o.numberFormat.currency["."],o.numberFormat["."])),e.indexOf(o.numberFormat.percent.symbol)>-1&&(e=e.replace(o.numberFormat.percent.symbol,"")),e=e.replace(/ /g,"");if(n.test(e))u=parseFloat(e);else if(!i&&t.test(e))u=parseInt(e,16);else{var f=x(e,a,a.pattern[0]),l=f[0],c=f[1];l===""&&a.pattern[0]!=="(n)"&&(f=x(e,a,"(n)"),l=f[0],c=f[1]),l===""&&a.pattern[0]!=="-n"&&(f=x(e,a,"-n"),l=f[0],c=f[1]),l=l||"+";var h,p,d=c.indexOf("e");d<0&&(d=c.indexOf("E")),d<0?(p=c,h=null):(p=c.substr(0,d),h=c.substr(d+1));var v,m,g=a["."],y=p.indexOf(g);y<0?(v=p,m=null):(v=p.substr(0,y),m=p.substr(y+g.length));var b=a[","];v=v.split(b).join("");var w=b.replace(/\u00A0/g," ");b!==w&&(v=v.split(w).join(""));var E=l+v;m!==null&&(E+="."+m);if(h!==null){var S=x(h,a,"-n");E+="e"+(S[0]||"+")+S[1]}r.test(E)&&(u=parseFloat(E))}return u},e.culture=function(e){return typeof e!="undefined"&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures["default"]},window.Globalize=e}),function(e,t){typeof define=="function"&&define.amd?define("handlebars.runtime",[],t):typeof exports=="object"?module.exports=t():e.Handlebars=e.Handlebars||t()}(this,function(){var e=function(){function t(e){this.string=e}var e;return t.prototype.toString=function(){return""+this.string},e=t,e}(),t=function(e){function o(e){return r[e]}function u(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function c(e){return e instanceof n?e.toString():e==null?"":e?(e=""+e,s.test(e)?e.replace(i,o):e):e+""}function h(e){return!e&&e!==0?!0:l(e)&&e.length===0?!0:!1}function p(e,t){return(e?e+".":"")+t}var t={},n=e,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,s=/[&<>"'`]/;t.extend=u;var a=Object.prototype.toString;t.toString=a;var f=function(e){return typeof e=="function"};f(/x/)&&(f=function(e){return typeof e=="function"&&a.call(e)==="[object Function]"});var f;t.isFunction=f;var l=Array.isArray||function(e){return e&&typeof e=="object"?a.call(e)==="[object Array]":!1};return t.isArray=l,t.escapeExpression=c,t.isEmpty=h,t.appendContextPath=p,t}(e),n=function(){function n(e,n){var r;n&&n.firstLine&&(r=n.firstLine,e+=" - "+r+":"+n.firstColumn);var i=Error.prototype.constructor.call(this,e);for(var s=0;s<t.length;s++)this[t[s]]=i[t[s]];r&&(this.lineNumber=r,this.column=n.firstColumn)}var e,t=["description","fileName","lineNumber","message","name","number","stack"];return n.prototype=new Error,e=n,e}(),r=function(e,t){function h(e,t){this.helpers=e||{},this.partials=t||{},p(this)}function p(e){e.registerHelper("helperMissing",function(){if(arguments.length===1)return undefined;throw new i("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,s=n.fn;if(t===!0)return s(this);if(t===!1||t==null)return i(this);if(a(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var o=m(n.data);o.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:o}}return s(t,n)}),e.registerHelper("each",function(e,t){if(!t)throw new i("Must pass iterator to #each");var n=t.fn,s=t.inverse,o=0,u="",l,c;t.data&&t.ids&&(c=r.appendContextPath(t.data.contextPath,t.ids[0])+"."),f(e)&&(e=e.call(this)),t.data&&(l=m(t.data));if(e&&typeof e=="object")if(a(e))for(var h=e.length;o<h;o++)l&&(l.index=o,l.first=o===0,l.last=o===e.length-1,c&&(l.contextPath=c+o)),u+=n(e[o],{data:l});else for(var p in e)e.hasOwnProperty(p)&&(l&&(l.key=p,l.index=o,l.first=o===0,c&&(l.contextPath=c+p)),u+=n(e[p],{data:l}),o++);return o===0&&(u=s(this)),u}),e.registerHelper("if",function(e,t){return f(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){f(e)&&(e=e.call(this));var n=t.fn;if(!r.isEmpty(e)){if(t.data&&t.ids){var i=m(t.data);i.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return n(e,t)}return t.inverse(this)}),e.registerHelper("log",function(t,n){var r=n.data&&n.data.level!=null?parseInt(n.data.level,10):1;e.log(r,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var n={},r=e,i=t,s="2.0.0";n.VERSION=s;var o=6;n.COMPILER_REVISION=o;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};n.REVISION_CHANGES=u;var a=r.isArray,f=r.isFunction,l=r.toString,c="[object Object]";n.HandlebarsEnvironment=h,h.prototype={constructor:h,logger:d,log:v,registerHelper:function(e,t){if(l.call(e)===c){if(t)throw new i("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){l.call(e)===c?r.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(d.level<=e){var n=d.methodMap[e];typeof console!="undefined"&&console[n]&&console[n].call(console,t)}}};n.logger=d;var v=d.log;n.log=v;var m=function(e){var t=r.extend({},e);return t._parent=e,t};return n.createFrame=m,n}(t,n),i=function(e,t,n){function f(e){var t=e&&e[0]||1,n=o;if(t!==n){if(t<n){var r=u[n],i=u[t];throw new s("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new s("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function l(e,t){if(!t)throw new s("No environment passed to template");if(!e||!e.main)throw new s("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,r,o,u,a,f,l,c,h){a&&(u=i.extend({},u,a));var p=t.VM.invokePartial.call(this,n,o,u,f,l,c,h);if(p==null&&t.compile){var d={helpers:f,partials:l,data:c,depths:h};l[o]=t.compile(n,{data:c!==undefined,compat:e.compat},t),p=l[o](u,d)}if(p!=null){if(r){var v=p.split("\n");for(var m=0,g=v.length;m<g;m++){if(!v[m]&&m+1===g)break;v[m]=r+v[m]}p=v.join("\n")}return p}throw new s("The partial "+o+" could not be compiled when running in runtime-only mode")},r={lookup:function(e,t){var n=e.length;for(var r=0;r<n;r++)if(e[r]&&e[r][t]!=null)return e[r][t]},lambda:function(e,t){return typeof e=="function"?e.call(t):e},escapeExpression:i.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n){var r=this.programs[e],i=this.fn(e);return t||n?r=c(this,e,i,t,n):r||(r=this.programs[e]=c(this,e,i)),r},data:function(e,t){while(e&&t--)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=i.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},o=function(t,n){n=n||{};var i=n.data;o._setup(n),!n.partial&&e.useData&&(i=d(t,i));var s;return e.useDepths&&(s=n.depths?[t].concat(n.depths):[t]),e.main.call(r,t,r.helpers,r.partials,i,s)};return o.isTop=!0,o._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)))},o._child=function(t,n,i){if(e.useDepths&&!i)throw new s("must pass parent depths");return c(r,t,e[t],n,i)},o}function c(e,t,n,r,i){var s=function(t,s){return s=s||{},n.call(e,t,e.helpers,e.partials,s.data||r,i&&[t].concat(i))};return s.program=t,s.depth=i?i.length:0,s}function h(e,t,n,r,i,o,u){var a={partial:!0,helpers:r,partials:i,data:o,depths:u};if(e===undefined)throw new s("The partial "+t+" could not be found");if(e instanceof Function)return e(n,a)}function p(){return""}function d(e,t){if(!t||!("root"in t))t=t?a(t):{},t.root=e;return t}var r={},i=e,s=t,o=n.COMPILER_REVISION,u=n.REVISION_CHANGES,a=n.createFrame;return r.checkRevision=f,r.template=l,r.program=c,r.invokePartial=h,r.noop=p,r}(t,n,r),s=function(e,t,n,r,i){var s,o=e,u=t,a=n,f=r,l=i,c=function(){var e=new o.HandlebarsEnvironment;return f.extend(e,o),e.SafeString=u,e.Exception=a,e.Utils=f,e.escapeExpression=f.escapeExpression,e.VM=l,e.template=function(t){return l.template(t,e)},e},h=c();return h.create=c,h["default"]=h,s=h,s}(r,e,n,t,i);return s}),(window._gsQueue||(window._gsQueue=[])).push(function(){window._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=[].slice,i=function(e,t,r){n.call(this,e,t,r),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0},s=function(e){return e.jquery||e.length&&e[0]&&e[0].nodeType&&e[0].style&&!e.nodeType},o=i.prototype=n.to({},.1,{}),u=[];i.version="1.9.8",o.constructor=i,o.kill()._gc=!1,i.killTweensOf=i.killDelayedCallsTo=n.killTweensOf,i.getTweensOf=n.getTweensOf,i.ticker=n.ticker,o.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},o.updateTo=function(e,t){var r=this.ratio,i;t&&this.timeline&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(i in e)this.vars[i]=e[i];if(this._initted)if(t)this._initted=!1;else{this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this);if(this._time/this._duration>.998){var s=this._time;this.render(0,!0,!1),this._initted=!1,this.render(s,!0,!1)}else if(this._time>0){this._initted=!1,this._init();var o=1/(1-r),u=this._firstPT,a;while(u)a=u.s+u.c,u.c*=o,u.s=a-u.c,u=u._next}}return this},o.render=function(e,t,n){var r=this._dirty?this.totalDuration():this._totalDuration,i=this._time,s=this._totalTime,o=this._cycle,a,f,l,c,h,p,d;if(e>=r)this._totalTime=r,this._cycle=this._repeat,this._yoyo&&(this._cycle&1)!==0?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(a=!0,f="onComplete"),this._duration===0&&((e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&(n=!0,this._rawPrevTime>0&&(f="onReverseComplete",t&&(e=-1))),this._rawPrevTime=e);else if(e<1e-7){this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(s!==0||this._duration===0&&this._rawPrevTime>0)f="onReverseComplete",a=this._reversed;e<0?(this._active=!1,this._duration===0&&(this._rawPrevTime>=0&&(n=!0),this._rawPrevTime=e)):this._initted||(n=!0)}else{this._totalTime=this._time=e,this._repeat!==0&&(c=this._duration+this._repeatDelay,this._cycle=this._totalTime/c>>0,this._cycle!==0&&this._cycle===this._totalTime/c&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&(this._cycle&1)!==0&&(this._time=this._duration-this._time),this._time>this._duration?this._time=this._duration:this._time<0&&(this._time=0));if(this._easeType){h=this._time/this._duration,p=this._easeType,d=this._easePower;if(p===1||p===3&&h>=.5)h=1-h;p===3&&(h*=2),d===1?h*=h:d===2?h*=h*h:d===3?h*=h*h*h:d===4&&(h*=h*h*h*h),p===1?this.ratio=1-h:p===2?this.ratio=h:this._time/this._duration<.5?this.ratio=h/2:this.ratio=1-h/2}else this.ratio=this._ease.getRatio(this._time/this._duration)}if(i===this._time&&!n){s!==this._totalTime&&this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u));return}if(!this._initted){this._init();if(!this._initted)return;this._time&&!a?this.ratio=this._ease.getRatio(this._time/this._duration):a&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}this._active||this._paused||(this._active=!0),s===0&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):f||(f="_dummyGS")),this.vars.onStart&&(this._totalTime!==0||this._duration===0)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||u))),l=this._firstPT;while(l)l.f?l.t[l.p](l.c*this.ratio+l.s):l.t[l.p]=l.c*this.ratio+l.s,l=l._next;this._onUpdate&&(e<0&&this._startAt&&this._startAt.render(e,t,n),t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u)),this._cycle!==o&&(t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||u)),f&&(this._gc||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,t,n),a&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[f]&&this.vars[f].apply(this.vars[f+"Scope"]||this,this.vars[f+"Params"]||u)))},i.to=function(e,t,n){return new i(e,t,n)},i.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=n.immediateRender!=0,new i(e,t,n)},i.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=r.immediateRender!=0&&n.immediateRender!=0,new i(e,t,r)},i.staggerTo=i.allTo=function(e,t,o,a,f,l,c){a=a||0;var h=o.delay||0,p=[],d=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,o.onCompleteParams||u),f.apply(c||this,l||u)},v,m,g,y;e instanceof Array||(typeof e=="string"&&(e=n.selector(e)||e),s(e)&&(e=r.call(e,0))),v=e.length;for(g=0;g<v;g++){m={};for(y in o)m[y]=o[y];m.delay=h,g===v-1&&f&&(m.onComplete=d),p[g]=new i(e[g],t,m),h+=a}return p},i.staggerFrom=i.allFrom=function(e,t,n,r,s,o,u){return n.runBackwards=!0,n.immediateRender=n.immediateRender!=0,i.staggerTo(e,t,n,r,s,o,u)},i.staggerFromTo=i.allFromTo=function(e,t,n,r,s,o,u,a){return r.startAt=n,r.immediateRender=r.immediateRender!=0&&n.immediateRender!=0,i.staggerTo(e,t,r,s,o,u,a)},i.delayedCall=function(e,t,n,r,s){return new i(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:r,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:r,immediateRender:!1,useFrames:s,overwrite:0})},i.set=function(e,t){return new i(e,0,t)},i.isTweening=function(e){var t=n.getTweensOf(e),r=t.length,i;while(--r>-1){i=t[r];if(i._active||i._startTime===i._timeline._time&&i._timeline._active)return!0}return!1};var a=function(e,t){var r=[],i=0,s=e._first;while(s)s instanceof n?r[i++]=s:(t&&(r[i++]=s),r=r.concat(a(s,t)),i=r.length),s=s._next;return r},f=i.getAllTweens=function(t){return a(e._rootTimeline,t).concat(a(e._rootFramesTimeline,t))};i.killAll=function(e,n,r,i){n==null&&(n=!0),r==null&&(r=!0);var s=f(i!=0),o=s.length,u=n&&r&&i,a,l,c;for(c=0;c<o;c++){l=s[c];if(u||l instanceof t||(a=l.target===l.vars.onComplete)&&r||n&&!a)e?l.totalTime(l.totalDuration()):l._enabled(!1,!1)}},i.killChildTweensOf=function(e,t){if(e==null)return;var o=n._tweenLookup,u,a,f,l,c;typeof e=="string"&&(e=n.selector(e)||e),s(e)&&(e=r(e,0));if(e instanceof Array){l=e.length;while(--l>-1)i.killChildTweensOf(e[l],t);return}u=[];for(f in o){a=o[f].target.parentNode;while(a)a===e&&(u=u.concat(o[f].tweens)),a=a.parentNode}c=u.length;for(l=0;l<c;l++)t&&u[l].totalTime(u[l].totalDuration()),u[l]._enabled(!1,!1)};var l=function(e,n,r,i){n===undefined&&(n=!0),r===undefined&&(r=!0);var s=f(i),o=n&&r&&i,u=s.length,a,l;while(--u>-1)l=s[u],(o||l instanceof t||(a=l.target===l.vars.onComplete)&&r||n&&!a)&&l.paused(e)};return i.pauseAll=function(e,t,n){l(!0,e,t,n)},i.resumeAll=function(e,t,n){l(!1,e,t,n)},o.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&(this._cycle&1)!==0?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},o.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},o.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&(this._cycle&1)!==0?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):this._repeat!==0&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},o.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},o.totalDuration=function(e){return arguments.length?this._repeat===-1?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},o.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},o.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},o.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},i},!0),window._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var r=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n=this.vars,r=i.length,s,o;while(--r>-1){o=n[i[r]];if(o){s=o.length;while(--s>-1)o[s]==="{self}"&&(o=n[i[r]]=o.concat(),o[s]=this)}}n.tweens instanceof Array&&this.add(n.tweens,0,n.align,n.stagger)},i=["onStartParams","onUpdateParams","onCompleteParams","onReverseCompleteParams","onRepeatParams"],s=[],o=function(e){var t={},n;for(n in e)t[n]=e[n];return t},u=s.slice,a=r.prototype=new t;return r.version="1.9.8",a.constructor=r,a.kill()._gc=!1,a.to=function(e,t,r,i){return t?this.add(new n(e,t,r),i):this.set(e,r,i)},a.from=function(e,t,r,i){return this.add(n.from(e,t,r),i)},a.fromTo=function(e,t,r,i,s){return t?this.add(n.fromTo(e,t,r,i),s):this.set(e,i,s)},a.staggerTo=function(e,t,i,s,a,f,l,c){var h=new r({onComplete:f,onCompleteParams:l,onCompleteScope:c}),p;typeof e=="string"&&(e=n.selector(e)||e),!(e instanceof Array)&&e.length&&e[0]&&e[0].nodeType&&e[0].style&&(e=u.call(e,0)),s=s||0;for(p=0;p<e.length;p++)i.startAt&&(i.startAt=o(i.startAt)),h.to(e[p],t,o(i),p*s);return this.add(h,a)},a.staggerFrom=function(e,t,n,r,i,s,o,u){return n.immediateRender=n.immediateRender!=0,n.runBackwards=!0,this.staggerTo(e,t,n,r,i,s,o,u)},a.staggerFromTo=function(e,t,n,r,i,s,o,u,a){return r.startAt=n,r.immediateRender=r.immediateRender!=0&&n.immediateRender!=0,this.staggerTo(e,t,r,i,s,o,u,a)},a.call=function(e,t,r,i){return this.add(n.delayedCall(0,e,t,r),i)},a.set=function(e,t,r){return r=this._parseTimeOrLabel(r,0,!0),t.immediateRender==null&&(t.immediateRender=r===this._time&&!this._paused),this.add(new n(e,0,t),r)},r.exportRoot=function(e,t){e=e||{},e.smoothChildTiming==null&&(e.smoothChildTiming=!0);var i=new r(e),s=i._timeline,o,u;t==null&&(t=!0),s._remove(i,!0),i._startTime=0,i._rawPrevTime=i._time=i._totalTime=s._time,o=s._first;while(o)u=o._next,(!t||!(o instanceof n&&o.target===o.vars.onComplete))&&i.add(o,o._startTime-o._delay),o=u;return s.add(i,0),i},a.add=function(i,s,o,u){var a,f,l,c,h;typeof s!="number"&&(s=this._parseTimeOrLabel(s,0,!0,i));if(!(i instanceof e)){if(i instanceof Array){o=o||"normal",u=u||0,a=s,f=i.length;for(l=0;l<f;l++)(c=i[l])instanceof Array&&(c=new r({tweens:c})),this.add(c,a),typeof c!="string"&&typeof c!="function"&&(o==="sequence"?a=c._startTime+c.totalDuration()/c._timeScale:o==="start"&&(c._startTime-=c.delay())),a+=u;return this._uncache(!0)}if(typeof i=="string")return this.addLabel(i,s);if(typeof i!="function")throw"Cannot add "+i+" into the timeline; it is neither a tween, timeline, function, nor a string.";i=n.delayedCall(0,i)}t.prototype.add.call(this,i,s);if(this._gc&&!this._paused&&this._time===this._duration&&this._time<this.duration()){h=this;while(h._gc&&h._timeline)h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._enabled(!0,!1),h=h._timeline}return this},a.remove=function(t){if(t instanceof e)return this._remove(t,!1);if(t instanceof Array){var n=t.length;while(--n>-1)this.remove(t[n]);return this}return typeof t=="string"?this.removeLabel(t):this.kill(null,t)},a._remove=function(e,n){return t.prototype._remove.call(this,e,n),this._last?this._time>this._last._startTime&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=0,this},a.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},a.insert=a.insertMultiple=function(e,t,n,r){return this.add(e,t||0,n,r)},a.appendMultiple=function(e,t,n,r){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,r)},a.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},a.removeLabel=function(e){return delete this._labels[e],this},a.getLabelTime=function(e){return this._labels[e]!=null?this._labels[e]:-1},a._parseTimeOrLabel=function(t,n,r,i){var s;if(i instanceof e&&i.timeline===this)this.remove(i);else if(i instanceof Array){s=i.length;while(--s>-1)i[s]instanceof e&&i[s].timeline===this&&this.remove(i[s])}if(typeof n=="string")return this._parseTimeOrLabel(n,r&&typeof t=="number"&&this._labels[n]==null?t-this.duration():0,r);n=n||0;if(typeof t!="string"||!isNaN(t)&&this._labels[t]==null)t==null&&(t=this.duration());else{s=t.indexOf("=");if(s===-1)return this._labels[t]==null?r?this._labels[t]=this.duration()+n:n:this._labels[t]+n;n=parseInt(t.charAt(s-1)+"1",10)*Number(t.substr(s+1)),t=s>1?this._parseTimeOrLabel(t.substr(0,s-1),0,r):this.duration()}return Number(t)+n},a.seek=function(e,t){return this.totalTime(typeof e=="number"?e:this._parseTimeOrLabel(e),t!==!1)},a.stop=function(){return this.paused(!0)},a.gotoAndPlay=function(e,t){return this.play(e,t)},a.gotoAndStop=function(e,t){return this.pause(e,t)},a.render=function(e,t,n){this._gc&&this._enabled(!0,!1),this._active=!this._paused;var r=this._dirty?this.totalDuration():this._totalDuration,i=this._time,o=this._startTime,u=this._timeScale,a=this._paused,f,l,c,h,p;if(e>=r)this._totalTime=this._time=r,this._reversed||this._hasPausedChild()||(l=!0,h="onComplete",this._duration===0&&(e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&this._first&&(p=!0,this._rawPrevTime>0&&(h="onReverseComplete"))),this._rawPrevTime=e,e=r+1e-6;else if(e<1e-7){this._totalTime=this._time=0;if(i!==0||this._duration===0&&this._rawPrevTime>0)h="onReverseComplete",l=this._reversed;e<0?(this._active=!1,this._duration===0&&this._rawPrevTime>=0&&this._first&&(p=!0)):this._initted||(p=!0),this._rawPrevTime=e,e=0}else this._totalTime=this._time=this._rawPrevTime=e;if((this._time===i||!this._first)&&!n&&!p)return;this._initted||(this._initted=!0),i===0&&this.vars.onStart&&this._time!==0&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||s));if(this._time>=i){f=this._first;while(f){c=f._next;if(this._paused&&!a)break;if(f._active||f._startTime<=this._time&&!f._paused&&!f._gc)f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(e-f._startTime)*f._timeScale,t,n):f.render((e-f._startTime)*f._timeScale,t,n);f=c}}else{f=this._last;while(f){c=f._prev;if(this._paused&&!a)break;if(f._active||f._startTime<=i&&!f._paused&&!f._gc)f._reversed?f.render((f._dirty?f.totalDuration():f._totalDuration)-(e-f._startTime)*f._timeScale,t,n):f.render((e-f._startTime)*f._timeScale,t,n);f=c}}this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||s)),h&&!this._gc&&(o===this._startTime||u!==this._timeScale)&&(this._time===0||r>=this.totalDuration())&&(l&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[h]&&this.vars[h].apply(this.vars[h+"Scope"]||this,this.vars[h+"Params"]||s))},a._hasPausedChild=function(){var e=this._first;while(e){if(e._paused||e instanceof r&&e._hasPausedChild())return!0;e=e._next}return!1},a.getChildren=function(e,t,r,i){i=i||-9999999999;var s=[],o=this._first,u=0;while(o)o._startTime<i||(o instanceof n?t!==!1&&(s[u++]=o):(r!==!1&&(s[u++]=o),e!==!1&&(s=s.concat(o.getChildren(!0,t,r)),u=s.length))),o=o._next;return s},a.getTweensOf=function(e,t){var r=n.getTweensOf(e),i=r.length,s=[],o=0;while(--i>-1)if(r[i].timeline===this||t&&this._contains(r[i]))s[o++]=r[i];return s},a._contains=function(e){var t=e.timeline;while(t){if(t===this)return!0;t=t.timeline}return!1},a.shiftChildren=function(e,t,n){n=n||0;var r=this._first,i=this._labels,s;while(r)r._startTime>=n&&(r._startTime+=e),r=r._next;if(t)for(s in i)i[s]>=n&&(i[s]+=e);return this._uncache(!0)},a._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),r=n.length,i=!1;while(--r>-1)n[r]._kill(e,t)&&(i=!0);return i},a.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;this._time=this._totalTime=0;while(--n>-1)t[n]._enabled(!1,!1);return e!==!1&&(this._labels={}),this._uncache(!0)},a.invalidate=function(){var e=this._first;while(e)e.invalidate(),e=e._next;return this},a._enabled=function(e,n){if(e===this._gc){var r=this._first;while(r)r._enabled(e,!0),r=r._next}return t.prototype._enabled.call(this,e,n)},a.progress=function(e){return arguments.length?this.totalTime(this.duration()*e,!1):this._time/this.duration()},a.duration=function(e){return arguments.length?(this.duration()!==0&&e!==0&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},a.totalDuration=function(e){if(!arguments.length){if(this._dirty){var t=0,n=this._last,r=999999999999,i,s;while(n)i=n._prev,n._dirty&&n.totalDuration(),n._startTime>r&&this._sortChildren&&!n._paused?this.add(n,n._startTime-n._delay):r=n._startTime,n._startTime<0&&!n._paused&&(t-=n._startTime,this._timeline.smoothChildTiming&&(this._startTime+=n._startTime/this._timeScale),this.shiftChildren(-n._startTime,!1,-9999999999),r=0),s=n._startTime+n._totalDuration/n._timeScale,s>t&&(t=s),n=i;this._duration=this._totalDuration=t,this._dirty=!1}return this._totalDuration}return this.totalDuration()!==0&&e!==0&&this.timeScale(this._totalDuration/e),this},a.usesFrames=function(){var t=this._timeline;while(t._timeline)t=t._timeline;return t===e._rootFramesTimeline},a.rawTime=function(){return this._paused||this._totalTime!==0&&this._totalTime!==this._totalDuration?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},r},!0),window._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,n){var r=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},i=[],s=new n(null,null,1,0),o=function(e){while(e){if(e._paused)return!0;e=e._timeline}return!1},u=r.prototype=new e;return u.constructor=r,u.kill()._gc=!1,r.version="1.9.8",u.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},u.addCallback=function(e,n,r,i){return this.add(t.delayedCall(0,e,r,i),n)},u.removeCallback=function(e,t){if(e)if(t==null)this._kill(null,e);else{var n=this.getTweensOf(e,!1),r=n.length,i=this._parseTimeOrLabel(t);while(--r>-1)n[r]._startTime===i&&n[r]._enabled(!1,!1)}return this},u.tweenTo=function(e,n){n=n||{};var r={ease:s,overwrite:2,useFrames:this.usesFrames(),immediateRender:!1},o,u;for(o in n)r[o]=n[o];return r.time=this._parseTimeOrLabel(e),u=new t(this,Math.abs(Number(r.time)-this._time)/this._timeScale||.001,r),r.onStart=function(){u.target.paused(!0),u.vars.time!==u.target.time()&&u.duration(Math.abs(u.vars.time-u.target.time())/u.target._timeScale),n.onStart&&n.onStart.apply(n.onStartScope||u,n.onStartParams||i)},u},u.tweenFromTo=function(e,t,n){n=n||{},e=this._parseTimeOrLabel(e),n.startAt={onComplete:this.seek,onCompleteParams:[e],onCompleteScope:this},n.immediateRender=n.immediateRender!==!1;var r=this.tweenTo(t,n);return r.duration(Math.abs(r.vars.time-e)/this._timeScale||.001)},u.render=function(e,t,n){this._gc&&this._enabled(!0,!1),this._active=!this._paused;var r=this._dirty?this.totalDuration():this._totalDuration,s=this._duration,o=this._time,u=this._totalTime,a=this._startTime,f=this._timeScale,l=this._rawPrevTime,c=this._paused,h=this._cycle,p,d,v,m,g,y;if(e>=r)this._locked||(this._totalTime=r,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(d=!0,m="onComplete",s===0&&(e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&this._first&&(g=!0,this._rawPrevTime>0&&(m="onReverseComplete"))),this._rawPrevTime=e,this._yoyo&&(this._cycle&1)!==0?this._time=e=0:(this._time=s,e=s+1e-6);else if(e<1e-7){this._locked||(this._totalTime=this._cycle=0),this._time=0;if(o!==0||s===0&&this._rawPrevTime>0&&!this._locked)m="onReverseComplete",d=this._reversed;e<0?(this._active=!1,s===0&&this._rawPrevTime>=0&&this._first&&(g=!0)):this._initted||(g=!0),this._rawPrevTime=e,e=0}else this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,this._repeat!==0&&(y=s+this._repeatDelay,this._cycle=this._totalTime/y>>0,this._cycle!==0&&this._cycle===this._totalTime/y&&this._cycle--,this._time=this._totalTime-this._cycle*y,this._yoyo&&(this._cycle&1)!==0&&(this._time=s-this._time),this._time>s?(this._time=s,e=s+1e-6):this._time<0?this._time=e=0:e=this._time));if(this._cycle!==h&&!this._locked){var b=this._yoyo&&(h&1)!==0,w=b===(this._yoyo&&(this._cycle&1)!==0),E=this._totalTime,S=this._cycle,x=this._rawPrevTime,T=this._time;this._totalTime=h*s,this._cycle<h?b=!b:this._totalTime+=s,this._time=o,this._rawPrevTime=s===0?l-1e-5:l,this._cycle=h,this._locked=!0,o=b?0:s,this.render(o,t,s===0),t||this._gc||this.vars.onRepeat&&this.vars.onRepeat.apply(this.vars.onRepeatScope||this,this.vars.onRepeatParams||i),w&&(o=b?s+1e-6:-0.000001,this.render(o,!0,!1)),this._locked=!1;if(this._paused&&!c)return;this._time=T,this._totalTime=E,this._cycle=S,this._rawPrevTime=x}if((this._time===o||!this._first)&&!n&&!g){u!==this._totalTime&&this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||i));return}this._initted||(this._initted=!0),u===0&&this.vars.onStart&&this._totalTime!==0&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||i));if(this._time>=o){p=this._first;while(p){v=p._next;if(this._paused&&!c)break;if(p._active||p._startTime<=this._time&&!p._paused&&!p._gc)p._reversed?p.render((p._dirty?p.totalDuration():p._totalDuration)-(e-p._startTime)*p._timeScale,t,n):p.render((e-p._startTime)*p._timeScale,t,n);p=v}}else{p=this._last;while(p){v=p._prev;if(this._paused&&!c)break;if(p._active||p._startTime<=o&&!p._paused&&!p._gc)p._reversed?p.render((p._dirty?p.totalDuration():p._totalDuration)-(e-p._startTime)*p._timeScale,t,n):p.render((e-p._startTime)*p._timeScale,t,n);p=v}}this._onUpdate&&(t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||i)),m&&(this._locked||!this._gc&&(a===this._startTime||f!==this._timeScale)&&(this._time===0||r>=this.totalDuration())&&(d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[m]&&this.vars[m].apply(this.vars[m+"Scope"]||this,this.vars[m+"Params"]||i)))},u.getActive=function(e,t,n){e==null&&(e=!0),t==null&&(t=!0),n==null&&(n=!1);var r=[],i=this.getChildren(e,t,n),s=0,u=i.length,a,f;for(a=0;a<u;a++)f=i[a],f._paused||f._timeline._time>=f._startTime&&f._timeline._time<f._startTime+f._totalDuration/f._timeScale&&(o(f._timeline)||(r[s++]=f));return r},u.getLabelAfter=function(e){e||e!==0&&(e=this._time);var t=this.getLabelsArray(),n=t.length,r;for(r=0;r<n;r++)if(t[r].time>e)return t[r].name;return null},u.getLabelBefore=function(e){e==null&&(e=this._time);var t=this.getLabelsArray(),n=t.length;while(--n>-1)if(t[n].time<e)return t[n].name;return null},u.getLabelsArray=function(){var e=[],t=0,n;for(n in this._labels)e[t++]={time:this._labels[n],name:n};return e.sort(function(e,t){return e.time-t.time}),e},u.progress=function(e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&(this._cycle&1)!==0?1-e:e)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},u.totalProgress=function(e){return arguments.length?this.totalTime(this.totalDuration()*e,!1):this._totalTime/this.totalDuration()},u.totalDuration=function(t){return arguments.length?this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&(this._cycle&1)!==0?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):this._repeat!==0&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},u.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},u.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},u.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},u.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},r},!0),function(){var e=180/Math.PI,t=Math.PI/180,n=[],r=[],i=[],s={},o=function(e,t,n,r){this.a=e,this.b=t,this.c=n,this.d=r,this.da=r-e,this.ca=n-e,this.ba=t-e},u=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",a=function(e,t,n,r){var i={a:e},s={},o={},u={c:r},a=(e+t)/2,f=(t+n)/2,l=(n+r)/2,c=(a+f)/2,h=(f+l)/2,p=(h-c)/8;return i.b=a+(e-a)/4,s.b=c+p,i.c=s.a=(i.b+s.b)/2,s.c=o.a=(c+h)/2,o.b=h-p,u.b=l+(r-l)/4,o.c=u.a=(o.b+u.b)/2,[i,s,o,u]},f=function(e,t,s,o,u){var f=e.length-1,l=0,c=e[0].a,h,p,d,v,m,g,y,b,w,E,S,x,T;for(h=0;h<f;h++)m=e[l],p=m.a,d=m.d,v=e[l+1].d,u?(S=n[h],x=r[h],T=(x+S)*t*.25/(o?.5:i[h]||.5),g=d-(d-p)*(o?t*.5:S!==0?T/S:0),y=d+(v-d)*(o?t*.5:x!==0?T/x:0),b=d-(g+((y-g)*(S*3/(S+x)+.5)/4||0))):(g=d-(d-p)*t*.5,y=d+(v-d)*t*.5,b=d-(g+y)/2),g+=b,y+=b,m.c=w=g,h!==0?m.b=c:m.b=c=m.a+(m.c-m.a)*.6,m.da=d-p,m.ca=w-p,m.ba=c-p,s?(E=a(p,c,w,d),e.splice(l,1,E[0],E[1],E[2],E[3]),l+=4):l++,c=y;m=e[l],m.b=c,m.c=c+(m.d-c)*.4,m.da=m.d-m.a,m.ca=m.c-m.a,m.ba=c-m.a,s&&(E=a(m.a,c,m.c,m.d),e.splice(l,1,E[0],E[1],E[2],E[3]))},l=function(e,t,i,s){var u=[],a,f,l,c,h,p;if(s){e=[s].concat(e),f=e.length;while(--f>-1)typeof (p=e[f][t])=="string"&&p.charAt(1)==="="&&(e[f][t]=s[t]+Number(p.charAt(0)+p.substr(2)))}a=e.length-2;if(a<0)return u[0]=new o(e[0][t],0,0,e[a<-1?0:1][t]),u;for(f=0;f<a;f++)l=e[f][t],c=e[f+1][t],u[f]=new o(l,0,0,c),i&&(h=e[f+2][t],n[f]=(n[f]||0)+(c-l)*(c-l),r[f]=(r[f]||0)+(h-c)*(h-c));return u[f]=new o(e[f][t],0,0,e[f+1][t]),u},c=function(e,t,o,a,c,h){var p={},d=[],v=h||e[0],m,g,y,b,w,E,S,x;c=typeof c=="string"?","+c+",":u,t==null&&(t=1);for(g in e[0])d.push(g);if(e.length>1){x=e[e.length-1],S=!0,m=d.length;while(--m>-1){g=d[m];if(Math.abs(v[g]-x[g])>.05){S=!1;break}}S&&(e=e.concat(),h&&e.unshift(h),e.push(e[1]),h=e[e.length-3])}n.length=r.length=i.length=0,m=d.length;while(--m>-1)g=d[m],s[g]=c.indexOf(","+g+",")!==-1,p[g]=l(e,g,s[g],h);m=n.length;while(--m>-1)n[m]=Math.sqrt(n[m]),r[m]=Math.sqrt(r[m]);if(!a){m=d.length;while(--m>-1)if(s[g]){y=p[d[m]],E=y.length-1;for(b=0;b<E;b++)w=y[b+1].da/r[b]+y[b].da/n[b],i[b]=(i[b]||0)+w*w}m=i.length;while(--m>-1)i[m]=Math.sqrt(i[m])}m=d.length,b=o?4:1;while(--m>-1)g=d[m],y=p[g],f(y,t,o,a,s[g]),S&&(y.splice(0,b),y.splice(y.length-b,b));return p},h=function(e,t,n){t=t||"soft";var r={},i=t==="cubic"?3:2,s=t==="soft",u=[],a,f,l,c,h,p,d,v,m,g,y;s&&n&&(e=[n].concat(e));if(e==null||e.length<i+1)throw"invalid Bezier data";for(m in e[0])u.push(m);p=u.length;while(--p>-1){m=u[p],r[m]=h=[],g=0,v=e.length;for(d=0;d<v;d++)a=n==null?e[d][m]:typeof (y=e[d][m])=="string"&&y.charAt(1)==="="?n[m]+Number(y.charAt(0)+y.substr(2)):Number(y),s&&d>1&&d<v-1&&(h[g++]=(a+h[g-2])/2),h[g++]=a;v=g-i+1,g=0;for(d=0;d<v;d+=i)a=h[d],f=h[d+1],l=h[d+2],c=i===2?0:h[d+3],h[g++]=y=i===3?new o(a,f,l,c):new o(a,(2*f+a)/3,(2*f+l)/3,l);h.length=g}return r},p=function(e,t,n){var r=1/n,i=e.length,s,o,u,a,f,l,c,h,p,d,v;while(--i>-1){d=e[i],u=d.a,a=d.d-u,f=d.c-u,l=d.b-u,s=o=0;for(h=1;h<=n;h++)c=r*h,p=1-c,s=o-(o=(c*c*a+3*p*(c*f+p*l))*c),v=i*n+h-1,t[v]=(t[v]||0)+s*s}},d=function(e,t){t=t>>0||6;var n=[],r=[],i=0,s=0,o=t-1,u=[],a=[],f,l,c,h;for(f in e)p(e[f],n,t);c=n.length;for(l=0;l<c;l++)i+=Math.sqrt(n[l]),h=l%t,a[h]=i,h===o&&(s+=i,h=l/t>>0,u[h]=a,r[h]=s,i=0,a=[]);return{length:s,lengths:r,segments:u}},v=window._gsDefine.plugin({propName:"bezier",priority:-1,API:2,global:!0,init:function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._round={},this._props=[],this._timeRes=t.timeResolution==null?6:parseInt(t.timeResolution,10);var r=t.values||[],i={},s=r[0],o=t.autoRotate||n.vars.orientToBezier,u,a,f,l,p;this._autoRotate=o?o instanceof Array?o:[["x","y","rotation",o===!0?0:Number(o)||0]]:null;for(u in s)this._props.push(u);f=this._props.length;while(--f>-1)u=this._props[f],this._overwriteProps.push(u),a=this._func[u]=typeof e[u]=="function",i[u]=a?e[u.indexOf("set")||typeof e["get"+u.substr(3)]!="function"?u:"get"+u.substr(3)]():parseFloat(e[u]),p||i[u]!==r[0][u]&&(p=i);this._beziers=t.type!=="cubic"&&t.type!=="quadratic"&&t.type!=="soft"?c(r,isNaN(t.curviness)?1:t.curviness,!1,t.type==="thruBasic",t.correlate,p):h(r,t.type,i),this._segCount=this._beziers[u].length;if(this._timeRes){var v=d(this._beziers,this._timeRes);this._length=v.length,this._lengths=v.lengths,this._segments=v.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(o=this._autoRotate){o[0]instanceof Array||(this._autoRotate=o=[o]),f=o.length;while(--f>-1)for(l=0;l<3;l++)u=o[f][l],this._func[u]=typeof e[u]=="function"?e[u.indexOf("set")||typeof e["get"+u.substr(3)]!="function"?u:"get"+u.substr(3)]:!1}return!0},set:function(t){var n=this._segCount,r=this._func,i=this._target,s,o,u,a,f,l,c,h,p,d;if(!this._timeRes)s=t<0?0:t>=1?n-1:n*t>>0,l=(t-s*(1/n))*n;else{p=this._lengths,d=this._curSeg,t*=this._length,u=this._li;if(t>this._l2&&u<n-1){h=n-1;while(u<h&&(this._l2=p[++u])<=t);this._l1=p[u-1],this._li=u,this._curSeg=d=this._segments[u],this._s2=d[this._s1=this._si=0]}else if(t<this._l1&&u>0){while(u>0&&(this._l1=p[--u])>=t);u===0&&t<this._l1?this._l1=0:u++,this._l2=p[u],this._li=u,this._curSeg=d=this._segments[u],this._s1=d[(this._si=d.length-1)-1]||0,this._s2=d[this._si]}s=u,t-=this._l1,u=this._si;if(t>this._s2&&u<d.length-1){h=d.length-1;while(u<h&&(this._s2=d[++u])<=t);this._s1=d[u-1],this._si=u}else if(t<this._s1&&u>0){while(u>0&&(this._s1=d[--u])>=t);u===0&&t<this._s1?this._s1=0:u++,this._s2=d[u],this._si=u}l=(u+(t-this._s1)/(this._s2-this._s1))*this._prec}o=1-l,u=this._props.length;while(--u>-1)a=this._props[u],f=this._beziers[a][s],c=(l*l*f.da+3*o*(l*f.ca+o*f.ba))*l+f.a,this._round[a]&&(c=c+(c>0?.5:-0.5)>>0),r[a]?i[a](c):i[a]=c;if(this._autoRotate){var v=this._autoRotate,m,g,y,b,w,E,S;u=v.length;while(--u>-1)a=v[u][2],E=v[u][3]||0,S=v[u][4]===!0?1:e,f=this._beziers[v[u][0]],m=this._beziers[v[u][1]],f&&m&&(f=f[s],m=m[s],g=f.a+(f.b-f.a)*l,b=f.b+(f.c-f.b)*l,g+=(b-g)*l,b+=(f.c+(f.d-f.c)*l-b)*l,y=m.a+(m.b-m.a)*l,w=m.b+(m.c-m.b)*l,y+=(w-y)*l,w+=(m.c+(m.d-m.c)*l-w)*l,c=Math.atan2(w-y,b-g)*S+E,r[a]?i[a](c):i[a]=c)}}}),m=v.prototype;v.bezierThrough=c,v.cubicToQuadratic=a,v._autoCSS=!0,v.quadraticToCubic=function(e,t,n){return new o(e,(2*t+e)/3,(2*t+n)/3,n)},v._cssRegister=function(){var e=window._gsDefine.globals.CSSPlugin;if(!e)return;var n=e._internals,r=n._parseToProxy,i=n._setPluginRatio,s=n.CSSPropTween;n._registerComplexSpecialProp("bezier",{parser:function(e,n,o,u,a,f){n instanceof Array&&(n={values:n}),f=new v;var l=n.values,c=l.length-1,h=[],p={},d,m,g;if(c<0)return a;for(d=0;d<=c;d++)g=r(e,l[d],u,a,f,c!==d),h[d]=g.end;for(m in n)p[m]=n[m];return p.values=h,a=new s(e,"bezier",0,0,g.pt,2),a.data=g,a.plugin=f,a.setRatio=i,p.autoRotate===0&&(p.autoRotate=!0),p.autoRotate&&!(p.autoRotate instanceof Array)&&(d=p.autoRotate===!0?0:Number(p.autoRotate)*t,p.autoRotate=g.end.left!=null?[["left","top","rotation",d,!0]]:g.end.x!=null?[["x","y","rotation",d,!0]]:!1),p.autoRotate&&(u._transform||u._enableTransforms(!1),g.autoRotate=u._target._gsTransform),f._onInitTween(g.proxy,p,u._tween),a}})},m._roundProps=function(e,t){var n=this._overwriteProps,r=n.length;while(--r>-1)if(e[n[r]]||e.bezier||e.bezierThrough)this._round[n[r]]=t},m._kill=function(e){var t=this._props,n,r;for(n in this._beziers)if(n in e){delete this._beziers[n],delete this._func[n],r=t.length;while(--r>-1)t[r]===n&&t.splice(r,1)}return this._super._kill.call(this,e)}}(),window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var n=function(){e.call(this,"css"),this._overwriteProps.length=0},r,i,s,o,u={},a=n.prototype=new e("css");a.constructor=n,n.version="1.9.8",n.API=2,n.defaultTransformPerspective=0,a="px",n.suffixMap={top:a,right:a,bottom:a,left:a,width:a,height:a,fontSize:a,padding:a,margin:a,perspective:a};var f=/(?:\d|\-\d|\.\d|\-\.\d)+/g,l=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,c=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,h=/[^\d\-\.]/g,p=/(?:\d|\-|\+|=|#|\.)*/g,d=/opacity *= *([^)]*)/,v=/opacity:([^;]*)/,m=/alpha\(opacity *=.+?\)/i,g=/^(rgb|hsl)/,y=/([A-Z])/g,b=/-([a-z])/gi,w=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,E=function(e,t){return t.toUpperCase()},S=/(?:Left|Right|Width)/i,x=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,T=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,N=/,(?=[^\)]*(?:\(|$))/gi,C=Math.PI/180,k=180/Math.PI,L={},A=document,O=A.createElement("div"),M=A.createElement("img"),_=n._internals={_specialProps:u},D=navigator.userAgent,P,H,B,j,F,I,q=function(){var e=D.indexOf("Android"),t=A.createElement("div"),n;return B=D.indexOf("Safari")!==-1&&D.indexOf("Chrome")===-1&&(e===-1||Number(D.substr(e+8,1))>3),F=B&&Number(D.substr(D.indexOf("Version/")+8,1))<6,j=D.indexOf("Firefox")!==-1,/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(D),I=parseFloat(RegExp.$1),t.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",n=t.getElementsByTagName("a")[0],n?/^0.55/.test(n.style.opacity):!1}(),R=function(e){return d.test(typeof e=="string"?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},U=function(e){window.console&&console.log(e)},z="",W="",X=function(e,t){t=t||O;var n=t.style,r,i;if(n[e]!==undefined)return e;e=e.charAt(0).toUpperCase()+e.substr(1),r=["O","Moz","ms","Ms","Webkit"],i=5;while(--i>-1&&n[r[i]+e]===undefined);return i>=0?(W=i===3?"ms":r[i],z="-"+W.toLowerCase()+"-",W+e):null},V=A.defaultView?A.defaultView.getComputedStyle:function(){},$=n.getStyle=function(e,t,n,r,i){var s;return!q&&t==="opacity"?R(e):(!r&&e.style[t]?s=e.style[t]:(n=n||V(e,null))?(e=n.getPropertyValue(t.replace(y,"-$1").toLowerCase()),s=e||n.length?e:n[t]):e.currentStyle&&(n=e.currentStyle,s=n[t]),i==null||!!s&&s!=="none"&&s!=="auto"&&s!=="auto auto"?s:i)},J=function(e,t,n,r,i){if(r==="px"||!r)return n;if(r==="auto"||!n)return 0;var s=S.test(t),o=e,u=O.style,a=n<0,f;return a&&(n=-n),r==="%"&&t.indexOf("border")!==-1?f=n/100*(s?e.clientWidth:e.clientHeight):(u.cssText="border-style:solid; border-width:0; position:absolute; line-height:0;",r==="%"||!o.appendChild?(o=e.parentNode||A.body,u[s?"width":"height"]=n+r):u[s?"borderLeftWidth":"borderTopWidth"]=n+r,o.appendChild(O),f=parseFloat(O[s?"offsetWidth":"offsetHeight"]),o.removeChild(O),f===0&&!i&&(f=J(e,t,n,r,!0))),a?-f:f},K=function(e,t,n){if($(e,"position",n)!=="absolute")return 0;var r=t==="left"?"Left":"Top",i=$(e,"margin"+r,n);return e["offset"+r]-(J(e,t,parseFloat(i),i.replace(p,""))||0)},Q=function(e,t){var n={},r,i;if(t=t||V(e,null))if(r=t.length)while(--r>-1)n[t[r].replace(b,E)]=t.getPropertyValue(t[r]);else for(r in t)n[r]=t[r];else if(t=e.currentStyle||e.style)for(r in t)n[r.replace(b,E)]=t[r];return q||(n.opacity=R(e)),i=Nt(e,t,!1),n.rotation=i.rotation*k,n.skewX=i.skewX*k,n.scaleX=i.scaleX,n.scaleY=i.scaleY,n.x=i.x,n.y=i.y,Tt&&(n.z=i.z,n.rotationX=i.rotationX*k,n.rotationY=i.rotationY*k,n.scaleZ=i.scaleZ),n.filters&&delete n.filters,n},G=function(e,t,n,r,i){var s={},o=e.style,u,a,f;for(a in n)a!=="cssText"&&a!=="length"&&isNaN(a)&&(t[a]!==(u=n[a])||i&&i[a])&&a.indexOf("Origin")===-1&&(typeof u=="number"||typeof u=="string")&&(s[a]=u!=="auto"||a!=="left"&&a!=="top"?u!==""&&u!=="auto"&&u!=="none"||typeof t[a]!="string"||t[a].replace(h,"")===""?u:0:K(e,a),o[a]!==undefined&&(f=new ht(o,a,o[a],f)));if(r)for(a in r)a!=="className"&&(s[a]=r[a]);return{difs:s,firstMPT:f}},Y={width:["Left","Right"],height:["Top","Bottom"]},Z=["marginLeft","marginRight","marginTop","marginBottom"],et=function(e,t,n){var r=parseFloat(t==="width"?e.offsetWidth:e.offsetHeight),i=Y[t],s=i.length;n=n||V(e,null);while(--s>-1)r-=parseFloat($(e,"padding"+i[s],n,!0))||0,r-=parseFloat($(e,"border"+i[s]+"Width",n,!0))||0;return r},tt=function(e,t){if(e==null||e===""||e==="auto"||e==="auto auto")e="0 0";var n=e.split(" "),r=e.indexOf("left")!==-1?"0%":e.indexOf("right")!==-1?"100%":n[0],i=e.indexOf("top")!==-1?"0%":e.indexOf("bottom")!==-1?"100%":n[1];i==null?i="0":i==="center"&&(i="50%");if(r==="center"||isNaN(parseFloat(r))&&(r+"").indexOf("=")===-1)r="50%";return t&&(t.oxp=r.indexOf("%")!==-1,t.oyp=i.indexOf("%")!==-1,t.oxr=r.charAt(1)==="=",t.oyr=i.charAt(1)==="=",t.ox=parseFloat(r.replace(h,"")),t.oy=parseFloat(i.replace(h,""))),r+" "+i+(n.length>2?" "+n[2]:"")},nt=function(e,t){return typeof e=="string"&&e.charAt(1)==="="?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)},rt=function(e,t){return e==null?t:typeof e=="string"&&e.charAt(1)==="="?parseInt(e.charAt(0)+"1",10)*Number(e.substr(2))+t:parseFloat(e)},it=function(e,t,n,r){var i=1e-6,s,o,u,a;return e==null?a=t:typeof e=="number"?a=e*C:(s=Math.PI*2,o=e.split("_"),u=Number(o[0].replace(h,""))*(e.indexOf("rad")===-1?C:1)-(e.charAt(1)==="="?0:t),o.length&&(r&&(r[n]=t+u),e.indexOf("short")!==-1&&(u%=s,u!==u%(s/2)&&(u=u<0?u+s:u-s)),e.indexOf("_cw")!==-1&&u<0?u=(u+s*9999999999)%s-(u/s|0)*s:e.indexOf("ccw")!==-1&&u>0&&(u=(u-s*9999999999)%s-(u/s|0)*s)),a=t+u),a<i&&a>-i&&(a=0),a},st={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ot=function(e,t,n){return e=e<0?e+1:e>1?e-1:e,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*255+.5|0},ut=function(e){var t,n,r,i,s,o;return!e||e===""?st.black:typeof e=="number"?[e>>16,e>>8&255,e&255]:(e.charAt(e.length-1)===","&&(e=e.substr(0,e.length-1)),st[e]?st[e]:e.charAt(0)==="#"?(e.length===4&&(t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),e="#"+t+t+n+n+r+r),e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):e.substr(0,3)==="hsl"?(e=e.match(f),i=Number(e[0])%360/360,s=Number(e[1])/100,o=Number(e[2])/100,n=o<=.5?o*(s+1):o+s-o*s,t=o*2-n,e.length>3&&(e[3]=Number(e[3])),e[0]=ot(i+1/3,t,n),e[1]=ot(i,t,n),e[2]=ot(i-1/3,t,n),e):(e=e.match(f)||st.transparent,e[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),e.length>3&&(e[3]=Number(e[3])),e))},at="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(a in st)at+="|"+a+"\\b";at=new RegExp(at+")","gi");var ft=function(e,t,n,r){if(e==null)return function(e){return e};var i=t?(e.match(at)||[""])[0]:"",s=e.split(i).join("").match(c)||[],o=e.substr(0,e.indexOf(s[0])),u=e.charAt(e.length-1)===")"?")":"",a=e.indexOf(" ")!==-1?" ":",",l=s.length,h=l>0?s[0].replace(f,""):"",p;return l?t?(p=function(e){var t,f,d,v;if(typeof e=="number")e+=h;else if(r&&N.test(e)){v=e.replace(N,"|").split("|");for(d=0;d<v.length;d++)v[d]=p(v[d]);return v.join(",")}t=(e.match(at)||[i])[0],f=e.split(t).join("").match(c)||[],d=f.length;if(l>d--)while(++d<l)f[d]=n?f[(d-1)/2|0]:s[d];return o+f.join(a)+a+t+u+(e.indexOf("inset")!==-1?" inset":"")},p):(p=function(e){var t,i,f;if(typeof e=="number")e+=h;else if(r&&N.test(e)){i=e.replace(N,"|").split("|");for(f=0;f<i.length;f++)i[f]=p(i[f]);return i.join(",")}t=e.match(c)||[],f=t.length;if(l>f--)while(++f<l)t[f]=n?t[(f-1)/2|0]:s[f];return o+t.join(a)+u},p):function(e){return e}},lt=function(e){return e=e.split(","),function(t,n,r,i,s,o,u){var a=(n+"").split(" "),f;u={};for(f=0;f<4;f++)u[e[f]]=a[f]=a[f]||a[(f-1)/2>>0];return i.parse(t,u,s,o)}},ct=_._setPluginRatio=function(e){this.plugin.setRatio(e);var t=this.data,n=t.proxy,r=t.firstMPT,i=1e-6,s,o,u,a;while(r)s=n[r.v],r.r?s=s>0?s+.5|0:s-.5|0:s<i&&s>-i&&(s=0),r.t[r.p]=s,r=r._next;t.autoRotate&&(t.autoRotate.rotation=n.rotation);if(e===1){r=t.firstMPT;while(r){o=r.t;if(!o.type)o.e=o.s+o.xs0;else if(o.type===1){a=o.xs0+o.s+o.xs1;for(u=1;u<o.l;u++)a+=o["xn"+u]+o["xs"+(u+1)];o.e=a}r=r._next}}},ht=function(e,t,n,r,i){this.t=e,this.p=t,this.v=n,this.r=i,r&&(r._prev=this,this._next=r)},pt=_._parseToProxy=function(e,t,n,r,i,s){var o=r,u={},a={},f=n._transform,l=L,c,h,p,d,v;n._transform=null,L=t,r=v=n.parse(e,t,r,i),L=l,s&&(n._transform=f,o&&(o._prev=null,o._prev&&(o._prev._next=null)));while(r&&r!==o){if(r.type<=1){h=r.p,a[h]=r.s+r.c,u[h]=r.s,s||(d=new ht(r,"s",h,d,r.r),r.c=0);if(r.type===1){c=r.l;while(--c>0)p="xn"+c,h=r.p+"_"+p,a[h]=r.data[p],u[h]=r[p],s||(d=new ht(r,p,h,d,r.rxp[p]))}}r=r._next}return{proxy:u,end:a,firstMPT:d,pt:v}},dt=_.CSSPropTween=function(e,t,n,i,s,u,a,f,l,c,h){this.t=e,this.p=t,this.s=n,this.c=i,this.n=a||t,e instanceof dt||o.push(this.n),this.r=f,this.type=u||0,l&&(this.pr=l,r=!0),this.b=c===undefined?n:c,this.e=h===undefined?n+i:h,s&&(this._next=s,s._prev=this)},vt=n.parseComplex=function(e,t,n,r,i,s,o,u,a,c){n=n||s||"",o=new dt(e,t,0,0,o,c?2:1,null,!1,u,n,r),r+="";var h=n.split(", ").join(",").split(" "),p=r.split(", ").join(",").split(" "),d=h.length,v=P!==!1,m,y,b,w,E,S,x,T,C,k,L,A;if(r.indexOf(",")!==-1||n.indexOf(",")!==-1)h=h.join(" ").replace(N,", ").split(" "),p=p.join(" ").replace(N,", ").split(" "),d=h.length;d!==p.length&&(h=(s||"").split(" "),d=h.length),o.plugin=a,o.setRatio=c;for(m=0;m<d;m++){w=h[m],E=p[m],T=parseFloat(w);if(T||T===0)o.appendXtra("",T,nt(E,T),E.replace(l,""),v&&E.indexOf("px")!==-1,!0);else if(i&&(w.charAt(0)==="#"||st[w]||g.test(w)))A=E.charAt(E.length-1)===","?"),":")",w=ut(w),E=ut(E),C=w.length+E.length>6,C&&!q&&E[3]===0?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(p[m]).join("transparent")):(q||(C=!1),o.appendXtra(C?"rgba(":"rgb(",w[0],E[0]-w[0],",",!0,!0).appendXtra("",w[1],E[1]-w[1],",",!0).appendXtra("",w[2],E[2]-w[2],C?",":A,!0),C&&(w=w.length<4?1:w[3],o.appendXtra("",w,(E.length<4?1:E[3])-w,A,!1)));else{S=w.match(f);if(!S)o["xs"+o.l]+=o.l?" "+w:w;else{x=E.match(l);if(!x||x.length!==S.length)return o;b=0;for(y=0;y<S.length;y++)L=S[y],k=w.indexOf(L,b),o.appendXtra(w.substr(b,k-b),Number(L),nt(x[y],L),"",v&&w.substr(k+L.length,2)==="px",y===0),b=k+L.length;o["xs"+o.l]+=w.substr(b)}}}if(r.indexOf("=")!==-1&&o.data){A=o.xs0+o.data.s;for(m=1;m<o.l;m++)A+=o["xs"+m]+o.data["xn"+m];o.e=A+o["xs"+m]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},mt=9;a=dt.prototype,a.l=a.pr=0;while(--mt>0)a["xn"+mt]=0,a["xs"+mt]="";a.xs0="",a._next=a._prev=a.xfirst=a.data=a.plugin=a.setRatio=a.rxp=null,a.appendXtra=function(e,t,n,r,i,s){var o=this,u=o.l;return o["xs"+u]+=s&&u?" "+e:e||"",!n&&u!==0&&!o.plugin?(o["xs"+u]+=t+(r||""),o):(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=r||"",u>0?(o.data["xn"+u]=t+n,o.rxp["xn"+u]=i,o["xn"+u]=t,o.plugin||(o.xfirst=new dt(o,"xn"+u,t,n,o.xfirst||o,0,o.n,i,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+n},o.rxp={},o.s=t,o.c=n,o.r=i,o))};var gt=function(e,t){t=t||{},this.p=t.prefix?X(e)||e:e,u[e]=u[this.p]=this,this.format=t.formatter||ft(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},yt=_._registerComplexSpecialProp=function(e,t,n){typeof t!="object"&&(t={parser:n});var r=e.split(","),i=t.defaultValue,s,o;n=n||[i];for(s=0;s<r.length;s++)t.prefix=s===0&&t.prefix,t.defaultValue=n[s]||i,o=new gt(r[s],t)},bt=function(e){if(!u[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";yt(e,{parser:function(e,n,r,i,s,o,a){var f=(window.GreenSockGlobals||window).com.greensock.plugins[t];return f?(f._cssRegister(),u[r].parse(e,n,r,i,s,o,a)):(U("Error: "+t+" js file not loaded."),s)}})}};a=gt.prototype,a.parseComplex=function(e,t,n,r,i,s){var o=this.keyword,u,a,f,l,c,h;this.multi&&(N.test(n)||N.test(t)?(a=t.replace(N,"|").split("|"),f=n.replace(N,"|").split("|")):o&&(a=[t],f=[n]));if(f){l=f.length>a.length?f.length:a.length;for(u=0;u<l;u++)t=a[u]=a[u]||this.dflt,n=f[u]=f[u]||this.dflt,o&&(c=t.indexOf(o),h=n.indexOf(o),c!==h&&(n=h===-1?f:a,n[u]+=" "+o));t=a.join(", "),n=f.join(", ")}return vt(e,this.p,t,n,this.clrs,this.dflt,r,this.pr,i,s)},a.parse=function(e,t,n,r,i,o,u){return this.parseComplex(e.style,this.format($(e,this.p,s,!1,this.dflt)),this.format(t),i,o)},n.registerSpecialProp=function(e,t,n){yt(e,{parser:function(e,r,i,s,o,u,a){var f=new dt(e,i,0,0,o,2,i,!1,n);return f.plugin=u,f.setRatio=t(e,r,s._tween,i),f},priority:n})};var wt="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),Et=X("transform"),St=z+"transform",xt=X("transformOrigin"),Tt=X("perspective")!==null,Nt=function(e,t,r,i){if(e._gsTransform&&r&&!i)return e._gsTransform;var s=r?e._gsTransform||{skewY:0}:{skewY:0},o=s.scaleX<0,u=2e-5,a=1e5,f=-Math.PI+1e-4,l=Math.PI-1e-4,c=Tt?parseFloat($(e,xt,t,!1,"0 0 0").split(" ")[2])||s.zOrigin||0:0,h,p,d,v,m,g,y,b,w,E,S,T,N;Et?h=$(e,St,t,!0):e.currentStyle&&(h=e.currentStyle.filter.match(x),h=h&&h.length===4?[h[0].substr(4),Number(h[2].substr(4)),Number(h[1].substr(4)),h[3].substr(4),s.x||0,s.y||0].join(","):""),p=(h||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],d=p.length;while(--d>-1)v=Number(p[d]),p[d]=(m=v-(v|=0))?(m*a+(m<0?-0.5:.5)|0)/a+v:v;if(p.length===16){var C=p[8],k=p[9],L=p[10],A=p[12],O=p[13],M=p[14];s.zOrigin&&(M=-s.zOrigin,A=C*M-p[12],O=k*M-p[13],M=L*M+s.zOrigin-p[14]);if(!r||i||s.rotationX==null){var _=p[0],D=p[1],P=p[2],H=p[3],B=p[4],j=p[5],F=p[6],I=p[7],q=p[11],R=s.rotationX=Math.atan2(F,L),U=R<f||R>l,z,W,X,V,J,K,Q;R&&(V=Math.cos(-R),J=Math.sin(-R),z=B*V+C*J,W=j*V+k*J,X=F*V+L*J,C=B*-J+C*V,k=j*-J+k*V,L=F*-J+L*V,q=I*-J+q*V,B=z,j=W,F=X),R=s.rotationY=Math.atan2(C,_),R&&(K=R<f||R>l,V=Math.cos(-R),J=Math.sin(-R),z=_*V-C*J,W=D*V-k*J,X=P*V-L*J,k=D*J+k*V,L=P*J+L*V,q=H*J+q*V,_=z,D=W,P=X),R=s.rotation=Math.atan2(D,j),R&&(Q=R<f||R>l,V=Math.cos(-R),J=Math.sin(-R),_=_*V+B*J,W=D*V+j*J,j=D*-J+j*V,F=P*-J+F*V,D=W),Q&&U?s.rotation=s.rotationX=0:Q&&K?s.rotation=s.rotationY=0:K&&U&&(s.rotationY=s.rotationX=0),s.scaleX=(Math.sqrt(_*_+D*D)*a+.5|0)/a,s.scaleY=(Math.sqrt(j*j+k*k)*a+.5|0)/a,s.scaleZ=(Math.sqrt(F*F+L*L)*a+.5|0)/a,s.skewX=0,s.perspective=q?1/(q<0?-q:q):0,s.x=A,s.y=O,s.z=M}}else if((!Tt||i||!p.length||s.x!==p[4]||s.y!==p[5]||!s.rotationX&&!s.rotationY)&&(s.x===undefined||$(e,"display",t)!=="none")){var G=p.length>=6,Y=G?p[0]:1,Z=p[1]||0,et=p[2]||0,tt=G?p[3]:1;s.x=p[4]||0,s.y=p[5]||0,g=Math.sqrt(Y*Y+Z*Z),y=Math.sqrt(tt*tt+et*et),b=Y||Z?Math.atan2(Z,Y):s.rotation||0,w=et||tt?Math.atan2(et,tt)+b:s.skewX||0,E=g-Math.abs(s.scaleX||0),S=y-Math.abs(s.scaleY||0),Math.abs(w)>Math.PI/2&&Math.abs(w)<Math.PI*1.5&&(o?(g*=-1,w+=b<=0?Math.PI:-Math.PI,b+=b<=0?Math.PI:-Math.PI):(y*=-1,w+=w<=0?Math.PI:-Math.PI)),T=(b-s.rotation)%Math.PI,N=(w-s.skewX)%Math.PI;if(s.skewX===undefined||E>u||E<-u||S>u||S<-u||T>f&&T<l&&T*a|!1||N>f&&N<l&&N*a|!1)s.scaleX=g,s.scaleY=y,s.rotation=b,s.skewX=w;Tt&&(s.rotationX=s.rotationY=s.z=0,s.perspective=parseFloat(n.defaultTransformPerspective)||0,s.scaleZ=1)}s.zOrigin=c;for(d in s)s[d]<u&&s[d]>-u&&(s[d]=0);return r&&(e._gsTransform=s),s},Ct=function(e){var t=this.data,n=-t.rotation,r=n+t.skewX,i=1e5,s=(Math.cos(n)*t.scaleX*i|0)/i,o=(Math.sin(n)*t.scaleX*i|0)/i,u=(Math.sin(r)*-t.scaleY*i|0)/i,a=(Math.cos(r)*t.scaleY*i|0)/i,f=this.t.style,l=this.t.currentStyle,c,h;if(!l)return;h=o,o=-u,u=-h,c=l.filter,f.filter="";var v=this.t.offsetWidth,m=this.t.offsetHeight,g=l.position!=="absolute",y="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+o+", M21="+u+", M22="+a,b=t.x,w=t.y,E,S;t.ox!=null&&(E=(t.oxp?v*t.ox*.01:t.ox)-v/2,S=(t.oyp?m*t.oy*.01:t.oy)-m/2,b+=E-(E*s+S*o),w+=S-(E*u+S*a));if(!g){var x=I<8?1:-1,N,C,k;E=t.ieOffsetX||0,S=t.ieOffsetY||0,t.ieOffsetX=Math.round((v-((s<0?-s:s)*v+(o<0?-o:o)*m))/2+b),t.ieOffsetY=Math.round((m-((a<0?-a:a)*m+(u<0?-u:u)*v))/2+w);for(mt=0;mt<4;mt++)C=Z[mt],N=l[C],h=N.indexOf("px")!==-1?parseFloat(N):J(this.t,C,parseFloat(N),N.replace(p,""))||0,h!==t[C]?k=mt<2?-t.ieOffsetX:-t.ieOffsetY:k=mt<2?E-t.ieOffsetX:S-t.ieOffsetY,f[C]=(t[C]=Math.round(h-k*(mt===0||mt===2?1:x)))+"px";y+=", sizingMethod='auto expand')"}else E=v/2,S=m/2,y+=", Dx="+(E-(E*s+S*o)+b)+", Dy="+(S-(E*u+S*a)+w)+")";c.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?f.filter=c.replace(T,y):f.filter=y+" "+c,(e===0||e===1)&&s===1&&o===0&&u===0&&a===1&&(!g||y.indexOf("Dx=0, Dy=0")!==-1)&&(!d.test(c)||parseFloat(RegExp.$1)===100)&&c.indexOf("gradient(")===-1&&f.removeAttribute("filter")},kt=function(e){var t=this.data,n=this.t.style,r=t.perspective,i=t.scaleX,s=0,o=0,u=0,a=0,f=t.scaleY,l=0,c=0,h=0,p=0,d=t.scaleZ,v=0,m=0,g=0,y=r?-1/r:0,b=t.rotation,w=t.zOrigin,E=1e5,S,x,T,N,C,k,L,A,O;j&&(L=n.top?"top":n.bottom?"bottom":parseFloat($(this.t,"top",null,!1))?"bottom":"top",T=$(this.t,L,null,!1),A=parseFloat(T)||0,O=T.substr((A+"").length)||"px",t._ffFix=!t._ffFix,n[L]=(t._ffFix?A+.05:A-.05)+O);if(b||t.skewX)T=i*Math.cos(b),N=f*Math.sin(b),b-=t.skewX,s=i*-Math.sin(b),f*=Math.cos(b),i=T,a=N;else if(!t.rotationY&&!t.rotationX&&d===1){n[Et]="translate3d("+t.x+"px,"+t.y+"px,"+t.z+"px)"+(i!==1||f!==1?" scale("+i+","+f+")":"");return}b=t.rotationY,b&&(S=Math.cos(b),x=Math.sin(b),T=i*S,N=a*S,C=d*-x,k=y*-x,o=i*x,l=a*x,d*=S,y*=S,i=T,a=N,h=C,m=k),b=t.rotationX,b&&(S=Math.cos(b),x=Math.sin(b),T=s*S+o*x,N=f*S+l*x,C=p*S+d*x,k=g*S+y*x,o=s*-x+o*S,l=f*-x+l*S,d=p*-x+d*S,y=g*-x+y*S,s=T,f=N,p=C,g=k),w&&(v-=w,u=o*v,c=l*v,v=d*v+w),u=(T=(u+=t.x)-(u|=0))?(T*E+(T<0?-0.5:.5)|0)/E+u:u,c=(T=(c+=t.y)-(c|=0))?(T*E+(T<0?-0.5:.5)|0)/E+c:c,v=(T=(v+=t.z)-(v|=0))?(T*E+(T<0?-0.5:.5)|0)/E+v:v,n[Et]="matrix3d("+[(i*E|0)/E,(a*E|0)/E,(h*E|0)/E,(m*E|0)/E,(s*E|0)/E,(f*E|0)/E,(p*E|0)/E,(g*E|0)/E,(o*E|0)/E,(l*E|0)/E,(d*E|0)/E,(y*E|0)/E,u,c,v,r?1+ -v/r:1].join(",")+")"},Lt=function(e){var t=this.data,n=this.t,r=n.style,i,s,o,u,a,f,l,c,h;j&&(i=r.top?"top":r.bottom?"bottom":parseFloat($(n,"top",null,!1))?"bottom":"top",s=$(n,i,null,!1),o=parseFloat(s)||0,u=s.substr((o+"").length)||"px",t._ffFix=!t._ffFix,r[i]=(t._ffFix?o+.05:o-.05)+u),!t.rotation&&!t.skewX?r[Et]="matrix("+t.scaleX+",0,0,"+t.scaleY+","+t.x+","+t.y+")":(a=t.rotation,f=a-t.skewX,l=1e5,c=t.scaleX*l,h=t.scaleY*l,r[Et]="matrix("+(Math.cos(a)*c|0)/l+","+(Math.sin(a)*c|0)/l+","+(Math.sin(f)*-h|0)/l+","+(Math.cos(f)*h|0)/l+","+t.x+","+t.y+")")};yt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation,parseTransform",{parser:function(e,t,n,r,i,o,u){if(r._transform)return i;var a=r._transform=Nt(e,s,!0,u.parseTransform),f=e.style,l=1e-6,c=wt.length,h=u,p={},d,v,m,g,y,b,w;if(typeof h.transform=="string"&&Et)m=f.cssText,f[Et]=h.transform,f.display="block",d=Nt(e,null,!1),f.cssText=m;else if(typeof h=="object"){d={scaleX:rt(h.scaleX!=null?h.scaleX:h.scale,a.scaleX),scaleY:rt(h.scaleY!=null?h.scaleY:h.scale,a.scaleY),scaleZ:rt(h.scaleZ!=null?h.scaleZ:h.scale,a.scaleZ),x:rt(h.x,a.x),y:rt(h.y,a.y),z:rt(h.z,a.z),perspective:rt(h.transformPerspective,a.perspective)},w=h.directionalRotation;if(w!=null)if(typeof w=="object")for(m in w)h[m]=w[m];else h.rotation=w;d.rotation=it("rotation"in h?h.rotation:"shortRotation"in h?h.shortRotation+"_short":"rotationZ"in h?h.rotationZ:a.rotation*k,a.rotation,"rotation",p),Tt&&(d.rotationX=it("rotationX"in h?h.rotationX:"shortRotationX"in h?h.shortRotationX+"_short":a.rotationX*k||0,a.rotationX,"rotationX",p),d.rotationY=it("rotationY"in h?h.rotationY:"shortRotationY"in h?h.shortRotationY+"_short":a.rotationY*k||0,a.rotationY,"rotationY",p)),d.skewX=h.skewX==null?a.skewX:it(h.skewX,a.skewX),d.skewY=h.skewY==null?a.skewY:it(h.skewY,a.skewY);if(v=d.skewY-a.skewY)d.skewX+=v,d.rotation+=v}y=a.z||a.rotationX||a.rotationY||d.z||d.rotationX||d.rotationY||d.perspective,!y&&h.scale!=null&&(d.scaleZ=1);while(--c>-1){n=wt[c],g=d[n]-a[n];if(g>l||g<-l||L[n]!=null)b=!0,i=new dt(a,n,a[n],g,i),n in p&&(i.e=p[n]),i.xs0=0,i.plugin=o,r._overwriteProps.push(i.n)}g=h.transformOrigin;if(g||Tt&&y&&a.zOrigin)Et?(b=!0,g=(g||$(e,n,s,!1,"50% 50%"))+"",n=xt,i=new dt(f,n,0,0,i,-1,"transformOrigin"),i.b=f[n],i.plugin=o,Tt?(m=a.zOrigin,g=g.split(" "),a.zOrigin=(g.length>2?parseFloat(g[2]):m)||0,i.xs0=i.e=f[n]=g[0]+" "+(g[1]||"50%")+" 0px",i=new dt(a,"zOrigin",0,0,i,-1,i.n),i.b=m,i.xs0=i.e=a.zOrigin):i.xs0=i.e=f[n]=g):tt(g+"",a);return b&&(r._transformType=y||this._transformType===3?3:2),i},prefix:!0}),yt("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),yt("borderRadius",{defaultValue:"0px",parser:function(e,t,n,r,o,u){t=this.format(t);var a=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],f=e.style,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N;y=parseFloat(e.offsetWidth),b=parseFloat(e.offsetHeight),l=t.split(" ");for(c=0;c<a.length;c++)this.p.indexOf("border")&&(a[c]=X(a[c])),d=p=$(e,a[c],s,!1,"0px"),d.indexOf(" ")!==-1&&(p=d.split(" "),d=p[0],p=p[1]),v=h=l[c],m=parseFloat(d),E=d.substr((m+"").length),S=v.charAt(1)==="=",S?(g=parseInt(v.charAt(0)+"1",10),v=v.substr(2),g*=parseFloat(v),w=v.substr((g+"").length-(g<0?1:0))||""):(g=parseFloat(v),w=v.substr((g+"").length)),w===""&&(w=i[n]||E),w!==E&&(x=J(e,"borderLeft",m,E),T=J(e,"borderTop",m,E),w==="%"?(d=x/y*100+"%",p=T/b*100+"%"):w==="em"?(N=J(e,"borderLeft",1,"em"),d=x/N+"em",p=T/N+"em"):(d=x+"px",p=T+"px"),S&&(v=parseFloat(d)+g+w,h=parseFloat(p)+g+w)),o=vt(f,a[c],d+" "+p,v+" "+h,!1,"0px",o);return o},prefix:!0,formatter:ft("0px 0px 0px 0px",!1,!0)}),yt("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,r,i,o){var u="background-position",a=s||V(e,null),f=this.format((a?I?a.getPropertyValue(u+"-x")+" "+a.getPropertyValue(u+"-y"):a.getPropertyValue(u):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),l=this.format(t),c,h,p,d,v,m;if(f.indexOf("%")!==-1!=(l.indexOf("%")!==-1)){m=$(e,"backgroundImage").replace(w,"");if(m&&m!=="none"){c=f.split(" "),h=l.split(" "),M.setAttribute("src",m),p=2;while(--p>-1)f=c[p],d=f.indexOf("%")!==-1,d!==(h[p].indexOf("%")!==-1)&&(v=p===0?e.offsetWidth-M.width:e.offsetHeight-M.height,c[p]=d?parseFloat(f)/100*v+"px":parseFloat(f)/v*100+"%");f=c.join(" ")}}return this.parseComplex(e.style,f,l,i,o)},formatter:tt}),yt("backgroundSize",{defaultValue:"0 0",formatter:tt}),yt("perspective",{defaultValue:"0px",prefix:!0}),yt("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),yt("transformStyle",{prefix:!0}),yt("backfaceVisibility",{prefix:!0}),yt("margin",{parser:lt("marginTop,marginRight,marginBottom,marginLeft")}),yt("padding",{parser:lt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),yt("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,r,i,o){var u,a,f;return I<9?(a=e.currentStyle,f=I<8?" ":",",u="rect("+a.clipTop+f+a.clipRight+f+a.clipBottom+f+a.clipLeft+")",t=this.format(t).split(",").join(f)):(u=this.format($(e,this.p,s,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,u,t,i,o)}}),yt("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),yt("autoRound,strictUnits",{parser:function(e,t,n,r,i){return i}}),yt("border",{defaultValue:"0px solid #000",parser:function(e,t,n,r,i,o){return this.parseComplex(e.style,this.format($(e,"borderTopWidth",s,!1,"0px")+" "+$(e,"borderTopStyle",s,!1,"solid")+" "+$(e,"borderTopColor",s,!1,"#000")),this.format(t),i,o)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(at)||["#000"])[0]}}),yt("float,cssFloat,styleFloat",{parser:function(e,t,n,r,i,s){var o=e.style,u="cssFloat"in o?"cssFloat":"styleFloat";return new dt(o,u,0,0,i,-1,n,!1,0,o[u],t)}});var At=function(e){var t=this.t,n=t.filter,r=this.s+this.c*e|0,i;r===100&&(n.indexOf("atrix(")===-1&&n.indexOf("radient(")===-1?(t.removeAttribute("filter"),i=!$(this.data,"filter")):(t.filter=n.replace(m,""),i=!0)),i||(this.xn1&&(t.filter=n=n||"alpha(opacity=100)"),n.indexOf("opacity")===-1?t.filter+=" alpha(opacity="+r+")":t.filter=n.replace(d,"opacity="+r))};yt("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,r,i,o){var u=parseFloat($(e,"opacity",s,!1,"1")),a=e.style,f;return t=parseFloat(t),n==="autoAlpha"&&(f=$(e,"visibility",s),u===1&&f==="hidden"&&t!==0&&(u=0),i=new dt(a,"visibility",0,0,i,-1,null,!1,0,u!==0?"visible":"hidden",t===0?"hidden":"visible"),i.xs0="visible",r._overwriteProps.push(i.n)),q?i=new dt(a,"opacity",u,t-u,i):(i=new dt(a,"opacity",u*100,(t-u)*100,i),i.xn1=n==="autoAlpha"?1:0,a.zoom=1,i.type=2,i.b="alpha(opacity="+i.s+")",i.e="alpha(opacity="+(i.s+i.c)+")",i.data=e,i.plugin=o,i.setRatio=At),i}});var Ot=function(e,t){t&&(e.removeProperty?e.removeProperty(t.replace(y,"-$1").toLowerCase()):e.removeAttribute(t))},Mt=function(e){this.t._gsClassPT=this;if(e===1||e===0){this.t.className=e===0?this.b:this.e;var t=this.data,n=this.t.style;while(t)t.v?n[t.p]=t.v:Ot(n,t.p),t=t._next;e===1&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)};yt("className",{parser:function(e,t,n,i,o,u,a){var f=e.className,l=e.style.cssText,c,h,p,d,v;o=i._classNamePT=new dt(e,n,0,0,o,2),o.setRatio=Mt,o.pr=-11,r=!0,o.b=f,h=Q(e,s),p=e._gsClassPT;if(p){d={},v=p.data;while(v)d[v.p]=1,v=v._next;p.setRatio(1)}return e._gsClassPT=o,o.e=t.charAt(1)!=="="?t:f.replace(new RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+(t.charAt(0)==="+"?" "+t.substr(2):""),i._tween._duration&&(e.className=o.e,c=G(e,h,Q(e),a,d),e.className=f,o.data=c.firstMPT,e.style.cssText=l,o=o.xfirst=i.parse(e,c.difs,o,u)),o}});var _t=function(e){if(e===1||e===0)if(this.data._totalTime===this.data._totalDuration){var t=this.e==="all",n=this.t.style,r=t?n.cssText.split(";"):this.e.split(","),i=r.length,s=u.transform.parse,o;while(--i>-1)o=r[i],t&&(o=o.substr(0,o.indexOf(":")).split(" ").join("")),u[o]&&(o=u[o].parse===s?Et:u[o].p),Ot(n,o)}};yt("clearProps",{parser:function(e,t,n,i,s){return s=new dt(e,n,0,0,s,2),s.setRatio=_t,s.e=t,s.pr=-10,s.data=i._tween,r=!0,s}}),a="bezier,throwProps,physicsProps,physics2D".split(","),mt=a.length;while(mt--)bt(a[mt]);a=n.prototype,a._firstPT=null,a._onInitTween=function(e,t,u){if(!e.nodeType)return!1;this._target=e,this._tween=u,this._vars=t,P=t.autoRound,r=!1,i=t.suffixMap||n.suffixMap,s=V(e,""),o=this._overwriteProps;var a=e.style,f,l,c,h,p,d,m,g,y;if(H&&a.zIndex===""){f=$(e,"zIndex",s);if(f==="auto"||f==="")a.zIndex=0}typeof t=="string"&&(h=a.cssText,f=Q(e,s),a.cssText=h+";"+t,f=G(e,f,Q(e)).difs,!q&&v.test(t)&&(f.opacity=parseFloat(RegExp.$1)),t=f,a.cssText=h),this._firstPT=l=this.parse(e,t,null);if(this._transformType){y=this._transformType===3;if(!Et)a.zoom=1;else if(B){H=!0;if(a.zIndex===""){m=$(e,"zIndex",s);if(m==="auto"||m==="")a.zIndex=0}F&&(a.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(y?"visible":"hidden"))}c=l;while(c&&c._next)c=c._next;g=new dt(e,"transform",0,0,null,2),this._linkCSSP(g,null,c),g.setRatio=y&&Tt?kt:Et?Lt:Ct,g.data=this._transform||Nt(e,s,!0),o.pop()}if(r){while(l){d=l._next,c=h;while(c&&c.pr>l.pr)c=c._next;(l._prev=c?c._prev:p)?l._prev._next=l:h=l,(l._next=c)?c._prev=l:p=l,l=d}this._firstPT=h}return!0},a.parse=function(e,t,n,r){var o=e.style,a,f,l,c,h,d,v,m,y,b;for(a in t){d=t[a],f=u[a];if(f)n=f.parse(e,d,a,this,n,r,t);else{h=$(e,a,s)+"",y=typeof d=="string";if(a==="color"||a==="fill"||a==="stroke"||a.indexOf("Color")!==-1||y&&g.test(d))y||(d=ut(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),n=vt(o,a,h,d,!0,"transparent",n,0,r);else if(!y||d.indexOf(" ")===-1&&d.indexOf(",")===-1){l=parseFloat(h),v=l||l===0?h.substr((l+"").length):"";if(h===""||h==="auto")a==="width"||a==="height"?(l=et(e,a,s),v="px"):a==="left"||a==="top"?(l=K(e,a,s),v="px"):(l=a!=="opacity"?0:1,v="");b=y&&d.charAt(1)==="=",b?(c=parseInt(d.charAt(0)+"1",10),d=d.substr(2),c*=parseFloat(d),m=d.replace(p,"")):(c=parseFloat(d),m=y?d.substr((c+"").length)||"":""),m===""&&(m=i[a]||v),d=c||c===0?(b?c+l:c)+m:t[a],v!==m&&m!==""&&(c||c===0)&&(l||l===0)&&(l=J(e,a,l,v),m==="%"?(l/=J(e,a,100,"%")/100,l>100&&(l=100),t.strictUnits!==!0&&(h=l+"%")):m==="em"?l/=J(e,a,1,"em"):(c=J(e,a,c,m),m="px"),b&&(c||c===0)&&(d=c+l+m)),b&&(c+=l),!l&&l!==0||!c&&c!==0?o[a]===undefined||!d&&(d+""=="NaN"||d==null)?U("invalid "+a+" tween value: "+t[a]):(n=new dt(o,a,c||l||0,0,n,-1,a,!1,0,h,d),n.xs0=d!=="none"||a!=="display"&&a.indexOf("Style")===-1?d:h):(n=new dt(o,a,l,c-l,n,0,a,P!==!1&&(m==="px"||a==="zIndex"),0,h,d),n.xs0=m)}else n=vt(o,a,h,d,!0,null,n,0,r)}r&&n&&!n.plugin&&(n.plugin=r)}return n},a.setRatio=function(e){var t=this._firstPT,n=1e-6,r,i,s;if(e!==1||this._tween._time!==this._tween._duration&&this._tween._time!==0)if(e||this._tween._time!==this._tween._duration&&this._tween._time!==0||this._tween._rawPrevTime===-0.000001)while(t){r=t.c*e+t.s,t.r?r=r>0?r+.5|0:r-.5|0:r<n&&r>-n&&(r=0);if(!t.type)t.t[t.p]=r+t.xs0;else if(t.type===1){s=t.l;if(s===2)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2;else if(s===3)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3;else if(s===4)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3+t.xn3+t.xs4;else if(s===5)t.t[t.p]=t.xs0+r+t.xs1+t.xn1+t.xs2+t.xn2+t.xs3+t.xn3+t.xs4+t.xn4+t.xs5;else{i=t.xs0+r+t.xs1;for(s=1;s<t.l;s++)i+=t["xn"+s]+t["xs"+(s+1)];t.t[t.p]=i}}else t.type===-1?t.t[t.p]=t.xs0:t.setRatio&&t.setRatio(e);t=t._next}else while(t)t.type!==2?t.t[t.p]=t.b:t.setRatio(e),t=t._next;else while(t)t.type!==2?t.t[t.p]=t.e:t.setRatio(e),t=t._next},a._enableTransforms=function(e){this._transformType=e||this._transformType===3?3:2,this._transform=this._transform||Nt(this._target,s,!0)},a._linkCSSP=function(e,t,n,r){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),n?n._next=e:!r&&this._firstPT===null&&(this._firstPT=e),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next),e._next=t,e._prev=n),e},a._kill=function(t){var n=t,r,i,s;if(t.autoAlpha||t.alpha){n={};for(i in t)n[i]=t[i];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return t.className&&(r=this._classNamePT)&&(s=r.xfirst,s&&s._prev?this._linkCSSP(s._prev,r._next,s._prev._prev):s===this._firstPT&&(this._firstPT=r._next),r._next&&this._linkCSSP(r._next,r._next._next,s._prev),this._classNamePT=null),e.prototype._kill.call(this,n)};var Dt=function(e,t,n){var r,i,s,o;if(e.slice){i=e.length;while(--i>-1)Dt(e[i],t,n);return}r=e.childNodes,i=r.length;while(--i>-1)s=r[i],o=s.type,s.style&&(t.push(Q(s)),n&&n.push(s)),(o===1||o===9||o===11)&&s.childNodes.length&&Dt(s,t,n)};return n.cascadeTo=function(e,n,r){var i=t.to(e,n,r),s=[i],o=[],u=[],a=[],f=t._internals.reservedProps,l,c,h;e=i._targets||i.target,Dt(e,o,a),i.render(n,!0),Dt(e,u),i.render(0,!0),i._enabled(!0),l=a.length;while(--l>-1){c=G(a[l],o[l],u[l]);if(c.firstMPT){c=c.difs;for(h in r)f[h]&&(c[h]=r[h]);s.push(t.to(a[l],n,c))}}return s},e.activate([n]),n},!0),function(){var e=window._gsDefine.plugin({propName:"roundProps",priority:-1,API:2,init:function(e,t,n){return this._tween=n,!0}}),t=e.prototype;t._onInitAllProps=function(){var e=this._tween,t=e.vars.roundProps instanceof Array?e.vars.roundProps:e.vars.roundProps.split(","),n=t.length,r={},i=e._propLookup.roundProps,s,o,u;while(--n>-1)r[t[n]]=1;n=t.length;while(--n>-1){s=t[n],o=e._firstPT;while(o)u=o._next,o.pg?o.t._roundProps(r,!0):o.n===s&&(this._add(o.t,s,o.s,o.c),u&&(u._prev=o._prev),o._prev?o._prev._next=u:e._firstPT===o&&(e._firstPT=u),o._next=o._prev=null,e._propLookup[s]=i),o=u}return!1},t._add=function(e,t,n,r){this._addTween(e,t,n,n+r,t,!0),this._overwriteProps.push(t)}}(),window._gsDefine.plugin({propName:"attr",API:2,init:function(e,t,n){var r;if(typeof e.setAttribute!="function")return!1;this._target=e,this._proxy={};for(r in t)this._addTween(this._proxy,r,parseFloat(e.getAttribute(r)),t[r],r),this._overwriteProps.push(r);return!0},set:function(e){this._super.setRatio.call(this,e);var t=this._overwriteProps,n=t.length,r;while(--n>-1)r=t[n],this._target.setAttribute(r,this._proxy[r]+"")}}),window._gsDefine.plugin({propName:"directionalRotation",API:2,init:function(e,t,n){typeof t!="object"&&(t={rotation:t}),this.finals={};var r=t.useRadians===!0?Math.PI*2:360,i=1e-6,s,o,u,a,f,l;for(s in t)if(s!=="useRadians"){l=(t[s]+"").split("_"),o=l[0],u=parseFloat(typeof e[s]!="function"?e[s]:e[s.indexOf("set")||typeof e["get"+s.substr(3)]!="function"?s:"get"+s.substr(3)]()),a=this.finals[s]=typeof o=="string"&&o.charAt(1)==="="?u+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0,f=a-u,l.length&&(o=l.join("_"),o.indexOf("short")!==-1&&(f%=r,f!==f%(r/2)&&(f=f<0?f+r:f-r)),o.indexOf("_cw")!==-1&&f<0?f=(f+r*9999999999)%r-(f/r|0)*r:o.indexOf("ccw")!==-1&&f>0&&(f=(f-r*9999999999)%r-(f/r|0)*r));if(f>i||f<-i)this._addTween(e,s,u,u+f,s),this._overwriteProps.push(s)}return!0},set:function(e){var t;if(e!==1)this._super.setRatio.call(this,e);else{t=this._firstPT;while(t)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}}})._autoCSS=!0,window._gsDefine("easing.Back",["easing.Ease"],function(e){var t=window.GreenSockGlobals||window,n=t.com.greensock,r=Math.PI*2,i=Math.PI/2,s=n._class,o=function(t,n){var r=s("easing."+t,function(){},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,r},u=e.register||function(){},a=function(e,t,n,r,i){var o=s("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return u(o,e),o},f=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},l=function(t,n){var r=s("easing."+t,function(e){this._p1=e||e===0?e:1.70158,this._p2=this._p1*1.525},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,i.config=function(e){return new r(e)},r},c=a("Back",l("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),l("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),l("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),h=s("easing.SlowMo",function(e,t,n){t=t||t===0?t:.7,e==null?e=.7:e>1&&(e=1),this._p=e!==1?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),p=h.prototype=new e,d,v,m;return p.constructor=h,p.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},h.ease=new h(.7,.7),p.config=h.config=function(e,t,n){return new h(e,t,n)},d=s("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0),p=d.prototype=new e,p.constructor=d,p.getRatio=function(e){return e<0?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},p.config=d.config=function(e){return new d(e)},v=s("easing.RoughEase",function(t){t=t||{};var n=t.taper||"none",r=[],i=0,s=(t.points||20)|0,o=s,u=t.randomize!==!1,a=t.clamp===!0,l=t.template instanceof e?t.template:null,c=typeof t.strength=="number"?t.strength*.4:.4,h,p,d,v,m,g;while(--o>-1)h=u?Math.random():1/s*o,p=l?l.getRatio(h):h,n==="none"?d=c:n==="out"?(v=1-h,d=v*v*c):n==="in"?d=h*h*c:h<.5?(v=h*2,d=v*v*.5*c):(v=(1-h)*2,d=v*v*.5*c),u?p+=Math.random()*d-d*.5:o%2?p+=d*.5:p-=d*.5,a&&(p>1?p=1:p<0&&(p=0)),r[i++]={x:h,y:p};r.sort(function(e,t){return e.x-t.x}),g=new f(1,1,null),o=s;while(--o>-1)m=r[o],g=new f(m.x,m.y,g);this._prev=new f(0,0,g.t!==0?g:g.next)},!0),p=v.prototype=new e,p.constructor=v,p.getRatio=function(e){var t=this._prev;if(e>t.t){while(t.next&&e>=t.t)t=t.next;t=t.prev}else while(t.prev&&e<=t.t)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},p.config=function(e){return new v(e)},v.ease=new v,a("Bounce",o("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),o("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),o("BounceInOut",function(e){var t=e<.5;return t?e=1-e*2:e=e*2-1,e<1/2.75?e=7.5625*e*e:e<2/2.75?e=7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?e=7.5625*(e-=2.25/2.75)*e+.9375:e=7.5625*(e-=2.625/2.75)*e+.984375,t?(1-e)*.5:e*.5+.5})),a("Circ",o("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),o("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),o("CircInOut",function(e){return(e*=2)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),m=function(t,n,i){var o=s("easing."+t,function(e,t){this._p1=e||1,this._p2=t||i,this._p3=this._p2/r*(Math.asin(1/this._p1)||0)},!0),u=o.prototype=new e;return u.constructor=o,u.getRatio=n,u.config=function(e,t){return new o(e,t)},o},a("Elastic",m("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*r/this._p2)+1},.3),m("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*r/this._p2))},.3),m("ElasticInOut",function(e){return(e*=2)<1?-0.5*this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*r/this._p2):this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*r/this._p2)*.5+1},.45)),a("Expo",o("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),o("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),o("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),a("Sine",o("SineOut",function(e){return Math.sin(e*i)}),o("SineIn",function(e){return-Math.cos(e*i)+1}),o("SineInOut",function(e){return-0.5*(Math.cos(Math.PI*e)-1)})),s("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),u(t.SlowMo,"SlowMo","ease,"),u(v,"RoughEase","ease,"),u(d,"SteppedEase","ease,"),c},!0)}),function(e){var t=e.GreenSockGlobals||e,n=function(e){var n=e.split("."),r=t,i;for(i=0;i<n.length;i++)r[n[i]]=r=r[n[i]]||{};return r},r=n("com.greensock"),i=[].slice,s=function(){},o,u,a,f,l,c={},h=function(r,i,s,o){this.sc=c[r]?c[r].sc:[],c[r]=this,this.gsClass=null,this.func=s;var u=[];this.check=function(a){var f=i.length,l=f,p,d,v,m;while(--f>-1)(p=c[i[f]]||new h(i[f],[])).gsClass?(u[f]=p.gsClass,l--):a&&p.sc.push(this);if(l===0&&s){d=("com.greensock."+r).split("."),v=d.pop(),m=n(d.join("."))[v]=this.gsClass=s.apply(s,u),o&&(t[v]=m,typeof define=="function"&&define.amd?define((e.GreenSockAMDPath?e.GreenSockAMDPath+"/":"")+r.split(".").join("/"),[],function(){return m}):typeof module!="undefined"&&module.exports&&(module.exports=m));for(f=0;f<this.sc.length;f++)this.sc[f].check()}},this.check(!0)},p=e._gsDefine=function(e,t,n,r){return new h(e,t,n,r)},d=r._class=function(e,t,n){return t=t||function(){},p(e,[],function(){return t},n),t};p.globals=t;var v=[0,0,1,1],m=[],g=d("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?v.concat(t):v},!0),y=g.map={},b=g.register=function(e,t,n,i){var s=t.split(","),o=s.length,u=(n||"easeIn,easeOut,easeInOut").split(","),a,f,l,c;while(--o>-1){f=s[o],a=i?d("easing."+f,null,!0):r.easing[f]||{},l=u.length;while(--l>-1)c=u[l],y[f+"."+c]=y[c+f]=a[c]=e.getRatio?e:e[c]||new e}};a=g.prototype,a._calcEnd=!1,a.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=t===1?1-e:t===2?e:e<.5?e*2:(1-e)*2;return n===1?r*=r:n===2?r*=r*r:n===3?r*=r*r*r:n===4&&(r*=r*r*r*r),t===1?1-r:t===2?r:e<.5?r/2:1-r/2},o=["Linear","Quad","Cubic","Quart","Quint,Strong"],u=o.length;while(--u>-1)a=o[u]+",Power"+u,b(new g(null,null,1,u),a,"easeOut",!0),b(new g(null,null,2,u),a,"easeIn"+(u===0?",easeNone":"")),b(new g(null,null,3,u),a,"easeInOut");y.linear=r.easing.Linear.easeIn,y.swing=r.easing.Quad.easeInOut;var w=d("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});a=w.prototype,a.addEventListener=function(e,t,n,r,i){i=i||0;var s=this._listeners[e],o=0,u,a;s==null&&(this._listeners[e]=s=[]),a=s.length;while(--a>-1)u=s[a],u.c===t&&u.s===n?s.splice(a,1):o===0&&u.pr<i&&(o=a+1);s.splice(o,0,{c:t,s:n,up:r,pr:i}),this===f&&!l&&f.wake()},a.removeEventListener=function(e,t){var n=this._listeners[e],r;if(n){r=n.length;while(--r>-1)if(n[r].c===t){n.splice(r,1);return}}},a.dispatchEvent=function(e){var t=this._listeners[e],n,r,i;if(t){n=t.length,r=this._eventTarget;while(--n>-1)i=t[n],i.up?i.c.call(i.s||r,{type:e,target:r}):i.c.call(i.s||r)}};var E=e.requestAnimationFrame,S=e.cancelAnimationFrame,x=Date.now||function(){return(new Date).getTime()};o=["ms","moz","webkit","o"],u=o.length;while(--u>-1&&!E)E=e[o[u]+"RequestAnimationFrame"],S=e[o[u]+"CancelAnimationFrame"]||e[o[u]+"CancelRequestAnimationFrame"];d("Ticker",function(e,t){var n=this,r=x(),i=t!==!1&&E,o,u,a,c,h,p=function(e){n.time=(x()-r)/1e3;var t=a,i=n.time-h;if(!o||i>0||e===!0)n.frame++,h+=i+(i>=c?.004:c-i),n.dispatchEvent("tick");e!==!0&&t===a&&(a=u(p))};w.call(n),this.time=this.frame=0,this.tick=function(){p(!0)},this.sleep=function(){if(a==null)return;!i||!S?clearTimeout(a):S(a),u=s,a=null,n===f&&(l=!1)},this.wake=function(){a!==null&&n.sleep(),u=o===0?s:!i||!E?function(e){return setTimeout(e,(h-n.time)*1e3+1|0)}:E,n===f&&(l=!0),p(2)},this.fps=function(e){if(!arguments.length)return o;o=e,c=1/(o||60),h=this.time+c,n.wake()},this.useRAF=function(e){if(!arguments.length)return i;n.sleep(),i=e,n.fps(o)},n.fps(e),setTimeout(function(){i&&(!a||n.frame<5)&&n.useRAF(!1)},1500)}),a=r.Ticker.prototype=new r.events.EventDispatcher,a.constructor=r.Ticker;var T=d("core.Animation",function(e,t){this.vars=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(this.vars.delay)||0,this._timeScale=1,this._active=this.vars.immediateRender===!0,this.data=this.vars.data,this._reversed=this.vars.reversed===!0;if(!B)return;l||f.wake();var n=this.vars.useFrames?H:B;n.add(this,n._time),this.vars.paused&&this.paused(!0)});f=T.ticker=new r.Ticker,a=T.prototype,a._dirty=a._gc=a._initted=a._paused=!1,a._totalTime=a._time=0,a._rawPrevTime=-1,a._next=a._last=a._onUpdate=a._timeline=a.timeline=null,a._paused=!1,a.play=function(e,t){return arguments.length&&this.seek(e,t),this.reversed(!1).paused(!1)},a.pause=function(e,t){return arguments.length&&this.seek(e,t),this.paused(!0)},a.resume=function(e,t){return arguments.length&&this.seek(e,t),this.paused(!1)},a.seek=function(e,t){return this.totalTime(Number(e),t!==!1)},a.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,t!==!1,!0)},a.reverse=function(e,t){return arguments.length&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},a.render=function(){},a.invalidate=function(){return this},a._enabled=function(e,t){return l||f.wake(),this._gc=!e,this._active=e&&!this._paused&&this._totalTime>0&&this._totalTime<this._totalDuration,t!==!0&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},a._kill=function(e,t){return this._enabled(!1,!1)},a.kill=function(e,t){return this._kill(e,t),this},a._uncache=function(e){var t=e?this:this.timeline;while(t)t._dirty=!0,t=t.timeline;return this},a.eventCallback=function(e,t,n,r){if(e==null)return null;if(e.substr(0,2)==="on"){var i=this.vars,s;if(arguments.length===1)return i[e];if(t==null)delete i[e];else{i[e]=t,i[e+"Params"]=n,i[e+"Scope"]=r;if(n){s=n.length;while(--s>-1)n[s]==="{self}"&&(n=i[e+"Params"]=n.concat(),n[s]=this)}}e==="onUpdate"&&(this._onUpdate=t)}return this},a.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},a.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&e!==0&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},a.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},a.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},a.totalTime=function(e,t,n){l||f.wake();if(!arguments.length)return this._totalTime;if(this._timeline){e<0&&!n&&(e+=this.totalDuration());if(this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1);if(!i._active)while(i._timeline)i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime!==e&&this.render(e,t,!1)}return this},a.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},a.timeScale=function(e){if(!arguments.length)return this._timeScale;e=e||1e-6;if(this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,n=t||t===0?t:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},a.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._totalTime,!0)),this):this._reversed},a.paused=function(e){if(!arguments.length)return this._paused;if(e!=this._paused&&this._timeline){!l&&!e&&f.wake();var t=this._timeline.rawTime(),n=t-this._pauseTime;!e&&this._timeline.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=!e&&this._totalTime>0&&this._totalTime<this._totalDuration,!e&&n!==0&&this._duration!==0&&this.render(this._totalTime,!0,!0)}return this._gc&&!e&&this._enabled(!0,!1),this};var N=d("core.SimpleTimeline",function(e){T.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});a=N.prototype=new T,a.constructor=N,a.kill()._gc=!1,a._first=a._last=null,a._sortChildren=!1,a.add=a.insert=function(e,t,n,r){var i,s;e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last;if(this._sortChildren){s=e._startTime;while(i&&i._startTime>s)i=i._prev}return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._timeline&&this._uncache(!0),this},a._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e.timeline=null,e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),this._timeline&&this._uncache(!0)),this},a.render=function(e,t,n){var r=this._first,i;this._totalTime=this._time=this._rawPrevTime=e;while(r){i=r._next;if(r._active||e>=r._startTime&&!r._paused)r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,n):r.render((e-r._startTime)*r._timeScale,t,n);r=i}},a.rawTime=function(){return l||f.wake(),this._totalTime};var C=d("TweenLite",function(e,t,n){T.call(this,t,n);if(e==null)throw"Cannot tween a null target.";this.target=e=typeof e!="string"?e:C.selector(e)||e;var r=e.jquery||e.length&&e[0]&&e[0].nodeType&&e[0].style&&!e.nodeType,s=this.vars.overwrite,o,u,a;this._overwrite=s=s==null?P[C.defaultOverwrite]:typeof s=="number"?s>>0:P[s];if((r||e instanceof Array)&&typeof e[0]!="number"){this._targets=a=i.call(e,0),this._propLookup=[],this._siblings=[];for(o=0;o<a.length;o++){u=a[o];if(!u){a.splice(o--,1);continue}if(typeof u=="string"){u=a[o--]=C.selector(u),typeof u=="string"&&a.splice(o+1,1);continue}if(u.length&&u[0]&&u[0].nodeType&&u[0].style&&!u.nodeType){a.splice(o--,1),this._targets=a=a.concat(i.call(u,0));continue}this._siblings[o]=j(u,this,!1),s===1&&this._siblings[o].length>1&&F(u,this,null,1,this._siblings[o])}}else this._propLookup={},this._siblings=j(e,this,!1),s===1&&this._siblings.length>1&&F(e,this,null,1,this._siblings);(this.vars.immediateRender||t===0&&this._delay===0&&this.vars.immediateRender!==!1)&&this.render(-this._delay,!1,!0)},!0),k=function(e){return e.length&&e[0]&&e[0].nodeType&&e[0].style&&!e.nodeType},L=function(e,t){var n={},r;for(r in e)!D[r]&&(!(r in t)||r==="x"||r==="y"||r==="width"||r==="height"||r==="className")&&(!O[r]||O[r]&&O[r]._autoCSS)&&(n[r]=e[r],delete e[r]);e.css=n};a=C.prototype=new T,a.constructor=C,a.kill()._gc=!1,a.ratio=0,a._firstPT=a._targets=a._overwrittenProps=a._startAt=null,a._notifyPluginsOfEnabled=!1,C.version="1.9.8",C.defaultEase=a._ease=new g(null,null,1,1),C.defaultOverwrite="auto",C.ticker=f,C.autoSleep=!0,C.selector=e.$||e.jQuery||function(t){return e.$?(C.selector=e.$,e.$(t)):e.document?e.document.getElementById(t.charAt(0)==="#"?t.substr(1):t):t};var A=C._internals={},O=C._plugins={},M=C._tweenLookup={},_=0,D=A.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},P={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},H=T._rootFramesTimeline=new N,B=T._rootTimeline=new N;B._startTime=f.time,H._startTime=f.frame,B._active=H._active=!0,T._updateRoot=function(){B.render((f.time-B._startTime)*B._timeScale,!1,!1),H.render((f.frame-H._startTime)*H._timeScale,!1,!1);if(!(f.frame%120)){var e,t,n;for(n in M){t=M[n].tweens,e=t.length;while(--e>-1)t[e]._gc&&t.splice(e,1);t.length===0&&delete M[n]}n=B._first;if(!n||n._paused)if(C.autoSleep&&!H._first&&f._listeners.tick.length===1){while(n&&n._paused)n=n._next;n||f.sleep()}}},f.addEventListener("tick",T._updateRoot);var j=function(e,t,n){var r=e._gsTweenID,i,s;M[r||(e._gsTweenID=r="t"+_++)]||(M[r]={target:e,tweens:[]});if(t){i=M[r].tweens,i[s=i.length]=t;if(n)while(--s>-1)i[s]===t&&i.splice(s,1)}return M[r].tweens},F=function(e,t,n,r,i){var s,o,u,a;if(r===1||r>=4){a=i.length;for(s=0;s<a;s++)if((u=i[s])!==t)u._gc||u._enabled(!1,!1)&&(o=!0);else if(r===5)break;return o}var f=t._startTime+1e-10,l=[],c=0,h=t._duration===0,p;s=i.length;while(--s>-1)(u=i[s])!==t&&!u._gc&&!u._paused&&(u._timeline!==t._timeline?(p=p||I(t,0,h),I(u,p,h)===0&&(l[c++]=u)):u._startTime<=f&&u._startTime+u.totalDuration()/u._timeScale+1e-10>f&&((h||!u._initted)&&f-u._startTime<=2e-10||(l[c++]=u)));s=c;while(--s>-1)u=l[s],r===2&&u._kill(n,e)&&(o=!0),(r!==2||!u._firstPT&&u._initted)&&u._enabled(!1,!1)&&(o=!0);return o},I=function(e,t,n){var r=e._timeline,i=r._timeScale,s=e._startTime,o=1e-10;while(r._timeline){s+=r._startTime,i*=r._timeScale;if(r._paused)return-100;r=r._timeline}return s/=i,s>t?s-t:n&&s===t||!e._initted&&s-t<2*o?o:(s+=e.totalDuration()/e._timeScale/i)>t+o?0:s-t-o};a._init=function(){var e=this.vars,t=this._overwrittenProps,n=this._duration,r=e.ease,i,s,o,u;if(e.startAt){e.startAt.overwrite=0,e.startAt.immediateRender=!0,this._startAt=C.to(this.target,0,e.startAt);if(e.immediateRender){this._startAt=null;if(this._time===0&&n!==0)return}}else if(e.runBackwards&&e.immediateRender&&n!==0)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else if(this._time===0){o={};for(u in e)if(!D[u]||u==="autoCSS")o[u]=e[u];o.overwrite=0,this._startAt=C.to(this.target,0,o);return}r?r instanceof g?this._ease=e.easeParams instanceof Array?r.config.apply(r,e.easeParams):r:this._ease=typeof r=="function"?new g(r,e.easeParams):y[r]||C.defaultEase:this._ease=C.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null;if(this._targets){i=this._targets.length;while(--i>-1)this._initProps(this._targets[i],this._propLookup[i]={},this._siblings[i],t?t[i]:null)&&(s=!0)}else s=this._initProps(this.target,this._propLookup,this._siblings,t);s&&C._onPluginEvent("_onInitAllProps",this),t&&(this._firstPT||typeof this.target!="function"&&this._enabled(!1,!1));if(e.runBackwards){o=this._firstPT;while(o)o.s+=o.c,o.c=-o.c,o=o._next}this._onUpdate=e.onUpdate,this._initted=!0},a._initProps=function(e,t,n,r){var i,s,o,u,a,f,l;if(e==null)return!1;this.vars.css||e.style&&e.nodeType&&O.css&&this.vars.autoCSS!==!1&&L(this.vars,e);for(i in this.vars){if(D[i]){if(i==="onStartParams"||i==="onUpdateParams"||i==="onCompleteParams"||i==="onReverseCompleteParams"||i==="onRepeatParams")if(a=this.vars[i]){s=a.length;while(--s>-1)a[s]==="{self}"&&(a=this.vars[i]=a.concat(),a[s]=this)}}else if(O[i]&&(u=new O[i])._onInitTween(e,this.vars[i],this)){this._firstPT=f={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:!0,n:i,pg:!0,pr:u._priority},s=u._overwriteProps.length;while(--s>-1)t[u._overwriteProps[s]]=this._firstPT;if(u._priority||u._onInitAllProps)o=!0;if(u._onDisable||u._onEnable)this._notifyPluginsOfEnabled=!0}else this._firstPT=t[i]=f={_next:this._firstPT,t:e,p:i,f:typeof e[i]=="function",n:i,pg:!1,pr:0},f.s=f.f?e[i.indexOf("set")||typeof e["get"+i.substr(3)]!="function"?i:"get"+i.substr(3)]():parseFloat(e[i]),l=this.vars[i],f.c=typeof l=="string"&&l.charAt(1)==="="?parseInt(l.charAt(0)+"1",10)*Number(l.substr(2)):Number(l)-f.s||0;f&&f._next&&(f._next._prev=f)}return r&&this._kill(r,e)?this._initProps(e,t,n,r):this._overwrite>1&&this._firstPT&&n.length>1&&F(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,r)):o},a.render=function(e,t,n){var r=this._time,i,s,o;if(e>=this._duration)this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,s="onComplete"),this._duration===0&&((e===0||this._rawPrevTime<0)&&this._rawPrevTime!==e&&(n=!0,this._rawPrevTime>0&&(s="onReverseComplete",t&&(e=-1))),this._rawPrevTime=e);else if(e<1e-7){this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0;if(r!==0||this._duration===0&&this._rawPrevTime>0)s="onReverseComplete",i=this._reversed;e<0?(this._active=!1,this._duration===0&&(this._rawPrevTime>=0&&(n=!0),this._rawPrevTime=e)):this._initted||(n=!0)}else{this._totalTime=this._time=e;if(this._easeType){var u=e/this._duration,a=this._easeType,f=this._easePower;if(a===1||a===3&&u>=.5)u=1-u;a===3&&(u*=2),f===1?u*=u:f===2?u*=u*u:f===3?u*=u*u*u:f===4&&(u*=u*u*u*u),a===1?this.ratio=1-u:a===2?this.ratio=u:e/this._duration<.5?this.ratio=u/2:this.ratio=1-u/2}else this.ratio=this._ease.getRatio(e/this._duration)}if(this._time===r&&!n)return;if(!this._initted){this._init();if(!this._initted)return;this._time&&!i?this.ratio=this._ease.getRatio(this._time/this._duration):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(this._time===0?0:1))}this._active||this._paused||(this._active=!0),r===0&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):s||(s="_dummyGS")),this.vars.onStart&&(this._time!==0||this._duration===0)&&(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||m))),o=this._firstPT;while(o)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(e<0&&this._startAt&&this._startAt.render(e,t,n),t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||m)),s&&(this._gc||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,t,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this.vars[s].apply(this.vars[s+"Scope"]||this,this.vars[s+"Params"]||m)))},a._kill=function(e,t){e==="all"&&(e=null);if(e==null)if(t==null||t===this.target)return this._enabled(!1,!1);t=typeof t!="string"?t||this._targets||this.target:C.selector(t)||t;var n,r,i,s,o,u,a,f;if((t instanceof Array||k(t))&&typeof t[0]!="number"){n=t.length;while(--n>-1)this._kill(e,t[n])&&(u=!0)}else{if(this._targets){n=this._targets.length;while(--n>-1)if(t===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=e?this._overwrittenProps[n]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){a=e||o,f=e!==r&&r!=="all"&&e!==o&&(e==null||e._tempKill!==!0);for(i in a){if(s=o[i]){s.pg&&s.t._kill(a)&&(u=!0);if(!s.pg||s.t._overwriteProps.length===0)s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null;delete o[i]}f&&(r[i]=1)}!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},a.invalidate=function(){return this._notifyPluginsOfEnabled&&C._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},a._enabled=function(e,t){l||f.wake();if(e&&this._gc){var n=this._targets,r;if(n){r=n.length;while(--r>-1)this._siblings[r]=j(n[r],this,!0)}else this._siblings=j(this.target,this,!0)}return T.prototype._enabled.call(this,e,t),this._notifyPluginsOfEnabled&&this._firstPT?C._onPluginEvent(e?"_onEnable":"_onDisable",this):!1},C.to=function(e,t,n){return new C(e,t,n)},C.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=n.immediateRender!=0,new C(e,t,n)},C.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=r.immediateRender!=0&&n.immediateRender!=0,new C(e,t,r)},C.delayedCall=function(e,t,n,r,i){return new C(t,0,{delay:e,onComplete:t,onCompleteParams:n,onCompleteScope:r,onReverseComplete:t,onReverseCompleteParams:n,onReverseCompleteScope:r,immediateRender:!1,useFrames:i,overwrite:0})},C.set=function(e,t){return new C(e,0,t)},C.killTweensOf=C.killDelayedCallsTo=function(e,t){var n=C.getTweensOf(e),r=n.length;while(--r>-1)n[r]._kill(t,e)},C.getTweensOf=function(e){if(e==null)return[];e=typeof e!="string"?e:C.selector(e)||e;var t,n,r,i;if((e instanceof Array||k(e))&&typeof e[0]!="number"){t=e.length,n=[];while(--t>-1)n=n.concat(C.getTweensOf(e[t]));t=n.length;while(--t>-1){i=n[t],r=t;while(--r>-1)i===n[r]&&n.splice(t,1)}}else{n=j(e).concat(),t=n.length;while(--t>-1)n[t]._gc&&n.splice(t,1)}return n};var q=d("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=q.prototype},!0);a=q.prototype,q.version="1.9.1",q.API=2,a._firstPT=null,a._addTween=function(e,t,n,r,i,s){var o,u;r!=null&&(o=typeof r=="number"||r.charAt(1)!=="="?Number(r)-n:parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)))&&(this._firstPT=u={_next:this._firstPT,t:e,p:t,s:n,c:o,f:typeof e[t]=="function",n:i||t,r:s},u._next&&(u._next._prev=u))},a.setRatio=function(e){var t=this._firstPT,n=1e-6,r;while(t)r=t.c*e+t.s,t.r?r=r+(r>0?.5:-0.5)>>0:r<n&&r>-n&&(r=0),t.f?t.t[t.p](r):t.t[t.p]=r,t=t._next},a._kill=function(e){var t=this._overwriteProps,n=this._firstPT,r;if(e[this._propName]!=null)this._overwriteProps=[];else{r=t.length;while(--r>-1)e[t[r]]!=null&&t.splice(r,1)}while(n)e[n.n]!=null&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},a._roundProps=function(e,t){var n=this._firstPT;while(n){if(e[this._propName]||n.n!=null&&e[n.n.split(this._propName+"_").join("")])n.r=t;n=n._next}},C._onPluginEvent=function(e,t){var n=t._firstPT,r,i,s,o,u;if(e==="_onInitAllProps"){while(n){u=n._next,i=s;while(i&&i.pr>n.pr)i=i._next;(n._prev=i?i._prev:o)?n._prev._next=n:s=n,(n._next=i)?i._prev=n:o=n,n=u}n=t._firstPT=s}while(n)n.pg&&typeof n.t[e]=="function"&&n.t[e]()&&(r=!0),n=n._next;return r},q.activate=function(e){var t=e.length;while(--t>-1)e[t].API===q.API&&(O[(new e[t])._propName]=e[t]);return!0},p.plugin=function(e){if(!e||!e.propName||!e.init||!e.API)throw"illegal plugin definition.";var t=e.propName,n=e.priority||0,r=e.overwriteProps,i={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},s=d("plugins."+t.charAt(0).toUpperCase()+t.substr(1)+"Plugin",function(){q.call(this,t,n),this._overwriteProps=r||[]},e.global===!0),o=s.prototype=new q(t),u;o.constructor=s,s.API=e.API;for(u in i)typeof e[u]=="function"&&(o[i[u]]=e[u]);return s.version=e.version,q.activate([s]),s},o=e._gsQueue;if(o){for(u=0;u<o.length;u++)o[u]();for(a in c)c[a].func||e.console.log("GSAP encountered missing dependency: com.greensock."+a)}l=!1}(window),define("TweenMax",function(e){return function(){var t,n;return t||e.TweenMax}}(this)),(window._gsQueue||(window._gsQueue=[])).push(function(){var e=document.documentElement,t=window,n=function(n,r){var i=r==="x"?"Width":"Height",s="scroll"+i,o="client"+i,u=document.body;return n===t||n===e||n===u?Math.max(e[s],u[s])-Math.max(e[o],u[o]):n[s]-n["offset"+i]},r=window._gsDefine.plugin({propName:"scrollTo",API:2,init:function(e,r,i){return this._wdw=e===t,this._target=e,this._tween=i,typeof r!="object"&&(r={y:r}),this._autoKill=r.autoKill!==!1,this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),r.x!=null?this._addTween(this,"x",this.x,r.x==="max"?n(e,"x"):r.x,"scrollTo_x",!0):this.skipX=!0,r.y!=null?this._addTween(this,"y",this.y,r.y==="max"?n(e,"y"):r.y,"scrollTo_y",!0):this.skipY=!0,!0},set:function(e){this._super.setRatio.call(this,e);var n=this._wdw||!this.skipX?this.getX():this.xPrev,r=this._wdw||!this.skipY?this.getY():this.yPrev,i=r-this.yPrev,s=n-this.xPrev;this._autoKill&&(!this.skipX&&(s>7||s<-7)&&(this.skipX=!0),!this.skipY&&(i>7||i<-7)&&(this.skipY=!0),this.skipX&&this.skipY&&this._tween.kill()),this._wdw?t.scrollTo(this.skipX?n:this.x,this.skipY?r:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),i=r.prototype;r.max=n,i.getX=function(){return this._wdw?t.pageXOffset!=null?t.pageXOffset:e.scrollLeft!=null?e.scrollLeft:document.body.scrollLeft:this._target.scrollLeft},i.getY=function(){return this._wdw?t.pageYOffset!=null?t.pageYOffset:e.scrollTop!=null?e.scrollTop:document.body.scrollTop:this._target.scrollTop},i._kill=function(e){return e.scrollTo_x&&(this.skipX=!0),e.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,e)}}),window._gsDefine&&window._gsQueue.pop()(),define("ScrollTo",function(){}),function(e){e.breakpoint={els:e(),init:!1},e.fn.breakpoint=function(){return e.breakpoint.els=e.breakpoint.els.add(this),e.breakpoint.init||e(window).on("resize.breakpoint",function(){e.breakpoint.els.trigger("swapres.breakpoint")}),this.each(function(){var t=e(this);maxWidths=[],minWidths=[],src=t.attr("src"),split=src.lastIndexOf("/"),dir=src.substr(0,split),parts=src.substr(split).split("."),ext=parts.pop(),mediaQuery=parts.pop(),name=parts.join("."),name||(name=mediaQuery);var n=t.attr("class").split(" ");t.data("name",dir+name),t.data("ext",ext);var r=!1;"maxwidth720px"in t.data()&&(n=t.data(),r=!0),e.each(n,function(e,n){var i=r?e:n;if(i&&(i.toLowerCase().indexOf("maxwidth")===0||i.toLowerCase().indexOf("minwidth")===0)){r||(i=i.replace(/\s/g,""));var s=i.substring(3).match(/\d+/g);if(s.length===1){var o={key:i,type:i.toLowerCase().indexOf("max")===0?"max":"min",width:s[0]};o.type==="max"?maxWidths.push(o):minWidths.push(o),i===mediaQuery&&t.data(o.key,src)}}}),minWidths.sort(function(e,t){return e.width-t.width}),maxWidths.sort(function(e,t){return t.width-e.width}),t.on("swapres.breakpoint",function(){if(maxWidths.length>0||minWidths.length>0){var n=e(window).width(),r=null;e.each(maxWidths,function(e,t){n<=t.width&&(r=t)}),e.each(minWidths,function(e,t){n>=t.width&&(r=t)});if(r!==null)if(t.data(r.key))t.attr("src",t.data(r.key));else{var i=t.data("name")+"."+r.key+"."+t.data("ext");i.indexOf("undefined")<0&&(e.support.cors?e.get(i,function(){t.attr("src",i),t.data(r.key,i)}):(t.attr("src",i),t.data(r.key,i)))}else t.attr("src",t.data("src"))}else t.attr("src",t.data("src"))}).trigger("swapres.breakpoint")})}}(jQuery),define("breakpoint",function(){}),function(e){var t="0.9.3",n={isMsie:function(){var e=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return e?parseInt(e[2],10):!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return typeof e=="string"},isNumber:function(e){return typeof e=="number"},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return typeof e=="undefined"},bind:e.proxy,bindAll:function(t){var n;for(var r in t)e.isFunction(n=t[r])&&(t[r]=e.proxy(n,t))},indexOf:function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},each:e.each,map:e.map,filter:e.grep,every:function(t,n){var r=!0;return t?(e.each(t,function(e,i){if(!(r=n.call(null,i,e,t)))return!1}),!!r):r},some:function(t,n){var r=!1;return t?(e.each(t,function(e,i){if(r=n.call(null,i,e,t))return!1}),!!r):r},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var s=this,o=arguments,u,a;return u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r,clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},throttle:function(e,t){var n,r,i,s,o,u;return o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)},function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,f<=0?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},tokenizeQuery:function(t){return e.trim(t).toLowerCase().split(/[\s]+/)},tokenizeText:function(t){return e.trim(t).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},r=function(){var e=/\s+/;return{on:function(t,n){var r;if(!n)return this;this._callbacks=this._callbacks||{},t=t.split(e);while(r=t.shift())this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push(n);return this},trigger:function(t,n){var r,i;if(!this._callbacks)return this;t=t.split(e);while(r=t.shift())if(i=this._callbacks[r])for(var s=0;s<i.length;s+=1)i[s].call(this,{type:r,data:n});return this}}}(),i=function(){function r(t){(!t||!t.el)&&e.error("EventBus initialized without el"),this.$el=e(t.el)}var t="typeahead:";return n.mixin(r.prototype,{trigger:function(e){var n=[].slice.call(arguments,1);this.$el.trigger(t+e,n)}}),r}(),s=function(){function i(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function s(){return(new Date).getTime()}function o(e){return JSON.stringify(n.isUndefined(e)?null:e)}function u(e){return JSON.parse(e)}var e,t;try{e=window.localStorage,e.setItem("~~~","!"),e.removeItem("~~~")}catch(r){e=null}return e&&window.JSON?t={_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),u(e.getItem(this._prefix(t)))},set:function(t,r,i){return n.isNumber(i)?e.setItem(this._ttlKey(t),o(s()+i)):e.removeItem(this._ttlKey(t)),e.setItem(this._prefix(t),o(r))},remove:function(t){return e.removeItem(this._ttlKey(t)),e.removeItem(this._prefix(t)),this},clear:function(){var t,n,r=[],i=e.length;for(t=0;t<i;t++)(n=e.key(t)).match(this.keyMatcher)&&r.push(n.replace(this.keyMatcher,""));for(t=r.length;t--;)this.remove(r[t]);return this},isExpired:function(t){var r=u(e.getItem(this._ttlKey(t)));return n.isNumber(r)&&s()>r?!0:!1}}:t={get:n.noop,set:n.noop,remove:n.noop,clear:n.noop,isExpired:n.noop},n.mixin(i.prototype,t),i}(),o=function(){function e(e){n.bindAll(this),e=e||{},this.sizeLimit=e.sizeLimit||10,this.cache={},this.cachedKeysByAge=[]}return n.mixin(e.prototype,{get:function(e){return this.cache[e]},set:function(e,t){var n;this.cachedKeysByAge.length===this.sizeLimit&&(n=this.cachedKeysByAge.shift(),delete this.cache[n]),this.cache[e]=t,this.cachedKeysByAge.push(e)}}),e}(),u=function(){function u(e){n.bindAll(this),e=n.isString(e)?{url:e}:e,s=s||new o,i=n.isNumber(e.maxParallelRequests)?e.maxParallelRequests:i||6,this.url=e.url,this.wildcard=e.wildcard||"%QUERY",this.filter=e.filter,this.replace=e.replace,this.ajaxSettings={type:"get",cache:e.cache,timeout:e.timeout,dataType:e.dataType||"json",beforeSend:e.beforeSend},this._get=(/^throttle$/i.test(e.rateLimitFn)?n.throttle:n.debounce)(this._get,e.rateLimitWait||300)}function a(){t++}function f(){t--}function l(){return t<i}var t=0,r={},i,s;return n.mixin(u.prototype,{_get:function(e,t){function r(r){var i=n.filter?n.filter(r):r;t&&t(i),s.set(e,r)}var n=this;l()?this._sendRequest(e).done(r):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(t){function s(){f(),r[t]=null,n.onDeckRequestArgs&&(n._get.apply(n,n.onDeckRequestArgs),n.onDeckRequestArgs=null)}var n=this,i=r[t];return i||(a(),i=r[t]=e.ajax(t,this.ajaxSettings).always(s)),i},get:function(e,t){var r=this,i=encodeURIComponent(e||""),o,u;return t=t||n.noop,o=this.replace?this.replace(this.url,i):this.url.replace(this.wildcard,i),(u=s.get(o))?n.defer(function(){t(r.filter?r.filter(u):u)}):this._get(o,t),!!u}}),u}(),a=function(){function i(t){n.bindAll(this),n.isString(t.template)&&!t.engine&&e.error("no template engine specified"),!t.local&&!t.prefetch&&!t.remote&&e.error("one of local, prefetch, or remote is required"),this.name=t.name||n.getUniqueId(),this.limit=t.limit||5,this.minLength=t.minLength||1,this.header=t.header,this.footer=t.footer,this.valueKey=t.valueKey||"value",this.template=o(t.template,t.engine,this.valueKey),this.local=t.local,this.prefetch=t.prefetch,this.remote=t.remote,this.itemHash={},this.adjacencyList={},this.storage=t.name?new s(t.name):null}function o(e,t,r){var i,s;return n.isFunction(e)?i=e:n.isString(e)?(s=t.compile(e),i=n.bind(s.render,s)):i=function(e){return"<p>"+e[r]+"</p>"},i}var r={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};return n.mixin(i.prototype,{_processLocalData:function(e){this._mergeProcessedData(this._processData(e))},_loadPrefetchData:function(i){function p(e){var t=i.filter?i.filter(e):e,u=s._processData(t),a=u.itemHash,f=u.adjacencyList;s.storage&&(s.storage.set(r.itemHash,a,i.ttl),s.storage.set(r.adjacencyList,f,i.ttl),s.storage.set(r.thumbprint,o,i.ttl),s.storage.set(r.protocol,n.getProtocol(),i.ttl)),s._mergeProcessedData(u)}var s=this,o=t+(i.thumbprint||""),u,a,f,l,c,h;return this.storage&&(u=this.storage.get(r.thumbprint),a=this.storage.get(r.protocol),f=this.storage.get(r.itemHash),l=this.storage.get(r.adjacencyList)),c=u!==o||a!==n.getProtocol(),i=n.isString(i)?{url:i}:i,i.ttl=n.isNumber(i.ttl)?i.ttl:864e5,f&&l&&!c?(this._mergeProcessedData({itemHash:f,adjacencyList:l}),h=e.Deferred().resolve()):h=e.getJSON(i.url).done(p),h},_transformDatum:function(e){var t=n.isString(e)?e:e[this.valueKey],r=e.tokens||n.tokenizeText(t),i={value:t,tokens:r};return n.isString(e)?(i.datum={},i.datum[this.valueKey]=e):i.datum=e,i.tokens=n.filter(i.tokens,function(e){return!n.isBlankString(e)}),i.tokens=n.map(i.tokens,function(e){return e.toLowerCase()}),i},_adjustForAccent:function(e){return e.toLowerCase().replace(/é/g,"e")},_processData:function(e){var t=this,r={},i={};return n.each(e,function(e,s){var o=t._transformDatum(s),u=n.getUniqueId(o.value);r[u]=o,n.each(o.tokens,function(e,r){~r.indexOf("é")&&o.tokens.push(t._adjustForAccent(r));var s=r.charAt(0),a=i[s]||(i[s]=[u]);!~n.indexOf(a,u)&&a.push(u)})}),{itemHash:r,adjacencyList:i}},_mergeProcessedData:function(e){var t=this;n.mixin(this.itemHash,e.itemHash),n.each(e.adjacencyList,function(e,n){var r=t.adjacencyList[e];t.adjacencyList[e]=r?r.concat(n):n})},_getLocalSuggestions:function(e){var t=this,r=[],i=[],s,o=[];return n.each(e,function(e,t){var i=t.charAt(0);!~n.indexOf(r,i)&&r.push(i)}),n.each(r,function(e,n){var r=t.adjacencyList[n];if(!r)return!1;i.push(r);if(!s||r.length<s.length)s=r}),i.length<r.length?[]:(n.each(s,function(r,s){var u=t.itemHash[s],a,f;a=n.every(i,function(e){return~n.indexOf(e,s)}),f=a&&n.every(e,function(e){return n.some(u.tokens,function(t){return t.indexOf(e)===0})}),f&&o.push(u)}),o=o.sort(function(n,r){var i=t._adjustForAccent(e.join(" "));return n=t._adjustForAccent(n.value),r=t._adjustForAccent(r.value),n.indexOf(i)-r.indexOf(i)}),o)},initialize:function(){var t;return this.local&&this._processLocalData(this.local),this.transport=this.remote?new u(this.remote):null,t=this.prefetch?this._loadPrefetchData(this.prefetch):e.Deferred().resolve(),this.local=this.prefetch=this.remote=null,this.initialize=function(){return t},t},getSuggestions:function(e,t){function u(e){s=s.slice(0),n.each(e,function(e,t){var i=r._transformDatum(t),o;return o=n.some(s,function(e){return i.value===e.value}),!o&&s.push(i),s.length<r.limit}),t&&t(s)}var r=this,i,s,o=!1;if(e.length<this.minLength)return;i=n.tokenizeQuery(e),s=this._getLocalSuggestions(i).slice(0,this.limit),s.length<this.limit&&this.transport&&(o=this.transport.get(e,u)),!o&&t&&t(s)}}),i}(),f=function(){function t(t){var r=this;n.bindAll(this),this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},this.$hint=e(t.hint),this.$input=e(t.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent),n.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){if(r.specialKeyCodeMap[e.which||e.keyCode])return;n.defer(r._compareQueryToInputValue)}):this.$input.on("input.tt",this._compareQueryToInputValue),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(t){return e("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function s(e,t){return e=(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),t=(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),e===t}return n.mixin(t.prototype,r,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(e){var t=this.specialKeyCodeMap[e.which||e.keyCode];t&&this.trigger(t+"Keyed",e)},_compareQueryToInputValue:function(){var e=this.getInputValue(),t=s(this.query,e),n=t?this.query.length!==e.length:!1;n?this.trigger("whitespaceChanged",{value:this.query}):t||this.trigger("queryChanged",{value:this.query=e})},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(e){this.query=e},getInputValue:function(){return this.$input.val()},setInputValue:function(e,t){this.$input.val(e),!t&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(e){this.$hint.val(e)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var e=this.$input.val().length,t=this.$input[0].selectionStart,r;return n.isNumber(t)?t===e:document.selection?(r=document.selection.createRange(),r.moveStart("character",-e),e===r.text.length):!0}}),t}(),l=function(){function s(t){n.bindAll(this),this.isOpen=!1,this.isEmpty=!0,this.isMouseOverDropdown=!1,this.$menu=e(t.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}function o(e){return e.data("suggestion")}var t={suggestionsList:'<span class="tt-suggestions"></span>'},i={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};return n.mixin(s.prototype,r,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(t){var n=e(t.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor"),n.addClass("tt-is-under-cursor")},_handleSelection:function(t){var n=e(t.currentTarget);this.trigger("suggestionSelected",o(n))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(e){var t,n,r,i;if(!this.isVisible())return;t=this._getSuggestions(),n=t.filter(".tt-is-under-cursor"),n.removeClass("tt-is-under-cursor"),r=t.index(n)+e,r=(r+1)%(t.length+1)-1;if(r===-1){this.trigger("cursorRemoved");return}r<-1&&(r=t.length-1),i=t.eq(r).addClass("tt-is-under-cursor"),this._ensureVisibility(i),this.trigger("cursorMoved",o(i))},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(e){var t=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),n=this.$menu.scrollTop(),r=e.position().top,i=r+e.outerHeight(!0);r<0?this.$menu.scrollTop(n+r):t<i&&this.$menu.scrollTop(n+(i-t))},destroy:function(){this.$menu.off(".tt"),this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isOpen=!1,this.isMouseOverDropdown=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(e){var t={left:"0",right:"auto"},n={left:"auto",right:" 0"};e==="ltr"?this.$menu.css(t):this.$menu.css(n)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var e=this._getSuggestions().filter(".tt-is-under-cursor").first();return e.length>0?o(e):null},getFirstSuggestion:function(){var e=this._getSuggestions().first();return e.length>0?o(e):null},renderSuggestions:function(r,s){var o="tt-dataset-"+r.name,u='<div class="tt-suggestion">%body</div>',a,f,l=this.$menu.find("."+o),c,h,p;l.length===0&&(f=e(t.suggestionsList).css(i.suggestionsList),l=e("<div></div>").addClass(o).append(r.header).append(f).append(r.footer).appendTo(this.$menu)),s.length>0?(this.isEmpty=!1,this.isOpen&&this._show(),c=document.createElement("div"),h=document.createDocumentFragment(),n.each(s,function(t,n){n.dataset=r.name,a=r.template(n.datum),c.innerHTML=u.replace("%body",a),p=e(c.firstChild).css(i.suggestion).data("suggestion",n),p.children().each(function(){e(this).css(i.suggestionChild)}),h.appendChild(p[0])}),l.show().find(".tt-suggestions").html(h)):this.clearSuggestions(r.name),this.trigger("suggestionsRendered")},clearSuggestions:function(e){var t=e?this.$menu.find(".tt-dataset-"+e):this.$menu.find('[class^="tt-dataset-"]'),n=t.find(".tt-suggestions");t.hide(),n.empty(),this._getSuggestions().length===0&&(this.isEmpty=!0,this._hide())}}),s}(),c=function(){function s(e){var t,r,i;n.bindAll(this),this.$node=o(e.input),this.datasets=e.datasets,this.dir=null,this.eventBus=e.eventBus,t=this.$node.find(".tt-dropdown-menu"),r=this.$node.find(".tt-query"),i=this.$node.find(".tt-hint"),this.dropdownView=(new l({menu:t})).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent),this.inputView=(new f({input:r,hint:i})).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}function o(n){var r=e(t.wrapper),s=e(t.dropdown),o=e(n),u=e(t.hint);r=r.css(i.wrapper),s=s.css(i.dropdown),u.css(i.hint).css({backgroundAttachment:o.css("background-attachment"),backgroundClip:o.css("background-clip"),backgroundColor:o.css("background-color"),backgroundImage:o.css("background-image"),backgroundOrigin:o.css("background-origin"),backgroundPosition:o.css("background-position"),backgroundRepeat:o.css("background-repeat"),backgroundSize:o.css("background-size")}),o.data("ttAttrs",{dir:o.attr("dir"),autocomplete:o.attr("autocomplete"),spellcheck:o.attr("spellcheck"),style:o.attr("style")}),o.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(i.query);try{!o.attr("dir")&&o.attr("dir","auto")}catch(a){}return o.wrap(r).parent().prepend(u).append(s)}function u(e){var t=e.find(".tt-query");n.each(t.data("ttAttrs"),function(e,r){n.isUndefined(r)?t.removeAttr(e):t.attr(e,r)}),t.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(e),e.remove()}var t={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},i={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};return n.isMsie()&&n.mixin(i.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),n.isMsie()&&n.isMsie()<=7&&(n.mixin(i.wrapper,{display:"inline",zoom:"1"}),n.mixin(i.query,{marginTop:"-1px"})),n.mixin(s.prototype,r,{_managePreventDefault:function(e){var t=e.data,n,r,i=!1;switch(e.type){case"tabKeyed":n=this.inputView.getHintValue(),r=this.inputView.getInputValue(),i=n&&n!==r;break;case"upKeyed":case"downKeyed":i=!t.shiftKey&&!t.ctrlKey&&!t.metaKey}i&&t.preventDefault()},_setLanguageDirection:function(){var e=this.inputView.getLanguageDirection();e!==this.dir&&(this.dir=e,this.$node.css("direction",e),this.dropdownView.setLanguageDirection(e))},_updateHint:function(){var e=this.dropdownView.getFirstSuggestion(),t=e?e.value:null,r=this.dropdownView.isVisible(),i=this.inputView.isOverflow(),s,o,u,a,f;t&&r&&!i&&(s=this.inputView.getInputValue(),o=s.replace(/\s{2,}/g," ").replace(/^\s+/g,""),u=n.escapeRegExChars(o),a=new RegExp("^(?:"+u+")(.*$)","i"),f=a.exec(t),this.inputView.setHintValue(s+(f?f[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(e){var t=e.data;this.inputView.setInputValue(t.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(e){this.dropdownView[e.type==="blured"?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(e){var t=e.data;!t.shiftKey&&!t.ctrlKey&&!t.metaKey&&this.dropdownView[e.type==="upKeyed"?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(e){var t=e.type==="suggestionSelected",r=t?e.data:this.dropdownView.getSuggestionUnderCursor();r&&(this.inputView.setInputValue(r.value),t?this.inputView.focus():e.data.preventDefault(),t&&n.isMsie()?n.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",r.datum,r.dataset))},_getSuggestions:function(){var e=this,t=this.inputView.getQuery();if(n.isBlankString(t))return;n.each(this.datasets,function(n,r){r.getSuggestions(t,function(n){t===e.inputView.getQuery()&&e.dropdownView.renderSuggestions(r,n)})})},_autocomplete:function(e){var t,n,r,i,s;if(e.type==="rightKeyed"||e.type==="leftKeyed"){t=this.inputView.isCursorAtEnd(),n=this.inputView.getLanguageDirection()==="ltr"?e.type==="leftKeyed":e.type==="rightKeyed";if(!t||n)return}r=this.inputView.getQuery(),i=this.inputView.getHintValue(),i!==""&&r!==i&&(s=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(s.value),this.eventBus.trigger("autocompleted",s.datum,s.dataset))},_propagateEvent:function(e){this.eventBus.trigger(e.type)},destroy:function(){this.inputView.destroy(),this.dropdownView.destroy(),u(this.$node),this.$node=null},setQuery:function(e){this.inputView.setQuery(e),this.inputView.setInputValue(e),this._clearHint(),this._clearSuggestions(),this._getSuggestions()}}),s}();(function(){var t={},r="ttView",s;s={initialize:function(s){function u(){var t=e(this),s,u=new i({el:t});s=n.map(o,function(e){return e.initialize()}),t.data(r,new c({input:t,eventBus:u=new i({el:t}),datasets:o})),e.when.apply(e,s).always(function(){n.defer(function(){u.trigger("initialized")})})}var o;return s=n.isArray(s)?s:[s],s.length===0&&e.error("no datasets provided"),o=n.map(s,function(e){var n=t[e.name]?t[e.name]:new a(e);return e.name&&(t[e.name]=n),n}),this.each(u)},destroy:function(){function t(){var t=e(this),n=t.data(r);n&&(n.destroy(),t.removeData(r))}return this.each(t)},setQuery:function(t){function n(){var n=e(this).data(r);n&&n.setQuery(t)}return this.each(n)}},jQuery.fn.typeahead=function(e){return s[e]?s[e].apply(this,[].slice.call(arguments,1)):s.initialize.apply(this,arguments)}})()}(window.jQuery),define("typeahead",function(){}),function(e){e.fn.noUiSlider=function(t,n){function i(e,t,n){typeof e=="function"&&e.call(t,n)}function o(e,t,n){var r=t.data("setup"),i=r.handles,o=r.settings,u=r.pos;e=e<0?0:e>100?100:e;if(o.handles==2)if(n.is(":first-child")){var a=parseFloat(i[1][0].style[u])-o.margin;e=e>a?a:e}else{var a=parseFloat(i[0][0].style[u])+o.margin;e=e<a?a:e}if(o.step){var f=s.from(o.range,o.step);e=Math.round(e/f)*f}return e}function u(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(t){return["x","y"]}}function a(e,t){return parseFloat(e[0].style[t])}var r=window.navigator.msPointerEnabled?2:"ontouchend"in document?3:1;window.debug&&console&&console.log(r);var s={to:function(e,t){return t=e[0]<0?t+Math.abs(e[0]):t-e[0],t*100/this._length(e)},from:function(e,t){return t*100/this._length(e)},is:function(e,t){return t*this._length(e)/100+e[0]},_length:function(e){return e[0]>e[1]?e[0]-e[1]:e[1]-e[0]}},f={handles:2,serialization:{to:["",""],resolution:.01}};methods={create:function(){return this.each(function(){function n(e,t,n){e.css(v,t+"%").data("input").val(s.is(l.range,t).toFixed(w))}var l=e.extend(f,t),c=null,h="<a><div></div></a>",p=e(this).data("_isnS_",!0),d=[],v,m,g="",y=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},b=(l.serialization.resolution=l.serialization.resolution||.01).toString().split("."),w=b[0]==1?0:b[1].length;l.start=y(l.start)?[l.start,0]:l.start,e.each(l,function(e,t){y(t)?l[e]=parseFloat(t):typeof t=="object"&&y(t[0])&&(t[0]=parseFloat(t[0]),y(t[1])&&(t[1]=parseFloat(t[1])));var n=!1;t=typeof t=="undefined"?"x":t;switch(e){case"range":case"start":n=t.length!=2||!y(t[0])||!y(t[1]);break;case"handles":n=t<1||t>2||!y(t);break;case"connect":n=t!="lower"&&t!="upper"&&typeof t!="boolean";break;case"orientation":n=t!="vertical"&&t!="horizontal";break;case"margin":case"step":n=typeof t!="undefined"&&!y(t);break;case"serialization":n=typeof t!="object"||!y(t.resolution)||typeof t.to=="object"&&t.to.length<l.handles;break;case"slide":n=typeof t!="function"}n&&console&&console.error("Bad input for "+e+" on slider:",p)}),l.margin=l.margin?s.from(l.range,l.margin):0;if(l.serialization.to instanceof jQuery||typeof l.serialization.to=="string"||l.serialization.to===!1)l.serialization.to=[l.serialization.to];l.orientation=="vertical"?(g+="vertical",v="top",m=1):(g+="horizontal",v="left",m=0),g+=l.connect?l.connect=="lower"?" connect lower":" connect":"",p.addClass(g);for(var E=0;E<l.handles;E++){d[E]=p.append(h).children(":last");var S=s.to(l.range,l.start[E]);d[E].css(v,S+"%"),S==100&&d[E].is(":first-child")&&d[E].css("z-index",2);if(document["documentMode"]==11)var x={down:"pointerdown",move:"pointermove",up:"pointerup"};else var x={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp"};var T=".noUiSlider",N=(r===1?"mousedown":r===2?x.down:"touchstart")+T+"X",C=(r===1?"mousemove":r===2?x.move:"touchmove")+T,k=(r===1?"mouseup":r===2?x.up:"touchend")+T;d[E].find("div").on(N,function(t){e("body").bind("selectstart"+T,function(){return!1});if(!p.hasClass("disabled")){e("body").addClass("TOUCH");var n;d.length==2&&c&&d[0].offset().left==d[1].offset().left?n=c:n=e(this).addClass("active").parent();var r=n.add(e(document)).add("body"),a=parseFloat(n[0].style[v]),f=u(t),h=f,g=!1;c=n,e(document).on(C,function(e){e.preventDefault();var t=u(e);if(t[0]=="x")return;t[0]-=f[0],t[1]-=f[1];var r=[h[0]!=t[0],h[1]!=t[1]],c=a+t[m]*100/(m?p.height():p.width());c=o(c,p,n),r[m]&&c!=g&&(n.css(v,c+"%").data("input").val(s.is(l.range,c).toFixed(w)),i(l.slide,p.data("_n",!0)),g=c,n.css("z-index",d.length==2&&c==100&&n.is(":first-child")?2:1)),h=t}).on(k,function(){r.off(T),e("body").removeClass("TOUCH"),p.find(".active").removeClass("active").end().data("_n")&&p.data("_n",!1).change()})}}).on("click",function(e){e.stopPropagation()})}r==1&&p.on("click",function(e){if(!p.hasClass("disabled")){var t=u(e),r=(t[m]-p.offset()[v])*100/(m?p.height():p.width()),s=d.length>1?t[m]<(d[0].offset()[v]+d[1].offset()[v])/2?d[0]:d[1]:d[0];n(s,o(r,p,s),p),i(l.slide,p),p.change()}});for(var E=0;E<d.length;E++){var L=s.is(l.range,a(d[E],v)).toFixed(w);typeof l.serialization.to[E]=="string"?d[E].data("input",p.append('<input type="hidden" name="'+l.serialization.to[E]+'">').find("input:last").val(L).change(function(e){e.stopPropagation()})):l.serialization.to[E]==0?d[E].data("input",{val:function(e){if(typeof e=="undefined")return this.handle.data("noUiVal");this.handle.data("noUiVal",e)},handle:d[E]}):d[E].data("input",l.serialization.to[E].data("handleNR",E).val(L).change(function(){var t=[null,null];t[e(this).data("handleNR")]=e(this).val(),p.val(t)}))}e(this).data("setup",{settings:l,handles:d,pos:v,res:w})})},val:function(){var t=e(this).data("setup");if(typeof arguments[0]!="undefined"){var n=typeof arguments[0]=="number"?[arguments[0]]:arguments[0];return this.each(function(){for(var r=0;r<t.handles.length;r++)if(n[r]!=null){var i=o(s.to(t.settings.range,n[r]),e(this),t.handles[r]);t.handles[r].css(t.pos,i+"%").data("input").val(s.is(t.settings.range,i).toFixed(t.res))}}),i(t.settings.set,this),this}var r=t.handles,u=[];for(var a=0;a<r.length;a++)u.push(parseFloat(r[a].data("input").val()));return u.length==1?u[0]:u},disabled:function(){return n?e(this).addClass("disabled"):e(this).removeClass("disabled")}};var l=jQuery.fn.val;return jQuery.fn.val=function(){return this.data("_isnS_")?methods.val.apply(this,arguments):l.apply(this,arguments)},t=="disabled"?methods.disabled.apply(this):methods.create.apply(this)}}(window.jQuery),define("nouislider",function(){}),function(e){var t=e({});e.subscribe=function(){t.on.apply(t,arguments)},e.unsubscribe=function(){t.off.apply(t,arguments)},e.publish=function(){t.trigger.apply(t,arguments)}}(jQuery),define("tiny-pubsub",function(){}),define("events/LayoutEvent",["require"],function(e){var t={CHANGE:"layoutChange",RESIZE:"layoutResize",BREAKPOINT:"swapres.breakpoint",ORIENTATION:"orientationChange"};return t}),define("detection/mobileDevice",[],function(){var e=navigator.userAgent||navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk|(?=.*Windows NT)(?=.*Touch)/i,n=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;return t.test(e)||n.test(e.substr(0,4))?!0:!1}),define("views/BaseView",["require","jquery","underscore","backbone"],function(e){var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=r.View.extend({bindUIElements:function(){if(!this.ui)return;this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)},unbindUIElements:function(){if(!this.ui)return;n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings},capitalizeWord:function(e){return e.length?e[0].toUpperCase()+e.slice(1):""}});return i}),define("widgets/Popup",["require","jquery"],function(e){var t=e("jquery"),n=function(e,t){this.$popup=e,this.initPositionTop=e.css("top");if(t)for(var n in t)this[n]=t[n];this._init()};return n.prototype=t.extend(n.prototype,{$popupTriggers:null,$popupCloseBtn:null,$screen:null,$window:t(window),$document:t(document),popupHeight:null,popupWidth:null,useScreen:!1,closePopupOnScreenClick:!0,closePopupOnEsc:!0,popupEasingOpen:"swing",popupEasingClose:"swing",popupAnimationSpeed:300,shouldResizePopup:!0,shouldCenterVertically:!0,_id:null,openPopup:function(){this._addEventHandlers(),this.centerPopup(!0),this._beforePopupOpen(),this._animatePopupOpen(),this._showScreen()},closePopup:function(){this._beforePopupClose(),this._hideScreen(),this._animatePopupClose(),this._removeEventHandlers()},centerPopup:function(e){var n=window.innerWidth?window.innerWidth:this.$window.width(),r=window.innerHeight?window.innerHeight:this.$window.height(),i=this.$popup.outerWidth(),s=this.$popup.outerHeight(),o,u,a,f,l=/matrix\((-?\d*\.?\d+),\s*0,\s*0,\s*(-?\d*\.?\d+),\s*0,\s*0\)/,c=t("body").css("transform").match(l),h=this.$popup.css("transform").match(l);a=this.$popup.css("top"),o=(n-i)*.5,u=(r-s)*.5,f=r-s>0,c&&(c[1]&&c[1]!="0"&&c[1]!="0.0"&&(o/=c[1]),c[2]&&c[2]!="0"&&c[2]!="0.0"&&(u/=c[2])),h&&(h[1]&&(o*=c[1]),h[2]&&(u*=c[2])),this.shouldCenterVertically&&f?a=u:!f&&e&&(a=t(window).scrollTop()+parseInt(this.initPositionTop,10)),this.$popup.css({left:o,top:a,position:f?"fixed":"absolute"})},resizePopup:function(e,t){var n,r;n=e||this.popupWidth||"auto",r=t||this.popupHeight||"auto",this.$popup.css({height:r,width:n})},_init:function(){this.popupWidth||(this.popupWidth=parseInt(this.$popup.css("width"),10)),this.popupHeight||(this.popupHeight=parseInt(this.$popup.css("height"),10)),this._id=Date.now(),this.$popupTriggers&&this.$popupTriggers.on("click",t.proxy(this._onTriggerClick,this)),this.shouldResizePopup&&this.resizePopup(),this.centerPopup()},_addEventHandlers:function(){this.$window.on("resize."+this._id,t.proxy(this._onWindowResize,this)),this.$window.on("scroll."+this._id,t.proxy(this._onWindowScroll,this)),this.$window.on("keydown."+this._id,t.proxy(this._onWindowKeydown,this)),this.$popupCloseBtn&&this.$popupCloseBtn.on("click."+this._id,t.proxy(this._onCloseBtnClick,this)),this.$screen&&this.useScreen&&this.closePopupOnScreenClick&&this.$screen.on("click."+this._id,t.proxy(this._onScreenClick,this))},_removeEventHandlers:function(){this.$window.off("."+this._id),this.$popupCloseBtn&&this.$popupCloseBtn.off("."+this._id),this.$screen&&this.closePopupOnScreenClick&&this.$screen.off("."+this._id)},_beforePopupOpen:function(){},_afterPopupOpen:function(){},_beforePopupClose:function(){},_afterPopupClose:function(){},_animatePopupOpen:function(){var e;this.$popup.css({display:"block"}),e=this.$popup.position(),this.$popup.css({top:e.top+100}).animate({top:e.top,opacity:1},this.popupAnimationSpeed,this.popupEasingOpen,t.proxy(this._afterPopupOpen,this))},_animatePopupClose:function(){var e=this,t=this.$popup.position();this.$popup.animate({top:t.top+100,opacity:0},this.popupAnimationSpeed,this.popupEasingClose,function(){e.$popup.css({display:"none",top:t.top}),e._afterPopupClose()})},_showScreen:function(){if(!this.useScreen||!this.$screen)return;this.$screen.fadeIn(this.popupAnimationSpeed)},_hideScreen:function(){if(!this.useScreen||!this.$screen)return;this.$screen.fadeOut(this.popupAnimationSpeed)},_resizeScreen:function(){var e,t;if(!this.useScreen||!this.$screen)return;e=this.$document.height(),t=window.innerWidth?window.innerWidth:this.$window.width(),this.$screen.css({height:e,width:t})},_onWindowResize:function(e){this.centerPopup(),this._resizeScreen()},_onWindowScroll:function(e){this.centerPopup()},_onWindowKeydown:function(e){e.keyCode===27&&this.closePopupOnEsc&&this.closePopup()},_onTriggerClick:function(e){e.preventDefault(),this.openPopup()},_onCloseBtnClick:function(e){e.preventDefault(),this.closePopup()},_onScreenClick:function(e){e.preventDefault(),this.closePopupOnScreenClick&&this.closePopup()}}),n}),define("views/ModalBaseView",["require","jquery","underscore","views/BaseView","widgets/Popup","detection/mobileDevice","TweenMax"],function(e){var t=e("jquery"),n=e("underscore"),r=e("views/BaseView"),i=e("widgets/Popup"),s=e("detection/mobileDevice"),o=e("TweenMax"),u=r.extend({el:"#modal",$popupTriggers:null,$screen:t("#popupScreen"),ui:{$closeBtn:".closeBtn"},popup:null,popupAnimationSpeed:.3,shouldCenterVertically:!1,_afterPopupClose:null,_afterPopupOpen:null,initialize:function(e){if(this.$el.length===0)return;n.bindAll(this,"_resetContinue"),this.bindUIElements(),e&&(this.shouldCenterVertically=e.shouldCenterVertically||!1,this._afterPopupClose=e._afterPopupClose||this._resetContinue,this._afterPopupOpen=e._afterPopupOpen),this._initPopup(),this._addEventHandlers()},open:function(){this.popup.openPopup()},close:function(){this.popup.closePopup()},_initPopup:function(){this.popup=new i(this.$el,{$screen:this.$screen,$popupCloseBtn:this.ui.$closeBtn,shouldResizePopup:!1,shouldCenterVertically:this.shouldCenterVertically,useScreen:!0,popupAnimationSpeed:this.popupAnimationSpeed,_animatePopupOpen:this._animatePopupOpen,_animatePopupClose:this._animatePopupClose,_showScreen:this._showScreen,_hideScreen:this._hideScreen,_afterPopupClose:this._afterPopupClose,_afterPopupOpen:this._afterPopupOpen}),this.$continue=this.$el.find(".continueBtn")},_addEventHandlers:function(){this.options.$popupTriggers&&this.options.$popupTriggers.length>0&&this.options.$popupTriggers.on("click",t.proxy(this._onTriggerClick,this))},_animatePopupOpen:function(){var e;this.$popup.css({display:"block"}),this.shouldCenterVertically||this.$popup.css({top:s?"20px":"120px"}),e=this.$popup.position(),this.$popup.css({top:e.top+100}),o.to(this.$popup,this.popupAnimationSpeed,{top:e.top,opacity:1,ease:Back.easeOut,onStart:this._afterPopupOpen})},_animatePopupClose:function(){var e=this,t=this.$popup.position();o.to(this.$popup,this.popupAnimationSpeed,{top:t.top+100,opacity:0,ease:Back.easeOut,onComplete:function(){e.$popup.css({display:"none",top:t.top}),e._afterPopupClose()}})},_resetContinue:function(){this.$continue&&(this.$continue.removeAttr("href"),this.$continue.removeAttr("target"))},_showScreen:function(){if(!this.useScreen||!this.$screen)return;this.$screen.css({opacity:0,display:"block"}),o.to(this.$screen,this.popupAnimationSpeed,{opacity:1})},_hideScreen:function(){var e=this;if(!this.useScreen||!this.$screen)return;o.to(this.$screen,this.popupAnimationSpeed,{opacity:0,onComplete:function(){e.$screen.css({opacity:1,display:"none"})}})},_onTriggerClick:function(e){e.preventDefault();var n=this,r=t(e.currentTarget);if(r.hasClass("exit-link")||r.hasClass("pokemon-center-link")){var i=r.attr("rel")||r.attr("href"),s=r.attr("target");this.$continue.attr("href",i),s&&this.$continue.attr("target",s),this.$continue.on("click",function(){n.close()})}else r.hasClass("rating-logo")&&(this.$continue.attr("href",r.data("href")),this.$continue.attr("target","_blank"),this.$continue.on("click",function(){n.close()}));this.open()}});return u}),define("controllers/ContentRatingController",["require","jquery","underscore","events/LayoutEvent","detection/mobileDevice","views/ModalBaseView"],function(e){var t=e("jquery"),n=e("underscore"),r=e("events/LayoutEvent"),i=e("detection/mobileDevice"),s=e("views/ModalBaseView"),o={MIN_SQUARE_PIXELS:175e3,CONTENT_RATING_HEAD_MAX_WIDTH:"65%",CONTAINER_CLASS:".content-rating",IMAGE_TO_RATE:".rating-image",LOGO_CLASS:".rating-logo",initialize:function(e){e=e||{},n.bindAll(this),this.$containers=t(this.CONTAINER_CLASS),t.window.on(r.BREAKPOINT,this._addEventHandlers);var i=t(this.CONTAINER_CLASS).find(this.LOGO_CLASS),o=new s({$popupTriggers:i});i.on("click",function(e){e.preventDefault(),e.stopPropagation()}),this.$containers.each(this._updateLogoDisplay)},_addEventHandlers:function(){var e=i?100:0;t.window.off(r.BREAKPOINT,this._onFirstBreakpoint),t.subscribe(r.RESIZE,this._onResize),n.defer(function(){t.window.trigger(r.RESIZE)},e)},_calculateSquarePixels:function(e){var t=e.innerWidth(),n=e.innerHeight();return t*n},_updateLogoDisplay:function(e,n){var r=t(n),i=r.find(this.LOGO_CLASS),s=r.find(this.IMAGE_TO_RATE),o=i.parent(),u=o.find("h1"),a=o.find("h2"),f=o.find("h3"),l=o.find("p"),c=this._calculateSquarePixels(s);this.CONTENT_RATING_HEAD_MAX_WIDTH=parseInt(o.outerWidth()-i.outerWidth(),10)-32+"px",c<this.MIN_SQUARE_PIXELS?(i.hide(),u&&u.css({"max-width":"100%"}),a&&a.css({"max-width":"100%"}),f&&f.css({"max-width":"100%"}),l&&l.css({"max-width":"100%"})):(i.show(),u&&u.css({"max-width":this.CONTENT_RATING_HEAD_MAX_WIDTH}),a&&a.css({"max-width":this.CONTENT_RATING_HEAD_MAX_WIDTH}),f&&f.css({"max-width":this.CONTENT_RATING_HEAD_MAX_WIDTH}),l&&l.css({"max-width":this.CONTENT_RATING_HEAD_MAX_WIDTH}))},_onResize:function(e){this.$containers.each(this._updateLogoDisplay)}};return o}),function(e){e.fn.customSelectMenu=function(t){function s(t,i,s){var o=s.parent(),u=o.find("label"),a=i.parent().attr("data-select-name"),f=i.attr("data-option-value"),l=i.text(),c=i.html(),h=o.find('input[name="'+a+'"]');i.parent().find("."+n.selectedClass).removeClass(n.selectedClass),i.addClass(n.selectedClass),h.val(f),t.val(f),t.trigger("change"),c.indexOf("pop-flag pop-flag-")>=0?u.html(c):u.text(l),e(i).hasClass(r.pointsGame)&&u.hasClass(r.pointsChamp)?u.removeClass(r.pointsChamp).addClass(r.pointsGame):e(i).hasClass(r.pointsChamp)&&u.hasClass(r.pointsGame)&&u.removeClass(r.pointsGame).addClass(r.pointsChamp),h.val()!==""?u.addClass(n.selectionMadeClass):u.removeClass(n.selectionMadeClass),s.hide(),s.css("display")!=="none"?u.toggleClass(n.openedClass):u.removeClass(n.openedClass)}var n=e.extend({menuClass:"custom-select-menu",openedClass:"opened",selectedClass:"selected",selectionMadeClass:"selection-made",maxHeight:144},t),r={pointsGame:"icon_points_game",pointsChamp:"icon_points_champ"},i=e(this);return this.each(function(){var t=e(this),r=t.attr("name"),i=t.attr("id"),o=e('<input type="hidden" name="'+r+'" value="" />'),u=e('<div class="'+n.menuClass+'">').attr("tabindex",0),a=e('<ul data-select-name="'+r+'">'),f="",l,c,h,p,d,v,m;t.hide();var g=window.location.hash,y=window.pokemonUI.global_dictionary.search.searchUrl||"/search/";g!=""&&g.length>0&&window.location.href.indexOf(y)<0&&(g=g.substring(1),t.find("option[value=' + hash + ']").length>0&&t.val(g)),t.find(":selected")?(d=t.find(":selected"),v=d.attr("value"),m=d.attr("class"),h=d.text(),p=d.html(),v?(m!==undefined&&m.indexOf("pop-flag pop-flag-")>=0?c=e('<label class="'+n.selectionMadeClass+'">'+'<i class="'+m+'" rel="tooltip" title="'+p+'"></i>'+p+"</label>"):c=e('<label class="'+n.selectionMadeClass+'">'+h+"</label>"),o&&o.val(v)):c=e("<label>"+h+"</label>")):(h=t.find(":first").text(),c=e("<label>"+h+"</label>")),t.find("option").each(function(){var t=e(this).text(),r=e(this).attr("value"),i=e(this).attr("class")||"",s=t===h?n.selectedClass:"",o=i!==""?" "+i:"",u='class="'+s+o+'"';r?i.indexOf("pop-flag pop-flag-")>=0?l='<li data-option-value="'+r+'" class="'+s+'">'+'<i class="'+i+'" rel="tooltip" title="'+t+'"></i>'+t+"</li>":l='<li data-option-value="'+r+'"'+u+">"+t+"</li>":l="<li "+u+">"+t+"</li>",f+=l}),a.html(f),t.after(u.append(c,a,o)),n.maxHeight!==0&&(a.addClass("overview").wrap('<div class="custom-scrollbar custom-select-scrollbar"><div class="viewport">'),a=u.find(".custom-select-scrollbar").css({height:n.maxHeight+"px"})),a.hide(),u.on("mousedown",function(r){var i=e(r.target);i.is("label")&&(c.toggleClass(n.openedClass),a.toggle(),a.css("overflow-y")==="scroll"),i.is("li")&&!i.hasClass("disabled")&&s(t,i,a),r.preventDefault()}),u.on("keyup",function(r){var i=e(this),o=i.find("li"),u=i.find("."+n.selectedClass),f="",l="";if(r.keyCode===38||r.keyCode===40)c.addClass(n.openedClass),a.show();r.keyCode===40&&(u.removeClass(n.selectedClass),f=u.next(),f.length>0?f.addClass(n.selectedClass):o.first().addClass(n.selectedClass)),r.keyCode===38&&(u.removeClass(n.selectedClass),l=u.prev(),l.length>0?l.addClass(n.selectedClass):o.last().addClass(n.selectedClass)),r.keyCode===13&&s(t,i.find("."+n.selectedClass),a)});var b=function(){c.removeClass(n.openedClass),a.hide()};u.on("blur",function(e){a.is(":visible")&&b()}),e("html").on("keyup",function(e){e.keyCode===27&&a.is(":visible")&&b()}),e("html").on("mousedown",function(t){var r=e(t.target);a.is(":visible")&&(a.parent().has(t.target).length==0||!r.parents().addBack().is("."+n.menuClass+" ul, ."+n.menuClass+" label, .custom-select-scrollbar"))&&b()}),t.on("reset",function(){s(t,u.find("li").first(),a)})})}}(jQuery),define("custom-select-menu",function(){}),function(e){function t(t,n){function g(){return r.update(),b(),r}function y(){var e=h.toLowerCase();f.obj.css(c,p/u.ratio),o.obj.css(c,-p),v.start=f.obj.offset()[c],u.obj.css(e,a[n.axis]),a.obj.css(e,a[n.axis]),f.obj.css(e,f[n.axis])}function b(){m?s.obj[0].ontouchstart=function(e){1===e.touches.length&&(w(e.touches[0]),e.stopPropagation())}:(f.obj.bind("mousedown",w),a.obj.bind("mouseup",S)),n.scroll&&window.addEventListener?(i[0].addEventListener("DOMMouseScroll",E,!1),i[0].addEventListener("mousewheel",E,!1),i[0].addEventListener("MozMousePixelScroll",function(e){e.preventDefault()},!1)):n.scroll&&(i[0].onmousewheel=E)}function w(t){e("body").addClass("noSelect");var n=parseInt(f.obj.css(c),10);v.start=l?t.pageX:t.pageY,d.start=n=="auto"?0:n,m?(document.ontouchmove=function(e){e.preventDefault(),S(e.touches[0])},document.ontouchend=x):(e(document).bind("mousemove",S),e(document).bind("mouseup",x),f.obj.bind("mouseup",x))}function E(t){if(o.ratio<1){var r=t||window.event,i=r.wheelDelta?r.wheelDelta/120:-r.detail/3;p-=i*n.wheel,p=Math.min(o[n.axis]-s[n.axis],Math.max(0,p)),f.obj.css(c,p/u.ratio),o.obj.css(c,-p);if(n.lockscroll||p!==o[n.axis]-s[n.axis]&&p!==0)r=e.event.fix(r),r.preventDefault()}}function S(e){o.ratio<1&&(n.invertscroll&&m?d.now=Math.min(a[n.axis]-f[n.axis],Math.max(0,d.start+(v.start-(l?e.pageX:e.pageY)))):d.now=Math.min(a[n.axis]-f[n.axis],Math.max(0,d.start+((l?e.pageX:e.pageY)-v.start))),p=d.now*u.ratio,o.obj.css(c,-p),f.obj.css(c,d.now))}function x(){e("body").removeClass("noSelect"),e(document).unbind("mousemove",S),e(document).unbind("mouseup",x),f.obj.unbind("mouseup",x),document.ontouchmove=document.ontouchend=null}var r=this,i=t,s={obj:e(".viewport",t)},o={obj:e(".overview",t)},u={obj:e(".scrollbar",t)},a={obj:e(".track",u.obj)},f={obj:e(".thumb",u.obj)},l=n.axis==="x",c=l?"left":"top",h=l?"Width":"Height",p=0,d={start:0,now:0},v={},m="ontouchstart"in document.documentElement;return this.update=function(e){s[n.axis]=s.obj[0]["offset"+h],o[n.axis]=o.obj[0]["scroll"+h],o.ratio=s[n.axis]/o[n.axis],u.obj.toggleClass("disable",o.ratio>=1),a[n.axis]=n.size==="auto"?s[n.axis]:n.size,f[n.axis]=Math.min(a[n.axis],Math.max(0,n.sizethumb==="auto"?a[n.axis]*o.ratio:n.sizethumb)),u.ratio=n.sizethumb==="auto"?o[n.axis]/a[n.axis]:(o[n.axis]-s[n.axis])/(a[n.axis]-f[n.axis]),p=e==="relative"&&o.ratio<=1?Math.min(o[n.axis]-s[n.axis],Math.max(0,p)):0,p=e==="bottom"&&o.ratio<=1?o[n.axis]-s[n.axis]:isNaN(parseInt(e,10))?p:parseInt(e,10),y()},g()}e.tiny=e.tiny||{},e.tiny.scrollbar={options:{axis:"y",wheel:40,scroll:!0,lockscroll:!0,size:"auto",sizethumb:"auto",invertscroll:!1}},e.fn.tinyscrollbar=function(n){var r=e.extend({},e.tiny.scrollbar.options,n);return this.each(function(){e(this).data("tsb",new t(e(this),r))}),this},e.fn.tinyscrollbar_update=function(t){return e(this).data("tsb").update(t)}}(jQuery),define("tiny-scrollbar",function(){}),define("templates/ui/tinyScrollbar",["handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<button class="scroll-control--decr" />\n<div class="scrollbar">\n	<div class="track">\n		<div class="thumb">\n			<div class="end"></div>\n		</div>\n	</div>\n</div>\n<button class="scroll-control--incr" />'},useData:!0})}),define("detection/ie",["require"],function(e){var t=!1;if(navigator.appName==="Microsoft Internet Explorer"){var n=navigator.userAgent,r=/MSIE ([0-9]{1,}[.0-9]{0,})/;return r.exec(n)!==null&&(t=parseFloat(RegExp.$1)),t}return t}),define("controllers/CustomScrollbar",["require","jquery","tiny-scrollbar","templates/ui/tinyScrollbar","detection/ie"],function(e){var t=e("jquery"),n=e("tiny-scrollbar"),r=e("templates/ui/tinyScrollbar"),i=e("detection/ie"),s={initialize:function(e){e=e||{},this.$container=e.$container||t.body;if(!Modernizr.touch)if(!Modernizr.cssscrollbar||i){var n=this.$container.find(".custom-scrollbar");n.each(function(){var e=t(this),n=e.find(".overview"),i=e.find(".viewport"),s=!1,o=r(),u=40,a;e.append(o).removeClass("custom-scrollbar").addClass("js-scrollbar"),e.is(":visible")||(e.show(),s=!0),a=n.height()-i.height(),e.tinyscrollbar({size:e.height()-60}),s&&e.hide();var f=function(t){var r=Math.abs(n.position().top)+t;r<0?r=0:r>a&&(r=a),e.tinyscrollbar_update(r)};e.find(".scroll-control--decr").on("click",function(e){e.preventDefault(),f(-u)}),e.find(".scroll-control--incr").on("click",function(e){e.preventDefault(),f(u)})})}}};return s}),define("analytics/AdobeAnalytics",["require"],function(e){var t={s:null,track:function(e){if(window.mockAPI)return;if(window._satellite)try{window._satellite.track(e)}catch(t){}},set_data_layer:function(e,t){window.dataLayer=window.dataLayer||{},window.dataLayer[e]=window.dataLayer[e]||{};for(var n in t)window.dataLayer[n]=t[n];return window.dataLayer},init_media:function(e){t.s=window.s_Obj||null,t.s&&(t.s.loadModule("Media"),t.s.Media.autoTrack=!1,t.s.Media.playerName=e,t.s.Media.segmentByMilestones=!0,t.s.Media.trackUsingContextDat=!0,t.s.Media.contextDataMapping={"a.contentType":"","a.media.name":"eVar33","a.media.segment":"eVar34","a.media.view":"event36","a.media.timePlayed":"event38","a.media.stop":"event39","a.media.complete":"event37","a.media.milestones":{25:"event40",50:"event41",75:"event42"}},t.s.Media.trackVars="events,eVar33,eVar34",t.s.Media.trackEvents="event37,event36,event37,event38,event39,event40,event41,event42")},open_media:function(e,n,r){t.s&&t.s.Media.open(e,n,r)},play_media:function(e,n,r,i,s){t.s&&t.s.Media.play(e,n,r,i,s)},stop_media:function(e,n){t.s&&t.s.Media.stop(e,n)},end_media:function(e){t.s&&t.s.Media.close(e)}};return t}),define("controllers/CustomSelectList",["require","jquery","custom-select-menu","controllers/CustomScrollbar","analytics/AdobeAnalytics"],function(e){var t=e("jquery"),n=e("custom-select-menu"),r=e("controllers/CustomScrollbar"),i=e("analytics/AdobeAnalytics"),s={initialize:function(e){var n=this;e=e||{},this.$el=e.$el||t.body;var r=this.$el.find("select").not("[multiple]").not(".leaderboard-select").not(".op"),i=r.length,s="class";if(i)for(var o=0;o<i;o++){var u=t(r[o]),a=u.parent("div"),f=a.attr(s);if(u.parents(".disable-custom-select-menu").length&&!u.parents(".picker").length)continue;a.attr(s,"custom-select-wrapper"),u.customSelectMenu({maxHeight:u.data("height")||0});if(u.parents(".disable-custom-select-menu").length||Modernizr.touch){a.css("visibility","visible");continue}var l=a.find("label");l.attr(s,f),a.css("visibility","visible"),u.on("change",t.proxy(this.dtmTrack,u))}},dtmTrack:function(){i.track("select-"+t(this).attr("id"))}};return s}),window.Picker=function(e,t,n){function r(i,s,o,u){function d(){return r._.node("div",r._.node("div",r._.node("div",r._.node("div",p.component.nodes(a.open),l.box),l.wrap),l.frame),l.holder)}function v(e){e.stopPropagation(),e.type=="focus"&&p.$root.addClass(l.focused),p.open()}if(!i)return r;var a={id:Math.abs(~~(Math.random()*1e9))},f=o?e.extend(!0,{},o.defaults,u):u||{},l=e.extend({},r.klasses(),f.klass),c=e(i),h=function(){return this.start()},p=h.prototype={constructor:h,$node:c,start:function(){return a&&a.start?p:(a.methods={},a.start=!0,a.open=!1,a.type=i.type,i.autofocus=i==document.activeElement,i.type="text",i.readOnly=!0,p.component=new o(p,f),p.$root=e(r._.node("div",d(),l.picker)).on({focusin:function(e){p.$root.removeClass(l.focused),e.stopPropagation()},mousedown:function(e){e.target!=p.$root.children()[0]&&e.stopPropagation()},click:function(t){var n=t.target,s=n.attributes.length?e(n):e(n).closest("[data-pick]"),o=s.data();if(n!=p.$root.children()[0]){t.stopPropagation(),p.$root.find(document.activeElement).length||i.focus();if(o.nav&&!s.hasClass(l.navDisabled))p.set("highlight",p.component.item.highlight,{nav:o.nav});else if(r._.isInteger(o.pick)&&!s.hasClass(l.disabled))p.set("select",o.pick);else if(o.clear){var u=e(".picker__day--highlighted").data("pick");p.set("select",u).close(!0)}}}}),p._hidden=f.formatSubmit?e("<input type=hidden name="+i.name+(f.hiddenSuffix||"_submit")+(c.data("value")?' value="'+r._.trigger(p.component.formats.toString,p.component,[f.formatSubmit,p.component.item.select])+'"':"")+">")[0]:n,c.addClass(l.input).on("focus.P"+a.id+" click.P"+a.id,v).on("change.P"+a.id,function(){p._hidden&&(p._hidden.value=i.value?r._.trigger(p.component.formats.toString,p.component,[f.formatSubmit,p.component.item.select]):"")}).on("keydown.P"+a.id,function(e){var t=e.keyCode,n=/^(8|46)$/.test(t);if(t==27)return p.close(),!1;if(t==32||n||!a.open&&p.component.key[t])e.preventDefault(),e.stopPropagation(),n?p.clear().close():p.open()}).val(c.data("value")?r._.trigger(p.component.formats.toString,p.component,[f.format,p.component.item.select]):i.value).after(p._hidden).data(s,p),f.container?e(f.container).append(p.$root):c.after(p.$root),p.on({start:p.component.onStart,render:p.component.onRender,stop:p.component.onStop,open:p.component.onOpen,close:p.component.onClose,set:p.component.onSet}).on({start:f.onStart,render:f.onRender,stop:f.onStop,open:f.onOpen,close:f.onClose,set:f.onSet}),i.autofocus&&p.open(),p.trigger("start").trigger("render"))},render:function(e){return e?p.$root.html(d()):p.$root.find("."+l.box).html(p.component.nodes(a.open)),p.trigger("render")},stop:function(){return a.start?(p.close(),p._hidden&&p._hidden.parentNode.removeChild(p._hidden),p.$root.remove(),c.removeClass(l.input).off(".P"+a.id).removeData(s),i.type=a.type,i.readOnly=!1,p.trigger("stop"),a.methods={},a.start=!1,p):p},open:function(e){return a.open?p:(c.addClass(l.active),p.$root.addClass(l.opened),e!==!1&&(a.open=!0,c.focus(),t.on("click.P"+a.id+" focusin.P"+a.id,function(e){e.target!=i&&e.target!=document&&e.target!=document.body&&p.close()}).on("keydown.P"+a.id,function(e){var t=e.keyCode,n=p.component.key[t],s=e.target;t==27?p.close(!0):s!=i||!n&&t!=13?p.$root.find(s).length&&t==13&&(e.preventDefault(),s.click()):(e.preventDefault(),n?r._.trigger(p.component.key.go,p,[n]):p.$root.find("."+l.highlighted).hasClass(l.disabled)||p.set("select",p.component.item.highlight).close())})),p.trigger("open"))},close:function(e){return e&&(c.off("focus.P"+a.id).focus(),setTimeout(function(){c.on("focus.P"+a.id,v)},0)),c.removeClass(l.active),p.$root.removeClass(l.opened+" "+l.focused),a.open&&(a.open=!1,t.off(".P"+a.id)),p.trigger("close")},clear:function(){return p.set("clear")},set:function(e,t,n){var i,s,o=r._.isObject(e),u=o?e:{};if(e){o||(u[e]=t);for(i in u)s=u[i],p.component.item[i]&&p.component.set(i,s,n||{}),(i=="select"||i=="clear")&&c.val(i=="clear"?"":r._.trigger(p.component.formats.toString,p.component,[f.format,p.component.get(i)])).trigger("change");p.render()}return p.trigger("set",u)},get:function(e,t){e=e||"value";if(a[e]!=null)return a[e];if(e=="value")return i.value;if(p.component.item[e])return typeof t=="string"?r._.trigger(p.component.formats.toString,p.component,[t,p.component.get(e)]):p.component.get(e)},on:function(e,t){var n,i,s=r._.isObject(e),o=s?e:{};if(e){s||(o[e]=t);for(n in o)i=o[n],a.methods[n]=a.methods[n]||[],a.methods[n].push(i)}return p},trigger:function(e,t){var n=a.methods[e];return n&&n.map(function(e){r._.trigger(e,p,[t])}),p}};return new h}return r.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},r._={group:function(e){var t,n="",i=r._.trigger(e.min,e);for(;i<=r._.trigger(e.max,e,[i]);i+=e.i)t=r._.trigger(e.item,e,[i]),n+=r._.node(e.node,t[0],t[1],t[2]);return n},node:function(e,t,n,r){return t?(t=Array.isArray(t)?t.join(""):t,n=n?' class="'+n+'"':"",r=r?" "+r:"","<"+e+n+r+">"+t+"</"+e+">"):""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,n){return typeof e=="function"?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isObject:function(e){return{}.toString.call(e).indexOf("Object")>-1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1===0}},r.extend=function(t,n){e.fn[t]=function(i,s){var o=this.data(t);return i=="picker"?o:o&&typeof i=="string"?(r._.trigger(o[i],o,[s]),this):this.each(function(){var s=e(this);s.data(t)||new r(this,t,n,i)})},e.fn[t].defaults=n.defaults},r}(jQuery,jQuery(document)),define("vendor/plugins/picker",function(){}),function(){function n(e,t){var n=this,r=e.$node[0].value,i=e.$node.data("value"),s=i||r,o=i?t.formatSubmit:t.format;n.settings=t,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"navigate create validate",view:"create validate viewset",disable:"flipItem",enable:"flipItem"},n.item={},n.item.disable=(t.disable||[]).slice(0),n.item.enable=-function(e){return e[0]===!0?e.shift():-1}(n.item.disable),n.set("min",t.min).set("max",t.max).set("now").set("select",s||n.item.now,{format:o,data:function(e){return s&&(e.indexOf("mm")>-1||e.indexOf("m")>-1)}(n.formats.toArray(o))}),n.key={40:7,38:-7,39:1,37:-1,go:function(e){n.set("highlight",[n.item.highlight.year,n.item.highlight.month,n.item.highlight.date+e],{interval:e}),this.render()}},e.on("render",function(){e.$root.find("."+t.klass.selectMonth).on("change",function(){e.set("highlight",[e.get("view").year,this.value,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).focus()}),e.$root.find("."+t.klass.selectYear).on("change",function(){e.set("highlight",[this.value,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).focus()})}).on("open",function(){e.$root.find("button, select").attr("disabled",!1)}).on("close",function(){e.$root.find("button, select").attr("disabled",!0)})}var e=7,t=6;n.prototype.set=function(e,t,n){var r=this;return r.item[e=="enable"?"disable":e=="flip"?"enable":e]=r.queue[e].split(" ").map(function(i){return t=r[i](e,t,n)}).pop(),e=="select"?r.set("highlight",r.item.select,n):e=="highlight"?r.set("view",r.item.highlight,n):(e=="flip"||e=="min"||e=="max"||e=="disable"||e=="enable")&&r.item.select&&r.item.highlight&&r.set("select",r.item.select,n).set("highlight",r.item.highlight,n),r},n.prototype.get=function(e){return this.item[e]},n.prototype.create=function(e,t,n){var r,i=this;return t=t===undefined?e:t,t==-Infinity||t==Infinity?r=t:Picker._.isObject(t)&&Picker._.isInteger(t.pick)?t=t.obj:Array.isArray(t)?(t=new Date(t[0],t[1],t[2]),t=Picker._.isDate(t)?t:i.create().obj):Picker._.isInteger(t)||Picker._.isDate(t)?t=i.normalize(new Date(t),n):t=i.now(e,t,n),{year:r||t.getFullYear(),month:r||t.getMonth(),date:r||t.getDate(),day:r||t.getDay(),obj:r||t,pick:r||t.getTime()}},n.prototype.now=function(e,t,n){return t=new Date,n&&n.rel&&t.setDate(t.getDate()+n.rel),this.normalize(t,n)},n.prototype.navigate=function(e,t,n){if(Picker._.isObject(t)){var r=new Date(t.year,t.month+(n&&n.nav?n.nav:0),1),i=r.getFullYear(),s=r.getMonth(),o=t.date;while(Picker._.isDate(r)&&(new Date(i,s,o)).getMonth()!==s)o-=1;t=[i,s,o]}return t},n.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},n.prototype.measure=function(e,t){var n=this;return t?Picker._.isInteger(t)&&(t=n.now(e,t,{rel:t})):t=e=="min"?-Infinity:Infinity,t},n.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},n.prototype.validate=function(e,t,n){var r=this,i=t,s=n&&n.interval?n.interval:1,o=r.item.enable===-1,u,a,f=r.item.min,l=r.item.max,c,h,p=o&&r.item.disable.filter(function(e){if(Array.isArray(e)){var n=r.create(e).pick;n<t.pick?u=!0:n>t.pick&&(a=!0)}return Picker._.isInteger(e)}).length;if(!n.nav)if(!o&&r.disabled(t)||o&&r.disabled(t)&&(p||u||a)||t.pick<=f.pick||t.pick>=l.pick){o&&!p&&(!a&&s>0||!u&&s<0)&&(s*=-1);while(r.disabled(t)){Math.abs(s)>1&&(t.month<i.month||t.month>i.month)&&(t=i,s=Math.abs(s)/s),t.pick<=f.pick?(c=!0,s=1):t.pick>=l.pick&&(h=!0,s=-1);if(c&&h)break;t=r.create([t.year,t.month,t.date+s])}}return t},n.prototype.disabled=function(e){var t=this,n=t.item.disable.filter(function(n){if(Picker._.isInteger(n))return e.day===(t.settings.firstDay?n:n-1)%7;if(Array.isArray(n))return e.pick===t.create(n).pick}).length;return e.pick<t.item.min.pick||e.pick>t.item.max.pick||t.item.enable===-1?!n:n},n.prototype.parse=function(e,t,n){var r=this,i={};if(!t||Picker._.isInteger(t)||Array.isArray(t)||Picker._.isDate(t)||Picker._.isObject(t)&&Picker._.isInteger(t.pick))return t;if(!n||!n.format)throw"Need a formatting option to parse this..";return r.formats.toArray(n.format).map(function(e){var n=r.formats[e],s=n?Picker._.trigger(n,r,[t,i]):e.replace(/^!/,"").length;n&&(i[e]=t.substr(0,s)),t=t.substr(s)}),[i.yyyy||i.yy,+(i.mm||i.m)-(n.data?1:0),i.dd||i.d]},n.prototype.formats=function(){function e(e,t,n){var r=e.match(/\w+/)[0];return!n.mm&&!n.m&&(n.m=t.indexOf(r)),r.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?Picker._.digits(e):t.date},dd:function(e,t){return e?2:Picker._.lead(t.date)},ddd:function(e,n){return e?t(e):this.settings.weekdaysShort[n.day]},dddd:function(e,n){return e?t(e):this.settings.weekdaysFull[n.day]},m:function(e,t){return e?Picker._.digits(e):t.month+1},mm:function(e,t){return e?2:Picker._.lead(t.month+1)},mmm:function(t,n){var r=this.settings.monthsShort;return t?e(t,r,n):r[n.month]},mmmm:function(t,n){var r=this.settings.monthsFull;return t?e(t,r,n):r[n.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map(function(e){return Picker._.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")}).join("")}}}(),n.prototype.flipItem=function(e,t){var n=this,r=n.item.disable,i=n.item.enable===-1;if(t=="flip")n.item.enable=i?1:-1;else if(!i&&e=="enable"||i&&e=="disable")r=n.removeDisabled(r,t);else if(!i&&e=="disable"||i&&e=="enable")r=n.addDisabled(r,t);return r},n.prototype.addDisabled=function(e,t){var n=this;return t.map(function(t){n.filterDisabled(e,t).length||e.push(t)}),e},n.prototype.removeDisabled=function(e,t){var n=this;return t.map(function(t){e=n.filterDisabled(e,t,1)}),e},n.prototype.filterDisabled=function(e,t,n){var r=Array.isArray(t);return e.filter(function(e){var i=!r&&t===e||r&&Array.isArray(e)&&t.toString()===e.toString();return n?!i:i})},n.prototype.nodes=function(n){var r=this,i=r.settings,s=r.item.now,o=r.item.select,u=r.item.highlight,a=r.item.view,f=r.item.disable,l=r.item.min,c=r.item.max,h=function(t){return i.firstDay&&t.push(t.shift()),Picker._.node("thead",Picker._.group({min:0,max:e-1,i:1,node:"th",item:function(e){return[t[e],i.klass.weekdays]}}))}((i.showWeekdaysFull?i.weekdaysFull:i.weekdaysShort).slice(0)),p=function(e){return Picker._.node("div"," ",i.klass["nav"+(e?"Next":"Prev")]+(e&&a.year>=c.year&&a.month>=c.month||!e&&a.year<=l.year&&a.month<=l.month?" "+i.klass.navDisabled:""),"data-nav="+(e||-1))},d=function(e){return i.selectMonths?Picker._.node("select",Picker._.group({min:0,max:11,i:1,node:"option",item:function(t){return[e[t],0,"value="+t+(a.month==t?" selected":"")+(a.year==l.year&&t<l.month||a.year==c.year&&t>c.month?" disabled":"")]}}),i.klass.selectMonth,n?"":"disabled"):Picker._.node("div",e[a.month],i.klass.month)},v=function(){var e=a.year,t=i.selectYears===!0?5:~~(i.selectYears/2);if(t){var r=l.year,s=c.year,o=e-t,u=e+t;r>o&&(u+=r-o,o=r);if(s<u){var f=o-r,h=u-s;o-=f>h?h:f,u=s}return Picker._.node("select",Picker._.group({min:o,max:u,i:1,node:"option",item:function(t){return[t,0,"value="+t+(e==t?" selected":"")]}}),i.klass.selectYear,n?"":"disabled")}return Picker._.node("div",e,i.klass.year)};return Picker._.node("div",p()+p(1)+d(i.showMonthsShort?i.monthsShort:i.monthsFull)+v(),i.klass.header)+Picker._.node("table",h+Picker._.node("tbody",Picker._.group({min:0,max:t-1,i:1,node:"tr",item:function(t){var n=i.firstDay&&r.create([a.year,a.month,1]).day===0?-7:0;return[Picker._.group({min:e*t-a.day+n+1,max:function(){return this.min+e-1},i:1,node:"td",item:function(e){return e=r.create([a.year,a.month,e+(i.firstDay?1:0)]),[Picker._.node("div",e.date,function(t){return t.push(a.month==e.month?i.klass.infocus:i.klass.outfocus),s.pick==e.pick&&t.push(i.klass.now),o&&o.pick==e.pick&&t.push(i.klass.selected),u&&u.pick==e.pick&&t.push(i.klass.highlighted),(f&&r.disabled(e)||e.pick<l.pick||e.pick>c.pick)&&t.push(i.klass.disabled),t.join(" ")}([i.klass.day]),"data-pick="+e.pick)]}})]}})),i.klass.table)+Picker._.node("div",Picker._.node("button",i.today,i.klass.buttonToday,"data-pick="+s.pick+(n?"":" disabled"))+Picker._.node("button",i.clear,i.klass.buttonClear,"data-clear=1"+(n?"":" disabled")),i.klass.footer)},n.defaults=function(e){return{monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today"}}}(Picker.klasses().picker+"__"),Picker.extend("pickadate",n)}(),define("pickadate",function(){}),define("utils/Time",["require"],function(e){var t={};return t.DAYS_PER_YEAR=365.242,t.HOURS_PER_DAY=24,t.HOURS_PER_YEAR=t.DAYS_PER_YEAR*t.HOURS_PER_DAY,t.MINUTES_PER_HOUR=60,t.MINUTES_PER_DAY=t.MINUTES_PER_HOUR*t.HOURS_PER_DAY,t.MINUTE_PER_YEAR=t.MINUTES_PER_DAY*t.HOURS_PER_YEAR,t.SECONDS_PER_MINUTE=60,t.SECONDS_PER_HOUR=t.SECONDS_PER_MINUTE*t.MINUTES_PER_HOUR,t.SECONDS_PER_DAY=t.SECONDS_PER_HOUR*t.HOURS_PER_DAY,t.SECONDS_PER_YEAR=t.SECONDS_PER_DAY*t.DAYS_PER_YEAR,t.MILLISECONDS_PER_SECOND=1e3,t.MILLISECONDS_PER_MINUTE=t.MILLISECONDS_PER_SECOND*t.SECONDS_PER_MINUTE,t.MILLISECONDS_PER_HOUR=t.MILLISECONDS_PER_MINUTE*t.MINUTES_PER_HOUR,t.MILLISECONDS_PER_DAY=t.MILLISECONDS_PER_HOUR*t.HOURS_PER_DAY,t.MILLISECONDS_PER_YEAR=t.MILLISECONDS_PER_DAY*t.DAYS_PER_YEAR,t}),define("templates/ui/dateInput",["handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'<div class="styled-select button-black">\n	<input id="'+u((i=(i=t.id||(e!=null?e.id:e))!=null?i:o,typeof i===s?i.call(e,{name:"id",hash:{},data:r}):i))+'" name="'+u((i=(i=t.name||(e!=null?e.name:e))!=null?i:o,typeof i===s?i.call(e,{name:"name",hash:{},data:r}):i))+'" class="'+u((i=(i=t.className||(e!=null?e.className:e))!=null?i:o,typeof i===s?i.call(e,{name:"className",hash:{},data:r}):i))+'" type="date" value="'+u((i=(i=t.value||(e!=null?e.value:e))!=null?i:o,typeof i===s?i.call(e,{name:"value",hash:{},data:r}):i))+'" />\n</div>'},useData:!0})}),define("templates/ui/selectWrapper",["handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){return'<div class="styled-select button-black"></div>'},useData:!0})}),define("controllers/DateInputController",["require","underscore","jquery","pickadate","controllers/CustomSelectList","utils/Time","templates/ui/dateInput","templates/ui/selectWrapper","controllers/CustomScrollbar"],function(e){var t=e("underscore"),n=e("jquery"),r=e("pickadate"),i=e("controllers/CustomSelectList"),s=e("utils/Time"),o=e("templates/ui/dateInput"),u=e("templates/ui/selectWrapper"),a=e("controllers/CustomScrollbar"),f={CLASS_NAME:"datepicker",SELECT_YEARS_AHEAD:0,SELECT_YEARS_BEHIND:80,initialize:function(){t.bindAll(this);var e=Date.now();this.$input=n("#id_registration_closes_0, ."+this.CLASS_NAME);if(this.$input.length)if(Modernizr.touch&&Modernizr.inputtypes.date){var r=new Date(e),i=("0"+r.getDate()).slice(-2),u=("0"+(r.getMonth()+1)).slice(-2),a=r.getFullYear(),f=o({className:this.CLASS_NAME,name:this.$input.attr("name")||"",id:this.$input.attr("id")||"",value:a+"-"+u+"-"+i});this.$input.replaceWith(f)}else{var l=e-this.SELECT_YEARS_BEHIND*s.MILLISECONDS_PER_YEAR,c=(new Date).getFullYear(),h=new Date(c,11,31),p=window.pokemonUI.datepicker||{},d={clear:"proceed",min:new Date(l),max:new Date(h),selectYears:this.SELECT_YEARS_AHEAD+this.SELECT_YEARS_BEHIND,selectMonths:!0,onOpen:this._onOpen,onRender:this._onRender,klass:{selectMonth:"month",selectYear:"year"}};p=t.extend(d,p),this.$input.attr("value",this.$input.val()||p.placeholder||p.format||""),this.$input.css({cursor:"text"}),this.$input.pickadate(p),this.picker=this.$input.pickadate("picker")}},_onOpen:function(e){var t=this;this.$input.blur()},_onRender:function(e){var t=u(),r=this.$input.siblings(".picker"),s=r.find("select"),o=r.find("select.year"),f;s.wrap(t),s.data("height",200),s.each(function(){n(this).data("customname",n(this).attr("class"))}),i.initialize({$el:r}),f=o.siblings("div").find("ul"),f.append(f.find("li").get().reverse()),a.initialize({$container:r}),r.on("click",".custom-select-menu",function(){n(this).focus()})}};return f}),define("controllers/ExternalLinkController",["require","jquery","views/ModalBaseView"],function(e){var t=e("jquery"),n=e("views/ModalBaseView"),r={initialize:function(e){e=e||{},_.bindAll(this);var n=e.container?e.container.find(".exit-link"):t(".exit-link"),r=e.container?e.container.find(".pokemon-center-link"):t(".pokemon-center-link");this._hideExitLinks(n),this._addViews(n),this._addViews(r,{el:"#pokemon-center-modal"})},_addViews:function(e,t){this.modal=new n(_.extend({$popupTriggers:e},t||{}))},_hideExitLinks:function(e){e.each(function(e,n){var r=t(n),i=r.attr("href");r.removeAttr("href"),r.attr("rel",i)})}};return r}),define("animation/bounce",["require","jquery","TweenMax"],function(e){var t=e("jquery"),n=e("TweenMax"),r={distance:4,duration:.1},i=function(e,i){return i=t.extend(r,i),n.fromTo(e,i.duration,{y:0},{y:"-"+i.distance,repeat:1,yoyo:!0,ease:Sine.easeInOut})};return i}),define("controllers/HoverController",["require","jquery","animation/bounce"],function(e){var t=e("jquery"),n=e("animation/bounce"),r={BOUNCE_CLASS:"bounce",HOVER_CLASS:"hover",initialize:function(e){e=e||{};var n=this;Modernizr.touch&&(t.body.on("touchstart","a, li",function(e){t(this).addClass(n.HOVER_CLASS)}),t.body.on("touchend","a, li",function(e){t(this).removeClass(n.HOVER_CLASS)}))}};return r}),define("controllers/MatchHeightController",["require","jquery","events/LayoutEvent"],function(e){var t=e("jquery"),n=e("events/LayoutEvent"),r={MATCH_CLASS:".match",CONTAINER_CLASS:".match-height",MOBILE_CLASS:".match-height-mobile",TABLET_CLASS:".match-height-tablet",initialize:function(e){e=e||{},_.bindAll(this),this._addElements(e),this._addEventHandlers()},refresh:function(e){this._addElements(e),this.$containers.each(this._zeroHeights),this.$containers.each(this._matchHeights)},_addElements:function(e){this.$containers=e.$containers||t(this.CONTAINER_CLASS),this.$mobileContainers=e.$mobileContainers||t(this.CONTAINER_CLASS+", "+this.MOBILE_CLASS),this.$tabletContainers=e.$tabletContainers||t(this.CONTAINER_CLASS+", "+this.TABLET_CLASS)},_addEventHandlers:function(){t.subscribe(n.CHANGE,this._handleLayoutChange),t.subscribe(n.RESIZE,this._handleResize)},_matchHeights:function(e,n){var r=0,i=t(n).find(this.MATCH_CLASS);i.css({minHeight:""}),i.each(function(e,n){r=Math.max(r,t(n).height())}),i.css({minHeight:r})},_zeroHeights:function(e,n){var r=t(n).find(this.MATCH_CLASS);r.css({minHeight:""})},_handleLayoutChange:function(e,t){t?(this.$containers=this.$mobileContainers,this.$tabletContainers.each(this._zeroHeights)):(this.$containers=this.$tabletContainers,this.$mobileContainers.each(this._zeroHeights)),this.$containers.each(this._matchHeights)},_handleResize:function(e){this.$containers.each(this._matchHeights)}};return r}),"undefined"==typeof LimelightPlayerUtil&&("undefined"==typeof JSON&&(this.JSON={},function(){function z(e){return 10>e?"0"+e:e}function F(e){return B.lastIndex=0,B.test(e)?'"'+e.replace(B,function(e){var t=G[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function C(e,t){var r,i,s,o,a=n,f,l=t[e];l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof u&&(l=u.call(t,e,l));switch(typeof l){case"string":return F(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";n+=w,f=[];if("[object Array]"===Object.prototype.toString.apply(l)){o=l.length;for(r=0;r<o;r+=1)f[r]=C(r,l)||"null";return s=0===f.length?"[]":n?"[\n"+n+f.join(",\n"+n)+"\n"+a+"]":"["+f.join(",")+"]",n=a,s}if(u&&"object"==typeof u)for(o=u.length,r=0;r<o;r+=1)i=u[r],"string"==typeof i&&(s=C(i,l))&&f.push(F(i)+(n?": ":":")+s);else for(i in l)Object.hasOwnProperty.call(l,i)&&(s=C(i,l))&&f.push(F(i)+(n?": ":":")+s);return s=0===f.length?"{}":n?"{\n"+n+f.join(",\n"+n)+"\n"+a+"}":"{"+f.join(",")+"}",n=a,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+z(this.getUTCMonth()+1)+"-"+z(this.getUTCDate())+"T"+z(this.getUTCHours())+":"+z(this.getUTCMinutes())+":"+z(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var E=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,B=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n,w,G={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var i;w=n="";if("number"==typeof r)for(i=0;i<r;i+=1)w+=" ";else"string"==typeof r&&(w=r);if(!(u=t)||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return C("",{"":e});throw Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(c,n){function p(e,t){var r,i,s=e[t];if(s&&"object"==typeof s)for(r in s)Object.hasOwnProperty.call(s,r)&&(i=p(s,r),void 0!==i?s[r]=i:delete s[r]);return n.call(e,t,s)}var l;c=String(c),E.lastIndex=0,E.test(c)&&(c=c.replace(E,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(c.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return l=eval("("+c+")"),"function"==typeof n?p({"":l},""):l;throw new SyntaxError("JSON.parse")})}()),LimelightPlayerUtil=function(){function e(e,t,n,r,i){g(e,function(s){var o={service:{}};return e.playlistService&&(o.service.playlistService=e.playlistService),e.metricsCollectionService&&(o.service.metricsCollectionService=e.metricsCollectionService),e.cuePointService&&(o.service.cuePointService=e.cuePointService),e.beaconingService&&(o.service.beaconingService=e.beaconingService),LimelightPlayer=DelvePlayer=s=s.createPlayer(t,n,r,i,o)})}function t(e,t,n,r){n.postStartSessionEvent(),o(e,t,d,n,function(e,t){var i=t.mediaList[0],s=document.createElement("TABLE");s.style="border-style:none";var o=s.appendChild(document.createElement("TR")).appendChild(document.createElement("TD")).appendChild(document.createElement("A"));o.href="#",o.appendChild(document.createElement("IMG")).src=encodeURI(i.thumbnailImageUrl);var u=s.appendChild(document.createElement("TR")).appendChild(document.createElement("TD"));u.style="text-align:center",u=u.appendChild(document.createElement("A")),u.href="#",u.appendChild(document.createTextNode("Click to play"));var a=function(){return n.postPlayStateEvent(b.PLAY,0,function(){window.location=i.mobileUrls[0].mobileUrl}),!1};o.onclick=a,u.onclick=a,r(s)})}function n(e,t,n,r,i,s){o(e,r,m.htmlCodec,i,function(e,r){i.postStartSessionEvent();var o=r.mediaList[0],u=document.createElement("VIDEO");u.src=encodeURI(o.mobileUrls[0].mobileUrl),u.width=t,u.height=n,u.poster=encodeURI(o.previewImageUrl),u.controls=!0,u.addEventListener("click",u.play),u.addEventListener("play",function(){i.postPlayStateEvent(b.PLAY,Math.round(1e3*u.currentTime)),i.startHeartbeat({quality:e,getPosition:function(){return Math.round(1e3*u.currentTime)},isPlaying:function(){return!u.paused}})}),u.addEventListener("pause",function(){u.ended||i.postPlayStateEvent(b.PAUSE,Math.round(1e3*u.currentTime)),i.stopHeartbeat()}),u.addEventListener("ended",function(){i.postEvent(b.MEDIA_COMPLETE),i.stopHeartbeat()});var a=0;u.addEventListener("timeupdate",function(){var e=u.currentTime;if(u.seeking&&e!==a){var t=Math.round(1e3*a),n=Math.round(1e3*e);t!==n&&i.postEvent(b.SEEK,{offsetBefore:t,offsetAfter:n,heatmapDisplayed:!1,spectrumType:"",spectrumColor:0,relatedConcepts:""})}a=e}),s(u)})}function r(e){return e=e||{},e.wmode=e.wmode||"window",e.id=e.id||"limelight_player_"+Math.floor(1e9*Math.random()),e.resources=e.resources||{},e.resources.beaconingService=e.resources.beaconingService||c,e.resources.cuePointService=e.resources.cuePointService||l,e.resources.metricsCollectionService=e.resources.metricsCollectionService||f,e.resources.playlistService=e.resources.playlistService||a,e.resources.htmlPlayerLocation=e.resources.htmlPlayerLocation||m.loadingProtocol+h,e.resources.playerIframeLocation=e.resources.playerIframeLocation||m.loadingProtocol+p,e}function i(r,i,o,u,a,f,l,c,h){var p=b.create(i.metricsCollectionService,u,h);switch(h){case"iframe":return y(i,l,a,f,u,p,r);case"html":return e(i,l,a,f,null!==o?o:u);case"video":n(i,a,f,u,p,r);break;case"link":t(i,u,p,r);break;case"install-flash":m.Flash.canUpgrade?(i=!0===m.Flash.isActiveX?"ActiveX":"PlugIn",document.title=document.title.slice(0,47)+" - Flash Player Installation",s(r,"https://web.archive.org/web/20151028121945/http://assets.delvenetworks.com/player/playerProductInstall.swf","MMredirectURL="+window.location+"&MMplayerType="+i+"&MMdoctitle="+document.title,a,f,l,c)):r('<table width="'+a+'" height="'+f+'" bgcolor="black" style="background-color:black; margin-left:auto; margin-right:auto"><tr><td align="center" style="text-align:center; vertical-align:middle"><a href="https://web.archive.org/web/20151028121945/http://www.adobe.com/go/getflash/" style="text-decoration:underline; color:white"><span style="font-size:12px; color:white">You need to have the latest version of Adobe Flash Player to view this content.<br/>Please click here to continue.</span></a></td></tr></table>')}return null}function s(e,t,n,r,i,s,o){var u="",a;if("string"==typeof n)u=n;else if("object"==typeof n)for(a in n)u+=encodeURIComponent(a)+"="+encodeURIComponent(n[a])+"&";return e('<object type="application/x-shockwave-flash" id="'+s+'" name="'+s+'" width="'+r+'" height="'+i+'" data="'+t+'"><param name="movie" value="'+t+'"/><param name="wmode" value="'+o+'"/><param name="allowScriptAccess" value="always"/><param name="allowFullScreen" value="true"/><param name="flashVars" value="'+u+'"/></object>'),document.getElementById(s)}function o(e,t,n,r,i){var s;t.mediaId?s=e.playlistService+"/media/"+t.mediaId+"/getMobilePlaylistByMediaId?platform="+n:t.channelId?s=e.playlistService+"/channel/"+t.channelId+"/getFirstAvailableMobilePlaylistByChannelId?platform="+n:t.channelListId&&(s=e.playlistService+"/channel_list/"+t.channelListId+"/getFirstAvailableMobilePlaylistByChannelListId?platform="+n),w(s,function(e){e&&e.mediaList&&e.mediaList[0]?(e.id&&r.setChannelId(e.id),e.mediaList[0].mediaId&&r.setMediaId(e.mediaList[0].mediaId),0<e.mediaList[0].mobileUrls.length?i(n,e):showError("Video Not Available For This Device")):showError("Video Not Available")})}function u(e){function t(e){return("object"==typeof e||"function"==typeof e)&&e.nodeType}if("undefined"==typeof e)return function(e){t(e)?document.body.appendChild(e):document.write(e)};"string"==typeof e&&(e=document.getElementById(e));if(t(e)){if("OBJECT"===e.nodeName){var n=e.parentNode,r=e.nextSibling,i=!1;return function(s){var o=document.createElement("DIV");t(s)?o.appendChild(s):o.innerHTML=s,i||(n.replaceChild(o.firstChild,e),i=!0);for(;o.firstChild;)n.insertBefore(o.firstChild,r)}}return function(n){t(n)?e.appendChild(n):e.innerHTML+=n}}return null}var a="//web.archive.org/web/20151028121945/http://production-ps.lvp.llnw.net/r/PlaylistService",f="//web.archive.org/web/20151028121945/http://production-mcs.lvp.llnw.net/r/MetricsCollectionService",l="//web.archive.org/web/20151028121945/http://cps.lvp.llnw.net/r/CuePointService",c="//web.archive.org/web/20151028121945/http://production-eqbc.lvp.llnw.net",h="//web.archive.org/web/20151028121945/http://videoplatform.limelight.com/player/html-player.js",p="//web.archive.org/web/20151028121945/http://assets.delvenetworks.com/player/resources/iframe.html",d="Mobile3gp",v=navigator,m=function(){var e=v.userAgent.toLowerCase(),t=v.platform.toLowerCase(),n=/android \d+\x2E\d+/.test(e),r=/android [2-9]+\x2E\d+/.test(e),i=/blackberry/.test(e);/playbook/.test(e);var s=/msie/.test(e),o=/msie\s\d\d/.test(e),u=/iemobile/.test(e),a=/ipad/.test(e),f=/iphone|ipad|ipod/.test(e),l=/silk/.test(e),c=/linux/.test(t?t:e),t=/opera mobi|opera tablet/.test(e),h=/fennec/.test(e),p=/symbian|series60/.test(e),d=/nintendo wiiu/.test(e),m=/mobile/.test(e)||n,i=n||f||l||i||p||t||h||d||u||m,u=[0,0,0];if(f&&(e=e.match(/os (.*) like mac os x/))&&1<e.length){var u=[],e=e[1].split("_"),g;for(g in e)u.push(parseInt(e[g]));for(;3>u.length;)u.push(0)}return g=function(){var e=document.createElement("VIDEO");return e.canPlayType?e.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'):""}(),h=(r||l||f)&&!h,r=function(){var e=document.createElement("VIDEO");return e.canPlayType?e.canPlayType("application/vnd.apple.mpegurl"):""}(),l="probably"===r||f?"HttpLiveStreaming":"MobileH264",e=function(){var e=function(){var e=null;if("undefined"!=typeof v.plugins&&"object"==typeof v.plugins["Shockwave Flash"]){if((e=v.plugins["Shockwave Flash"].description)&&("undefined"==typeof v.mimeTypes||!v.mimeTypes["application/x-shockwave-flash"]||v.mimeTypes["application/x-shockwave-flash"].enabledPlugin))return e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),[parseInt(e.replace(/^(.*)\..*$/,"$1"),10),parseInt(e.replace(/^.*\.(.*)\s.*$/,"$1"),10),/[a-zA-Z]/.test(e)?parseInt(e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0]}else if("undefined"!=typeof window.ActiveXObject)try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(t&&(e=t.GetVariable("$version")))return e=e.split(" ")[1].split(","),[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}catch(n){}return[0,0,0]}();return function(t,n,r){return e[0]>t||e[0]==t&&(e[1]>n||e[1]==n&&e[2]>=r)}}(),s={canUpgrade:!c&&e(6,0,65),H264:e(9,0,115),hasAdaptiveStreaming:e(10,0,0),isActiveX:s},n=s.H264&&!n?"flash":i?"probably"===g||h?t||f&&!a&&5>u[0]?"video":"html":"link":"install-flash","install-flash"===n&&o&&"assets.delvenetworks.com"!==window.location.host&&(n="iframe"),{Metrics:{H264:g,HLS:r},embedMode:n,htmlCodec:l,Flash:s,loadingProtocol:"https:"===document.location.protocol?"https:":"http:"}}(),g=function(){var e=[];return function(t,n){if(void 0!==LimelightPlayerUtil.Player)n(LimelightPlayerUtil.Player);else if(e.push(n),void 0===LimelightPlayerUtil.playerLoadedCallback){var r=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("SCRIPT");i.type="text/javascript",i.src=t.htmlPlayerLocation,i.charset="utf-8",LimelightPlayerUtil.playerLoadedCallback=function(t){LimelightPlayerUtil.Player=t,delete LimelightPlayerUtil.playerLoadedCallback,r&&r.removeChild(i),e.forEach(function(e){e(t)}),e=[]},i.onerror=function(){e.forEach(function(e){e(null)}),e=[]},r.insertBefore(i,r.firstChild)}}}(),y=function(){var e=[];return function(t,n,r,i,s,o,u){function a(e){var t={},n;for(n in e)t[n]="object"==typeof e[n]&&e[n]?a(e[n]):e[n];return t}var f=document.createElement("IFRAME");f.id=n,f.width=r,f.height=i,f.src=t.playerIframeLocation,f.style.border="none",u(f);var l=document.getElementById(n).contentWindow,c={},h={},p={},d=0,v={},m=0,g=1,y=null,b=null,w=void 0;window.addEventListener("message",function(n){var r,i=n.data.state;i&&(i.channelList&&(c=i.channelList),i.channel&&(h=i.channel),i.media&&(p=i.media),i.index&&(d=i.index),i.playState&&(v=i.playState),i.position&&(m=i.position),i.volume&&(g=i.volume),i.quality&&(y=i.quality),i.actualQuality&&(b=i.actualQuality),i.customEvents&&(w=i.customEvents));switch(n.data.type){case"event":"function"==typeof limelightPlayerCallback?limelightPlayerCallback(n.data.id,n.data.eventName,n.data.data):"function"==typeof delvePlayerCallback&&delvePlayerCallback(n.data.id,n.data.eventName,n.data.data);break;case"init":l.postMessage({type:"init",embed:"../embed.js",flashVars:s,resourceLocations:t},"*");break;case"api":r={};for(var o in n.data.funcs){var i=n.data.funcs[o],u=function(e){return function(){l.postMessage({type:"func",name:e,args:Array.prototype.slice.call(arguments)},"*")}}(i);r[i]=u}r.registerPlayer=function(){},r.getPlayers=function(){return e},r.doGetActualQuality=function(){return b?b.name:null},r.doGetQuality=function(){return y?y.name:null},r.doGetQualityDetails=function(){return a({actual:b,selected:y})},r.doGetCurrentIndex=function(){return d},r.doGetCurrentMedia=function(){return a(p)},r.doGetCurrentChannel=function(){return a(h)},r.doGetCurrentChannelList=function(){return a(c)},r.doGetCurrentPlayState=function(){return a(v)},r.doGetCustomEvents=function(){return a(w)},r.doGetPlayheadPositionInMilliseconds=function(){return m},r.doSetVolume=function(){var e=r.doSetVolume;return function(t){t||(t=0);if("number"==typeof t)return 0>t&&(t=0),1<t&&(t=1),g=t,e(t)}}(),r.doGetVolume=function(){return g},delete r.doGetChannels,delete r.doGetChannelMedia,r.getPlayer=function(){return r},r.getPlayerNodeByIdOrName=function(e){var t=document.getElementById(e);return t&&t.doPlay?t:(e=document.getElementsByName(e))&&null!=e.length?e[0]:null},LimelightPlayer=DelvePlayer=r;for(var E in r)f[E]=r[E];e.push(r)}})}}(),b=function(){function e(e){var t=document.cookie.indexOf(e+"="),n=t+e.length+1;return!t&&e!=document.cookie.substring(0,e.length)||-1==t?null:(e=document.cookie.indexOf(";",n),-1==e&&(e=document.cookie.length),unescape(document.cookie.substring(n,e)))}function t(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:t&3|8).toString(16)}).toUpperCase()}function n(e,t){if(void 0!==e){var n=!1;return function(){n||(n=!0,e.apply(t||this,arguments))}}}var r=t(),i={H264:m.Metrics.H264,HLS:m.Metrics.HLS},s=v.userAgent,o=v.platform,u=function(){var n=e("Limelight_Embed_Code_UserId");return function(){if(!n){var e=n=t(),r=365,i=new Date;i.setTime(i.getTime()),r&&(r*=864e5),i=new Date(i.getTime()+r),document.cookie="Limelight_Embed_Code_UserId="+escape(e)+(r?";expires="+i.toGMTString():"")+""}return n}}(),a=function(){var e=+(new Date);return function(){return new Date-e}}(),f=function(){var e=0;return function(t,n,r){var i="_limelight_embed_ajax_"+e++,s=document.createElement("IFRAME");s.id=i,s.name=i,s.style.cssText="display:none;width:0px;height:0px;",(document.getElementsByTagName("body")[0]||document.documentElement).appendChild(s);var o=document.createElement("FORM");o.setAttribute("target",i),o.setAttribute("method","POST"),o.setAttribute("action",t);for(field in n)t=document.createElement("INPUT"),t.setAttribute("type","hidden"),t.setAttribute("name",field),t.setAttribute("value",JSON.stringify(n[field])),o.appendChild(t);s.appendChild(o),s.onload=function(){void 0!==r&&r(),setTimeout(function(){s.parentNode.removeChild(s)},0)},o.submit()}}();return{HEARTBEAT:"Heartbeat",MEDIA_COMPLETE:"MediaComplete",PLAY:"Play",PAUSE:"Pause",SEEK:"Seek",START_SESSION:"StartSession",create:function(e,t,l){var c={},h=null;i.embedMode=l;var p={postEvent:function(n,i,s){var o={channelListId:c.channelListId||t.channelListId,channelId:c.channelId||t.channelId,mediaId:c.mediaId||t.mediaId,millisecondsElapsed:a()},u;for(u in o)void 0===o[u]&&(o[u]="");for(u in i)o[u]=void 0===i[u]?"":i[u];f(e+"/recordMetricsEvent",{sourceInstanceId:r,source:"Limelight Embed Code",sourceVersion:1,eventType:n,data:o},s)},postStartSessionEvent:function(){this.postEvent(b.START_SESSION,{adConfigurationChannelId:t.adConfigurationChannelId,htmlCapabilities:JSON.stringify(i),pageURL:window.location.href,platform:o,playerProviderId:"Delve Networks",userAgent:s,userId:u(),version:"1.6"})},postPlayStateEvent:function(e,t,r){var i=n(r);this.postEvent(e,{positionInMilliseconds:t},i),void 0!==r&&setTimeout(i,1e3)},setChannelListId:function(e){c.channelListId=e},setChannelId:function(e){c.channelId=e},setMediaId:function(e){c.mediaId=e},startHeartbeat:function(e){null!==h&&clearInterval(h),h=setInterval(function(){e.isPlaying()&&p.postEvent(b.HEARTBEAT,{droppedFrames:0,droppedFramesRatio:"",selectedMediaQuality:e.quality,positionInMilliseconds:e.getPosition(),maxBytesPerSecond:"",currentBitrate:""})},3e4)},stopHeartbeat:function(){null!==h&&clearInterval(h),h=null}};return p}}}(),w=function(){var e=0;return function(t,n){var r="_"+e++;t+="&jsonp=LimelightPlayerUtil.jsonpCallback."+r;var i=document.getElementsByTagName("head")[0]||document.documentElement,s=document.createElement("SCRIPT");s.type="text/javascript",s.src=t,s.charset="utf-8",LimelightPlayerUtil.jsonpCallback[r]=function(e){delete LimelightPlayerUtil.jsonpCallback[r],n(e),i&&i.removeChild(s)},s.onerror=function(){n(null)},i.insertBefore(s,i.firstChild)}}();return{jsonpCallback:[],initEmbed:function(e,t){t=t||{};var n=document.getElementById(e);if(null===n)return console&&console.error&&"function"==typeof console.error&&console.error("No such element: "+e),null;var s=n.width,o=n.height,a=n.firstChild;t.id=e;for(var f="",l={};null!==a;){if("PARAM"===a.nodeName)switch(a.name){case"flashVars":for(var f=a.value,l={},c=f.split("&"),h=0;h<c.length;h++){var p=c[h],d=p.indexOf("=");-1===d?l[decodeURIComponent(p)]="true":l[decodeURIComponent(p.substring(0,d))]=decodeURIComponent(p.substring(d+1))}break;case"wmode":t.wmode=a.value}a=a.nextSibling}return t=r(t),a=t.embedMode||m.embedMode,"flash"!==a?(n=u(n),i(n,t.resources,f,l,s,o,t.id,t.wmode,a)):n},embedPlayer:function(e,t,n,o,a){a=u(a),o=r(o);var f=o.embedMode||m.embedMode;return"flash"===f?s(a,m.loadingProtocol+(m.Flash.hasAdaptiveStreaming?"//web.archive.org/web/20151028121945/http://assets.delvenetworks.com/player/fp10loader.swf":"//web.archive.org/web/20151028121945/http://assets.delvenetworks.com/player/fp9loader.swf"),e,t,n,o.id,o.wmode):i(a,o.resources,null,e,t,n,o.id,o.wmode,f)}}}()),define("delvePlayer",function(e){return function(){var t,n;return t||e.LimelightPlayerUtil}}(this)),define("templates/video/youtube_embed",["handlebars"],function(e){return e.template({1:function(e,t,n,r){return"&autoplay=1"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='<img src="'+a((s=(s=t["ui-path"]||(e!=null?e["ui-path"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"ui-path",hash:{},data:r}):s))+'img/chrome/video-embed-bg.png" class="poster" alt="" />\n<div class="video">\n	<iframe width="'+a((s=(s=t.width||(e!=null?e.width:e))!=null?s:u,typeof s===o?s.call(e,{name:"width",hash:{},data:r}):s))+'" height="'+a((s=(s=t.height||(e!=null?e.height:e))!=null?s:u,typeof s===o?s.call(e,{name:"height",hash:{},data:r}):s))+'" src="//web.archive.org/web/20151028121945/http://www.youtube.com/embed/'+a((s=(s=t["video-id"]||(e!=null?e["video-id"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"video-id",hash:{},data:r}):s))+"?rel=0";return i=t["if"].call(e,e!=null?e.autoplay:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+'" frameborder="0" allowfullscreen></iframe>\n</div>\n'},useData:!0})}),define("templates/video/delve_embed",["handlebars"],function(e){return e.template({1:function(e,t,n,r){return"&amp;autoplay=true"},3:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return"&amp;startQuality="+u((i=(i=t.startQuality||(e!=null?e.startQuality:e))!=null?i:o,typeof i===s?i.call(e,{name:"startQuality",hash:{},data:r}):i))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='<img src="'+a((s=(s=t["ui-path"]||(e!=null?e["ui-path"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"ui-path",hash:{},data:r}):s))+'img/chrome/video-embed-bg.png" class="poster" alt="" />\n<div class="video">\n	<span class="LimelightEmbeddedPlayer">\n\n		<object type="application/x-shockwave-flash" id="'+a((s=(s=t["player-id"]||(e!=null?e["player-id"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"player-id",hash:{},data:r}):s))+'" name="'+a((s=(s=t["player-id"]||(e!=null?e["player-id"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"player-id",hash:{},data:r}):s))+'" class="LimelightEmbeddedPlayerFlash" width="'+a((s=(s=t.width||(e!=null?e.width:e))!=null?s:u,typeof s===o?s.call(e,{name:"width",hash:{},data:r}):s))+'" height="'+a((s=(s=t.height||(e!=null?e.height:e))!=null?s:u,typeof s===o?s.call(e,{name:"height",hash:{},data:r}):s))+'" data="//web.archive.org/web/20151028121945/http://assets.delvenetworks.com/player/loader.swf">\n			<param name="movie" value="//web.archive.org/web/20151028121945/http://assets.delvenetworks.com/player/loader.swf"/>\n			<param name="wmode" value="opaque"/>\n			<param name="allowScriptAccess" value="always"/>\n			<param name="allowFullScreen" value="true"/>\n			<param name="flashVars" value="playerForm='+a((s=(s=t.playerForm||(e!=null?e.playerForm:e))!=null?s:u,typeof s===o?s.call(e,{name:"playerForm",hash:{},data:r}):s))+"&amp;mediaId="+a((s=(s=t["video-id"]||(e!=null?e["video-id"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"video-id",hash:{},data:r}):s));return i=t["if"].call(e,e!=null?e.autoplay:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(f+=i),i=t["if"].call(e,e!=null?e.startQuality:e,{name:"if",hash:{},fn:this.program(3,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+"\"/>\n		</object>\n\n		<script>LimelightPlayerUtil.initEmbed('"+a((s=(s=t["player-id"]||(e!=null?e["player-id"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"player-id",hash:{},data:r}):s))+"');</script>\n\n	</span>\n</div>"},useData:!0})}),define("templates/video/twitch_embed",["handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'<img src="'+u((i=(i=t["ui-path"]||(e!=null?e["ui-path"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"ui-path",hash:{},data:r}):i))+'img/chrome/video-embed-bg.png" class="poster" alt="" />\n<div class="video">\n    <object bgcolor="#000000" data="https://web.archive.org/web/20151028121945/http://www.twitch.tv/swflibs/TwitchPlayer.swf" height="'+u((i=(i=t.height||(e!=null?e.height:e))!=null?i:o,typeof i===s?i.call(e,{name:"height",hash:{},data:r}):i))+'" id="clip_embed_player_flash" type="application/x-shockwave-flash" width="'+u((i=(i=t.width||(e!=null?e.width:e))!=null?i:o,typeof i===s?i.call(e,{name:"width",hash:{},data:r}):i))+'"><param name="movie" value="https://web.archive.org/web/20151028121945/http://www.twitch.tv/swflibs/TwitchPlayer.swf" /><param name="allowScriptAccess" value="always" /><param name="allowNetworking" value="all" /><param name="allowFullScreen" value="true" /><param name="flashvars" value="channel=pokemon&amp;auto_play=false&amp;start_volume=25&amp;videoId=v'+u((i=(i=t["video-id"]||(e!=null?e["video-id"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"video-id",hash:{},data:r}):i))+'&amp;device_id=94c7854c78187793" /></object>\n</div>'},useData:!0})}),define("utils/VideoEmbedder",["require","jquery","delvePlayer","templates/video/youtube_embed","templates/video/delve_embed","templates/video/twitch_embed","detection/mobileDevice"],function(e){var t=e("jquery"),n=e("delvePlayer"),r=e("templates/video/youtube_embed"),i=e("templates/video/delve_embed"),s=e("templates/video/twitch_embed"),o=e("detection/mobileDevice"),u=function(e,t,n,r){this.videoID=e,this.$container=t,this.posterSrc=n;if(r)for(var i in r)this[i]=r[i];this._init()};return u.prototype=t.extend(u.prototype,{videoID:null,$containerEl:null,width:"100%",height:"100%",playerType:"delve",shouldAutoPlay:!1,template:null,playerForm:"816a8524a3b94f03aae0ef40b3a351e2",startingBitrate:0,_playerID:null,embed:function(){var e={"ui-path":window.pokemonUI["ui-path"]||"/","player-id":this._playerID,"video-id":this.videoID,width:this.width,height:this.height,image:this.posterSrc,autoplay:this.shouldAutoPlay,playerForm:this.playerForm};this.startingBitrate>0&&(e.startQuality=this.startingBitrate);var t=this.template(e);this.$container.html(t)},remove:function(){this.$container.empty()},_init:function(){this.template===null&&(this.playerType==="delve"?this.template=i:this.playerType==="twitch"?this.template=s:this.template=r),this._playerID="player-id-"+Date.now()}}),u}),define("utils/VideoPager",["require","jquery","detection/mobileDevice"],function(e){var t=e("jquery"),n=e("detection/mobileDevice"),r=function(e,t,n){this.videoID=e,this.$container=t;if(n)for(var r in n)this[r]=n[r]};return r.prototype=t.extend(r.prototype,{videoID:null,$containerEl:null,next:null,previous:null,init:function(){this.current=t("li#"+this.videoID),this._setPagers()},nextVideo:function(){var e=this.current.next();e.length&&(this.current=e,this.videoID=this.current.attr("id")),this._loadVideo(),this._setPagers()},previousVideo:function(){var e=this.current.prev();e.length&&(this.current=e,this.videoID=this.current.attr("id")),this._loadVideo(),this._setPagers()},getVideoInformation:function(){var e=this.current.children("a"),t={playerType:e.data("video-player"),posterSrc:e.data("video-poster"),views:e.data("video-views"),title:e.data("video-title"),season:e.data("video-season").toString(),episode:e.data("video-episode").toString(),summary:e.data("video-summary"),videoSlug:e.data("video-slug")};return t},_loadVideo:function(){this.video.videoID=this.videoID,this.video.embed()},_setPagers:function(){if(this.current.prev().length>0){this.previous.children("img").first().attr("src",this.current.prev().children("a").first().data("video-poster"));var e=this.current.prev().children("a").first();this._setPagerLabel(this.previous,e),this.previous.show()}else this.previous.hide();if(this.current.next().length>0){this.next.children("img").first().attr("src",this.current.next().children("a").first().data("video-poster"));var t=this.current.next().children("a").first();this._setPagerLabel(this.next,t),this.next.show()}else this.next.hide()},_setPagerLabel:function(e,t){var n=t.data("video-season")||"",r=t.data("video-episode")||"",i="";e.children("img").first().attr("src",t.data("video-poster"));if(n.length>0&&r.length>0){var s=window.pokemonUI.modals.season,o=window.pokemonUI.modals.episode;i=s+" "+n+" | "+o+" "+r}e.children("div.video-title").first().html(i)}}),r}),define("events/TrackingEvent",["require"],function(e){var t={CUSTOM:"customEvent",LABEL:"data-analytics-label",TRACK:"trackingEvent"};return t}),define("views/VideoModalView",["require","jquery","underscore","views/ModalBaseView","utils/VideoEmbedder","utils/VideoPager","events/TrackingEvent","analytics/AdobeAnalytics"],function(e){var t=e("jquery"),n=e("underscore"),r=e("views/ModalBaseView"),i=e("utils/VideoEmbedder"),s=e("utils/VideoPager"),o=e("events/TrackingEvent"),u=e("analytics/AdobeAnalytics"),a=r.extend({el:"#video-modal",ui:function(){return t.extend(n.result(r.prototype,"ui"),{$videoContainer:".video-container",$episodeInfo:"#episodeInfo",$episodeTitle:"#episodeTitle",$videoSummary:".video-summary",$videoViews:"#videoViews",$legal:".legal",$next:"a.video-next-episode",$previous:"a.video-prev-episode"})},video:null,videoSlug:null,_playerType:null,openVideoInModal:function(e,n,r,u,a,f,l,c,h,p,d){this._setVideoInformation(u,f,l,c,h,p),this.video=new i(e,this.ui.$videoContainer,r,{playerType:u,shouldAutoPlay:!0}),this.videoSlug=n,this.video.embed(),d?this.ui.$next.length&&this.ui.$previous.length&&(this.ui.$next.hide(),this.ui.$previous.hide()):this.ui.$next.length&&this.ui.$previous.length&&(this.pager=new s(e,this.ui.$videoContainer,{next:this.ui.$next,previous:this.ui.$previous,video:this.video}),this.pager.init(),this._addVideoPagerEventHandlers()),u==="delve"?this._addDelveEventListeners():t.publish(o.TRACK,["1.13.1",{action:"Load",label:l}]),this.popup.openPopup()},closeModal:function(){this.popup.closePopup()},_setVideoInformation:function(e,t,n,r,i,s){t=t||0,n=n||"",r=r||"",i=i||"",s=s||"",this._playerType=e,this.ui.$videoViews.text(t),this.ui.$episodeTitle.text(n);if(r.length&&i.length){var o=window.pokemonUI.modals.season||"Season",u=window.pokemonUI.modals.episode||"Episode",a=o+" "+r+" | "+u+" "+i;this.ui.$episodeInfo.text(a)}else this.ui.$episodeInfo.text("");this.ui.$videoSummary.html(s),e==="delve"?this.ui.$legal.text(""):window.pokemonUI.modals.legal.length&&(e==="youtube"?this.ui.$legal.text(window.pokemonUI.modals.legal):this.ui.$legal.text(window.pokemonUI.modals.twitchlegal))},_initPopup:function(){this._super(),this.popup._afterPopupClose=t.proxy(this._afterPopupClose,this);var e=this._tokenInfoClick,n=this._tokenInfoHide;t(".watch-token-info .token_icon").click(function(){e()}),t(".watch-token-info .token_verbal").click(function(){n()})},_afterPopupClose:function(){this.video.remove(),this.video=null},_addVideoPagerEventHandlers:function(){var e=this;this.ui.$next.off("click").on("click",function(){e.pager.nextVideo();var t=e.pager.getVideoInformation();e.videoSlug=t.videoSlug,e._setVideoInformation(t.playerType,t.views,t.title,t.season,t.episode,t.summary)}),this.ui.$previous.off("click").on("click",function(){e.pager.previousVideo();var t=e.pager.getVideoInformation();e.videoSlug=t.videoSlug,e._setVideoInformation(t.playerType,t.views,t.title,t.season,t.episode,t.summary)})},_addDelveEventListeners:function(){var e=this,n={},r=0,i=0,s=0;e.analyticsTitle="",window.delvePlayerCallback=function(a,f,l){switch(f){case"onMediaComplete":t.publish(o.TRACK,["1.13.1",{action:"Completed",label:l.title}]),u.end_media(e.analyticsTitle);break;case"onMediaLoad":t.publish(o.TRACK,["1.13.1",{action:"Load",label:l.title}]);var c=t.post(window.pokemonUI.api["episode-watch-save"],{slug:e.videoSlug});c.error(function(e){}),c.done(function(e){}),e.analyticsTitle=l.title,u.init_media(e.analyticsTitle),u.open_media(l.title,l.durationInMilliseconds/1e3,a);break;case"onPlayStateChanged":var h=window.DelvePlayer.doGetPlayheadPositionInMilliseconds()/1e3;l.isPlaying?u.play_media(e.analyticsTitle,h):u.stop_media(e.analyticsTitle,h);break;case"onPlayheadUpdate":var p=3e5,d=1e4,v=l.positionInMilliseconds,m=Math.floor(v/l.durationInMilliseconds*100),g=i,y=v-r;s+=v<r||y>d?d:y,m>g&&(m>=75&&g<75?g=75:m>=50&&g<50?g=50:m>=25&&g<25&&(g=25),g!==i&&(t.publish(o.TRACK,["1.13.1",{action:"Milestone",label:g}]),i=g)),r=v;var b=Math.floor(s/p);if(b>0&&!(b in n)){n[b]=!0;var w=t.post(window.pokemonUI.api["episode-watch-check"],{slug:e.videoSlug});w.error(function(e){}),w.done(function(e){if(e.success===!0){var n=t(".watch-token-info .token_amount");n.html(parseInt(n.html(),10)+1),t(".watch-token-info").fadeIn()}})}}}},_tokenInfoClick:function(e){t(".watch-token-info .token_icon").fadeOut("fast",function(){t(".watch-token-info .token_verbal").fadeIn("fast")})},_tokenInfoHide:function(e){t(".watch-token-info").fadeOut("fast",function(){t(".watch-token-info .token_icon").fadeIn("fast"),t(".watch-token-info .token_verbal").fadeOut("fast"),t(".watch-token-info .token_amount").html("0")})}});return a}),define("controllers/ModalVideoController",["require","jquery","views/VideoModalView"],function(e){var t=e("jquery"),n=e("views/VideoModalView"),r={VIDEO_TRIGGER_CLASS:".modal-video-trigger",initialize:function(e){e=e||{},_.bindAll(this),this.videoModal=new n,this._addElements(e),this._addEventHandlers()},_addElements:function(e){this.$containers=e.$containers||t(this.VIDEO_TRIGGER_CLASS)},_addEventHandlers:function(){this.$containers.on("click",t.proxy(this._onPosterClick,this))},_showVideo:function(e){var t={id:e.data("video-id"),slug:e.data("video-slug"),playerType:e.data("video-player"),posterSrc:e.data("video-poster"),views:0,title:e.data("video-title"),season:e.data("video-season"),episode:e.data("video-episode"),summary:e.data("video-summary")};t.views&&(t.views=t.views.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),this.videoModal.openVideoInModal(t.id,t.slug,t.posterSrc,t.playerType,!0,t.views,t.title,t.season,t.episode,t.summary)},_onPosterClick:function(e){var n=t(e.currentTarget);this._showVideo(n)}};return r}),define("controllers/TooltipController",["require","jquery","TweenMax"],function(e){var t=e("jquery"),n=e("TweenMax");t(document).on("mouseenter","[rel~=tooltip]",function(){var e=t(this),r=e.data("tooltip-class"),i=t('<div class="tooltip"></div>'),s=e.attr("title");if(!s||s==="")return!1;r&&i.addClass(r),e.removeAttr("title"),i.css("opacity",0).html(s).append('<span class="icon icon_multiply"></span>').appendTo("body");var o=function(){t(window).width()<i.outerWidth()*1.5?i.css("max-width",t(window).width()*.5):i.css("max-width",340);var r=e.offset().left+e.outerWidth()/2-i.outerWidth()/2,s=e.offset().top-i.outerHeight()-20;r<0?(r=e.offset().left+e.outerWidth()/2-20,i.addClass("left")):i.removeClass("left"),r+i.outerWidth()>t(window).width()?(r=e.offset().left-i.outerWidth()+e.outerWidth()/2+20,i.addClass("right")):i.removeClass("right"),s<0?(s=e.offset().top+e.outerHeight(),i.addClass("top")):i.removeClass("top"),i.css({left:r,top:s}),n.to(i,.2,{css:{top:"+=10",opacity:1},ease:Sine.easeInOut})};o(),t(window).resize(o);var u=function(){e.off("mouseleave",u),i.off("click",u),n.to(i,.1,{css:{top:"-=10",opacity:0},ease:Sine.easeInOut,onComplete:function(){i.remove()}}),e.attr("title",s)};e.on("mouseleave",u),i.on("click",u)}),t(document).on("mouseenter","[rel~=imagepopup]",function(){var e=t(this),r=e.data("tooltip-class"),i=t('<div class="tooltip imagepopup"></div>'),s=t("<img>"),o=e.attr("alt"),u=e.attr("src");if(!u||u==="")return!1;r&&i.addClass(r),s.attr({src:u,alt:o}),i.css("opacity",0).append(s).appendTo("body");var a=function(){var r,s,o=290,u=390;t(window).width()<400?(r=t(window).width()/2-o/2,s=t(window).scrollTop()+t(window).height()/2-u/2):(t(window).width()<i.outerWidth()*1.5?i.css("max-width",t(window).width()*.5):i.css("max-width",340),r=e.offset().left+e.outerWidth()/2-o/2,s=e.offset().top-u-20,r<0?(r=e.offset().left+e.outerWidth()/2-20,i.addClass("left")):i.removeClass("left"),r+i.outerWidth()>t(window).width()?(r=e.offset().left-i.outerWidth()+e.outerWidth()/2+20,i.addClass("right")):i.removeClass("right"),s<0||s<t(window).scrollTop()?(s=e.offset().top+e.outerHeight()+10,i.addClass("top")):i.removeClass("top")),i.css({left:r,top:s}),n.to(i,.2,{css:{top:"+=10",opacity:1},ease:Sine.easeInOut})};a(),t(window).resize(a);var f=function(){e.off("mouseleave",f),i.off("click",f),n.to(i,.1,{css:{top:"-=10",opacity:0},ease:Sine.easeInOut,onComplete:function(){i.remove()}})};e.on("mouseleave",f),i.on("click",f)})}),define("analytics/GoogleAnalytics",["require","events/TrackingEvent"],function(e){var t=e("events/TrackingEvent"),n={"1.2.1":{cat:"Login",action:"Logged In",logState:"Logged In",logType:"<%= logType %>",label:"",event:"loginEvent"},"1.3.1":{regCat:"Registration",regAction:"Complete",label:"",event:"regEvent"},"1.3.2":{cat:"Registration",action:"Account Type",label:"<%= label %>",event:t.CUSTOM},"1.5.1":{cat:"Content Box",action:"<%= action %>",label:"<%= label %>",event:t.CUSTOM},"1.5.2":{cat:"slider",action:"<%= action %>",label:"<%= label %>",event:t.CUSTOM},"1.6.1":{cat:"News",action:"Load",label:"<%= label %>",event:t.CUSTOM},"1.8.1":{cat:"Game",action:"Play",label:"<%= label %>",event:t.CUSTOM},"1.9.1":{cat:"Search Filter",action:"Select",label:"<%= label %>",event:t.CUSTOM},"1.10.1":{cat:"Pokedex",action:"Filtered Search",label:"<%= label %>",event:t.CUSTOM},"1.10.2":{cat:"Pokedex",action:"Surprise Me Click",label:"",event:t.CUSTOM},"1.10.3":{cat:"Pokedex",action:"Sort",label:"<%= label %>",event:t.CUSTOM},"1.10.4":{cat:"Pokedex",action:"Load More",label:"",event:t.CUSTOM},"1.11.1":{cat:"Pokedex",action:"Character Form Click",label:"<%= label %>",event:t.CUSTOM},"1.11.2":{cat:"Pokedex",action:"Add Favorite",label:"<%= label %>",event:t.CUSTOM},"1.12.1":{cat:"Site Search",action:"Filter Click",label:"<%= label %>",event:t.CUSTOM},"1.13.1":{cat:"Media",action:"<%= action %>",label:"<%= label %>",event:t.CUSTOM},"1.14.1":{cat:"Video CTA",action:"Click",label:"<%= label %>",event:t.CUSTOM},"1.15.1":{cat:"Trading Card DB",action:"<%= action %>",label:"Advanced Search",event:t.CUSTOM},"1.15.2":{cat:"Trading Card DB",action:"<%= action %>",label:"<%= label %>",event:t.CUSTOM},"1.15.3":{cat:"Trading Card DB",action:"Filtered Search",label:"<%= label %>",event:t.CUSTOM},"1.15.4":{cat:"Trading Card DB",action:"<%= action %>",label:"<%= label %>",event:t.CUSTOM},"1.15.5":{cat:"Trading Card DB",action:"Sort",label:"<%= label %>",event:t.CUSTOM},"1.16.1":{cat:"News Landing",action:"Filter",label:"<%= label %>",event:t.CUSTOM},"1.16.2":{cat:"News Landing",action:"Load More",label:"",event:t.CUSTOM},"1.17.1":{cat:"Video CTA",action:"Load More",label:"",event:t.CUSTOM},"1.18.1":{cat:"Mobile Menu",action:"<%= action %>",label:"<%= label %>",event:t.CUSTOM},"1.20.2":{cat:"Social Connect",action:"<%= action %>",label:"",event:t.CUSTOM},"1.22.1":{cat:"Avatar Builder",action:"Select Gender",label:"<%= label %>",event:t.CUSTOM},"1.22.2":{cat:"Avatar Builder",action:"<%= action %>",label:"",event:t.CUSTOM},"1.22.3":{cat:"Avatar Builder",action:"<%= action %>",label:"<%= label %>",event:t.CUSTOM},"1.23.1":{cat:"Avatar Store",action:"Select Category",label:"<%= label %>",event:t.CUSTOM},"1.23.2":{cat:"Avatar Store",action:"Redeem",label:"<%= label %>",event:t.CUSTOM},"1.24.1":{cat:"Tile Placement",action:"<%= action %>",label:"<%= label %>",event:t.CUSTOM}};return n["1.7.1"]=n["1.6.1"],n.track=function(e){window.mockAPI,window.gDataLayer.push(e)},n}),define("constants/Errors",[],function(){return{NO_TRACK_METHOD:'%o must implement a track method with the signature: "track(param)". Requirement %s was not tracked.'}}),define("controllers/TrackingController",["require","jquery","underscore","analytics/GoogleAnalytics","constants/Errors","events/TrackingEvent"],function(e){var t=e("jquery"),n=e("underscore"),r=e("analytics/GoogleAnalytics"),i=e("constants/Errors"),s=e("events/TrackingEvent"),o={_specs:[r],initialize:function(e){e=e||{},n.bindAll(this),this._addEventHandlers()},_addEventHandlers:function(){t.subscribe(s.TRACK,this._onTrackingEvent)},_onTrackingEvent:function(e,t,r){n.each(this._specs,function(e){var i=e[t];i&&(i=n.clone(i),r&&n.each(i,function(e,t){i[t]=n.template(e,r)}),e.track&&n.isFunction(e.track)&&e.track(i))})}};return o}),define("controllers/TileTrackingController",["require","jquery","underscore","constants/Errors","events/TrackingEvent"],function(e){var t=e("jquery"),n=e("underscore"),r=e("constants/Errors"),i=e("events/TrackingEvent"),s={classnames:{container:".container"},selectors:{mosaics:"[data-tile-template]",sections:"[data-tile-position]",tiles:" > a"},ui:{$container:null,$mosaics:null},initialize:function(){var e=this;this.ui.$container=t(this.classnames.container),this.ui.$mosaics=this.ui.$container.find(this.selectors.mosaics),this.ui.$mosaics.on("click",e.selectors.sections+e.selectors.tiles,function(n){var r=t(n.currentTarget),s=r.parents(e.selectors.sections),o=s.parents(e.selectors.mosaics),u=o.data("tile-template"),a=s.data("tile-position"),f=r.find("h3").text(),l=r.index()+1;switch(u){case"MosaicDefault":a==="Main"&&(l===1?a="Main_Hero":l===2?a="Main_Lower_Left":l===3&&(a="Main_Lower_Right"));break;default:}Math.max(a.indexOf("Right_"),a.indexOf("Left_"))>=0&&(a+=l),t.publish(i.TRACK,["1.24.1",{action:a,label:f}])})}};return s}),define("constants/Elements",["require","jquery"],function(e){var t=e("jquery");return t.body=t("body"),t.window=t(window),t}),define("constants/Layout",["require","constants/Elements"],function(e){var t=e("constants/Elements"),n={BREAKPOINT:720,CHROMELESS:"chromeless",MOBILE_WIDE:460,TABLET_NARROW:1024,WIDESCREEN:1280,LANDSCAPE:"orientationLandscape",PORTRAIT:"orientationPortrait",STATIC:t.body.hasClass("static")};return n}),define("constants/RegionsToCulturesMap",["require"],function(e){return{ar:"es-AR",br:"pt-BR",cl:"es-CL",at:"de-AT",be:"fr-BE",cz:"cs-CZ",dk:"da-DK",fi:"fi-FI",fr:"fr-FR",de:"de-DE",gr:"el-GR",it:"it-IT",mt:"mt-MT",nl:"nl-NL",no:"nn-NO",pl:"pl-PL",pt:"pt-PT",ru:"ru-RU",es:"es-ES",se:"se-SE",ch:"de-CH",uk:"en-GB",au:"en-AU",hk:"zh-HK",jp:"ja-JP",my:"en-MY",sg:"en-SG",za:"en-ZA"}}),define("constants/Region",[],function(){var e,t,n,r,i;return n=window,n.pokemonUI&&n.pokemonUI.region?t=n.pokemonUI.region:(r=n.location,i=r.pathname||"us",e=i.indexOf("/"),e===0&&(i=i.substr(1)),e=i.indexOf("/"),e!==-1&&(i=i.substr(0,e)),t=i.replace(/\//g,"")),t}),define("constants/Strings",[],function(){return{CULTURES_PREFIX:"cultures/globalize.culture."}}),define("detection/imageCrossOrigin",[],function(){return"crossOrigin"in new Image}),define("events/ScrollEvent",["require"],function(e){var t={CHANGE:"scrollChange"};return t}),define("events/UserEvent",["require"],function(e){var t={ADD_TO_FAVORITES:"addToFavorites",REMOVE_FROM_FAVORITES:"removeFromFavorites",NOTIFY:"notifyUser",NOTIFY_VIEWED:"notifyUserViewed",FRIENDS_ALL_COUNT_UPDATE:"UpdateFriendsAllCounts",FRIENDS_REQUESTS_COUNT_UPDATE:"UpdateFriendRequestsCount",FRIENDS_REQUESTS_NAV_UPDATE:"UpdateFriendRequestsCountOnDashboardNav",USER_DETAILS_LOADED:"UserDetailsLoaded",LEVEL_UP:"LevelUp",AUTH_REQUIRED:"AuthenticationRequired"};return t}),define("templates/ui/toastr",["handlebars"],function(e){return e.template({1:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a="    ";return i=t["if"].call(e,e!=null?e.url:e,{name:"if",hash:{},fn:this.program(2,r),inverse:this.noop,data:r}),i!=null&&(a+=i),a+='\n        <img src="',i=(s=(s=t.image||(e!=null?e.image:e))!=null?s:u,typeof s===o?s.call(e,{name:"image",hash:{},data:r}):s),i!=null&&(a+=i),a+='" alt="',i=(s=(s=t.message||(e!=null?e.message:e))!=null?s:u,typeof s===o?s.call(e,{name:"message",hash:{},data:r}):s),i!=null&&(a+=i),a+='" />\n    ',i=t["if"].call(e,e!=null?e.url:e,{name:"if",hash:{},fn:this.program(4,r),inverse:this.noop,data:r}),i!=null&&(a+=i),a+"\n"},2:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a='<a href="';return i=(s=(s=t.url||(e!=null?e.url:e))!=null?s:u,typeof s===o?s.call(e,{name:"url",hash:{},data:r}):s),i!=null&&(a+=i),a+'">'},4:function(e,t,n,r){return"</a>"},6:function(e,t,n,r){return"double"},8:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a='    <span class="label">';return i=(s=(s=t.label||(e!=null?e.label:e))!=null?s:u,typeof s===o?s.call(e,{name:"label",hash:{},data:r}):s),i!=null&&(a+=i),a+"</span>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a="\n";return i=t["if"].call(e,e!=null?e.image:e,{name:"if",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(a+=i),a+='<span class="closeToastrBtn"></span>\n\n',i=t["if"].call(e,e!=null?e.url:e,{name:"if",hash:{},fn:this.program(2,r),inverse:this.noop,data:r}),i!=null&&(a+=i),a+='\n<div class="',i=t["if"].call(e,e!=null?e.label:e,{name:"if",hash:{},fn:this.program(6,r),inverse:this.noop,data:r}),i!=null&&(a+=i),a+='">\n',i=t["if"].call(e,e!=null?e.label:e,{name:"if",hash:{},fn:this.program(8,r),inverse:this.noop,data:r}),i!=null&&(a+=i),a+='\n  <span class="message">',i=(s=(s=t.message||(e!=null?e.message:e))!=null?s:u,typeof s===o?s.call(e,{name:"message",hash:{},data:r}):s),i!=null&&(a+=i),a+="</span>\n</div>\n",i=t["if"].call(e,e!=null?e.url:e,{name:"if",hash:{},fn:this.program(4,r),inverse:this.noop,data:r}),i!=null&&(a+=i),a},useData:!0})}),define("widgets/Toastr",["require","constants/Elements","underscore","templates/ui/toastr","events/UserEvent"],function(e){var t=e("constants/Elements"),n=e("underscore"),r=e("templates/ui/toastr"),i=e("events/UserEvent"),s={template:null,containerID:"toastr-container",timeout:null,defaultTimeout:null,$queue:[],$container:null,$toastrContainer:t('<div id="'+this.containerID+'" class="toastr" />'),initialize:function(){this.template=r,t("body").append(this.$toastrContainer),t.subscribe(i.NOTIFY,t.proxy(this.receiveMessage,this))},receiveMessage:function(e,t){if(t===null||t===undefined)return;this.$queue.push(t),this.$queue.length===1&&this.show(t)},show:function(e){var n=this,r,i=this.template(e);this.$toastrContainer.html(i).css({right:t(window).outerWidth()>1280?(t(window).outerWidth()-1280)*.5:0}).show(),this.$toastrContainer.on("click",function(){n.hide(e)}),r=this.$toastrContainer.find("img"),r.css({left:r.width()*-0.5,top:(this.$toastrContainer.outerHeight()-r.width())*.5}),TweenMax.to(n.$toastrContainer,.5,{css:{bottom:"80px"},onComplete:function(){n.defaultTimeout&&(n.timeout=setTimeout(function(){n.hide(e)},n.defaultTimeout))}})},hide:function(e){var n=this;t.publish(i.NOTIFY_VIEWED,e),TweenMax.to(this.$toastrContainer,.5,{css:{bottom:"-300px"},onComplete:function(){n.$toastrContainer.hide().html(""),n.$queue.shift(),n.$queue.length>0?n.show(n.$queue[0]):n.timeout=null}})}};return s}),define("utils/getCookie",["require","jquery"],function(e){var t=e("jquery"),n=function(e){var n=null,r=window.document;if(r.cookie&&r.cookie!==""){var i=r.cookie.split(";");for(var s=0;s<i.length;s++){var o=t.trim(i[s]);if(o.substring(0,e.length+1)==e+"="){n=decodeURIComponent(o.substring(e.length+1));break}}}return n};return n}),define("controllers/AuthenticationController",["require","backbone","utils/getCookie"],function(e){var t=e("backbone"),n=e("utils/getCookie"),r=t.sync,i=function(e,t,i){if(e==="create"||e==="update"||e==="delete"){var s=n("csrftoken");i.beforeSend=function(e){e.setRequestHeader("X-CSRFToken",s)}}else if(e==="read"){var o=location.pathname;i.beforeSend=function(e){e.setRequestHeader("X-Referer",o)}}return r(e,t,i)};return i}),define("debug/Sync",["require","exports","module","underscore","backbone"],function(e,t,n){var r=e("underscore"),i=e("backbone"),s={create:"POST",read:"GET",update:"PUT","delete":"DELETE"},o=function(e,t,n){n=n||{};var o,u="",a=e!=="read"?t.toJSON(n):n.data,f=s[e],l,c="",h;return n.url?l=n.url:l=r.result(t,"url")||i.urlError(),h=l.indexOf("?"),h>-1&&(c=l.substr(h),l=l.substr(0,h)),e!=="read"?(n.save&&(a=t.toJSON()),n.success(a,n),{mockAPI:window.mockAPI}):(a=a?$.param(a):a,o=$.ajax({type:f,contentType:n.dataType||"application/json",dataType:n.dataType||"json",url:u+l+".json"+c,data:a,success:function(e){n.success(e,n)},error:n.error}),o)};return o}),define("models/BaseModel",["require","backbone","controllers/AuthenticationController","debug/Sync"],function(e){var t=e("backbone"),n=e("controllers/AuthenticationController"),r=e("debug/Sync"),i=t.Model.extend({initialize:function(){window.mockAPI?this.sync=r:this.sync=n}});return i}),define("utils/setCookie",["require","jquery"],function(e){var t=e("jquery"),n=function(e,t,n){var r="";if(n){var i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3),r="; expires="+i.toGMTString()}document.cookie=e+"="+t+r+"; path=/"};return n}),define("models/userModel",["require","underscore","models/BaseModel","events/UserEvent","utils/setCookie"],function(e){var t=e("underscore"),n=e("models/BaseModel"),r=e("events/UserEvent"),i=e("utils/setCookie"),s=n.extend({defaults:{isAuthenticated:null,isOptedInPublicProfile:null},url:function(){var e=window.pokemonUI.api["user-details"];if(!window.mockAPI){var t="";if(typeof ga!="undefined"&&ga.getAll().length){var n=ga.getAll()[0].get("clientId");t="?clientID="+n,i("ga-client-id",n,1)}e+=t}return e},fetch:function(e){return e.cache=!1,this._super(e)},removeFavorite:function(e){var n=t.clone(this.get("favorites"));$.ajax({type:"DELETE",url:window.pokemonUI.api["base-url-secure"]+"/api/users/"+this.id+"/pokemon/favorites/"+e}),n.pokemons=t.reject(n.pokemons,function(t){return t.pokedex===e}),this.set({favorites:n},{silent:!0})},addFavorite:function(e){var n=this,i=t.clone(this.get("favorites")),s=window.pokemonUI.api["base-url-secure"]+"/api/users/"+(this.id||0)+"/pokemon/favorites/"+e,o="/api/user/pokemon/favorites/304.json";$.ajax({type:window.mockAPI?"GET":"POST",url:window.mockAPI?o:s,dataType:"json",success:function(e,t,r){e.pokemon&&(i.pokemons.push(e.pokemon),n.set({favorites:i},{silent:!0}),n.trigger("favoriteAdded",e.pokemon))},error:function(e,t,n){e.status==401&&$.publish(r.AUTH_REQUIRED)}})},updateTokenBalance:function(e){var n=t.clone(this.get("profile"));n.tokenBalance=e,this.set({profile:n},{silent:!0})},updateRequestsCount:function(e){var n=t.clone(this.get("profile"));n.friendRequests=e,this.set({profile:n},{silent:!0})},updateLevel:function(e,n){var r=t.clone(this.get("profile")),i=r.level;r.level=e,r.level_progress=n,r.level_str=r.level_str.replace(i,e),this.set({profile:r},{silent:!0})},updateAvatarImgSrcs:function(e,n,r){var i=t.clone(this.get("profile"));i.avatar=e,i.avatar50=n,i.avatar100=r,this.set({profile:i},{silent:!0})}}),o=new s;return o.on("sync",function(){$.publish(r.USER_DETAILS_LOADED,this)}),o}),define("templates/dashboard/_favoritepokemon",["handlebars"],function(e){e.registerPartial("dashboard_favoritepokemon",e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='<li class="match">\n\n	<a href="" class="icon icon_multiply remove-item" data-favorite-id="';return i=(s=(s=t.id||(e!=null?e.id:e))!=null?s:u,typeof s===o?s.call(e,{name:"id",hash:{},data:r}):s),i!=null&&(f+=i),f+='">\n		<span class="offscreen">\n			Remove from Favorite\n		</span>\n	</a>\n  <a href="'+a((s=(s=t.url||(e!=null?e.url:e))!=null?s:u,typeof s===o?s.call(e,{name:"url",hash:{},data:r}):s))+'" class="favorite-pokemon">\n		<img src="',i=(s=(s=t.ThumbnailImage||(e!=null?e.ThumbnailImage:e))!=null?s:u,typeof s===o?s.call(e,{name:"ThumbnailImage",hash:{},data:r}):s),i!=null&&(f+=i),f+='" alt="',i=(s=(s=t.name||(e!=null?e.name:e))!=null?s:u,typeof s===o?s.call(e,{name:"name",hash:{},data:r}):s),i!=null&&(f+=i),f+'" />\n	</a>\n</li>\n'},useData:!0}))}),define("templates/helpers/each",["require","handlebars"],function(e){var t="undefined"==typeof window?global:window,n=t.Handlebars||e("handlebars");n.registerHelper("each",function(e,t,r){typeof t!="number"&&(r=t,t=0);var i=r.fn,s=r.inverse,o=t,u="",a;r.data&&(a=n.createFrame(r.data));if(e&&typeof e=="object")if(e instanceof Array)for(var f=e.length,l=2;o<f;o++)a&&(a.index=o,a.number=o+1,a.total=e.length,a.even=!Boolean(o%2),a.odd=!a.even,a.middle=Boolean(l==3),a.first=o===t,a.last=o===f-1),l++,l>3&&(l=1),u+=i(e[o],{data:a});else for(var c in e)e.hasOwnProperty(c)&&(a&&(a.key=c),u+=i(e[c],{data:a}),o++);return o===0&&(u=s(this)),u})}),define("templates/dashboard/dashboard",["handlebars","templates/dashboard/_favoritepokemon","templates/helpers/each"],function(e){return e.template({1:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a='					<li>\n						<a href="';return i=(s=(s=t.url||(e!=null?e.url:e))!=null?s:u,typeof s===o?s.call(e,{name:"url",hash:{},data:r}):s),i!=null&&(a+=i),a+='">\n							<i class="icon icon_',i=(s=(s=t.icon||(e!=null?e.icon:e))!=null?s:u,typeof s===o?s.call(e,{name:"icon",hash:{},data:r}):s),i!=null&&(a+=i),a+=" ",i=(s=(s=t.color||(e!=null?e.color:e))!=null?s:u,typeof s===o?s.call(e,{name:"color",hash:{},data:r}):s),i!=null&&(a+=i),a+='"></i>\n							<h4>',i=(s=(s=t.title||(e!=null?e.title:e))!=null?s:u,typeof s===o?s.call(e,{name:"title",hash:{},data:r}):s),i!=null&&(a+=i),a+'</h4>\n						</a>\n						<span class="dashboard-notch-bottom"></span>\n					</li>\n'},3:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a='								<li class="match">\n									<a href="';return i=(s=(s=t.url||(e!=null?e.url:e))!=null?s:u,typeof s===o?s.call(e,{name:"url",hash:{},data:r}):s),i!=null&&(a+=i),a+='" rel="tooltip" title="',i=(s=(s=t.name||(e!=null?e.name:e))!=null?s:u,typeof s===o?s.call(e,{name:"name",hash:{},data:r}):s),i!=null&&(a+=i),a+='" data-tooltip-class="white">\n										<img src="',i=(s=(s=t.small_badge||(e!=null?e.small_badge:e))!=null?s:u,typeof s===o?s.call(e,{name:"small_badge",hash:{},data:r}):s),i!=null&&(a+=i),a+='" alt="',i=(s=(s=t.name||(e!=null?e.name:e))!=null?s:u,typeof s===o?s.call(e,{name:"name",hash:{},data:r}):s),i!=null&&(a+=i),a+'" />\n									</a>\n								</li>\n'},5:function(e,t,n,r){var i,s="";return i=this.invokePartial(n.dashboard_favoritepokemon,"								","dashboard_favoritepokemon",e,undefined,t,n,r),i!=null&&(s+=i),s},7:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a='					<li class="match ';return i=t["if"].call(e,r&&r.first,{name:"if",hash:{},fn:this.program(8,r),inverse:this.noop,data:r}),i!=null&&(a+=i),i=t["if"].call(e,r&&r.last,{name:"if",hash:{},fn:this.program(10,r),inverse:this.noop,data:r}),i!=null&&(a+=i),a+='">\n						<a href="',i=(s=(s=t.url||(e!=null?e.url:e))!=null?s:u,typeof s===o?s.call(e,{name:"url",hash:{},data:r}):s),i!=null&&(a+=i),a+='">\n							<img src="',i=(s=(s=t.image||(e!=null?e.image:e))!=null?s:u,typeof s===o?s.call(e,{name:"image",hash:{},data:r}):s),i!=null&&(a+=i),a+='" alt="',i=(s=(s=t.alt||(e!=null?e.alt:e))!=null?s:u,typeof s===o?s.call(e,{name:"alt",hash:{},data:r}):s),i!=null&&(a+=i),a+='" class="',i=(s=(s=t.imageClassname||(e!=null?e.imageClassname:e))!=null?s:u,typeof s===o?s.call(e,{name:"imageClassname",hash:{},data:r}):s),i!=null&&(a+=i),a+='"/>\n							<div class="banner banner-black',i=t["if"].call(e,r&&r.first,{name:"if",hash:{},fn:this.program(12,r),inverse:this.noop,data:r}),i!=null&&(a+=i),i=t["if"].call(e,r&&r.last,{name:"if",hash:{},fn:this.program(14,r),inverse:this.noop,data:r}),i!=null&&(a+=i),a+='">\n								<h3>',i=(s=(s=t.title||(e!=null?e.title:e))!=null?s:u,typeof s===o?s.call(e,{name:"title",hash:{},data:r}):s),i!=null&&(a+=i),a+="</h3>\n								<p>",i=(s=(s=t.description||(e!=null?e.description:e))!=null?s:u,typeof s===o?s.call(e,{name:"description",hash:{},data:r}):s),i!=null&&(a+=i),a+"</p>\n							</div>\n						</a>\n					</li>\n"},8:function(e,t,n,r){return" first"},10:function(e,t,n,r){return" last"},12:function(e,t,n,r){return" dog-ear-bl-dashboard"},14:function(e,t,n,r){return" dog-ear-tr-dashboard"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.lambda,f='\n<div class="dashboard-drawer-wrapper">\n\n	<section class="dashboard-drawer">\n\n		<div class="dashboard-info match-height">\n\n			<div class="dashboard-info-header light visible-mobile">\n\n				<div class="view-profile">\n\n					<div class="view-profile-wrapper">\n						<a href="';return i=(s=(s=t.url||(e!=null?e.url:e))!=null?s:u,typeof s===o?s.call(e,{name:"url",hash:{},data:r}):s),i!=null&&(f+=i),f+='" class="view-profile-button">\n							<span class="avatar-icon-wrapper">\n								<img class="avatar-icon" src="',i=(s=(s=t.avatar50||(e!=null?e.avatar50:e))!=null?s:u,typeof s===o?s.call(e,{name:"avatar50",hash:{},data:r}):s),i!=null&&(f+=i),f+='" alt="',i=(s=(s=t.alt||(e!=null?e.alt:e))!=null?s:u,typeof s===o?s.call(e,{name:"alt",hash:{},data:r}):s),i!=null&&(f+=i),f+='" />\n							</span>\n							<h4>',i=(s=(s=t.title||(e!=null?e.title:e))!=null?s:u,typeof s===o?s.call(e,{name:"title",hash:{},data:r}):s),i!=null&&(f+=i),f+='</h4>\n						</a>\n\n						<a href="" class="dashboard-close">\n							<span class="icon icon_arrow_sm_left"></span>\n							<span class="offscreen">Close Dashboard</span>\n						</a>\n					</div>\n\n				</div>\n\n				<h2>',i=(s=(s=t.name||(e!=null?e.name:e))!=null?s:u,typeof s===o?s.call(e,{name:"name",hash:{},data:r}):s),i!=null&&(f+=i),f+='</h2>\n				<a href="',i=(s=(s=t.logout_url||(e!=null?e.logout_url:e))!=null?s:u,typeof s===o?s.call(e,{name:"logout_url",hash:{},data:r}):s),i!=null&&(f+=i),f+='">',i=(s=(s=t.logout_str||(e!=null?e.logout_str:e))!=null?s:u,typeof s===o?s.call(e,{name:"logout_str",hash:{},data:r}):s),i!=null&&(f+=i),f+='</a>\n				<span class="notch-bottom-left"></span>\n			</div>\n\n		</div>\n\n		<div class="dashboard-profile match">\n\n			<div class="avatar-wrapper">\n				<img src="',i=(s=(s=t.avatar||(e!=null?e.avatar:e))!=null?s:u,typeof s===o?s.call(e,{name:"avatar",hash:{},data:r}):s),i!=null&&(f+=i),f+='" class="avatar" alt="',i=a((i=e!=null?e.profile:e)!=null?i.alt:i,e),i!=null&&(f+=i),f+='" />\n			</div>\n\n			<div class="trainer-card-level" data-level-value="',i=a((i=e!=null?e.profile:e)!=null?i.level:i,e),i!=null&&(f+=i),f+='" data-level="',i=a((i=e!=null?e.profile:e)!=null?i.level:i,e),i!=null&&(f+=i),f+='" data-level-progress="',i=a((i=e!=null?e.profile:e)!=null?i.level_progress:i,e),i!=null&&(f+=i),f+='">\n				<div class="trainer-card-progress"></div>\n				<h2 class="color-text color-white">',i=a((i=e!=null?e.profile:e)!=null?i.level_str:i,e),i!=null&&(f+=i),f+='</h2>\n		  </div>\n\n			<div class="dashboard-profile-options">\n\n				<div class="tokens-wrapper">\n					<a>\n						<span class="tokens-count">',i=a((i=e!=null?e.profile:e)!=null?i.tokenBalance:i,e),i!=null&&(f+=i),f+="</span>\n					</a>\n				</div>\n\n				<ul>\n",i=t.each.call(e,(i=e!=null?e.profile:e)!=null?i.options:i,{name:"each",hash:{},fn:this.program(1,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+='				</ul>\n			</div>\n\n		</div>\n\n		<div class="dashboard-info match">\n\n			<div class="dashboard-info-header hidden-mobile">\n\n				<div class="view-profile">\n\n					<div class="view-profile-wrapper">\n						<a href="',i=(s=(s=t.url||(e!=null?e.url:e))!=null?s:u,typeof s===o?s.call(e,{name:"url",hash:{},data:r}):s),i!=null&&(f+=i),f+='" class="view-profile-button">\n							<span class="avatar-icon-wrapper">\n								<img class="avatar-icon" src="',i=(s=(s=t.avatar50||(e!=null?e.avatar50:e))!=null?s:u,typeof s===o?s.call(e,{name:"avatar50",hash:{},data:r}):s),i!=null&&(f+=i),f+='" alt="" />\n							</span>\n							<h4>',i=(s=(s=t.title||(e!=null?e.title:e))!=null?s:u,typeof s===o?s.call(e,{name:"title",hash:{},data:r}):s),i!=null&&(f+=i),f+='</h4>\n						</a>\n\n						<a href="" class="dashboard-close">\n							<span class="icon icon_arrow_sm_left"></span>\n							<span class="offscreen">Close Dashboard</span>\n						</a>\n					</div>\n\n				</div>\n\n				<h2>',i=(s=(s=t.name||(e!=null?e.name:e))!=null?s:u,typeof s===o?s.call(e,{name:"name",hash:{},data:r}):s),i!=null&&(f+=i),f+='</h2>\n				<a href="',i=(s=(s=t.logout_url||(e!=null?e.logout_url:e))!=null?s:u,typeof s===o?s.call(e,{name:"logout_url",hash:{},data:r}):s),i!=null&&(f+=i),f+='">',i=(s=(s=t.logout_str||(e!=null?e.logout_str:e))!=null?s:u,typeof s===o?s.call(e,{name:"logout_str",hash:{},data:r}):s),i!=null&&(f+=i),f+='</a>\n				<span class="notch-bottom-left"></span>\n			</div>\n\n			<div class="content-block content-block-full">\n\n				<div class="dashboard-info-stamps">\n\n					<h3>',i=a((i=e!=null?e.stamps:e)!=null?i.title:i,e),i!=null&&(f+=i),f+='</h3>\n\n					<div class="dashboard-recent-stamps">\n\n							<ul class="match-height">\n',i=t.each.call(e,(i=e!=null?e.stamps:e)!=null?i.recent:i,{name:"each",hash:{},fn:this.program(3,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+='							</ul>\n\n					</div>\n\n					<a href="',i=a((i=e!=null?e.stamps:e)!=null?i.url:i,e),i!=null&&(f+=i),f+='" class="button button-short button-orange right">\n						',i=a((i=e!=null?e.stamps:e)!=null?i.more:i,e),i!=null&&(f+=i),f+='\n					</a>\n\n				</div>\n\n				<div class="dashboard-info-activity">\n\n					<div class="dashboard-favorite-pokemons">\n\n						<h3>',i=a((i=e!=null?e.favorites:e)!=null?i.title:i,e),i!=null&&(f+=i),f+='</h3>\n\n						<div class="dashboard-favorite-items">\n\n							<ul class="match-height">\n',i=t.each.call(e,(i=e!=null?e.favorites:e)!=null?i.pokemons:i,{name:"each",hash:{},fn:this.program(5,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+='							</ul>\n\n							<a href="',i=a((i=e!=null?e.favorites:e)!=null?i.url:i,e),i!=null&&(f+=i),f+='" class="button button-short button-orange right">\n								',i=a((i=e!=null?e.favorites:e)!=null?i.more:i,e),i!=null&&(f+=i),f+='\n							</a>\n						</div>\n\n					</div>\n\n				</div>\n\n			</div>\n\n\n			<div class="dashboard-more-links">\n				<span class="notch-bottom-left"></span>\n\n				<ul class="match-height">\n',i=t.each.call(e,e!=null?e.moreLinks:e,{name:"each",hash:{},fn:this.program(7,r),inverse:this.noop,data:r}),i!=null&&(f+=i),f+"				</ul>\n\n			</div>\n\n		</div>\n\n	</section>\n\n</div>\n"},usePartial:!0,useData:!0})}),define("templates/dashboard/favorite_pokemon",["handlebars","templates/dashboard/_favoritepokemon"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s="";return i=this.invokePartial(n.dashboard_favoritepokemon,"","dashboard_favoritepokemon",e,undefined,t,n,r),i!=null&&(s+=i),s},usePartial:!0,useData:!0})}),define("detection/nintendoDevice",["require"],function(e){return Modernizr.nintendo}),define("utils/generateIcons",["require"],function(e){var t=document.createElement("canvas"),n=document.createElement("canvas"),r=t.getContext("2d"),i=n.getContext("2d"),s=new Image,o,u;t.width=t.height=135,n.width=n.height=57;var a=function(){r.clearRect(0,0,t.width,t.height),i.clearRect(0,0,n.width,n.height)},f=function(e){return r.drawImage(s,e.x,e.y),t.toDataURL()},l=function(e){return i.drawImage(t,e.x,e.y,n.width*2,n.height*2,0,0,n.width,n.height),n.toDataURL()},c=function(e,t,n){n=n||{callback:function(e){},avatar50:!0,avatar100:!0};var r={x:t==="male"?-69:-51,y:t==="male"?-95:-115};a(),s.src="",typeof s.onload=="function"&&typeof n.callback=="function"&&n.callback({avatar50:o,avatar100:u}),s.onload=function(){setTimeout(function(){u=f(r),n.avatar50&&(r={x:10,y:10},o=l(r)),typeof n.callback=="function"&&n.callback({avatar50:o,avatar100:u})},0)},s.src=e};return c});var TWEEN=TWEEN||function(){var e=[];return{REVISION:"10",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)},update:function(t){if(e.length===0)return!1;var n=0,r=e.length;t=t!==undefined?t:window.performance!==undefined&&window.performance.now!==undefined?window.performance.now():Date.now();while(n<r)e[n].update(t)?n++:(e.splice(n,1),r--);return!0}}}();TWEEN.Tween=function(e){var t=e,n={},r={},i={},s=1e3,o=0,u=0,a=null,f=TWEEN.Easing.Linear.None,l=TWEEN.Interpolation.Linear,c=[],h=null,p=!1,d=null,v=null;for(var m in e)n[m]=parseFloat(e[m],10);this.to=function(e,t){return t!==undefined&&(s=t),r=e,this},this.start=function(e){TWEEN.add(this),p=!1,a=e!==undefined?e:window.performance!==undefined&&window.performance.now!==undefined?window.performance.now():Date.now(),a+=u;for(var s in r){if(r[s]instanceof Array){if(r[s].length===0)continue;r[s]=[t[s]].concat(r[s])}n[s]=t[s],n[s]instanceof Array==0&&(n[s]*=1),i[s]=n[s]||0}return this},this.stop=function(){return TWEEN.remove(this),this},this.delay=function(e){return u=e,this},this.repeat=function(e){return o=e,this},this.easing=function(e){return f=e,this},this.interpolation=function(e){return l=e,this},this.chain=function(){return c=arguments,this},this.onStart=function(e){return h=e,this},this.onUpdate=function(e){return d=e,this},this.onComplete=function(e){return v=e,this},this.update=function(e){if(e<a)return!0;p===!1&&(h!==null&&h.call(t),p=!0);var m=(e-a)/s;m=m>1?1:m;var g=f(m);for(var y in r){var b=n[y]||0,w=r[y];w instanceof Array?t[y]=l(w,g):(typeof w=="string"&&(w=b+parseFloat(w,10)),t[y]=b+(w-b)*g)}d!==null&&d.call(t,g);if(m==1){if(o>0){isFinite(o)&&o--;for(var y in i)typeof r[y]=="string"&&(i[y]=i[y]+parseFloat(r[y],10)),n[y]=i[y];return a=e+u,!0}v!==null&&v.call(t);for(var E=0,S=c.length;E<S;E++)c[E].start(e);return!1}return!0}},TWEEN.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-0.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/r)))},Out:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*2*Math.PI/r)+1)},InOut:function(e){var t,n=.1,r=.4;return e===0?0:e===1?1:(!n||n<1?(n=1,t=r/4):t=r*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?-0.5*n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/r):n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*2*Math.PI/r)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-TWEEN.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?TWEEN.Easing.Bounce.In(e*2)*.5:TWEEN.Easing.Bounce.Out(e*2-1)*.5+.5}}},TWEEN.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=TWEEN.Interpolation.Utils.Linear;return t<0?s(e[0],e[1],r):t>1?s(e[n],e[n-1],n-r):s(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){var n=0,r=e.length-1,i=Math.pow,s=TWEEN.Interpolation.Utils.Bernstein,o;for(o=0;o<=r;o++)n+=i(1-t,r-o)*i(t,o)*e[o]*s(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=TWEEN.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),s(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(s(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(s(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):s(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=TWEEN.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1,r;if(e[t])return e[t];for(r=t;r>1;r--)n*=r;return e[t]=n}}(),CatmullRom:function(e,t,n,r,i){var s=(n-e)*.5,o=(r-t)*.5,u=i*i,a=i*u;return(2*t-2*n+s+o)*a+(-3*t+3*n-2*s-o)*u+s*i+t}}},define("TweenJS",function(e){return function(){var t,n;return t||e.TWEEN}}(this)),define("views/TrainerCardView",["require","constants/Elements","constants/Layout","views/BaseView","views/ModalBaseView","TweenJS","TweenMax","detection/mobileDevice","detection/nintendoDevice","utils/getCookie"],function(e){var t=e("constants/Elements"),n=e("constants/Layout"),r=e("views/BaseView"),i=e("views/ModalBaseView"),s=e("TweenJS"),o=e("TweenMax"),u=e("detection/mobileDevice"),a=e("detection/nintendoDevice"),f=e("utils/getCookie"),l=r.extend({ui:{$avatarIcons:null,$avatarImg:null},levelAnimationTime:1,levelAnimationEasing:s.Easing.Cubic.Out,$levelContainer:null,$levelHeader:null,$levelProgressContainer:null,$stampsTooltips:null,$addFriendButton:null,$reportScreenNameButton:null,$reportScreenNameTooltips:null,$reportScreenNameModal:null,$thankYouModal:null,$tryAgainModal:null,currentLevelProgress:0,currentLevel:0,currentRank:0,rankIncrements:10,initialize:function(e){e=e||{},_.bindAll(this),t.subscribe("dashboardAvatarSaved",t.proxy(this._updateAvatarImgs,this)),this._addUIElements(),this.currentLevelProgress=this.$levelContainer.data("level-progress"),this.currentLevel=this.$levelContainer.data("level"),this.currentRank=Math.floor(this.currentLevel/this.rankIncrements),this.$levelContainer.addClass("rank-"+this.currentRank),this._animateTrainerCard(),(u||a)&&this._unbindTooltip(),this.$addFriendButton&&this.$addFriendButton.on("click",this._friendRequestSend),this.$reportScreenNameButton&&(this.$reportScreenNameModal=new i({el:t("#report-screen-name-modal"),$popupTriggers:this.$reportScreenNameButton}),this.$reportScreenNameModal.on("click",".continueBtn",this._reportScreenNameSend),this.$thankYouModal=new i({el:t("#report-screen-name-success-modal")}),this.$tryAgainModal=new i({el:t("#report-screen-name-failure-modal")}));var n=f("csrftoken");t.ajaxSetup({beforeSend:function(e){window.mockAPI||e.setRequestHeader("X-CSRFToken",n)}}),delete this.initialize},_addUIElements:function(){this.ui.$avatarIcons=t(".user-profile-navigation .avatar img, .trainer-card-info img.avatar"),this.ui.$avatarImg=t(".pokemon-trainer-card-image-wrapper img"),this.$container=t(this.options.container),this.$levelContainer=this.$container.find(".trainer-card-level"),this.$levelHeader=this.$levelContainer.find("h2"),this.$levelProgressContainer=this.$levelContainer.find("div"),this.$stampsTooltips=t(".trainer-recent-stamps").find("[rel~=tooltip]"),this.$addFriendButton=this.$container.find(".trainer-card-cta"),this.$reportScreenNameButton=this.$container.find(".report-screen-name"),this.$reportScreenNameTooltips=t(".report-screen-name").find("[rel~=tooltip]")},_updateAvatarImgs:function(e,n,r,i){this.ui.$avatarImg.attr("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),this.ui.$avatarImg.attr("src",n),this.ui.$avatarIcons.each(function(){t(this).attr("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),t(this).attr("src",i)})},_animateTrainerCard:function(){var e=this;setTimeout(function(){o.to(e.$levelProgressContainer,e.levelAnimationTime,{css:{width:Math.min(99,Math.ceil(e.currentLevelProgress))+"%"},ease:e.levelAnimationEasing})},800),setTimeout(function(){o.to(e.$levelHeader,e.levelAnimationTime,{css:{opacity:1},ease:e.levelAnimationEasing})},1200)},_unbindTooltip:function(){this.$stampsTooltips.unbind(),this.$reportScreenNameTooltips.unbind()},_friendRequestSend:function(e){t.proxy(this._ajaxBasicRequest(e,"POST","/api/user/friends/"),this)},_ajaxBasicRequest:function(e,n,r){var i=this,s=t(e.currentTarget),o=s.data("friend-id")||"",u;t.ajax({type:window.mockAPI?"GET":n,url:window.mockAPI?"/api/user/friends/all.json":r+o,success:function(e,t,n){s.off().text("Request Pending").addClass("triggered")},error:function(e,t,n){i._modalAlertUser(e,"")}})},_reportScreenNameSend:function(e){var n=this,r=t(e.currentTarget),i=this.$reportScreenNameButton.data("endpoint-url");t.ajax({type:"POST",url:i,success:function(e,t,r){n.$reportScreenNameModal.close(),n.$thankYouModal.open()},error:function(e,t,r){n.$reportScreenNameModal.close(),n.$tryAgainModal.open()}})}});return l}),define("views/DashboardView",["require","constants/Elements","globalize","models/userModel","events/UserEvent","views/BaseView","templates/dashboard/dashboard","templates/dashboard/favorite_pokemon","events/LayoutEvent","constants/Layout","detection/mobileDevice","detection/nintendoDevice","animation/bounce","utils/generateIcons","events/TrackingEvent","views/TrainerCardView","analytics/AdobeAnalytics"],function(e){var t=e("constants/Elements"),n=e("globalize"),r=e("models/userModel"),i=e("events/UserEvent"),s=e("views/BaseView"),o=e("templates/dashboard/dashboard"),u=e("templates/dashboard/favorite_pokemon"),a=e("events/LayoutEvent"),f=e("constants/Layout").BREAKPOINT,l=e("detection/mobileDevice"),c=e("detection/nintendoDevice"),h=e("animation/bounce"),p=e("utils/generateIcons"),d=e("events/TrackingEvent"),v=e("views/TrainerCardView"),m=e("analytics/AdobeAnalytics"),g=s.extend({el:"#user-dashboard",ui:{$profileNav:".profile-nav",$profileNavTokens:".profile-nav .icon_badges",$profileNavMessages:".profile-nav .icon_messages",$profileNavFriends:".profile-nav .icon_friends",$drawer:".drawer",$dashboard:".dashboard",$favoritePokemonContainer:".dashboard-favorite-items ul",$favoritePokemon:".dashboard-favorite-items li",$recentActivity:".dashboard-recent-activity",$avatarIcons:null,$avatarImg:null},$mainNav:t("nav.main"),$otherPageContent:t("body > .container, .footer-divider, .global-footer"),events:function(){return Modernizr.touch?{"touchend .dashboard-close":"_onDashboardCloseClick","touchend .dashboard-favorite-items a.remove-item":"_onFavoriteRemoveClick"}:{"click .dashboard-close":"_onDashboardCloseClick","click .dashboard-favorite-items a.remove-item":"_onFavoriteRemoveClick"}},template:o,favoritePokemonTemplate:u,dashboardAnimationSpeed:t.window.innerWidth()>f?.8:.5,maxLayoutWidth:1280,_dashboardHeight:0,_profileNavHeight:0,_userScrollTop:0,_isMobileLayout:t.window.innerWidth()<f,_isOpen:!1,_selfTriggeredRemove:!1,initialize:function(){_.bindAll(this),this.model=r,this.bindUIElements(),this.ui.$triggers=t("nav .dashboard-open"),this._addEventHandlers(),this.model.fetch({error:this._onDataError})},render:function(){var e=t.extend(!0,{},this.model.toJSON());e.profile&&(e.profile.newMessages=n.format(e.profile.newMessages,"n0"),e.profile.tokenBalance=n.format(e.profile.tokenBalance,"n0")),this.ui.$dashboard.html(this.template(e)),this.ui.$favoritePokemonContainer=this.$el.find(".dashboard-favorite-items ul"),this.ui.$dashboard.on("mouseenter",".dashboard-recent-activity li, .dashboard-more-links li",this._handleTileHover),this.ui.$avatarIcons=t(".avatar-icon-wrapper .avatar-icon"),this.ui.$avatarImg=t(".dashboard-profile .avatar"),this._updateProfileNav(),this._resetDashboardHeight()},closeDashboard:function(){var e=this,n=this._isMobileLayout?{transform:"translateY("+(window.innerHeight?window.innerHeight:t.window.height())+"px)"}:{transform:"translateX(-100%)"};this.$mainNav.hasClass("open")||this.$otherPageContent.show(),this.$el.css({position:"fixed"}),t.window.scrollTop(this._userScrollTop),TweenMax.to(this.ui.$drawer,this.dashboardAnimationSpeed,{css:n,ease:Power4.easeOut,onComplete:t.proxy(e._afterDashboardClose,e)})},openDashboard:function(){var e=this,n=this._isMobileLayout?{transform:"translate(0%, 100%)"}:{transform:"translate(-100%, 0%)"},r=this._isMobileLayout?{transform:"translateY(0)"}:{transform:"translateX(0%)"};this.$el.addClass("open").height(Math.max(t.window.innerHeight(),this.ui.$dashboard.find(".dashboard-drawer-wrapper").innerHeight())),this.ui.$drawer.css(n),this._isOpen=!0;var i=new TweenMax.to(this.ui.$drawer,this.dashboardAnimationSpeed,{css:r,ease:Power4.easeOut,onComplete:t.proxy(e._afterDashboardOpen,e)})},_addEventHandlers:function(){this.ui.$triggers.find("li").on(Modernizr.touch?"touchend":"click",t.proxy(this._onDashboardOpenClick,this)),this.model.on("change",this._onDataReceived),this.model.on("favoriteAdded",t.proxy(this._addFavorite,this)),t.subscribe(a.CHANGE,t.proxy(this._onLayoutChange,this)),t.subscribe("newTokenBalance",t.proxy(this._onTokenBalanceChange,this)),t.subscribe("avatarSaved",t.proxy(this._onAvatarSaved,this)),t.subscribe(i.LEVEL_UP,t.proxy(this._onUpdateLevel,this)),t.subscribe(i.ADD_TO_FAVORITES,t.proxy(this._onPokemonFavorited,this)),t.subscribe(i.REMOVE_FROM_FAVORITES,t.proxy(this._onPokemonRemoved,this)),t.subscribe("purchaseMade",t.proxy(this._onPurchaseMade,this)),t.subscribe(i.FRIENDS_REQUESTS_NAV_UPDATE,t.proxy(this._onFriendRequestsChange,this))},_updateProfileNav:function(){var e=this.model.attributes,r,i,s;this.ui.$profileNav.find("span.value").remove(),this.ui.$profileNavTokens.removeClass("active"),this.ui.$profileNavMessages.removeClass("active"),this.ui.$profileNavFriends.removeClass("active"),e.isAuthenticated===!0?(this.ui.$triggers.addClass("signed-in"),this.ui.$triggers.removeClass("not-signed-in"),e.profile&&(typeof e.profile.tokenBalance=="number"&&(r=n.format(e.profile.tokenBalance,"n0"),this.ui.$profileNavTokens.addClass("active").after('<span class="value">'+r+"</span>")),typeof e.profile.newMessages=="number"&&(i=n.format(e.profile.newMessages,"n0"),this.ui.$profileNavMessages.addClass("active").after('<span class="value">'+i+"</span>")),typeof e.profile.friendRequests=="number"&&(s=n.format(e.profile.friendRequests,"n0"),this.ui.$profileNavFriends.addClass("active").after('<span class="value">'+s+"</span>"))),t("img.avatar-icon").attr("src",e.avatar100),e.has_op?this.ui.$profileNav.find(".my-op").show():this.ui.$profileNav.find(".my-op").hide()):(this.ui.$triggers.removeClass("signed-in"),this.ui.$triggers.addClass("not-signed-in"))},_resetDashboardHeight:function(){this._isOpen?this.$el.height(Math.max(t.window.innerHeight(),this.ui.$dashboard.find(".dashboard-drawer-wrapper").innerHeight())):(this._profileNavHeight=this.ui.$profileNav.outerHeight(),this.$el.height(this._profileNavHeight))},_resetDrawerPosition:function(){var e,n;this._isOpen?(e={transform:"translate(0%, 0%)"},this._isMobileLayout?n={transform:"translateY(0px)"}:n={transform:"translateX(0px)"}):this._isMobileLayout?(e={transform:"translate(0%, 100%)"},n={transform:"translateY("+(window.innerHeight?window.innerHeight:t.window.height())+"px)"}):(e={transform:"translate(-100%, 0%)"},n={transform:"translateX(-"+Math.min(t.window.innerWidth(),this.maxLayoutWidth)+"px)"}),TweenMax.to(this.ui.$drawer,0,{css:n}),this.ui.$drawer.css(e)},_afterDashboardOpen:function(){this.$el.css({position:"absolute"}),this._userScrollTop=t.window.scrollTop(),t.window.scrollTop(0),this.$mainNav.hasClass("open")||this.$otherPageContent.hide(),setTimeout(function(){var e=new v({container:".dashboard-profile"});if(!l&&!c){var n=t("[rel~=tooltip]");n.on("mouseenter",function(){var e=t(this),n=e.data("tooltip-class"),r=t('<div class="tooltip"></div>'),i=e.attr("title");if(!i||i==="")return!1;n&&r.addClass(n),e.removeAttr("title"),r.css("opacity",0).html(i).append('<span class="icon icon_multiply"></span>').appendTo("body");var s=function(){t(window).width()<r.outerWidth()*1.5?r.css("max-width",t(window).width()*.5):r.css("max-width",340);var n=e.offset().left+e.outerWidth()/2-r.outerWidth()/2,i=e.offset().top-r.outerHeight()-20;n<0?(n=e.offset().left+e.outerWidth()/2-20,r.addClass("left")):r.removeClass("left"),n+r.outerWidth()>t(window).width()?(n=e.offset().left-r.outerWidth()+e.outerWidth()/2+20,r.addClass("right")):r.removeClass("right"),i<0?(i=e.offset().top+e.outerHeight(),r.addClass("top")):r.removeClass("top"),r.css({left:n,top:i}),TweenMax.to(r,.2,{css:{top:"+=10",opacity:1},ease:Sine.easeInOut})};s(),t(window).resize(s);var o=function(){e.off("mouseleave",o),r.off("click",o),TweenMax.to(r,.1,{css:{top:"-=10",opacity:0},ease:Sine.easeInOut,onComplete:function(){r.remove()}}),e.attr("title",i)};e.on("mouseleave",o),r.on("click",o)})}},this.dashboardAnimationSpeed)},_afterDashboardClose:function(){var e=this._isMobileLayout?{transform:"translateY(100%)"}:{transform:"translateX(-100%)"};this.$el.removeClass("open").height(this._profileNavHeight),this.ui.$drawer.css(e),this._isOpen=!1},_removeFavorite:function(e){var t=e.children("a");t.hide(),TweenMax.to(e,.4,{css:{width:"0","margin-left":"0"},ease:Power4.easeOut,onComplete:function(){e.remove()}})},_addFavorite:function(e){if(this.ui.$favoritePokemonContainer.find("li").length<6){var n=this.favoritePokemonTemplate(e);this.ui.$favoritePokemonContainer.append(n)}m.track("FavoritePokemon"),t.publish(d.TRACK,["1.11.2",{label:e.name}])},_updateFriendRequestsCount:function(e){this.model.updateRequestsCount(e),this._updateProfileNav()},_updateTokenBalance:function(e){this.$el.find(".dashboard-profile .tokens-count").text(n.format(e,"n0")),this.model.updateTokenBalance(e),this._updateProfileNav()},_onUpdateLevel:function(e,t){this.model.updateLevel(t.level,t.levelProgress),this.render()},_updateAvatarImgs:function(e,n){var r=this;this.ui.$avatarImg.attr("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),this.ui.$avatarImg.attr("src",e),p(e,n,{avatar50:!0,callback:function(n){r.ui.$avatarIcons.each(function(){t(this).attr("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),t(this).attr("src",n.avatar50)}),r.model.updateAvatarImgSrcs(e,n.avatar50,n.avatar100),t.publish("dashboardAvatarSaved",[e,n.avatar50,n.avatar100])}})},_onDataError:function(){this.render()},_onDataReceived:function(){this.render()},_onDataSuccess:function(){},_onDashboardOpenClick:function(e){var n=t(e.currentTarget),r=n.find("a"),i=r.attr("href"),s=this.model.get("isAuthenticated");e.preventDefault();if(s&&r.hasClass("open-dashboard"))return this.openDashboard(),!1;window.location=i},_onDashboardCloseClick:function(e){return e.preventDefault(),this.closeDashboard(),!1},_onLayoutChange:function(e,t){var n=this;this._isMobileLayout=t,setTimeout(function(){n._resetDashboardHeight(),n._resetDrawerPosition()},500)},_onFavoriteRemoveClick:function(e){var n=t(e.target).attr("data-favorite-id"),r=t(e.target).parent("li");e.preventDefault(),this._removeFavorite(r),t.publish(i.REMOVE_FROM_FAVORITES,n),this.model.removeFavorite(n)},_onFriendRequestsChange:function(e,t){this._updateFriendRequestsCount(t)},_onTokenBalanceChange:function(e,t){this._updateTokenBalance(t)},_onPurchaseMade:function(e,n){var r=t("#recent-purchase"),i=!1;r.length||(i=!0,t("#recent-game").length?(r=t("#recent-game").clone(),r.attr("id","recent-purchase")):t("#recent-episode").length?r=t("#recent-episode").clone():r=t("<li id='recent-purchase' class='match' style='-webkit-transform: matrix(1, 0, 0, 1, 0, 0);'><a href=''><h3></h3><img src='' alt=''><h4></h4><span class='button button-short button-orange'></span></a></li>"));var s=this.model.get("avatarGender"),o=this.model.get("storeUrl"),u=window.pokemonUI.dictionary.dashboard;n[s]?t("img",r).attr("src",n[s].detailImage):(s=s=="male"?"female":"male",n[s]?t("img",r).attr("src",n[s].detailImage):t("img",r).attr("src","")),t("h3",r).html(u.youRecentlyPurchased),t("h4",r).html(n.displayName),t("span.button",r).html(u.shopMore),t("a",r).attr("href",this.model.get("storeUrl"));if(i){var a=t(".dashboard-recent-activity ul");a.append(r),a.children().removeClass("first last"),a.children(":first").addClass("first"),a.children(":last").addClass("last")}},_onPokemonFavorited:function(e,t){this.model.addFavorite(t)},_onPokemonRemoved:function(e,t){var n=this.ui.$favoritePokemonContainer.find("[data-favorite-id="+t+"]").parent("li");if(this._selfTriggeredRemove)return;this.model.removeFavorite(t),this._removeFavorite(n)},_onAvatarSaved:function(e,t,n){this._updateAvatarImgs(t,n)},_handleTileHover:function(e){h(t(e.currentTarget))}});return g}),define("views/FooterView",["require","constants/Elements","underscore","events/LayoutEvent","views/BaseView","detection/mobileDevice","events/TrackingEvent"],function(e){var t=e("constants/Elements"),n=e("underscore"),r=e("events/LayoutEvent"),i=e("views/BaseView"),s=e("detection/mobileDevice"),o=e("events/TrackingEvent"),u=i.extend({PADDING_CLASS:"padding",PADDING_ATTRIBUTE:"height",tagName:"footer",className:"global-footer",ui:{},initialize:function(e){e=e||{},n.bindAll(this),this.ui.container=t(".container"),this.ui.section=this.ui.container.children().last(),t.window.on(r.BREAKPOINT,this._addEventHandlers)},_addEventHandlers:function(){var e=s?100:0;t.window.off(r.BREAKPOINT,this._addEventHandlers),n.defer(function(){t.window.trigger(r.RESIZE)},e),t(".global-footer .find-us-box a").on("click",this._onFindUsLinkClick)},_calculatePadding:function(){this.ui.padder&&this.ui.padder.css(this.PADDING_ATTRIBUTE,0);var e=t.window.innerHeight()-t.body.outerHeight();e>0&&(this.ui.padder||(this.ui.padder=t('<span class="'+this.PADDING_CLASS+'"></span>'),this.ui.section.append(this.ui.padder)),this.ui.padder.css(this.PADDING_ATTRIBUTE,e))},_onResize:function(e){this._calculatePadding()},_onFindUsLinkClick:function(e){t.publish(o.TRACK,["1.20.2",{action:t(e.currentTarget).attr("data-analytics-action")}])}});return u}),define("shims/requestAnimationFrame",[],function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,17)}}),define("widgets/Slider",["jquery","TweenJS","shims/requestAnimationFrame"],function(e,t,n){var r=function(e,t,n){this.$container=e,this.$slider=t,this._sliderEl=this.$slider[0];if(n)for(var r in n)this[r]=n[r];this._init()};return r.prototype=e.extend(r.prototype,{$container:null,$slider:null,$prevBtn:null,$nextBtn:null,sliderXPos:0,contentWidth:0,hasTouch:"ontouchstart"in window,hasMSPointers:window.navigator.msPointerEnabled,has3d:null,isAndroid:navigator.userAgent.toLowerCase().indexOf("android")>-1,snapPoints:[],isInfinite:!1,shouldSnap:!0,snapSpeed:400,snapTweener:t.Easing.Cubic.InOut,clickSpeed:300,clickTweener:t.Easing.Exponential.Out,_$window:e(window),_isDisabled:null,_eStart:null,_eMove:null,_eEnd:null,_isDragging:!1,_isFlicking:!1,_isAnimating:!1,_isSnapping:!1,_isNavigating:!1,_shouldCancelAnimation:!1,_snapPointIndex:0,_sliderDragXStart:0,_sliderXStartBound:0,_sliderXEndBound:null,_boundTolerance:150,_reboundDuration:200,_speedSampleStartTime:null,_speedSampleInterval:300,_speedSampleStartX:0,_deceleration:.002,_speedLimit:1.5,_sliderFriction:.4,_pointerXStart:null,_pointerYStart:null,_pointerXTotal:0,_pointerX:null,_doSwipe:!1,_preventClick:!1,_cancelSwipe:!1,_sliderEl:null,_transformProp:null,_transformOpen:null,_transformClose:null,_sliderPadding:0,_sliderEndSpacing:0,moveSliderTo:function(e){!this._isDragging&&!this._isNavigating&&!this._isDisabled&&(e=Math.min(this._sliderXStartBound,Math.max(e,this._sliderXEndBound))),(e>=this._sliderXStartBound||e<=this._sliderXEndBound)&&(this._isDragging||this._isNavigating)&&(this.isInfinite?e>this._sliderXStartBound?e=this._getOppositeEndPosition(e):e<this._sliderXEndBound&&(e=this._getOppositeBeginningPosition(e)):this._isDragging&&(e=this._getResistedPosition(e))),this._updateSliderPosition(e)},animateSliderTo:function(e,r,i){function f(){var l=Date.now()-a,c;if(l>=r){s._isAnimating=!1,s._updateSliderPosition(u),s._onAnimationComplete();return}if(s._shouldCancelAnimation){s._isAnimating=!1,s._onAnimationComplete();return}c=s._getTweenVal(o,e,l,r,i||t.Easing.Exponential.Out);if(s._isFlicking||s._isNavigating)c>s._sliderXStartBound?s.isInfinite?c=s._getOppositeEndPosition(c):c=s._sliderXStartBound-(c-s._sliderXStartBound):c<s._sliderXEndBound&&(s.isInfinite?c=s._getOppositeBeginningPosition(c):c=s._sliderXEndBound-(c-s._sliderXEndBound));s._updateSliderPosition(c),n(f)}var s=this,o=this.sliderXPos,u,a=Date.now();u=this._getEndPosition(e),this._isAnimating=!0,n(f)},moveToSnapIndex:function(e){var t=this._getSnapIndexPosition(e);this._snapPointIndex=t.index,this._isNavigating=!0,this.moveSliderTo(t.newXPos),this._isNavigating=!1},animateToSnapIndex:function(t,n){var r=n?60:0,i=this._snapPointIndex+t,s=this,o=this._getSnapIndexPosition(i);this._snapPointIndex!==o.index&&(this._shouldCancelAnimation=n,setTimeout(function(){s._snapPointIndex=o.index,s._isNavigating=!0,e(s).trigger("navStart",[o.index]),s.animateSliderTo(o.newXPos,s.clickSpeed,s.clickTweener)},r))},refresh:function(){this.contentWidth=this.$slider.width();if(this.contentWidth<=this.$container.width()){if(this._isDisabled===!1||this._isDisabled===null){e(this).trigger("disabled"),this._takedownSliderUI(),this.$slider.find(".clone").remove(),this._isDisabled=!0,this.moveSliderTo(0);var t=e("<div />"),n=this.$slider.find("li"),r=n.css("height");t.css({"background-color":n.css("background-color"),"background-image":n.css("background-image"),"background-repeat":n.css("background-repeat"),height:r,position:"absolute",width:"100%","z-index":0}),this.$slider.before(t)}}else{if(this._isDisabled===null||this._isDisabled===!0)e(this).trigger("enabled"),this._setupSliderUI(),this._isDisabled=!1;this.isInfinite?this._adjustForInfinite():this._sliderXEndBound=-(this.$slider.innerWidth()-this.$container.width())}},_init:function(){this.has3d=this._check3dSupport(),this._setupTransforms(),this.refresh()},_setupSliderUI:function(){this._addPointerHandlers(),this._addPrevNextBtnHandlers()},_takedownSliderUI:function(){this._removeUIHandlers()},_check3dSupport:function(){if("WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix)return!0;var e=document.createElement("p"),t={OTransform:"-o-transform",msTransform:"-ms-transform",transform:"transform"},n;document.body.insertBefore(e,null);for(var r in t)e.style[r]!==undefined&&(e.style[r]="translate3d(1px,1px,1px)",n=window.getComputedStyle(e).getPropertyValue(t[r]));return n!==undefined&&n.length>0&&n!=="none"},_setupTransforms:function(){this._transformProp=(/webkit/i.test(navigator.appVersion)?"Webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":/Trident/i.test(navigator.userAgent)?"ms":"")+"Transform",this._transformOpen="translate"+(this.has3d?"3d(":"("),this._transformClose=this.has3d?",0)":")"},_adjustForInfinite:function(){var t=this,n,r,i=this.$container.width(),s,o,u,a=e(),f=0,l=e(),c=0;this.$slider.find(".clone").remove(),s=this.$slider.children();for(n=0,r=s.length;n<r;n++){o=s.eq(n),u=o.clone(),u.addClass("clone"),l=l.add(u),c+=o.outerWidth();if(c>=i)break}for(n=s.length-1,r=0;n>=r;n--){o=s.eq(n),u=o.clone(),u.addClass("clone"),a=u.add(a),f+=o.outerWidth();if(f>=i)break}this.$slider.width(this.contentWidth+f+c),this.$slider.append(l),this.$slider.prepend(a),this._sliderXStartBound=-f,this._sliderXEndBound=-(this.$slider.outerWidth()-c-this.$container.width()),this.moveSliderTo(this._sliderXStartBound+(this.snapPoints&&typeof this.snapPoints[this._snapPointIndex]=="number"?this.snapPoints[this._snapPointIndex]:0))},_addPointerHandlers:function(){this._eStart=this.hasTouch?"touchstart.slider":"mousedown.slider",this._eMove=this.hasTouch?"touchmove.slider":"mousemove.slider",this._eEnd=this.hasTouch?"touchend.slider":"mouseup.slider",this.hasMSPointers&&this.$slider.css("-ms-touch-action","pan-y"),this.$slider.on(this._eStart,"li",e.proxy(this._onPointerStart,this)),this.$slider.on("click","a",e.proxy(this._onSliderClick,this))},_addPointerMoveHandlers:function(){this.$slider.on(this._eMove,"li",e.proxy(this._onPointerMove,this)),this._$window.on(this._eEnd,e.proxy(this._onPointerEnd,this))},_removePointerMoveHandlers:function(){this.$slider.off(this._eMove),this._$window.off(this._eEnd)},_addPrevNextBtnHandlers:function(){this.$prevBtn&&this.$prevBtn.on(this._eStart,e.proxy(this._onPrevBtnClick,this)),this.$nextBtn&&this.$nextBtn.on(this._eStart,e.proxy(this._onNextBtnClick,this))},_removeUIHandlers:function(){this.$slider.off(this._estart),this._removePointerMoveHandlers(),this.$prevBtn&&this.$prevBtn.off(this._eStart),this.$nextBtn&&this.$nextBtn.off(this._eStart)},_getResistedPosition:function(e){var n,r,i,s=this._boundTolerance*2,o;return e<this._sliderXEndBound?(n=this._sliderXEndBound,r=n-this._boundTolerance,e<n-s&&(e=n-s)):(n=this._sliderXStartBound,r=n+this._boundTolerance,e>n+s&&(e=n+s)),i=Math.abs(e-n),o=this._getTweenVal(n,r,i,s,t.Easing.Circular.Out),o},_getOppositeEndPosition:function(e){function n(){e=t._sliderXEndBound-(t.$container.width()+(t._sliderXStartBound-e))+(t._sliderPadding+t._sliderEndSpacing)}var t=this;n();while(e>this._sliderXStartBound)n();return e},_getOppositeBeginningPosition:function(e){function n(){e=t._sliderXStartBound+(t.$container.width()+(e-t._sliderXEndBound))-(t._sliderPadding+t._sliderEndSpacing)}var t=this;n();while(e<this._sliderXEndBound)n();return e},_getEndPosition:function(e){var t=e;return this.isInfinite?e>this._sliderXStartBound?t=this._getOppositeEndPosition(t):e<this._sliderXEndBound&&(t=this._getOppositeBeginningPosition(t)):e>this._sliderXStartBound?t=this._sliderXStartBound-(e-this._sliderXStartBound):e<this._sliderXEndBound&&(t=this._sliderXEndBound-(e-this._sliderXEndBound)),t},_getSnapIndexPosition:function(e){var t;if(e>=this.snapPoints.length)this.isInfinite?(e-=this.snapPoints.length,t=this._getOppositeEndPosition(this.snapPoints[e]+this._sliderXStartBound)):(e=this.snapPoints.length-1,t=this.snapPoints[e]+this._sliderXStartBound);else if(e<0)this.isInfinite?(e=this.snapPoints.length+e,t=this._getOppositeBeginningPosition(this.snapPoints[e]+this._sliderXStartBound)):(e=0,t=this.snapPoints[e]+this._sliderXStartBound);else if(!this.isInfinite&&this.snapPoints[e]+this._sliderXStartBound<this._sliderXEndBound){t=this._sliderXEndBound;for(var n=0,r=this.snapPoints.length;n<r;n++){e=n;if(this.snapPoints[n]+this._sliderXStartBound<this._sliderXEndBound)break}}else t=this.snapPoints[e]+this._sliderXStartBound;return{newXPos:t,index:e}},_updateSliderPosition:function(e){this._sliderEl.style[this._transformProp]=this._transformOpen+e+"px,0px"+this._transformClose,this.sliderXPos=e},_calcFlickDistance:function(e,t){var n=Math.abs(e/t)*this._sliderFriction,r,i=0,s=0,o=this.$container.width(),u=this._sliderXStartBound-this.sliderXPos,a=this._sliderXEndBound-this.sliderXPos;return r=n*n/this._deceleration,this.isInfinite&&(n=Math.min(n,this._speedLimit)),this.isInfinite||(e>0&&r+this.sliderXPos>this._sliderXStartBound?(s=o/(10/(r/n*this._deceleration)),u+=s,n=n*u/r,r=u):e<0&&this.sliderXPos-r<this._sliderXEndBound&&(s=o/(10/(r/n*this._deceleration)),a-=s,n=n*a/r,r=a)),e<0&&r>0&&(r*=-1),i=Math.abs(n)/this._deceleration,{dist:r,time:Math.round(i)}},_getTweenVal:function(e,n,r,i,s){var o=n-e,u=r/i;return s=s||t.Easing.Linear.None,s(u)*o+e},_startSwiping:function(e){var t=Date.now();this._pointerXStart=e,this._pointerXTotal=0,this._speedSampleStartTime=t,this._speedSampleStartX=e,this._pointerX=e,this._sliderDragXStart=this.sliderXPos,this._isDragging=!0,this._shouldCancelAnimation=!0,this._addPointerMoveHandlers()},_trackSwiping:function(e){var t=this._sliderDragXStart-(this._pointerXStart-e),n=Date.now();this._pointerXTotal+=Math.abs(e-this._pointerX),this._pointerX=e,t!==this.sliderXPos&&this.moveSliderTo(t),n-this._speedSampleStartTime>this._speedSampleInterval&&(this._speedSampleStartTime=n,this._speedSampleStartX=e)},_endSwiping:function(){var e=this._pointerX,t=Date.now()-this._speedSampleStartTime,n=e-this._speedSampleStartX;this._shouldCancelAnimation=!1,this.sliderXPos>this._sliderXStartBound?this.animateSliderTo(this._sliderXStartBound,this._reboundDuration):this.sliderXPos<this._sliderXEndBound?this.animateSliderTo(this._sliderXEndBound,this._reboundDuration):t<this._speedSampleInterval&&n!==0?this._doFlick(n,t):this._pointerXTotal>0&&this._onSwipingComplete(),this._removePointerMoveHandlers(),this._isDragging=!1},_doFlick:function(e,t){var n=this._calcFlickDistance(e,t);this.animateSliderTo(this.sliderXPos+n.dist,n.time),this._isFlicking=!0},_onSwipingComplete:function(){e(this).trigger("swipeComplete"),this.shouldSnap&&this._snapToNearest()},_onAnimationComplete:function(){e(this).trigger("animationComplete"),this._isFlicking=!1,this.shouldSnap&&!this._isSnapping&&!this._isNavigating&&!this._shouldCancelAnimation?this._snapToNearest():this._isSnapping?(this._isSnapping=!1,e(this).trigger("snapComplete",[this._snapPointIndex])):this._isNavigating&&(this._isNavigating=!1,e(this).trigger("navComplete",[this._snapPointIndex])),this._shouldCancelAnimation=!1},_snapToNearest:function(){var t=this.sliderXPos-this._sliderXStartBound,n=null;for(var r=0,i=this.snapPoints.length;r<i;r++)if(n===null||Math.abs(this.snapPoints[r]-t)<Math.abs(n-t))n=this.snapPoints[r],this._snapPointIndex=r;e(this).trigger("snapStart",[this._snapPointIndex]),this._isSnapping=!0,this.animateSliderTo(n+this._sliderXStartBound,this.snapSpeed,this.snapTweener)},_onPointerStart:function(e){var t=e.touches?e.touches[0]:e.originalEvent.touches?e.originalEvent.touches[0]:e,n=t.pageX,r=t.pageY;this._cancelSwipe=!1,this.hasTouch||e.preventDefault(),this._startSwiping(n),this._pointerYStart=r},_onPointerMove:function(t){var n=t.touches?t.touches[0]:t.originalEvent.touches?t.originalEvent.touches[0]:t,r=n.pageX,i=n.pageY,s=Math.abs(r-this._pointerXStart),o=Math.abs(i-this._pointerYStart);if(this._cancelSwipe){this.hasMSPointers&&this.$slider.css("-ms-touch-action","pan-y");return}if(this._doSwipe){t.preventDefault(),this._trackSwiping(r);return}s>7&&s>=o?(t.preventDefault(),this._doSwipe=!0,this._preventClick=!0,e(this).trigger("swipeStart")):o>7&&o>s?this._cancelSwipe=!0:this.isAndroid&&t.preventDefault()},_onPointerEnd:function(e){this._endSwiping(),this._doSwipe=!1},_onSliderClick:function(e){this._preventClick&&e.preventDefault(),this._preventClick=!1},_onPrevBtnClick:function(e){var t=this;e.preventDefault(),this._isNavigating?t.animateToSnapIndex(-1,!0):this.animateToSnapIndex(-1)},_onNextBtnClick:function(e){var t=this;e.preventDefault(),this._isNavigating?t.animateToSnapIndex(1,!0):this.animateToSnapIndex(1)}}),r}),define("views/GenericSliderView",["require","jquery","underscore","TweenMax","detection/mobileDevice","views/BaseView","widgets/Slider","events/TrackingEvent"],function(e){var t=e("jquery"),n=e("underscore"),r=e("TweenMax"),i=e("detection/mobileDevice"),s=e("views/BaseView"),o=e("widgets/Slider"),u=e("events/TrackingEvent"),a=s.extend({HIGHLIGHT_CLASS:"highlight",el:"#slider-widget",ui:{$wrapper:".slider-wrapper",$slider:".slider",$sliderItems:"li",$prevBtn:null,$nextBtn:null},isInfinite:!0,snapItems:!0,centerItems:!0,sliderWidget:null,sliderItemWidthFlex:0,highlightItemOnLoad:0,snapSpeed:.3,clickSpeed:.45,numImgShownOnLoad:5,_isDisabled:!1,_canAnimate:!1,_highlightIndex:null,_isMobile:i,_sliderPadding:0,_lastWindowWidth:t(window).innerWidth(),_preloadImgsArr:[],initialize:function(e){this.$el.hasClass("slider-option-centeritems-false")&&(this.centerItems=!1),this.$el.hasClass("slider-option-isinfinite-false")&&(this.isInfinite=!1),this.$el.hasClass("slider-option-snapitems-false")&&(this.snapItems=!1);var r;n.bindAll(this),this.bindUIElements();for(r in e)if(r!=="el"||r!=="ui"||r.indexOf("_")<0)this[r]=e[r];this.sliderItemWidth=this.ui.$sliderItems.eq(0).outerWidth(),this._setSliderWidth(),this.centerItems&&this._adjustSliderPadding(),this._renderPrevNextBtns(),this._initSliderWidget(),this.ui.$sliderItems=this.$el.find("li").not(".clone"),this._addEventHandlers(),this._highlightIndex=this.highlightItemOnLoad,!this._isMobile&&t("html").hasClass("csstransforms3d")&&(this.$el.addClass("animate"),this._canAnimate=!0),this._startImgLoad(),this.sliderWidget._isDisabled?this._disableSlider():typeof this.highlightItemOnLoad=="number"&&(this.sliderWidget.moveToSnapIndex(this.highlightItemOnLoad),this._highlightItem(this.highlightItemOnLoad,Cubic.easeInOut))},refreshSlider:function(){var e=this.ui.$sliderItems.filter("."+this.HIGHLIGHT_CLASS);this._setSliderWidth(),this.centerItems&&!this._isDisabled&&this._adjustSliderPadding(),this.ui.$sliderItems.removeClass(this.HIGHLIGHT_CLASS),this.sliderWidget.snapPoints=this._getSnapPoints(),this.sliderWidget.refresh(),this._isDisabled||e.addClass(this.HIGHLIGHT_CLASS)},remove:function(){t(window).off("resize."+this.cid),t(this.sliderWidget).off("*").removeData(),delete this.sliderWidget,this._super()},_initSliderWidget:function(){this.sliderWidget=new o(this.$el,this.ui.$slider,{shouldSnap:this.snapItems,snapPoints:this._getSnapPoints(),snapSpeed:this.snapSpeed*1e3,clickSpeed:this.clickSpeed*1e3,isInfinite:this.isInfinite,$prevBtn:this.ui.$prevBtn,$nextBtn:this.ui.$nextBtn,_sliderEndSpacing:this.sliderItemWidthFlex,_sliderPadding:this._sliderPadding})},_setSliderWidth:function(){var e;this.isInfinite?this.sliderItemWidth=this.ui.$sliderItems.not("."+this.HIGHLIGHT_CLASS).outerWidth():this.sliderItemWidth=this.ui.$sliderItems.first().next().outerWidth(),e=this.ui.$sliderItems.length*this.sliderItemWidth+this.sliderItemWidthFlex,this.ui.$slider.width(e)},_adjustSliderPadding:function(){var e=Math.ceil((this.$el.width()-this.sliderItemWidth)/2-this.sliderItemWidthFlex/2);this.ui.$slider.css({"padding-right":e,"padding-left":e}),this._sliderPadding=e*2,this.sliderWidget&&(this.sliderWidget._sliderPadding=e*2)},_renderPrevNextBtns:function(){this.ui.$prevBtn=t('<div class="nav-btn prev" />'),this.ui.$nextBtn=t('<div class="nav-btn next" />'),this.ui.$wrapper.prepend(this.ui.$prevBtn),this.ui.$wrapper.append(this.ui.$nextBtn)},_addEventHandlers:function(){this.snapItems&&(t(this.sliderWidget).on("snapStart",t.proxy(this._onSliderSnapStart,this)),t(this.sliderWidget).on("swipeStart",t.proxy(this._onSliderSwipeStart,this)),t(this.sliderWidget).on("navStart",t.proxy(this._onSliderNavStart,this))),t(window).on("resize."+this.cid,t.proxy(this._onWindowResize,this)),t(this.sliderWidget).on("disabled",t.proxy(this._onSliderDisabled,this)),t(this.sliderWidget).on("enabled",t.proxy(this._onSliderEnabled,this)),this.ui.$slider.on("click","a.block-link",t.proxy(this._onLinkClick,this))},_startImgLoad:function(){this._preloadImgsArr=this._getPreloadGroups();if(this._preloadImgsArr.length===0)return;for(var e=0,n=this.numImgShownOnLoad;e<n;e++)this._preloadImgsArr[e]&&this._preloadImgsArr[e].length>0&&this._preloadImages(this._preloadImgsArr[e],t.proxy(this._showImg,this),t.proxy(this._showImgError,this));this._preloadImgsArr=this._preloadImgsArr.splice(this.numImgShownOnLoad),window.loaded?this._loadNextImages():t(window).on("load",t.proxy(this._loadNextImages,this))},_loadNextImages:function(){this._preloadImgsArr[0]&&(this._preloadImgsArr[0].length>0&&this._preloadImages(this._preloadImgsArr[0],t.proxy(this._showImg,this),t.proxy(this._showImgError,this),t.proxy(this._loadNextImages,this)),this._preloadImgsArr.shift())},_getPreloadGroups:function(){var e=Math.floor(this.numImgShownOnLoad/2),t,n=[],r;for(var i=0,s=this.ui.$sliderItems.length;i<s;i++)t=this.ui.$sliderItems.eq(i).find("img[data-preload-src]"),n.push(t);return this.isInfinite?r=n.splice(s-e).concat(n):r=n,r},_preloadImages:function(e,n,r,i){function f(e){var t=e.attr("data-preload-src");e.on("load",l),e.on("error",c),s.ui.$slider.find('img[data-preload-src="'+t+'"]').attr("src",t)}function l(e){var r=t(e.target),i=r.attr("data-preload-src");o.push(i),typeof n=="function"&&n(r,i)}function c(e){var n=t(e.target),i=n.attr("data-preload-src");o.push(i),typeof r=="function"&&r(n,i)}function h(){e.length>0&&o.length===e.length&&(clearInterval(u),typeof i=="function"&&i(e))}var s=this,o=[],u,a;u=setInterval(h,100);for(var p=0,d=e.length;p<d;p++)f(e.eq(p))},_showImg:function(e,t){this.ui.$slider.find('img[data-preload-src="'+t+'"]').closest("li").addClass("loaded")},_showImgError:function(e,t){this.ui.$slider.find('img[data-preload-src="'+t+'"]').closest("li").addClass("error")},_getSnapPoints:function(){var e=this,t=0,n=[];return this.ui.$sliderItems.each(function(){n.push(-(e.sliderItemWidth*t)),t++}),n},_highlightItem:function(e,t){var n=this.ui.$sliderItems.eq(e);this._highlightIndex=e,n.addClass(this.HIGHLIGHT_CLASS)},_removeHighlight:function(e,t){this.ui.$sliderItems.removeClass(this.HIGHLIGHT_CLASS)},_trackSnap:function(e,n){var r=this.ui.$sliderItems.eq(n);t.publish(u.TRACK,["1.5.2",{action:"Focus",label:r.attr(u.LABEL)||e}])},_trackClickthrough:function(e){t.publish(u.TRACK,["1.5.2",{action:"Click",label:e}])},_disableSlider:function(){this.ui.$slider.css({"padding-right":0,"padding-left":0}),this._isDisabled=!0,this.$el.addClass("disabled"),this._removeHighlight(this._highlightIndex,Cubic.easeOut)},_enableSlider:function(){this._highlightItem(this._highlightIndex,Cubic.easeInOut),this.$el.removeClass("disabled"),this._isDisabled=!1},_onWindowResize:function(e){var n=t(window).innerWidth();n!==this._lastWindowWidth&&this.refreshSlider(),this._lastWindowWidth=n},_onSliderSwipeStart:function(e){this._removeHighlight(this._highlightIndex,Cubic.easeOut)},_onSliderSnapStart:function(e,t){var n=this._highlightIndex>t?"left":"right";this._highlightItem(t,Cubic.easeInOut),this._trackSnap(n,t)},_onSliderNavStart:function(e,t){var n=this._highlightIndex>t?"left":"right";this._removeHighlight(this._highlightIndex,Cubic.easeOut),this._highlightItem(t,Cubic.easeOut),this._trackSnap(n,t)},_onSliderDisabled:function(e){this._disableSlider()},_onSliderEnabled:function(e){this._enableSlider()},_onLinkClick:function(e){var t=e.target.href;e.isDefaultPrevented()||this._trackClickthrough(t)}});return a}),define("animation/shuffle",["require","jquery","TweenMax"],function(e){var t=e("jquery"),n=e("TweenMax"),r={pageSize:12,delay:.075,offset:70,duration:.5},i=function(e,i){i=t.extend(r,i);var s=t(e),o=Math.random()>.5?-1:1,u=Math.random()>.5?1:0,a=u>0?0:1,f=s.index()||i.index,l=i.pageSize;return s.addClass("animating"),n.from(s,i.duration,{left:u*i.offset*o,top:a*i.offset*o,opacity:0,ease:Expo.easeInOut,delay:f%l*i.delay,onStart:i.onStart,onStartParams:i.onStartParams,onComplete:i.onComplete,onCompleteParams:i.onCompleteParams})};return i}),define("views/MosaicView",["require","jquery","underscore","backbone","TweenMax","animation/bounce","animation/shuffle","events/ScrollEvent","events/LayoutEvent","events/TrackingEvent","views/BaseView","detection/mobileDevice","detection/nintendoDevice"],function(e){var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("TweenMax"),s=e("animation/bounce"),o=e("animation/shuffle"),u=e("events/ScrollEvent"),a=e("events/LayoutEvent"),f=e("events/TrackingEvent"),l=e("views/BaseView"),c=e("detection/mobileDevice"),h=e("detection/nintendoDevice"),p=l.extend({CONTENT_CLASS:"content-hero",tagName:"div",className:"container",eventsDelegate:{"mouseenter a .content-block":"_handleTileHover","mouseleave a .content-block":"_handleTileReset","click a .content-block":"_handleTileClick"},ui:{mosaics:".mosaic"},childElements:{banner:".banner",loading:".loader",contentBlock:".content-block"},_scrollOffset:400,initialize:function(e){e=e||{},n.bindAll(this),this.setElement(t(this.tagName+"."+this.className)),this.bindUIElements(),e.initializeAnimations?this._initializeAnimations():t.window.on(a.BREAKPOINT,this._initializeAnimations)},_getMosaicOffsets:function(){var e=[];this.ui.mosaics.each(function(n,r){var i=t(r),s=i.prev(),o,u;s.length&&s.hasClass("mosaic")?u=e[e.length-1]:(o=i.offset(),u=o.top,u<t.window.innerHeight()&&(u=0)),e.push(u)}),this.mosaicOffsets=e},_hideLoader:function(e){var n=this,r=t(e).find(this.childElements.loading);r.length&&i.to(r,.1,{opacity:1,onComplete:function(){r.remove()}})},_initializeAnimations:function(){var e=this,r=c?100:0;t.window.off(a.BREAKPOINT,this._initializeAnimations),n.delay(function(){e._getMosaicOffsets(),e._buildTimelines(),e._addEventHandlers(),e._handleScrollChange()},r)},_buildTimelines:function(){var e=this;this.animations=[],this.ui.mosaics.each(function(t,n){var r=new TimelineMax({paused:!0});e.animations.push(r),function(t){e._buildTileAnimation(t)}(t)}),this.delegateEvents(this.eventsDelegate)},_buildTileAnimation:function(e){var n=this,r=this.ui.mosaics.eq(e),s=r.find(this.childElements.contentBlock);s.each(function(u,a){i.set(a,{opacity:1}),c||h?t(".loader").remove():n.animations[e].add(o(a,{index:u,range:s.length,onStart:u===0?n._hideLoader:null,onStartParams:r}),{align:"normal"})}),n.animations[0].play()},_addEventHandlers:function(){t.subscribe(u.CHANGE,this._handleScrollChange),t.subscribe(a.CHANGE,this._getMosaicOffsets)},_handleScrollChange:function(){var e=this,r=t.window.height(),i=t.window.scrollTop(),s=i+r;this.ui.mosaics.each(function(o,u){(function(o){var a=t(u).find(e.childElements.loading),f=e.mosaicOffsets[o]-r+e._scrollOffset;if(a.length>0){var l=a.offset().top,c=l+a.height(),h;l<=s&&(h=n.delay(function(){e.animations[o].play()},1500)),i>f&&e.animations[o].play()}})(o)})},_handleTileHover:function(e){var n=t(e.currentTarget),r=.25;if(Modernizr.touch)this.colorShift=i.fromTo(n,r,{className:"-=hover-color"},{className:"+=hover-color"});else{var o=n.parents(".mosaic"),u=o.index(".mosaic"),a=this.animations[u]?this.animations[u].progress():"";a===1&&!n.hasClass("no-bounce")&&s(n)}},_handleTileReset:function(e){this.colorShift&&this.colorShift.reverse()},_handleTileClick:function(e){var n=t(e.currentTarget),r=n.hasClass(this.CONTENT_CLASS)?"Feature Hero":"Content Tile",i=n.parents("a").attr(f.LABEL);t.publish(f.TRACK,["1.5.1",{action:r,label:i}])}});return p}),define("views/NavigationView",["require","constants/Elements","underscore","backbone","events/LayoutEvent","events/ScrollEvent","views/BaseView","constants/Layout","events/TrackingEvent"],function(e){var t=e("constants/Elements"),n=e("underscore"),r=e("backbone"),i=e("events/LayoutEvent"),s=e("events/ScrollEvent"),o=e("views/BaseView"),u=e("constants/Layout"),a=e("events/TrackingEvent"),f=o.extend({COLLAPSED_CLASS:"nav-follow",EXPANDED_CLASS:"open",SCROLLED_CLASS:"scrolled-down",ANIMATE_OPEN_DURATION:.3,ANIMATE_HOR_OPEN_DURATION:.5,ANIMATE_CLOSED_DURATION:.3,ANIMATE_SCROLLTOP_DURATION:.4,tagName:"nav",className:"main",backToTopBtnHeight:null,events:function(){return Modernizr.touch?{"touchend .nav-toggle":"_onToggleMenu","touchend li":"_onNavigationClick","touchend .subnav-toggle":"_onToggleSubmenu"}:{"click .nav-toggle":"_onToggleMenu","click li":"_onNavigationClick","click .subnav-toggle":"_onToggleSubmenu"}},ui:{blocker:".blocker",menu:".content-wrapper > ul",secondaryMenus:"ul.subnav.secondary",toggle:".nav-toggle",tertiaryMenus:"ul.subnav.tertiary",pageContent:null,backToTopBtn:null},_collapsedHeight:0,_menuHeight:0,_expandedHeight:0,_isOpen:!1,_isScrolled:!1,initialize:function(e){e=e||{},n.bindAll(this),this.setElement(t(this.tagName+"."+this.className)),this.bindUIElements(),this.ui.pageContent=t("body > .container, .footer-divider, .global-footer"),this.ui.backToTopBtn=t("#back-to-top"),this.backToTopBtnHeight=this.ui.backToTopBtn.outerHeight()+4,this._addEventHandlers()},_addEventHandlers:function(){u.STATIC||(t.subscribe(i.CHANGE,this._onLayoutChange),this.ui.backToTopBtn.on(Modernizr.touch?"touchstart":"click",t.proxy(this._onBackToTopClick,this))),t.subscribe(s.CHANGE,this._onScrollChange)},_configureMenu:function(e){this._isOpen=!1,this._menuHeight=this.$el.height(),this._collapsedHeight=this._menuHeight,e?(this.$el.addClass(this.EXPANDED_CLASS),this._configureSubmenus(),this._expandedHeight=this.ui.menu.height(),this.$el.removeClass(this.EXPANDED_CLASS),this.ui.menu.css({display:"block",height:"0",overflow:"hidden"})):(this.$el.removeClass(this.EXPANDED_CLASS),this.ui.menu.css({display:"",height:"auto",overflow:"visible"}))},_configureSubmenus:function(){function n(t){t.data(e.EXPANDED_CLASS,t.height()),t.css({display:"block",overflow:"hidden"})}var e=this;this.ui.tertiaryMenus.each(function(){n(t(this))}),this.ui.secondaryMenus.each(function(){n(t(this))})},_toggleMenu:function(){var e=this;return this._isOpen?(this._closeMenu(this.ui.menu,this.$el,this.ui.toggle),this._hideBlocker(),this.ui.pageContent.show(),this._trackMenuToggle(this.ui.menu,"Close")):(this._openMenu(this.ui.menu,this.$el,this.ui.toggle,this._expandedHeight,function(){e.ui.pageContent.hide()}),this._showBlocker(),this._trackMenuToggle(this.ui.menu,"Open")),this._isOpen=!this._isOpen},_toggleSubmenu:function(e){var t=this,n=e.parent("li"),r=n.children(".subnav-toggle"),i=r.siblings("ul.subnav");i.length===0&&(i=r.closest("ul.subnav")),i.hasClass(this.EXPANDED_CLASS)?(i.addClass("close animate").removeClass("open"),this._tweenMenu(i,"100%",this.ANIMATE_HOR_OPEN_DURATION)):(i.addClass("open animate").removeClass("close"),this._tweenMenu(i,"100%",this.ANIMATE_HOR_OPEN_DURATION))},_openMenu:function(e,t,n,r,i){var s=this;t.addClass(this.EXPANDED_CLASS),n.addClass(this.EXPANDED_CLASS),this._tweenMenu(e,r,this.ANIMATE_OPEN_DURATION,i)},_tweenMenu:function(e,t,n,r){TweenMax.to(e,n,{height:t,ease:Cubic.easeOut,onComplete:function(){typeof r=="function"&&r(),e.css({height:"100%",background:"#424242"})}})},_showBlocker:function(){TweenMax.to(this.ui.blocker,.4,{opacity:1,ease:Cubic.easeOut})},_closeMenu:function(e,t,n,r){var i=this;e.css({height:e.height(),overflow:"hidden"}),n.removeClass(this.EXPANDED_CLASS),TweenMax.to(e,this.ANIMATE_CLOSED_DURATION,{height:0,ease:Cubic.easeOut,onComplete:function(){typeof r=="function"&&r(),t.removeClass(i.EXPANDED_CLASS),i._closeAllSubMenus(t)}})},_hideBlocker:function(){TweenMax.to(this.ui.blocker,.3,{opacity:0,ease:Cubic.easeOut})},_closeAllSubMenus:function(e){var t=e.find("li"),n=e.find(".subnav"),r=e.find(".subnav-toggle");t.removeClass(this.EXPANDED_CLASS),r.removeClass(this.EXPANDED_CLASS)},_returnToTop:function(){TweenMax.to(t("body, html"),this.ANIMATE_SCROLLTOP_DURATION,{scrollTop:0,ease:Cubic.easeOut}),this._hideBackToTopBtn()},_showBackToTopBtn:function(){this.ui.backToTopBtn.addClass(this.SCROLLED_CLASS)},_hideBackToTopBtn:function(){this.ui.backToTopBtn.removeClass(this.SCROLLED_CLASS)},_trackMenuToggle:function(e,n){t.publish(a.TRACK,["1.10.1",{action:n,label:e.attr(a.LABEL)}])},_onLayoutChange:function(e,t){this._configureMenu(t)},_onNavigationClick:function(e){},_onToggleMenu:function(e){e.preventDefault(),this._toggleMenu()},_onToggleSubmenu:function(e){e.preventDefault();var n=t(e.currentTarget);this._toggleSubmenu(n)},_onBackToTopClick:function(e){e.preventDefault(),this._returnToTop()},_onScrollChange:function(e,n){var r=n>this._collapsedHeight;if(r===this._isScrolled)return;t.window.innerWidth()<u.BREAKPOINT?u.STATIC||(r?(this._showBackToTopBtn(),this._isScrolled=!0):n<=this._menuHeight&&(this._hideBackToTopBtn(),this._isScrolled=!1)):r?(t.body.addClass(this.COLLAPSED_CLASS),this._isScrolled=!0):n<=0&&(t.body.removeClass(this.COLLAPSED_CLASS),this._isScrolled=!1)}});return f}),define("detection/xdr",[],function(){return Boolean(window.XDomainRequest)}),function(e){if(!e.support.cors&&e.ajaxTransport&&window.XDomainRequest){var t=/^https?:\/\//i,n=/^get|post$/i,r=new RegExp("^"+location.protocol,"i"),i=/text\/html/i,s=/\/json/i,o=/\/xml/i;e.ajaxTransport("* text html xml json",function(u,a,f){if(u.crossDomain&&u.async&&n.test(u.type)&&t.test(u.url)&&r.test(u.url)){var l=null,c=(a.dataType||"").toLowerCase();return{send:function(t,n){l=new XDomainRequest,/^\d+$/.test(a.timeout)&&(l.timeout=a.timeout),l.ontimeout=function(){n(500,"timeout")},l.onload=function(){var t="Content-Length: "+l.responseText.length+"\r\nContent-Type: "+l.contentType,r={code:200,message:"success"},u={text:l.responseText};try{if(c==="html"||i.test(l.contentType))u.html=l.responseText;else if(c==="json"||c!=="text"&&s.test(l.contentType))try{u.json=e.parseJSON(l.responseText)}catch(a){r.code=500,r.message="parseerror"}else if(c==="xml"||c!=="text"&&o.test(l.contentType)){var f=new ActiveXObject("Microsoft.XMLDOM");f.async=!1;try{f.loadXML(l.responseText)}catch(a){f=undefined}if(!f||!f.documentElement||f.getElementsByTagName("parsererror").length)throw r.code=500,r.message="parseerror","Invalid XML: "+l.responseText;u.xml=f}}catch(h){throw h}finally{n(r.code,r.message,u,t)}},l.onprogress=function(){},l.onerror=function(){n(500,"error",{text:l.responseText})};var r="";a.data&&(r=e.type(a.data)==="string"?a.data:e.param(a.data)),l.open(u.type,u.url),l.send(r)},abort:function(){l&&l.abort()}}}})}}(jQuery),define("vendor/plugins/xdr",function(){}),define("controllers/CrossDomainController",["require","jquery","detection/xdr","vendor/plugins/xdr"],function(e){var t=e("jquery");if(!t.support.cors){var n=e("detection/xdr");n?(e("vendor/plugins/xdr"),t.support.cors=!0,t.ajaxSetup({crossDomain:!0})):t.ajaxSetup({crossDomain:!0,dataType:"jsonp"})}}),define("events/FormEvent",["require"],function(e){var t={RESET:"formReset",SEARCH:"searchSubmit"};return t}),define("routers/SearchRouter",["require","jquery","underscore","backbone","events/FormEvent"],function(e){var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("events/FormEvent"),s=r.Router.extend({routes:{"results/:query":"search","results/:query/:id(/)":"search","results/:query/:id/:category":"search"},search:function(e,n,r){t.publish(i.SEARCH,[e,n,r])}});return s}),define("collections/BaseCollection",["require","backbone","debug/Sync"],function(e){var t=e("backbone"),n=e("debug/Sync"),r=t.Collection.extend({initialize:function(){window.mockAPI&&(this.sync=n)}});return r}),window.jQuery&&function(e){e.extend({xml2json:function(t,n){function r(t,s){if(!t)return null;var u="",a=null,f=null,l=t.nodeType,c=i(t.localName||t.nodeName),h=t.text||t.nodeValue||"";t.childNodes&&t.childNodes.length>0&&e.each(t.childNodes,function(e,t){var n=t.nodeType,s=i(t.localName||t.nodeName),f=t.text||t.nodeValue||"";if(n==8)return;if(n==3||n==4||!s){if(f.match(/^\s+$/))return;u+=f.replace(/^\s+/,"").replace(/\s+$/,"")}else a=a||{},a[s]?(a[s].length||(a[s]=o(a[s])),a[s]=o(a[s]),a[s][a[s].length]=r(t,!0),a[s].length=a[s].length):a[s]=r(t)}),t.attributes&&t.attributes.length>0&&(f={},a=a||{},e.each(t.attributes,function(e,t){var n=i(t.name),r=t.value;f[n]=r,a[n]?(a[cnn]=o(a[cnn]),a[n][a[n].length]=r,a[n].length=a[n].length):a[n]=r})),a&&(a=e.extend(u!=""?new String(u):{},a||{}),u=a.text?[a.text||""].concat([u]):u,u&&(a.text=u),u="");var p=a||u;return n&&(u&&(p={}),u=p.text||u||"",u&&(p.text=u),s||(p=o(p))),p}function s(e){var t=/^((-)?([0-9]+)(([\.\,]{0,1})([0-9]+))?$)/;return typeof e=="number"||t.test(String(e&&typeof e=="string"?jQuery.trim(e):""))}if(!t)return{};var i=function(e){return String(e||"").replace(/-/g,"_")},o=function(t){return e.isArray(t)||(t=[t]),t.length=t.length,t};typeof t=="string"&&(t=e.text2xml(t));if(!t.nodeType)return;if(t.nodeType==3||t.nodeType==4)return t.nodeValue;var u=t.nodeType==9?t.documentElement:t,a=r(u,!0);return t=null,u=null,a},text2xml:function(t){return e.parseXML(t)}})}(jQuery),define("xml2json",function(){}),define("collections/SearchCollection",["require","models/BaseModel","controllers/CrossDomainController","collections/BaseCollection","xml2json"],function(e){var t=e("models/BaseModel"),n=e("controllers/CrossDomainController"),r=e("collections/BaseCollection"),i=e("xml2json"),s=r.extend({MAX_CHAR_COUNT:130,colors:{all:{color:"darkgray"},pokedex:{color:"red"},videogames:{color:"blue"},tcg:{color:"lightblue"},funzone:{color:"yellow"},animation:{color:"orange"},news:{color:"green"},events:{color:"lightgreen"},strategy:{color:"purple"}},urlBase:window.pokemonUI.global_api&&"gsa"in window.pokemonUI.global_api?window.pokemonUI.global_api.gsa:"",gsaCollection:window.pokemonUI.config&&"collection"in window.pokemonUI.config?window.pokemonUI.config.collection:"",initialize:function(){window.mockAPI&&(this.urlBase=window.location.href.indexOf("localhost:8765")>=0?"https://web.archive.org/web/20151028121945/http://209.235.204.227/search":"https://web.archive.org/web/20151028121945/http://pokemongsaproxy.staging.popagency.com/search",this.sync=Backbone.sync)},fetch:function(e){var t={url:this.urlBase,type:"GET",dataType:"xml",data:{client:"no_frontend",site:this.gsaCollection,output:"xml_no_dtd",coutput:"xml",oe:"UTF-8",num:e.num,requiredfields:e.requiredfields,getfields:"pkm-category.pkm-subcategory.pkm-id.pkm-title.pkm-image.pkm-alt-text.description",q:e.q,start:e.start,sort:e.sort,filter:0,cacheBuster:Math.round((new Date).getTime()/1e3)}};return this._super(t)},parse:function(e){var t=$.xml2json(e);return t=this.processData(t),t},processData:function(e){var t={},n=e,r,i,s,o;t.query=n.Q;if(n.RES){t.total=n.RES.M,t.results=[];var u;n.RES.R.length?u=n.RES.R.length:u=1;for(var a=0;a<u;a++){var f;u==1?f=n.RES.R:f=n.RES.R[a],r=this.stripHtmlTags(f.T),i=this.stripHtmlTags(f.S),t.results[a]={title:r,url:this.stripHtmlTags(f.U),desc:i};if(f.MT)for(var l=0;l<f.MT.length;l++){var c=f.MT[l].N,h=f.MT[l].V;t.results[a][c]=h,this.colors.hasOwnProperty(h)&&(t.results[a].color=this.colors[h].color,t.results[a].category=window.pokemonUI.global_dictionary.search[h].title,t.results[a][h]=!0)}s=t.results[a].description||i,t.results[a].description=s,o=s.length,this.MAX_CHAR_COUNT<o&&(t.results[a].description=t.results[a].description.substring(0,this.MAX_CHAR_COUNT-3)+"...")}t.categories=[];if(n.RES.PARM)for(var p=0;p<n.RES.PARM.PMT[0].PV.length;p++){var d=n.RES.PARM.PMT[0].PV[p];t.categories[p]={pkmcategory:d.V,category:window.pokemonUI.global_dictionary.search[d.V].title,total:d.C,color:this.colors[d.V].color}}}else t.total=0;return t},stripHtmlTags:function(e){var t=/<(.*?)>/ig,n=/&lt;/ig,r=/&lt;/ig;return e=e.replace(n,"<").replace(r,">").replace(t,""),e}});return s}),define("templates/search/results",["handlebars","templates/helpers/each"],function(e){return e.template({1:function(e,t,n,r,i){var s,o,u="function",a=t.helperMissing,f=this.escapeExpression,l='	<li>\n		<a href="'+f((o=(o=t.url||(e!=null?e.url:e))!=null?o:a,typeof o===u?o.call(e,{name:"url",hash:{},data:r}):o))+'">\n			<div class="content-block content-block-full">\n				<div class="news-article css3-animation-bounce-hover">\n					<div class="search-result-img-wrapper">\n';return s=t["if"].call(e,e!=null?e["pkm-image"]:e,{name:"if",hash:{},fn:this.program(2,r,i),inverse:this.noop,data:r}),s!=null&&(l+=s),l+='					</div>\n					<div class="news-wrapper">\n						<h3>\n',s=t["if"].call(e,e!=null?e.category:e,{name:"if",hash:{},fn:this.program(4,r,i),inverse:this.noop,data:r}),s!=null&&(l+=s),l+="\n",s=t["if"].call(e,e!=null?e["pkm-title"]:e,{name:"if",hash:{},fn:this.program(7,r,i),inverse:this.program(9,r,i),data:r}),s!=null&&(l+=s),l+="						</h3>\n\n\n",s=t["if"].call(e,e!=null?e.category:e,{name:"if",hash:{},fn:this.program(11,r,i),inverse:this.program(28,r,i),data:r}),s!=null&&(l+=s),l+'\n					</div>\n					<span class="notch-bottom-left hidden-mobile"></span>\n				</div>\n			</div>\n		</a>\n	</li>\n'},2:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'							<img src="'+u((i=(i=t["pkm-image"]||(e!=null?e["pkm-image"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"pkm-image",hash:{},data:r}):i))+'" />\n'},4:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a='								<span class="category-tags category-tags-';return i=t["if"].call(e,e!=null?e.color:e,{name:"if",hash:{},fn:this.program(5,r),inverse:this.noop,data:r}),i!=null&&(a+=i),a+='">\n									',i=(s=(s=t.category||(e!=null?e.category:e))!=null?s:u,typeof s===o?s.call(e,{name:"category",hash:{},data:r}):s),i!=null&&(a+=i),a+'<span class="total">&nbsp;</span>\n								</span>\n'},5:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return u((i=(i=t.color||(e!=null?e.color:e))!=null?i:o,typeof i===s?i.call(e,{name:"color",hash:{},data:r}):i))+" "},7:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a="								";return i=(s=(s=t["pkm-title"]||(e!=null?e["pkm-title"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"pkm-title",hash:{},data:r}):s),i!=null&&(a+=i),a+"\n"},9:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a="								";return i=(s=(s=t.title||(e!=null?e.title:e))!=null?s:u,typeof s===o?s.call(e,{name:"title",hash:{},data:r}):s),i!=null&&(a+=i),a+"\n"},11:function(e,t,n,r,i){var s,o="\n";return s=t["if"].call(e,e!=null?e.pokedex:e,{name:"if",hash:{},fn:this.program(12,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.funzone:e,{name:"if",hash:{},fn:this.program(14,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.news:e,{name:"if",hash:{},fn:this.program(16,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.videogames:e,{name:"if",hash:{},fn:this.program(18,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.tcg:e,{name:"if",hash:{},fn:this.program(20,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.animation:e,{name:"if",hash:{},fn:this.program(22,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.events:e,{name:"if",hash:{},fn:this.program(24,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.strategy:e,{name:"if",hash:{},fn:this.program(26,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+"\n"},12:function(e,t,n,r,i){var s,o,u=this.lambda,a=this.escapeExpression,f="function",l=t.helperMissing;return"								<p>"+a(u((s=i[3]!=null?i[3].localize:i[3])!=null?s.numberPrefix:s,e))+a((o=(o=t["pkm-id"]||(e!=null?e["pkm-id"]:e))!=null?o:l,typeof o===f?o.call(e,{name:"pkm-id",hash:{},data:r}):o))+"</p>\n"},14:function(e,t,n,r,i){var s,o=this.lambda,u=this.escapeExpression;return'								<p><span class="button button-green no-arrow">'+u(o((s=i[3]!=null?i[3].localize:i[3])!=null?s.playGame:s,e))+"</span></p>\n"},16:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a='								<p class="subhead">';return i=(s=(s=t["pkm-date"]||(e!=null?e["pkm-date"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"pkm-date",hash:{},data:r}):s),i!=null&&(a+=i),a+="</p>\n								<p>",i=(s=(s=t.description||(e!=null?e.description:e))!=null?s:u,typeof s===o?s.call(e,{name:"description",hash:{},data:r}):s),i!=null&&(a+=i),a+"</p>\n"},18:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a='								<p class="subhead system">';return i=(s=(s=t["pkm-subcategory"]||(e!=null?e["pkm-subcategory"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"pkm-subcategory",hash:{},data:r}):s),i!=null&&(a+=i),a+="</p>\n								<p>",i=(s=(s=t.description||(e!=null?e.description:e))!=null?s:u,typeof s===o?s.call(e,{name:"description",hash:{},data:r}):s),i!=null&&(a+=i),a+"</p>\n"},20:function(e,t,n,r,i){var s,o,u="function",a=t.helperMissing,f=this.lambda,l=this.escapeExpression,c='								<p class="subhead">';return s=(o=(o=t["pkm-subcategory"]||(e!=null?e["pkm-subcategory"]:e))!=null?o:a,typeof o===u?o.call(e,{name:"pkm-subcategory",hash:{},data:r}):o),s!=null&&(c+=s),c+"</p>\n								<p>"+l(f((s=i[3]!=null?i[3].localize:i[3])!=null?s.numberPrefix:s,e))+l((o=(o=t["pkm-id"]||(e!=null?e["pkm-id"]:e))!=null?o:a,typeof o===u?o.call(e,{name:"pkm-id",hash:{},data:r}):o))+"</p>\n"},22:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a='								<p class="subhead">';return i=(s=(s=t["pkm-subcategory"]||(e!=null?e["pkm-subcategory"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"pkm-subcategory",hash:{},data:r}):s),i!=null&&(a+=i),a+="</p>\n								<p>",i=(s=(s=t.description||(e!=null?e.description:e))!=null?s:u,typeof s===o?s.call(e,{name:"description",hash:{},data:r}):s),i!=null&&(a+=i),a+"</p>\n"},24:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a="								<p>";return i=(s=(s=t.description||(e!=null?e.description:e))!=null?s:u,typeof s===o?s.call(e,{name:"description",hash:{},data:r}):s),i!=null&&(a+=i),a+"</p>\n"},26:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='								<p class="subhead">'+a((s=(s=t["pkm-date"]||(e!=null?e["pkm-date"]:e))!=null?s:u,typeof s===o?s.call(e,{name:"pkm-date",hash:{},data:r}):s))+"</p>\n								<p>";return i=(s=(s=t.description||(e!=null?e.description:e))!=null?s:u,typeof s===o?s.call(e,{name:"description",hash:{},data:r}):s),i!=null&&(f+=i),f+"</p>\n"},28:function(e,t,n,r){var i,s="\n							<p>\n";return i=t["if"].call(e,e!=null?e.description:e,{name:"if",hash:{},fn:this.program(29,r),inverse:this.program(31,r),data:r}),i!=null&&(s+=i),s+"							</p>\n\n"},29:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a="								";return i=(s=(s=t.description||(e!=null?e.description:e))!=null?s:u,typeof s===o?s.call(e,{name:"description",hash:{},data:r}):s),i!=null&&(a+=i),a+"\n"},31:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a="								";return i=(s=(s=t.desc||(e!=null?e.desc:e))!=null?s:u,typeof s===o?s.call(e,{name:"desc",hash:{},data:r}):s),i!=null&&(a+=i),a+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r,i){var s,o="";return s=t.each.call(e,(s=e!=null?e.data:e)!=null?s.results:s,{name:"each",hash:{},fn:this.program(1,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o},useData:!0,useDepths:!0})}),define("templates/search/total",["handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'<div class="content-block content-block-full">\n	<h2>'+u((i=(i=t.total||(e!=null?e.total:e))!=null?i:o,typeof i===s?i.call(e,{name:"total",hash:{},data:r}):i))+"</h2>\n</div>\n"},useData:!0})}),define("templates/search/categories",["handlebars","templates/helpers/each"],function(e){return e.template({1:function(e,t,n,r,i){var s,o=this.lambda,u='	<h2 class="search-results-side-label">';return s=o((s=i[1]!=null?i[1].localize:i[1])!=null?s.filterBy:s,e),s!=null&&(u+=s),u+="</h2>\n	<ul>\n",s=t.each.call(e,(s=e!=null?e.data:e)!=null?s.categories:s,{name:"each",hash:{},fn:this.program(2,r,i),inverse:this.noop,data:r}),s!=null&&(u+=s),u+"	</ul>\n"},2:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='		<li>\n			<a data-category="'+a((s=(s=t.pkmcategory||(e!=null?e.pkmcategory:e))!=null?s:u,typeof s===o?s.call(e,{name:"pkmcategory",hash:{},data:r}):s))+'" class="category-tags category-tags-'+a((s=(s=t.color||(e!=null?e.color:e))!=null?s:u,typeof s===o?s.call(e,{name:"color",hash:{},data:r}):s))+'">\n				';return i=(s=(s=t.category||(e!=null?e.category:e))!=null?s:u,typeof s===o?s.call(e,{name:"category",hash:{},data:r}):s),i!=null&&(f+=i),f+=' <span class="total">',i=(s=(s=t.total||(e!=null?e.total:e))!=null?s:u,typeof s===o?s.call(e,{name:"total",hash:{},data:r}):s),i!=null&&(f+=i),f+"</span>\n			</a>\n		</li>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r,i){var s,o="";return s=t["if"].call(e,(s=e!=null?e.data:e)!=null?s.categories:s,{name:"if",hash:{},fn:this.program(1,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o},useData:!0,useDepths:!0})}),define("templates/search/categories-mobile",["handlebars","templates/helpers/each"],function(e){return e.template({1:function(e,t,n,r,i){var s,o=this.lambda,u=this.escapeExpression,a='<div class="content-block content-block-full">\n	<h2 class="search-results-side-label">';return s=o((s=i[1]!=null?i[1].localize:i[1])!=null?s.filterBy:s,e),s!=null&&(a+=s),a+='</h2>\n	<div class="styled-select button-darkgray">\n		<select id="searchFilter" name="searchFilter">\n			<option value="">'+u(o((s=i[1]!=null?i[1].localize:i[1])!=null?s.selectCategory:s,e))+"</option>\n",s=t.each.call(e,(s=e!=null?e.data:e)!=null?s.categories:s,{name:"each",hash:{},fn:this.program(2,r,i),inverse:this.noop,data:r}),s!=null&&(a+=s),a+'		</select>\n		<i class="icon icon_arrow_sm_down"></i>\n	</div>\n</div>\n'},2:function(e,t,n,r){var i,s,o="function",u=t.helperMissing,a=this.escapeExpression,f='			<option value="'+a((s=(s=t.pkmcategory||(e!=null?e.pkmcategory:e))!=null?s:u,typeof s===o?s.call(e,{name:"pkmcategory",hash:{},data:r}):s))+'">\n				';return i=(s=(s=t.category||(e!=null?e.category:e))!=null?s:u,typeof s===o?s.call(e,{name:"category",hash:{},data:r}):s),i!=null&&(f+=i),f+=" (",i=(s=(s=t.total||(e!=null?e.total:e))!=null?s:u,typeof s===o?s.call(e,{name:"total",hash:{},data:r}):s),i!=null&&(f+=i),f+")\n			</option>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r,i){var s,o="";return s=t["if"].call(e,(s=e!=null?e.data:e)!=null?s.categories:s,{name:"if",hash:{},fn:this.program(1,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o},useData:!0,useDepths:!0})}),define("templates/search/modal-results",["handlebars","templates/helpers/each"],function(e){return e.template({1:function(e,t,n,r,i){var s,o,u="function",a=t.helperMissing,f=this.escapeExpression,l='		<li>\n			<a href="'+f((o=(o=t.url||(e!=null?e.url:e))!=null?o:a,typeof o===u?o.call(e,{name:"url",hash:{},data:r}):o))+'">\n				<div class="search-result-img-wrapper">\n';return s=t["if"].call(e,e!=null?e["pkm-image"]:e,{name:"if",hash:{},fn:this.program(2,r,i),inverse:this.noop,data:r}),s!=null&&(l+=s),l+='				</div>\n				<div class="search-result-info-wrapper">\n					<h3>\n',s=t["if"].call(e,e!=null?e["pkm-title"]:e,{name:"if",hash:{},fn:this.program(4,r,i),inverse:this.program(6,r,i),data:r}),s!=null&&(l+=s),l+="					</h3>\n\n",s=t["if"].call(e,e!=null?e.category:e,{name:"if",hash:{},fn:this.program(8,r,i),inverse:this.program(23,r,i),data:r}),s!=null&&(l+=s),l+"\n				</div>\n			</a>\n		</li>\n"},2:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'						<img src="'+u((i=(i=t["pkm-image"]||(e!=null?e["pkm-image"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"pkm-image",hash:{},data:r}):i))+'" />\n'},4:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return"							"+u((i=(i=t["pkm-title"]||(e!=null?e["pkm-title"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"pkm-title",hash:{},data:r}):i))+"\n"},6:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return"							"+u((i=(i=t.title||(e!=null?e.title:e))!=null?i:o,typeof i===s?i.call(e,{name:"title",hash:{},data:r}):i))+"\n"},8:function(e,t,n,r,i){var s,o="\n";return s=t["if"].call(e,e!=null?e.pokedex:e,{name:"if",hash:{},fn:this.program(9,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.funzone:e,{name:"if",hash:{},fn:this.program(11,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.news:e,{name:"if",hash:{},fn:this.program(13,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.videogames:e,{name:"if",hash:{},fn:this.program(15,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.tcg:e,{name:"if",hash:{},fn:this.program(17,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.animation:e,{name:"if",hash:{},fn:this.program(19,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.events:e,{name:"if",hash:{},fn:this.program(21,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+="\n",s=t["if"].call(e,e!=null?e.strategy:e,{name:"if",hash:{},fn:this.program(13,r,i),inverse:this.noop,data:r}),s!=null&&(o+=s),o+"\n"},9:function(e,t,n,r,i){var s,o,u=this.lambda,a="function",f=t.helperMissing,l=this.escapeExpression,c="							<p>";return s=u((s=i[3]!=null?i[3].localize:i[3])!=null?s.numberPrefix:s,e),s!=null&&(c+=s),c+l((o=(o=t["pkm-id"]||(e!=null?e["pkm-id"]:e))!=null?o:f,typeof o===a?o.call(e,{name:"pkm-id",hash:{},data:r}):o))+"</p>\n"},11:function(e,t,n,r,i){var s,o=this.lambda,u=this.escapeExpression;return'							<p><span class="button button-green no-arrow">'+u(o((s=i[3]!=null?i[3].localize:i[3])!=null?s.playGame:s,e))+"</span></p>\n"},13:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'							<p class="subhead">'+u((i=(i=t["pkm-date"]||(e!=null?e["pkm-date"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"pkm-date",hash:{},data:r}):i))+"</p>\n							<p>"+u((i=(i=t.description||(e!=null?e.description:e))!=null?i:o,typeof i===s?i.call(e,{name:"description",hash:{},data:r}):i))+"</p>\n"},15:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'							<p class="subhead system">'+u((i=(i=t["pkm-subcategory"]||(e!=null?e["pkm-subcategory"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"pkm-subcategory",hash:{},data:r}):i))+"</p>\n							<p>"+u((i=(i=t.description||(e!=null?e.description:e))!=null?i:o,typeof i===s?i.call(e,{name:"description",hash:{},data:r}):i))+"</p>\n"},17:function(e,t,n,r,i){var s,o,u="function",a=t.helperMissing,f=this.escapeExpression,l=this.lambda,c='							<p class="subhead">'+f((o=(o=t["pkm-subcategory"]||(e!=null?e["pkm-subcategory"]:e))!=null?o:a,typeof o===u?o.call(e,{name:"pkm-subcategory",hash:{},data:r}):o))+"</p>\n							<p>";return s=l((s=i[3]!=null?i[3].localize:i[3])!=null?s.numberPrefix:s,e),s!=null&&(c+=s),c+f((o=(o=t["pkm-id"]||(e!=null?e["pkm-id"]:e))!=null?o:a,typeof o===u?o.call(e,{name:"pkm-id",hash:{},data:r}):o))+"</p>\n"},19:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'							<p class="subhead">'+u((i=(i=t["pkm-subcategory"]||(e!=null?e["pkm-subcategory"]:e))!=null?i:o,typeof i===s?i.call(e,{name:"pkm-subcategory",hash:{},data:r}):i))+"</p>\n							<p>"+u((i=(i=t.description||(e!=null?e.description:e))!=null?i:o,typeof i===s?i.call(e,{name:"description",hash:{},data:r}):i))+"</p>\n"},21:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return"							<p>"+u((i=(i=t.description||(e!=null?e.description:e))!=null?i:o,typeof i===s?i.call(e,{name:"description",hash:{},data:r}):i))+"</p>\n"},23:function(e,t,n,r){var i,s="\n						<p>\n";return i=t["if"].call(e,e!=null?e.description:e,{name:"if",hash:{},fn:this.program(24,r),inverse:this.program(26,r),data:r}),i!=null&&(s+=i),s+"						</p>\n\n"},24:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return"							"+u((i=(i=t.description||(e!=null?e.description:e))!=null?i:o,typeof i===s?i.call(e,{name:"description",hash:{},data:r}):i))+"\n"},26:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return"							"+u((i=(i=t.desc||(e!=null?e.desc:e))!=null?i:o,typeof i===s?i.call(e,{name:"desc",hash:{},data:r}):i))+"\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r,i){var s,o=this.lambda,u=this.escapeExpression,a="<p>"+u(o((s=e!=null?e.localize:e)!=null?s.recommendedResults:s,e))+"</p>\n<ul>\n";return s=t.each.call(e,(s=e!=null?e.data:e)!=null?s.results:s,{name:"each",hash:{},fn:this.program(1,r,i),inverse:this.noop,data:r}),s!=null&&(a+=s),a+"</ul>\n"},useData:!0,useDepths:!0})}),define("views/SearchView",["require","jquery","underscore","controllers/CrossDomainController","TweenMax","views/BaseView","views/ModalBaseView","events/LayoutEvent","events/FormEvent","events/ScrollEvent","controllers/CustomSelectList","routers/SearchRouter","collections/SearchCollection","templates/search/results","templates/search/total","templates/search/categories","templates/search/categories-mobile","templates/search/modal-results","analytics/AdobeAnalytics"],function(e){var t=e("jquery"),n=e("underscore"),r=e("controllers/CrossDomainController"),i=e("TweenMax"),s=e("views/BaseView"),o=e("views/ModalBaseView"),u=e("events/LayoutEvent"),a=e("events/FormEvent"),f=e("events/ScrollEvent"),l=e("controllers/CustomSelectList"),c=e("routers/SearchRouter"),h=e("collections/SearchCollection"),p=e("templates/search/results"),d=e("templates/search/total"),v=e("templates/search/categories"),m=e("templates/search/categories-mobile"),g=e("templates/search/modal-results"),y=e("analytics/AdobeAnalytics"),b=s.extend({el:"body",collection:new h,categoriesCollection:new h,router:new c,tplResults:p,tplTotal:d,tplCategories:v,tplCategoriesMob:m,tplModalResults:g,page:0,prevPage:1,pageSize:10,pageSizeModal:5,animationSpeed:.5,timer:null,liveSearchTimeout:null,query:"",category:null,sort:"",strHashRoot:"#/results/",isSearchPage:!1,isLoading:!1,ui:{elContainer:t("section.search-results"),elSidebar:t(".search-results-side"),elFormPage:t("#site-search-form"),elInputPage:t("#site-search-page-term"),elFormWidget:t("#site-search-widget"),elInputWidget:t("#site-search-widget-term"),elFormMobile:t("#mobile-nav-site-search-widget"),elInputMobile:t("#mobile-search"),elTotal:t("#site-search-total"),elResults:t("#site-search-results"),elCategories:t(".site-search-categories.hidden-mobile"),elCategoriesMob:t(".site-search-categories.visible-mobile"),elModalSearch:t("#site-search-modal"),elModalTrigger:t(".profile-nav .icon_search"),elModalResults:t("#modal-search-results"),elFooter:t(".results-footer"),elLoader:t(".loader"),elBtnMore:t("#loadMore")},events:{"submit #site-search-form":"onSubmit","submit #site-search-widget":"onSubmit","submit #mobile-nav-site-search-widget":"onSubmit","input #site-search-page-term":"onLiveSearch","input #site-search-widget-term":"onLiveSearch","click #loadMore":"onLoadMore","click .site-search-categories a":"onFilterCategory","change #searchFilter":"onFilterCategory","click .site-search-sort a":"onSort","change #searchSort":"onSort"},initialize:function(){this.addEventListeners();if(this.ui.elFormPage.length)this.isSearchPage=!0,this.ui.elLoader.css({display:"none"}),Backbone.History.started||Backbone.history.start(),t(window).trigger(a.SEARCH);else if(this.ui.elModalSearch.length)var e=new o({el:this.ui.elModalSearch,$popupTriggers:this.ui.elModalTrigger,_afterPopupClose:t.proxy(this.onModalClose,this),_afterPopupOpen:t.proxy(this.onModalOpen,this)})},onModalClose:function(){this.ui.elModalResults.css("opacity",0).html(""),this.ui.elInputWidget.val("")},onModalOpen:function(){this.ui.elInputWidget.val("")},render:function(e,t,n,r){var i,s,o,u,a,f=!1;this.page=parseInt(n,10),this.query=t,this.category=r,i=this.isSearchPage?this.pageSize:this.pageSizeModal,s="language:"+window.pokemonUI.global_dictionary.search.GSALanguageCode,u=this.sort==="recent"?"date:D:S:d1":"relevant",o=(this.page-1)*i,this.ui.elResults.find(">li").length===0&&this.page>1&&(i=this.page*i,o=0),a={num:i,q:this.query,start:o,requiredfields:s,sort:u},window.dataLayer.internalSearch.InternalSearchKeyword=this.query,r&&(this.ui.elCategories.find("li").length||this.categoriesCollection.fetch(a).done(this.onResfreshCategoriesFilter.bind(this)),s+=".pkm-category:"+this.category,a.requiredfields=s),this.collection.fetch(a).done(this.onDataLoaded.bind(this))},onDataLoaded:function(){var e=this.collection;this.isSearchPage?(this.showTotal(e),this.showResults(e),this.showCategories(e,!1)):this.showModalResults(e),this.isLoading=!1,this.isSearchPage&&this.animateSidebar(),this.prevPage=this.page},onResfreshCategoriesFilter:function(){this.showCategories(this.categoriesCollection,!0)},showTotal:function(e){var t=parseInt(e.models[0].attributes.total,10),n={};n.total=window.pokemonUI.global_dictionary.search.returnedResults.replace("XXXX",t,"gi");var r=this.tplTotal(n);this.ui.elTotal.html(r),this.page===this.prevPage&&(this.ui.elBtnMore.removeClass("disabled").css({display:"block"}),this.ui.elSidebar.css({marginTop:0})),t<=this.page*this.pageSize||this.ui.elBtnMore.hasClass("disabled")?this.ui.elBtnMore.css({display:"none"}):this.ui.elBtnMore.css({display:"block"}),this.ui.elInputPage.attr("value",e.models[0].attributes.query),this.page==this.prevPage&&(window.dataLayer.internalSearch.searchResults=t,t===0?y.track("InternalNullSearch"):y.track("NumberOfResults")),window.dataLayer.internalSearch.searchResults=t,t===0&&y.track("InternalNullSearch")},showResults:function(e){var t=this.tplResults({data:e.models[0].attributes,localize:window.pokemonUI.global_dictionary.search});this.page-this.prevPage==1?this.ui.elResults.append(t):this.ui.elResults.html(t),this.ui.elLoader.css({display:"none"}),this.dataLayerRefinement()},showModalResults:function(e){var t=this.tplModalResults({data:e.models[0].attributes,localize:window.pokemonUI.global_dictionary.search});this.ui.elModalResults.html(t),i.to(this.ui.elModalResults,this.animationSpeed,{opacity:1})},showCategories:function(e,n){if(this.ui.elCategories.find("li").length>0)return;var r=this.tplCategories({data:e.models[0].attributes,localize:window.pokemonUI.global_dictionary.search}),i=this.tplCategoriesMob({data:e.models[0].attributes,localize:window.pokemonUI.global_dictionary.search}),s=0,o=e.models[0].attributes.categories?e.models[0].attributes.categories.length:0,u,a=t('<li><a data-category="all" class="category-tags category-tags-darkgray reset-all">'+window.pokemonUI.global_dictionary.search.all.title+"</a></li>");n||a.find("a").css("width","100%").addClass("active"),this.ui.elCategories.html(r).find("ul").prepend(a),this._setCategoriesWidth(),this.ui.elCategoriesMob.html(i);if(n){u=this.ui.elCategories.find("li");for(s=0;s<o;s++){var f=t(u[s]),c=f.find("a");if(c.data("category")===this.category){c.addClass("active").css("width","100%");break}}}l.initialize({$el:this.ui.elCategoriesMob})},onSubmit:function(e){e.preventDefault();var n=this,r=t(e.target),i=r.serializeArray(),s=this.strHashRoot+encodeURIComponent(i[0].value)+"/1/",o=r.find("input[type=search]"),u=o.val(),a="http://"+location.host;o.blur(),setTimeout(function(){n.onModalClose()},200),this.isSearchPage?(this.ui.elBtnMore.removeClass("disabled"),this.showCategories(this.collection,!1),this.router.navigate(s,!0)):(window.pokemonUI.global_dictionary.search.countryCode&&(a+=window.pokemonUI.global_dictionary.search.countryCode+"/"),window.location.href=a+window.pokemonUI.global_dictionary.search.searchUrl+this.strHashRoot+u+"/1/")},dataLayerRefinement:function(){window.dataLayer.internalSearch.InternalSearchRefinement="Sort By : "+this.sort+" | Filter by :"+this.category},onFilterCategory:function(e){e.preventDefault();var n=t(e.currentTarget),r=window.location.hash.split("/"),s=decodeURIComponent(r[2]),o=this.strHashRoot+encodeURIComponent(s)+"/1/",u,a=this;e.type==="change"?u=n.find(":selected").val():(this._toggleActiveCategory(),u=n.addClass("active").data("category"),setTimeout(function(){i.to(n,a.animationSpeed,{css:{width:"100%"}})},a.animationSpeed)),u!=="all"&&(o+=encodeURIComponent(u)),this.router.navigate(o,{trigger:!0}),this.ui.elBtnMore.css({display:"none"}).removeClass("disabled"),this.ui.elLoader.css({display:"block"}),i.to(window,this.animationSpeed,{scrollTo:{y:0,x:0}})},_setCategoriesWidth:function(){var e=this.ui.elCategories.find("ul"),n=e.find("li > a"),r=1,i=n.length,s=0;if(n){t(n).css("min-width","auto");for(r=1;r<i;r++)t(n[r]).hasClass("active")||(s=Math.max(s,parseInt(t(n[r]).innerWidth(),10)));s=Math.min(s+10,parseInt(t(n[0]).parent().outerWidth(),10));for(r=0;r<i;r++)t(n[r]).css("min-width",s+"px")}},_toggleActiveCategory:function(){var e=this.ui.elCategories.find("ul"),t=e.find("li"),n=t.find("a.active");n&&(n.removeClass("active"),i.to(n,this.animationSpeed,{css:{width:n.css("min-width")}}))},onSort:function(e){e.preventDefault();var n=t(e.currentTarget);e.type==="change"?this.sort=n.find(":selected").val():this.sort=n.data("option-value");var r=window.location.hash.split("/"),s=encodeURIComponent(r[2]),o=this.strHashRoot+s+"/1/";this.category!=="all"&&this.category!==undefined&&(o=this.strHashRoot+s+"/1/"+encodeURIComponent(this.category)),this.ui.elBtnMore.css({display:"none"}).removeClass("disabled"),this.ui.elLoader.css({display:"block"}),this.router.navigate(o,!0),i.to(window,this.animationSpeed,{scrollTo:{y:0,x:0}})},onLoadMore:function(e){e&&e.preventDefault(),this.ui.elBtnMore.hasClass("disabled")||this.ui.elBtnMore.css({display:"none"}).addClass("disabled"),this.ui.elLoader.css({display:"block"}),this.isLoading=!0;var t=window.location.hash.split("/"),n=parseInt(t[3],10),r;n++,t[3]=n.toString(),r=t.join("/"),this.router.navigate(r,!0)},onLiveSearch:function(e){var n=this,r=t(e.currentTarget),i=r.val(),s;this.liveSearchTimeout!==null&&clearTimeout(this.liveSearchTimeout),i.trim().length>=3&&(this.liveSearchTimeout=setTimeout(function(){i=r.val(),s=n.strHashRoot+i+"/1/",n.isSearchPage?(n.ui.elCategories.find("ul").html(""),n.router.navigate(s,!0),n.ui.elBtnMore.removeClass("disabled")):n.render(null,i,1),n.liveSearchTimeout=null},500))},disableModal:function(e){e.preventDefault(),this.ui.elInputPage.focus()},onScroll:function(){clearTimeout(this.timer),this.timer=setTimeout(t.proxy(this.animateSidebar,this),100)},animateSidebar:function(){var e=t(window).scrollTop(),n=e+t.window.height(),r=this.ui.elContainer.offset().top+this.ui.elContainer.height(),s=this.ui.elContainer.height(),o=this.ui.elSidebar.height(),u;e+o>=s?u=s-o:u=e,i.to(this.ui.elSidebar,this.animationSpeed,{marginTop:u}),n>r&&!this.isLoading&&this.ui.elBtnMore.hasClass("disabled")&&this.ui.elResults.find(">li").length<parseInt(this.collection.models[0].attributes.total,10)&&this.onLoadMore()},addEventListeners:function(){this.ui.elFormPage.length&&(this.ui.elModalTrigger.on("click",t.proxy(this.disableModal,this)),t.subscribe(f.CHANGE,t.proxy(this.onScroll,this))),t.subscribe(a.SEARCH,t.proxy(this.render,this))}});return b}),define("models/StatusIndicatorModel",["require","constants/Elements","underscore","backbone","globalize"],function(e){var t=e("constants/Elements"),n=e("underscore"),r=e("backbone"),i=e("globalize"),s=r.Model.extend({defaults:{status:!1,valid_on:!0,expires:!1,visible_on:!0},urlRoot:"",initialize:function(e){e=e||{},n.bindAll(this),this._addEventHandlers()},_tryParseDate:function(e){if(typeof e!="string")return null;e=e.trim();if(e.length===0)return null;var t=new Date(e+"Z");return isNaN(t.getTime())?null:new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()))},_addEventHandlers:function(){this.on({"change:expires":this._onChangeAttrExpires,"change:valid_on":this._onChangeAttrValidOn,"change:show_on":this._onChangeAttrShowOn})},_onRequest:function(e){this.fetch()},_onChangeAttrExpires:function(e){var t=this.attributes.expires;this.attributes.expires=this._tryParseDate(t)},_onChangeAttrValidOn:function(e){var t=this.attributes.valid_on;this.attributes.valid_on=this._tryParseDate(t)},_onChangeAttrShowOn:function(e){var t=this.attributes.show_on;this.attributes.show_on=this._tryParseDate(t)}});return s}),define("views/StatusIndicatorView",["require","underscore","backbone","views/BaseView","globalize","models/StatusIndicatorModel"],function(e){var t=e("underscore"),n=e("backbone"),r=e("views/BaseView"),i=e("globalize"),s=e("models/StatusIndicatorModel"),o=r.extend({UP_CLASS:"up",DOWN_CLASS:"down",tagName:"div",className:"status-indicator",id:"status-indicator",events:function(){return Modernizr.touch?{"touchend .status-indicator":"_onStatusIndicatorClick"}:{"click .status-indicator":"_onStatusIndicatorClick"}},ui:{},pokemon_ui:{active:!0},last_status:!1,first_time:!0,_model:s,initialize:function(e){e=e||{},window.pokemonUI.status_indicators&&window.pokemonUI.status_indicators[this.id]&&t.extend(this.pokemon_ui,window.pokemonUI.status_indicators[this.id]);if(!this.pokemon_ui.active)return;t.bindAll(this),this.setElement($(this.tagName+"."+this.className));if(this.$el.length===0)return;this.$s=this.$el.closest("#status-indicators"),this.delegateEvents(),this.bindUIElements(),this._initializeEventHandlers(),this.model=new this._model,this._initializeModelEventHandlers(),this.model.fetch()},_initializeEventHandlers:function(){},_initializeModelEventHandlers:function(){this.listenTo(this.model,"change:status",this._onStatusChange)},_onStatusChange:function(){this.last_status&&this.$el.removeClass(this.last_status);var e=this.model.get("status");this.last_status=e,this.$el.addClass(e),this.first_time&&this.$el.show().css("display","table"),this.first_time=!1},_format_date_time:function(e){if(e===null)return{date:null,time:null,tz:null};var t=i.format(e,"d"),n=i.format(e,"t"),r=i.format(e,"zzz");return{date:t,time:n,tz:r}},_onStatusIndicatorClick:function(){this.model.fetch()}});return o}),define("models/InMaintenanceStatusIndicator",["require","constants/Elements","underscore","models/StatusIndicatorModel"],function(e){var t=e("constants/Elements"),n=e("underscore"),r=e("models/StatusIndicatorModel"),i=r.extend({defaults:n.extend({feature:""},r.prototype.defaults),urlRoot:window.pokemonUI.global_api?window.pokemonUI.global_api["status-indicators"]["tcgo-in-maintenance"]:"/api/tcg/in_maintenance_status",showing:!1,in_maintenance:!1,_addEventHandlers:function(){r.prototype._addEventHandlers.apply(this,arguments),this.on("change:status",this._onChangeAttrStatus)},_onChangeAttrStatus:function(e){var n=this.attributes.status;n=="down"?(this.showing=!0,this.in_maintenance=!0,t("#status-indicators").trigger("tcg-in-maintenance")):n=="scheduled"?(this.showing=!0,this.in_maintenance_status=!1,t("#status-indicators").trigger("tcg-maintenance-scheduled")):(this.showing=!1,this.in_maintenance=!1,t("#status-indicators").trigger("tcg-outof-maintenance"))}});return i}),define("views/InMaintenanceStatusIndicatorView",["require","underscore","backbone","views/StatusIndicatorView","models/InMaintenanceStatusIndicator"],function(e){var t=e("underscore"),n=e("backbone"),r=e("views/StatusIndicatorView"),i=e("models/InMaintenanceStatusIndicator"),s=r.extend({className:r.prototype.className+".in-maintenance-status",id:"si-in-maintenance",_download_in_maintenance:"n",ui:t.extend({$msg_wrapper:"div.status_inidicator_msg_wrapper.inmaintenance-msg",$features_in_maintenance:"span.feature-in-maintenance",$sched_unsched_maintenance:"div.maintenance-is",$begin_date:"td.begin-date",$begin_time:"td.begin-time",$begin_tz:"td.begin-tz",$end_date:"td.end-date",$end_time:"td.end-time",$end_tz:"td.end-tz",$time_remaining:"span.time-remaining"},r.prototype.ui),pokemon_ui:t.extend({"class":{scheduled:"column-12 push-1",down:"column-12 push-1"}},r.prototype.pokemon_ui),first_time:!1,_model:i,showInMaintenance:function(){this._download_in_maintenance=="s"&&String(window.location).indexOf("/download")>=0&&window.location.reload(!0);var e=this.$el.parent(),t=this.pokemon_ui["class"].scheduled,n=this.pokemon_ui["class"].down;if(e.hasClass(n)&&this.$el.is(":visible"))return;e.removeClass(t).addClass(n),this.$el.show().css("display","table"),this._download_in_maintenance="y"},hideInMaintenance:function(){this._download_in_maintenance=="y"&&String(window.location).indexOf("/download")>=0&&window.location.reload(!0);var e=this.$el.parent(),t=this.pokemon_ui["class"].scheduled,n=this.pokemon_ui["class"].down;if(!this.$el.is(":visible")&&e.hasClass(t))return;e.removeClass(n).addClass(t),this._download_in_maintenance="n",this.$el.hide()},alertInMaintenance:function(){var e=this.$el.parent(),t=this.pokemon_ui["class"].scheduled,n=this.pokemon_ui["class"].down;if(this.$el.is(":visible")&&e.hasClass(t))return;e.removeClass(n).addClass(t),this.$el.show().css("display","table"),this._download_in_maintenance="s"},updateDate:function(){if(!this.model.showing)return;var e,t,n;t=this.model.get("valid_on"),n=this.model.get("expires"),e=this._format_date_time(t),e.date===null?(this.ui.$begin_date.text("Unknown"),this.ui.$begin_time.text(""),this.ui.$begin_tz.text("")):(this.ui.$begin_date.text(e.date),this.ui.$begin_time.text("@ "+e.time),this.ui.$begin_tz.text("("+e.tz+" UTC)")),e=this._format_date_time(n),e.date===null?(this.ui.$end_date.text("Unknown"),this.ui.$end_time.text(""),this.ui.$end_tz.text("")):(this.ui.$end_date.text(e.date),this.ui.$end_time.text("@ "+e.time),this.ui.$end_tz.text("("+e.tz+" UTC)")),this._check_time_remaining()},_initializeEventHandlers:function(){r.prototype._initializeEventHandlers.apply(this,arguments),this.$s.on("tcg-in-maintenance",this.showInMaintenance),this.$s.on("tcg-outof-maintenance",this.hideInMaintenance),this.$s.on("tcg-maintenance-scheduled",this.alertInMaintenance)},_initializeModelEventHandlers:function(){r.prototype._initializeModelEventHandlers.apply(this,arguments),this.listenTo(this.model,"change:show_on",this.updateDate),this.listenTo(this.model,"change:valid_on",this.updateDate),this.listenTo(this.model,"change:expires_on",this.updateDate),this.listenTo(this.model,"change:feature",this._showFeatureMsg),this.listenTo(this.model,"change:scheduled",this._showScheduled)},_showFeatureMsg:function(){this.ui.$features_in_maintenance.hide(),this.ui.$features_in_maintenance.filter("."+this.model.get("feature")).show()},_showScheduled:function(){this.ui.$sched_unsched_maintenance.hide();var e=this.model.get("scheduled")?"scheduled":"unscheduled";this.ui.$sched_unsched_maintenance.filter("."+e).show()},timeout_id:!1,_check_time_remaining:function(){if(!this.model.showing)return;var e=Date.now(),t;this.model.in_maintenance?t=this.model.get("expires"):t=this.model.get("valid_on");var n=t.getTime()-e;this.last_check||(this.last_check=e);var r=e-this.last_check;this.last_check=e;var i=Math.abs(n/2),s=1e4,o=i;o<=s&&(o=s),r>=o&&this.model.fetch(),this.timeout_id&&clearTimeout(this.timeout_id),this.timeout_id=setTimeout(this._check_time_remaining,o)}});return s}),define("models/TCGGameServerStatusIndicator",["require","constants/Elements","underscore","models/StatusIndicatorModel"],function(e){var t=e("constants/Elements"),n=e("underscore"),r=e("models/StatusIndicatorModel"),i=r.extend({urlRoot:window.pokemonUI.global_api?window.pokemonUI.global_api["status-indicators"]["game-server-status"]:"/api/tcg/game_server_status"});return i}),define("views/TCGGameServerStatusIndicatorView",["require","underscore","backbone","views/StatusIndicatorView","models/TCGGameServerStatusIndicator"],function(e){var t=e("underscore"),n=e("backbone"),r=e("views/StatusIndicatorView"),i=e("models/TCGGameServerStatusIndicator"),s=r.extend({className:r.prototype.className+".game-server-status",id:"si-game-server-status",ui:t.extend({},r.prototype.ui),_initializeEventHandlers:function(){r.prototype._initializeEventHandlers.apply(this,arguments),this.$s.on("tcg-in-maintenance",this._onTcgInMaintenance),this.$s.on("tcg-outof-maintenance",this._onTcgOutOfMaintenance),this.$s.on("tcg-maintenance-scheduled",this._onTcggMaintenanceScheduled)},_model:i,_onTcgInMaintenance:function(){this.first_time=!1,this.$el.hide()},_onTcgOutOfMaintenance:function(){this.first_time=!1,this.$el.show().css("display","table")},_onTcgMaintenanceScheduled:function(){}});return s});var JSON;JSON||(JSON={}),function(){function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function f(e){return e<10?"0"+e:e}"use strict",typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),SockJS=function(){var e=document,t=window,n={},r=function(){};r.prototype.addEventListener=function(e,t){this._listeners||(this._listeners={}),e in this._listeners||(this._listeners[e]=[]);var r=this._listeners[e];n.arrIndexOf(r,t)===-1&&r.push(t);return},r.prototype.removeEventListener=function(e,t){if(!(this._listeners&&e in this._listeners))return;var r=this._listeners[e],i=n.arrIndexOf(r,t);if(i!==-1){r.length>1?this._listeners[e]=r.slice(0,i).concat(r.slice(i+1)):delete this._listeners[e];return}return},r.prototype.dispatchEvent=function(e){var t=e.type,n=Array.prototype.slice.call(arguments,0);this["on"+t]&&this["on"+t].apply(this,n);if(this._listeners&&t in this._listeners)for(var r=0;r<this._listeners[t].length;r++)this._listeners[t][r].apply(this,n)};var i=function(e,t){this.type=e;if(typeof t!="undefined")for(var n in t){if(!t.hasOwnProperty(n))continue;this[n]=t[n]}};i.prototype.toString=function(){var e=[];for(var t in this){if(!this.hasOwnProperty(t))continue;var n=this[t];typeof n=="function"&&(n="[function]"),e.push(t+"="+n)}return"SimpleEvent("+e.join(", ")+")"};var s=function(e){var t=this;t._events=e||[],t._listeners={}};s.prototype.emit=function(e){var t=this;t._verifyType(e);if(t._nuked)return;var n=Array.prototype.slice.call(arguments,1);t["on"+e]&&t["on"+e].apply(t,n);if(e in t._listeners)for(var r=0;r<t._listeners[e].length;r++)t._listeners[e][r].apply(t,n)},s.prototype.on=function(e,t){var n=this;n._verifyType(e);if(n._nuked)return;e in n._listeners||(n._listeners[e]=[]),n._listeners[e].push(t)},s.prototype._verifyType=function(e){var t=this;n.arrIndexOf(t._events,e)===-1&&n.log("Event "+JSON.stringify(e)+" not listed "+JSON.stringify(t._events)+" in "+t)},s.prototype.nuke=function(){var e=this;e._nuked=!0;for(var t=0;t<e._events.length;t++)delete e[e._events[t]];e._listeners={}};var o="abcdefghijklmnopqrstuvwxyz0123456789_";n.random_string=function(e,t){t=t||o.length;var n,r=[];for(n=0;n<e;n++)r.push(o.substr(Math.floor(Math.random()*t),1));return r.join("")},n.random_number=function(e){return Math.floor(Math.random()*e)},n.random_number_string=function(e){var t=(""+(e-1)).length,r=Array(t+1).join("0");return(r+n.random_number(e)).slice(-t)},n.getOrigin=function(e){e+="/";var t=e.split("/").slice(0,3);return t.join("/")},n.isSameOriginUrl=function(e,n){return n||(n=t.location.href),e.split("/").slice(0,3).join("/")===n.split("/").slice(0,3).join("/")},n.isSameOriginScheme=function(e,n){return n||(n=t.location.href),e.split(":")[0]===n.split(":")[0]},n.getParentDomain=function(e){if(/^[0-9.]*$/.test(e))return e;if(/^\[/.test(e))return e;if(!/[.]/.test(e))return e;var t=e.split(".").slice(1);return t.join(".")},n.objectExtend=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e};var u="_jp";n.polluteGlobalNamespace=function(){u in t||(t[u]={})},n.closeFrame=function(e,t){return"c"+JSON.stringify([e,t])},n.userSetCode=function(e){return e===1e3||e>=3e3&&e<=4999},n.countRTO=function(e){var t;return e>100?t=3*e:t=e+200,t},n.log=function(){t.console&&console.log&&console.log.apply&&console.log.apply(console,arguments)},n.bind=function(e,t){return e.bind?e.bind(t):function(){return e.apply(t,arguments)}},n.flatUrl=function(e){return e.indexOf("?")===-1&&e.indexOf("#")===-1},n.amendUrl=function(t){var r=e.location;if(!t)throw new Error("Wrong url for SockJS");if(!n.flatUrl(t))throw new Error("Only basic urls are supported in SockJS");t.indexOf("//")===0&&(t=r.protocol+t),t.indexOf("/")===0&&(t=r.protocol+"//"+r.host+t),t=t.replace(/[/]+$/,"");var i=t.split("/");if(i[0]==="http:"&&/:80$/.test(i[2])||i[0]==="https:"&&/:443$/.test(i[2]))i[2]=i[2].replace(/:(80|443)$/,"");return t=i.join("/"),t},n.arrIndexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.arrSkip=function(e,t){var r=n.arrIndexOf(e,t);if(r===-1)return e.slice();var i=e.slice(0,r);return i.concat(e.slice(r+1))},n.isArray=Array.isArray||function(e){return{}.toString.call(e).indexOf("Array")>=0},n.delay=function(e,t){return typeof e=="function"&&(t=e,e=0),setTimeout(t,e)};var a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\0":"\\u0000","":"\\u0001","":"\\u0002","":"\\u0003","":"\\u0004","":"\\u0005","":"\\u0006","":"\\u0007","\b":"\\b","	":"\\t","\n":"\\n","":"\\u000b","\f":"\\f","\r":"\\r","":"\\u000e","":"\\u000f","":"\\u0010","":"\\u0011","":"\\u0012","":"\\u0013","":"\\u0014","":"\\u0015","":"\\u0016","":"\\u0017","":"\\u0018","":"\\u0019","":"\\u001a","":"\\u001b","":"\\u001c","":"\\u001d","":"\\u001e","":"\\u001f",'"':'\\"',"\\":"\\\\","":"\\u007f","":"\\u0080","":"\\u0081","":"\\u0082","":"\\u0083","":"\\u0084","":"\\u0085","":"\\u0086","":"\\u0087","":"\\u0088","":"\\u0089","":"\\u008a","":"\\u008b","":"\\u008c","":"\\u008d","":"\\u008e","":"\\u008f","":"\\u0090","":"\\u0091","":"\\u0092","":"\\u0093","":"\\u0094","":"\\u0095","":"\\u0096","":"\\u0097","":"\\u0098","":"\\u0099","":"\\u009a","":"\\u009b","":"\\u009c","":"\\u009d","":"\\u009e","":"\\u009f","­":"\\u00ad","؀":"\\u0600","؁":"\\u0601","؂":"\\u0602","؃":"\\u0603","؄":"\\u0604","܏":"\\u070f","឴":"\\u17b4","឵":"\\u17b5","‌":"\\u200c","‍":"\\u200d","‎":"\\u200e","‏":"\\u200f","\u2028":"\\u2028","\u2029":"\\u2029","‪":"\\u202a","‫":"\\u202b","‬":"\\u202c","‭":"\\u202d","‮":"\\u202e"," ":"\\u202f","⁠":"\\u2060","⁡":"\\u2061","⁢":"\\u2062","⁣":"\\u2063","⁤":"\\u2064","⁥":"\\u2065","⁦":"\\u2066","⁧":"\\u2067","⁨":"\\u2068","⁩":"\\u2069","⁪":"\\u206a","⁫":"\\u206b","⁬":"\\u206c","⁭":"\\u206d","⁮":"\\u206e","⁯":"\\u206f","﻿":"\\ufeff","￰":"\\ufff0","￱":"\\ufff1","￲":"\\ufff2","￳":"\\ufff3","￴":"\\ufff4","￵":"\\ufff5","￶":"\\ufff6","￷":"\\ufff7","￸":"\\ufff8","￹":"\\ufff9","￺":"\\ufffa","￻":"\\ufffb","￼":"\\ufffc","�":"\\ufffd","￾":"\\ufffe","￿":"\\uffff"},l=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,c,h=JSON&&JSON.stringify||function(e){return a.lastIndex=0,a.test(e)&&(e=e.replace(a,function(e){return f[e]})),'"'+e+'"'},p=function(e){var t,n={},r=[];for(t=0;t<65536;t++)r.push(String.fromCharCode(t));return e.lastIndex=0,r.join("").replace(e,function(e){return n[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,n};n.quote=function(e){var t=h(e);return l.lastIndex=0,l.test(t)?(c||(c=p(l)),t.replace(l,function(e){return c[e]})):t};var d=["websocket","xdr-streaming","xhr-streaming","iframe-eventsource","iframe-htmlfile","xdr-polling","xhr-polling","iframe-xhr-polling","jsonp-polling"];n.probeProtocols=function(){var e={};for(var t=0;t<d.length;t++){var n=d[t];e[n]=T[n]&&T[n].enabled()}return e},n.detectProtocols=function(e,t,n){var r={},i=[];t||(t=d);for(var s=0;s<t.length;s++){var o=t[s];r[o]=e[o]}var u=function(e){var t=e.shift();r[t]?i.push(t):e.length>0&&u(e)};return n.websocket!==!1&&u(["websocket"]),r["xhr-streaming"]&&!n.null_origin?i.push("xhr-streaming"):r["xdr-streaming"]&&!n.cookie_needed&&!n.null_origin?i.push("xdr-streaming"):u(["iframe-eventsource","iframe-htmlfile"]),r["xhr-polling"]&&!n.null_origin?i.push("xhr-polling"):r["xdr-polling"]&&!n.cookie_needed&&!n.null_origin?i.push("xdr-polling"):u(["iframe-xhr-polling","jsonp-polling"]),i};var v="_sockjs_global";n.createHook=function(){var e="a"+n.random_string(8);if(!(v in t)){var r={};t[v]=function(e){return e in r||(r[e]={id:e,del:function(){delete r[e]}}),r[e]}}return t[v](e)},n.attachMessage=function(e){n.attachEvent("message",e)},n.attachEvent=function(n,r){typeof t.addEventListener!="undefined"?t.addEventListener(n,r,!1):(e.attachEvent("on"+n,r),t.attachEvent("on"+n,r))},n.detachMessage=function(e){n.detachEvent("message",e)},n.detachEvent=function(n,r){typeof t.addEventListener!="undefined"?t.removeEventListener(n,r,!1):(e.detachEvent("on"+n,r),t.detachEvent("on"+n,r))};var m={},g=!1,y=function(){for(var e in m)m[e](),delete m[e]},b=function(){if(g)return;g=!0,y()};n.attachEvent("unload",b),n.unload_add=function(e){var t=n.random_string(8);return m[t]=e,g&&n.delay(y),t},n.unload_del=function(e){e in m&&delete m[e]},n.createIframe=function(t,r){var i=e.createElement("iframe"),s,o,u=function(){clearTimeout(s);try{i.onload=null}catch(e){}i.onerror=null},a=function(){i&&(u(),setTimeout(function(){i&&i.parentNode.removeChild(i),i=null},0),n.unload_del(o))},f=function(e){i&&(a(),r(e))},l=function(e,t){try{i&&i.contentWindow&&i.contentWindow.postMessage(e,t)}catch(n){}};return i.src=t,i.style.display="none",i.style.position="absolute",i.onerror=function(){f("onerror")},i.onload=function(){clearTimeout(s),s=setTimeout(function(){f("onload timeout")},2e3)},e.body.appendChild(i),s=setTimeout(function(){f("timeout")},15e3),o=n.unload_add(a),{post:l,cleanup:a,loaded:u}},n.createHtmlfile=function(e,r){var i=new ActiveXObject("htmlfile"),s,o,a,f=function(){clearTimeout(s)},l=function(){i&&(f(),n.unload_del(o),a.parentNode.removeChild(a),a=i=null,CollectGarbage())},c=function(e){i&&(l(),r(e))},h=function(e,t){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(n){}};i.open(),i.write('<html><script>document.domain="'+document.domain+'";'+"</s"+"cript></html>"),i.close(),i.parentWindow[u]=t[u];var p=i.createElement("div");return i.body.appendChild(p),a=i.createElement("iframe"),p.appendChild(a),a.src=e,s=setTimeout(function(){c("timeout")},15e3),o=n.unload_add(l),{post:h,cleanup:l,loaded:f}};var w=function(){};w.prototype=new s(["chunk","finish"]),w.prototype._start=function(e,r,i,s){var o=this;try{o.xhr=new XMLHttpRequest}catch(u){}if(!o.xhr)try{o.xhr=new t.ActiveXObject("Microsoft.XMLHTTP")}catch(u){}if(t.ActiveXObject||t.XDomainRequest)r+=(r.indexOf("?")===-1?"?":"&")+"t="+ +(new Date);o.unload_ref=n.unload_add(function(){o._cleanup(!0)});try{o.xhr.open(e,r,!0)}catch(a){o.emit("finish",0,""),o._cleanup();return}if(!s||!s.no_credentials)o.xhr.withCredentials="true";if(s&&s.headers)for(var f in s.headers)o.xhr.setRequestHeader(f,s.headers[f]);o.xhr.onreadystatechange=function(){if(o.xhr){var e=o.xhr;switch(e.readyState){case 3:try{var t=e.status,n=e.responseText}catch(r){}t===1223&&(t=204),n&&n.length>0&&o.emit("chunk",t,n);break;case 4:var t=e.status;t===1223&&(t=204),o.emit("finish",t,e.responseText),o._cleanup(!1)}}},o.xhr.send(i)},w.prototype._cleanup=function(e){var t=this;if(!t.xhr)return;n.unload_del(t.unload_ref),t.xhr.onreadystatechange=function(){};if(e)try{t.xhr.abort()}catch(r){}t.unload_ref=t.xhr=null},w.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)};var E=n.XHRCorsObject=function(){var e=this,t=arguments;n.delay(function(){e._start.apply(e,t)})};E.prototype=new w;var S=n.XHRLocalObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r,{no_credentials:!0})})};S.prototype=new w;var x=n.XDRObject=function(e,t,r){var i=this;n.delay(function(){i._start(e,t,r)})};x.prototype=new s(["chunk","finish"]),x.prototype._start=function(e,t,r){var i=this,s=new XDomainRequest;t+=(t.indexOf("?")===-1?"?":"&")+"t="+ +(new Date);var o=s.ontimeout=s.onerror=function(){i.emit("finish",0,""),i._cleanup(!1)};s.onprogress=function(){i.emit("chunk",200,s.responseText)},s.onload=function(){i.emit("finish",200,s.responseText),i._cleanup(!1)},i.xdr=s,i.unload_ref=n.unload_add(function(){i._cleanup(!0)});try{i.xdr.open(e,t),i.xdr.send(r)}catch(u){o()}},x.prototype._cleanup=function(e){var t=this;if(!t.xdr)return;n.unload_del(t.unload_ref),t.xdr.ontimeout=t.xdr.onerror=t.xdr.onprogress=t.xdr.onload=null;if(e)try{t.xdr.abort()}catch(r){}t.unload_ref=t.xdr=null},x.prototype.close=function(){var e=this;e.nuke(),e._cleanup(!0)},n.isXHRCorsCapable=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?1:t.XDomainRequest&&e.domain?2:j.enabled()?3:4};var T=function(e,t,r){if(!(this instanceof T))return new T(e,t,r);var i=this,s;i._options={devel:!1,debug:!1,protocols_whitelist:[],info:undefined,rtt:undefined},r&&n.objectExtend(i._options,r),i._base_url=n.amendUrl(e),i._server=i._options.server||n.random_number_string(1e3),i._options.protocols_whitelist&&i._options.protocols_whitelist.length?s=i._options.protocols_whitelist:(typeof t=="string"&&t.length>0?s=[t]:n.isArray(t)?s=t:s=null,s&&i._debug('Deprecated API: Use "protocols_whitelist" option instead of supplying protocol list as a second parameter to SockJS constructor.')),i._protocols=[],i.protocol=null,i.readyState=T.CONNECTING,i._ir=W(i._base_url),i._ir.onfinish=function(e,t){i._ir=null,e?(i._options.info&&(e=n.objectExtend(e,i._options.info)),i._options.rtt&&(t=i._options.rtt),i._applyInfo(e,t,s),i._didClose()):i._didClose(1002,"Can't connect to server",!0)}};T.prototype=new r,T.version="0.3.4.32.g13c1",T.prototype.CONNECTING=T.CONNECTING=0,T.prototype.OPEN=T.OPEN=1,T.prototype.CLOSING=T.CLOSING=2,T.prototype.CLOSED=T.CLOSED=3,T.prototype._debug=function(){this._options.debug&&n.log.apply(n,arguments)},T.prototype._dispatchOpen=function(){var e=this;e.readyState===T.CONNECTING?(e._transport_tref&&(clearTimeout(e._transport_tref),e._transport_tref=null),e.readyState=T.OPEN,e.dispatchEvent(new i("open"))):e._didClose(1006,"Server lost session")},T.prototype._dispatchMessage=function(e){var t=this;if(t.readyState!==T.OPEN)return;t.dispatchEvent(new i("message",{data:e}))},T.prototype._dispatchHeartbeat=function(e){var t=this;if(t.readyState!==T.OPEN)return;t.dispatchEvent(new i("heartbeat",{}))},T.prototype._didClose=function(e,t,r){var s=this;if(s.readyState!==T.CONNECTING&&s.readyState!==T.OPEN&&s.readyState!==T.CLOSING)throw new Error("INVALID_STATE_ERR");s._ir&&(s._ir.nuke(),s._ir=null),s._transport&&(s._transport.doCleanup(),s._transport=null);var o=new i("close",{code:e,reason:t,wasClean:n.userSetCode(e)});if(!n.userSetCode(e)&&s.readyState===T.CONNECTING&&!r){if(s._try_next_protocol(o))return;o=new i("close",{code:2e3,reason:"All transports failed",wasClean:!1,last_event:o})}s.readyState=T.CLOSED,n.delay(function(){s.dispatchEvent(o)})},T.prototype._didMessage=function(e){var t=this,n=e.slice(0,1);switch(n){case"o":t._dispatchOpen();break;case"a":var r=JSON.parse(e.slice(1)||"[]");for(var i=0;i<r.length;i++)t._dispatchMessage(r[i]);break;case"m":var r=JSON.parse(e.slice(1)||"null");t._dispatchMessage(r);break;case"c":var r=JSON.parse(e.slice(1)||"[]");t._didClose(r[0],r[1]);break;case"h":t._dispatchHeartbeat()}},T.prototype._try_next_protocol=function(t){var r=this;r.protocol&&(r._debug("Closed transport:",r.protocol,""+t),r.protocol=null),r._transport_tref&&(clearTimeout(r._transport_tref),r._transport_tref=null);for(;;){var i=r.protocol=r._protocols.shift();if(!i)return!1;if(T[i]&&T[i].need_body===!0&&(!e.body||typeof e.readyState!="undefined"&&e.readyState!=="complete"))return r._protocols.unshift(i),r.protocol="waiting-for-load",n.attachEvent("load",function(){r._try_next_protocol()}),!0;if(!!T[i]&&!!T[i].enabled(r._options)){var s=T[i].roundTrips||1,o=(r._options.rto||0)*s||5e3;r._transport_tref=n.delay(o,function(){r.readyState===T.CONNECTING&&r._didClose(2007,"Transport timeouted")});var u=n.random_string(8),a=r._base_url+"/"+r._server+"/"+u;return r._debug("Opening transport:",i," url:"+a," RTO:"+r._options.rto),r._transport=new T[i](r,a,r._base_url),!0}r._debug("Skipping transport:",i)}},T.prototype.close=function(e,t){var r=this;if(e&&!n.userSetCode(e))throw new Error("INVALID_ACCESS_ERR");return r.readyState!==T.CONNECTING&&r.readyState!==T.OPEN?!1:(r.readyState=T.CLOSING,r._didClose(e||1e3,t||"Normal closure"),!0)},T.prototype.send=function(e){var t=this;if(t.readyState===T.CONNECTING)throw new Error("INVALID_STATE_ERR");return t.readyState===T.OPEN&&t._transport.doSend(n.quote(""+e)),!0},T.prototype._applyInfo=function(t,r,i){var s=this;s._options.info=t,s._options.rtt=r,s._options.rto=n.countRTO(r),s._options.info.null_origin=!e.domain,t.base_url&&(s._base_url=n.amendUrl(t.base_url));var o=n.probeProtocols();s._protocols=n.detectProtocols(o,i,t)};var N=T.websocket=function(e,r){var i=this,s=r+"/websocket";s.slice(0,5)==="https"?s="wss"+s.slice(5):s="ws"+s.slice(4),i.ri=e,i.url=s;var o=t.WebSocket||t.MozWebSocket;i.ws=new o(i.url),i.ws.onmessage=function(e){i.ri._didMessage(e.data)},i.unload_ref=n.unload_add(function(){i.ws.close()}),i.ws.onclose=function(){i.ri._didMessage(n.closeFrame(1006,"WebSocket connection broken"))}};N.prototype.doSend=function(e){this.ws.send("["+e+"]")},N.prototype.doCleanup=function(){var e=this,t=e.ws;t&&(t.onmessage=t.onclose=null,t.close(),n.unload_del(e.unload_ref),e.unload_ref=e.ri=e.ws=null)},N.enabled=function(){return!!t.WebSocket||!!t.MozWebSocket},N.roundTrips=2;var C=function(){};C.prototype.send_constructor=function(e){var t=this;t.send_buffer=[],t.sender=e},C.prototype.doSend=function(e){var t=this;t.send_buffer.push(e),t.send_stop||t.send_schedule()},C.prototype.send_schedule_wait=function(){var e=this,t;e.send_stop=function(){e.send_stop=null,clearTimeout(t)},t=n.delay(25,function(){e.send_stop=null,e.send_schedule()})},C.prototype.send_schedule=function(){var e=this;if(e.send_buffer.length>0){var t="["+e.send_buffer.join(",")+"]";e.send_stop=e.sender(e.trans_url,t,function(t,n){e.send_stop=null,t===!1?e.ri._didClose(1006,"Sending error "+n):e.send_schedule_wait()}),e.send_buffer=[]}},C.prototype.send_destructor=function(){var e=this;e._send_stop&&e._send_stop(),e._send_stop=null};var k=function(t,r,i){var s=this;if(!("_send_form"in s)){var o=s._send_form=e.createElement("form"),u=s._send_area=e.createElement("textarea");u.name="d",o.style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",o.appendChild(u),e.body.appendChild(o)}var o=s._send_form,u=s._send_area,a="a"+n.random_string(8);o.target=a,o.action=t+"/jsonp_send?i="+a;var f;try{f=e.createElement('<iframe name="'+a+'">')}catch(l){f=e.createElement("iframe"),f.name=a}f.id=a,o.appendChild(f),f.style.display="none";try{u.value=r}catch(c){n.log("Your browser is seriously broken. Go home! "+c.message)}o.submit();var h=function(e){if(!f.onerror)return;f.onreadystatechange=f.onerror=f.onload=null,n.delay(500,function(){f.parentNode.removeChild(f),f=null}),u.value="",i(!0)};return f.onerror=f.onload=h,f.onreadystatechange=function(e){f.readyState=="complete"&&h()},h},L=function(e){return function(t,n,r){var i=new e("POST",t+"/xhr_send",n);return i.onfinish=function(e,t){r(e===200||e===204,"http status "+e)},function(e){r(!1,e)}}},A=function(t,r){var i,s=e.createElement("script"),o,u=function(e){o&&(o.parentNode.removeChild(o),o=null),s&&(clearTimeout(i),s.parentNode.removeChild(s),s.onreadystatechange=s.onerror=s.onload=s.onclick=null,s=null,r(e),r=null)},a=!1,f=null;s.id="a"+n.random_string(8),s.src=t,s.type="text/javascript",s.charset="UTF-8",s.onerror=function(e){f||(f=setTimeout(function(){a||u(n.closeFrame(1006,"JSONP script loaded abnormally (onerror)"))},1e3))},s.onload=function(e){u(n.closeFrame(1006,"JSONP script loaded abnormally (onload)"))},s.onreadystatechange=function(e){if(/loaded|closed/.test(s.readyState)){if(s&&s.htmlFor&&s.onclick){a=!0;try{s.onclick()}catch(t){}}s&&u(n.closeFrame(1006,"JSONP script loaded abnormally (onreadystatechange)"))}};if(typeof s.async=="undefined"&&e.attachEvent)if(!/opera/i.test(navigator.userAgent)){try{s.htmlFor=s.id,s.event="onclick"}catch(l){}s.async=!0}else o=e.createElement("script"),o.text="try{var a = document.getElementById('"+s.id+"'); if(a)a.onerror();}catch(x){};",s.async=o.async=!1;typeof s.async!="undefined"&&(s.async=!0),i=setTimeout(function(){u(n.closeFrame(1006,"JSONP script loaded abnormally (timeout)"))},35e3);var c=e.getElementsByTagName("head")[0];return c.insertBefore(s,c.firstChild),o&&c.insertBefore(o,c.firstChild),u},O=T["jsonp-polling"]=function(e,t){n.polluteGlobalNamespace();var r=this;r.ri=e,r.trans_url=t,r.send_constructor(k),r._schedule_recv()};O.prototype=new C,O.prototype._schedule_recv=function(){var e=this,t=function(t){e._recv_stop=null,t&&(e._is_closing||e.ri._didMessage(t)),e._is_closing||e._schedule_recv()};e._recv_stop=M(e.trans_url+"/jsonp",A,t)},O.enabled=function(){return!0},O.need_body=!0,O.prototype.doCleanup=function(){var e=this;e._is_closing=!0,e._recv_stop&&e._recv_stop(),e.ri=e._recv_stop=null,e.send_destructor()};var M=function(e,r,i){var s="a"+n.random_string(6),o=e+"?c="+escape(u+"."+s),a=0,f=function(e){switch(a){case 0:delete t[u][s],i(e);break;case 1:i(e),a=2;break;case 2:delete t[u][s]}},l=r(o,f);t[u][s]=l;var c=function(){t[u][s]&&(a=1,t[u][s](n.closeFrame(1e3,"JSONP user aborted read")))};return c},_=function(){};_.prototype=new C,_.prototype.run=function(e,t,n,r,i){var s=this;s.ri=e,s.trans_url=t,s.send_constructor(L(i)),s.poll=new Y(e,r,t+n,i)},_.prototype.doCleanup=function(){var e=this;e.poll&&(e.poll.abort(),e.poll=null)};var D=T["xhr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",rt,n.XHRCorsObject)};D.prototype=new _,D.enabled=function(){return t.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest&&!/opera/i.test(navigator.userAgent)},D.roundTrips=2,D.need_body=!0;var P=T["xdr-streaming"]=function(e,t){this.run(e,t,"/xhr_streaming",rt,n.XDRObject)};P.prototype=new _,P.enabled=function(){return!!t.XDomainRequest},P.roundTrips=2;var H=T["xhr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XHRCorsObject)};H.prototype=new _,H.enabled=D.enabled,H.roundTrips=2;var B=T["xdr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XDRObject)};B.prototype=new _,B.enabled=P.enabled,B.roundTrips=2;var j=function(){};j.prototype.i_constructor=function(e,t,r){var i=this;i.ri=e,i.origin=n.getOrigin(r),i.base_url=r,i.trans_url=t;var s=r+"/iframe.html";i.ri._options.devel&&(s+="?t="+ +(new Date)),i.window_id=n.random_string(8),s+="#"+i.window_id,i.iframeObj=n.createIframe(s,function(e){i.ri._didClose(1006,"Unable to load an iframe ("+e+")")}),i.onmessage_cb=n.bind(i.onmessage,i),n.attachMessage(i.onmessage_cb)},j.prototype.doCleanup=function(){var e=this;if(e.iframeObj){n.detachMessage(e.onmessage_cb);try{e.iframeObj.iframe.contentWindow&&e.postMessage("c")}catch(t){}e.iframeObj.cleanup(),e.iframeObj=null,e.onmessage_cb=e.iframeObj=null}},j.prototype.onmessage=function(e){var t=this;if(e.origin!==t.origin)return;var n=e.data.slice(0,8),r=e.data.slice(8,9),i=e.data.slice(9);if(n!==t.window_id)return;switch(r){case"s":t.iframeObj.loaded(),t.postMessage("s",JSON.stringify([T.version,t.protocol,t.trans_url,t.base_url]));break;case"t":t.ri._didMessage(i)}},j.prototype.postMessage=function(e,t){var n=this;n.iframeObj.post(n.window_id+e+(t||""),n.origin)},j.prototype.doSend=function(e){this.postMessage("m",e)},j.enabled=function(){var e=navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Konqueror")!==-1;return(typeof t.postMessage=="function"||typeof t.postMessage=="object")&&!e};var F,I=function(e,r){parent!==t?parent.postMessage(F+e+(r||""),"*"):n.log("Can't postMessage, no parent window.",e,r)},q=function(){};q.prototype._didClose=function(e,t){I("t",n.closeFrame(e,t))},q.prototype._didMessage=function(e){I("t",e)},q.prototype._doSend=function(e){this._transport.doSend(e)},q.prototype._doCleanup=function(){this._transport.doCleanup()},n.parent_origin=undefined,T.bootstrap_iframe=function(){var r;F=e.location.hash.slice(1);var i=function(e){if(e.source!==parent)return;typeof n.parent_origin=="undefined"&&(n.parent_origin=e.origin);if(e.origin!==n.parent_origin)return;var i=e.data.slice(0,8),s=e.data.slice(8,9),o=e.data.slice(9);if(i!==F)return;switch(s){case"s":var u=JSON.parse(o),a=u[0],f=u[1],l=u[2],c=u[3];a!==T.version&&n.log('Incompatibile SockJS! Main site uses: "'+a+'", the iframe:'+' "'+T.version+'".');if(!n.flatUrl(l)||!n.flatUrl(c)){n.log("Only basic urls are supported in SockJS");return}if(!n.isSameOriginUrl(l)||!n.isSameOriginUrl(c)){n.log("Can't connect to different domain from within an iframe. ("+JSON.stringify([t.location.href,l,c])+")");return}r=new q,r._transport=new q[f](r,l,c);break;case"m":r._doSend(o);break;case"c":r&&r._doCleanup(),r=null}};n.attachMessage(i),I("s")};var R=function(e,t){var r=this;n.delay(function(){r.doXhr(e,t)})};R.prototype=new s(["finish"]),R.prototype.doXhr=function(e,t){var r=this,i=(new Date).getTime(),s=new t("GET",e+"/info"),o=n.delay(8e3,function(){s.ontimeout()});s.onfinish=function(e,t){clearTimeout(o),o=null;if(e===200){var n=(new Date).getTime()-i,s=JSON.parse(t);typeof s!="object"&&(s={}),r.emit("finish",s,n)}else r.emit("finish")},s.ontimeout=function(){s.close(),r.emit("finish")}};var U=function(t){var r=this,i=function(){var e=new j;e.protocol="w-iframe-info-receiver";var n=function(t){if(typeof t=="string"&&t.substr(0,1)==="m"){var n=JSON.parse(t.substr(1)),i=n[0],s=n[1];r.emit("finish",i,s)}else r.emit("finish");e.doCleanup(),e=null},i={_options:{},_didClose:n,_didMessage:n};e.i_constructor(i,t,t)};e.body?i():n.attachEvent("load",i)};U.prototype=new s(["finish"]);var z=function(){var e=this;n.delay(function(){e.emit("finish",{},2e3)})};z.prototype=new s(["finish"]);var W=function(e){if(n.isSameOriginUrl(e))return new R(e,n.XHRLocalObject);switch(n.isXHRCorsCapable()){case 1:return new R(e,n.XHRLocalObject);case 2:if(n.isSameOriginScheme(e))return new R(e,n.XDRObject);break;case 3:return new U(e)}return new z},X=q["w-iframe-info-receiver"]=function(e,t,r){var i=new R(r,n.XHRLocalObject);i.onfinish=function(t,n){e._didMessage("m"+JSON.stringify([t,n])),e._didClose()}};X.prototype.doCleanup=function(){};var V=T["iframe-eventsource"]=function(){var e=this;e.protocol="w-iframe-eventsource",e.i_constructor.apply(e,arguments)};V.prototype=new j,V.enabled=function(){return"EventSource"in t&&j.enabled()},V.need_body=!0,V.roundTrips=3;var $=q["w-iframe-eventsource"]=function(e,t){this.run(e,t,"/eventsource",Z,n.XHRLocalObject)};$.prototype=new _;var J=T["iframe-xhr-polling"]=function(){var e=this;e.protocol="w-iframe-xhr-polling",e.i_constructor.apply(e,arguments)};J.prototype=new j,J.enabled=function(){return t.XMLHttpRequest&&j.enabled()},J.need_body=!0,J.roundTrips=3;var K=q["w-iframe-xhr-polling"]=function(e,t){this.run(e,t,"/xhr",rt,n.XHRLocalObject)};K.prototype=new _;var Q=T["iframe-htmlfile"]=function(){var e=this;e.protocol="w-iframe-htmlfile",e.i_constructor.apply(e,arguments)};Q.prototype=new j,Q.enabled=function(){return j.enabled()},Q.need_body=!0,Q.roundTrips=3;var G=q["w-iframe-htmlfile"]=function(e,t){this.run(e,t,"/htmlfile",nt,n.XHRLocalObject)};G.prototype=new _;var Y=function(e,t,n,r){var i=this;i.ri=e,i.Receiver=t,i.recv_url=n,i.AjaxObject=r,i._scheduleRecv()};Y.prototype._scheduleRecv=function(){var e=this,t=e.poll=new e.Receiver(e.recv_url,e.AjaxObject),n=0;t.onmessage=function(t){n+=1,e.ri._didMessage(t.data)},t.onclose=function(n){e.poll=t=t.onmessage=t.onclose=null,e.poll_is_closing||(n.reason==="permanent"?e.ri._didClose(1006,"Polling error ("+n.reason+")"):e._scheduleRecv())}},Y.prototype.abort=function(){var e=this;e.poll_is_closing=!0,e.poll&&e.poll.abort()};var Z=function(e){var t=this,r=new EventSource(e);r.onmessage=function(e){t.dispatchEvent(new i("message",{data:unescape(e.data)}))},t.es_close=r.onerror=function(e,s){var o=s?"user":r.readyState!==2?"network":"permanent";t.es_close=r.onmessage=r.onerror=null,r.close(),r=null,n.delay(200,function(){t.dispatchEvent(new i("close",{reason:o}))})}};Z.prototype=new r,Z.prototype.abort=function(){var e=this;e.es_close&&e.es_close({},!0)};var et,tt=function(){if(et===undefined)if("ActiveXObject"in t)try{et=!!(new ActiveXObject("htmlfile"))}catch(e){}else et=!1;return et},nt=function(e){var r=this;n.polluteGlobalNamespace(),r.id="a"+n.random_string(6,26),e+=(e.indexOf("?")===-1?"?":"&")+"c="+escape(u+"."+r.id);var s=tt()?n.createHtmlfile:n.createIframe,o;t[u][r.id]={start:function(){o.loaded()},message:function(e){r.dispatchEvent(new i("message",{data:e}))},stop:function(){r.iframe_close({},"network")}},r.iframe_close=function(e,n){o.cleanup(),r.iframe_close=o=null,delete t[u][r.id],r.dispatchEvent(new i("close",{reason:n}))},o=s(e,function(e){r.iframe_close({},"permanent")})};nt.prototype=new r,nt.prototype.abort=function(){var e=this;e.iframe_close&&e.iframe_close({},"user")};var rt=function(e,t){var n=this,r=0;n.xo=new t("POST",e,null),n.xo.onchunk=function(e,t){if(e!==200)return;for(;;){var s=t.slice(r),o=s.indexOf("\n");if(o===-1)break;r+=o+1;var u=s.slice(0,o);n.dispatchEvent(new i("message",{data:u}))}},n.xo.onfinish=function(e,t){n.xo.onchunk(e,t),n.xo=null;var r=e===200?"network":"permanent";n.dispatchEvent(new i("close",{reason:r}))}};return rt.prototype=new r,rt.prototype.abort=function(){var e=this;e.xo&&(e.xo.close(),e.dispatchEvent(new i("close",{reason:"user"})),e.xo=null)},T.getUtils=function(){return n},T.getIframeTransport=function(){return j},T}(),"_sockjs_onload"in window&&setTimeout(_sockjs_onload,1),typeof define=="function"&&define.amd&&define("sockjs",[],function(){return SockJS}),define("utils/websocket",["require","exports","module","underscore","sockjs","events/UserEvent"],function(e,t,n){var r=e("underscore"),i=e("sockjs"),s=e("events/UserEvent"),o={socket:null,enabled:null,initialize:function(e){if(this.enabled!==null&&!this.enabled)return;$.subscribe(s.USER_DETAILS_LOADED,r.bind(this._onUserDetailsLoaded,this)),this.enabled=!1},_onUserDetailsLoaded:function(e,t){if(this.enabled||window.ws_setup)return;if(!t.get("isAuthenticated"))return;if(window.location.protocol==="https:")return;window.pokemonUI&&window.pokemonUI.global_api&&window.pokemonUI.global_api["status-indicators"]&&$.getJSON(window.pokemonUI.global_api["status-indicators"].notifications).done(r.bind(this._setup,this))},_setup:function(e){if(!e||!e.enabled){this.enabled=!1;return}this.options=e,this.enabled=!1,this.socket_options=this.options.socket_options||{},this.socket=new i(e.url,null,this.socket_options),this.socket.onopen=r.bind(this._onOpen,this),this.socket.onmessage=r.bind(this._onMessage,this),this.socket.onclose=r.bind(this._onClose,this),$.subscribe(s.NOTIFY_VIEWED,r.bind(this._onView,this)),window.ws_setup=!0},_onOpen:function(){this._log("opening socket"),this.enabled=!0,this.options.duration&&window.setTimeout(r.bind(function(){this.close()},this.socket),this.options.duration*1e3),this.options.ticket&&this.socket.send('{"ticket": "'+this.options.ticket+'"}')},_onMessage:function(e){if(e.data==="Connected"){this._log("connected");return}var t;try{t=jQuery.parseJSON(e.data)}catch(n){this._log(e.data);return}var r={message_id:t.id,label:t.label,message:t.text,image:t.asset};t.context&&t.context.url&&(r.url=t.context.url),$.publish(s.NOTIFY,r),this._performTypeSpecificTasks(t),this._log(t)},_performTypeSpecificTasks:function(e){e.type==="level_up"&&$.publish(s.LEVEL_UP,{level:e.context.level,levelProgress:e.context.level_progress})},_onClose:function(){this.enabled=!1},_log:function(e){this.socket_options&&this.socket_options.devel||window.location.hostname.split(".").pop()==="dev"},_onView:function(e,t){this._log("Setting message as read: "+t.message_id),this.socket.send('{"message_id": "'+t.message_id+'"}')}};return o}),define("templates/ui/timeMachine",["handlebars"],function(e){return e.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var i,s="function",o=t.helperMissing,u=this.escapeExpression;return'<a data-tooltip="Time Machine\n\nA date/time, or \'now\' is displayed, showing the effective date. Click on it to select a new date/time; you can also edit it directly. Red means it\'s not operative yet; click on the red arrow that appears to set it. To remove an effective date, returning to \'now\', click on the X." class="tardis-help">[?]</a>\n<input class="effective-date" value="'+u((i=(i=t.effectiveDate||(e!=null?e.effectiveDate:e))!=null?i:o,typeof i===s?i.call(e,{name:"effectiveDate",hash:{},data:r}):i))+'">\n<i class="icon icon_multiply tardis-action"></i>\n'},useData:!0})}),function(e){var t={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeek:["ن","ث","ع","خ","ج","س","ح"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Sen","Sel","Rab","Kam","Jum","Sab","Min"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeek:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeek:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeek:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeek:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["日","月","火","水","木","金","土"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeek:["Va","Hé","Ke","Sze","Cs","Pé","Szo"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],yearOffset:0,beforeShowDay:null};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return(new Date(this.getFullYear(),this.getMonth()+1,0)).getDate()},e.fn.xdsoftScroller=function(t){return this.each(function(){var n=e(this);if(!e(this).hasClass("xdsoft_scroller_box")){var r=function(e){var t={x:0,y:0};if(e.type=="touchstart"||e.type=="touchmove"||e.type=="touchend"||e.type=="touchcancel"){var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t.x=n.pageX,t.y=n.pageY}else if(e.type=="mousedown"||e.type=="mouseup"||e.type=="mousemove"||e.type=="mouseover"||e.type=="mouseout"||e.type=="mouseenter"||e.type=="mouseleave")t.x=e.pageX,t.y=e.pageY;return t},i=0,s=n.children().eq(0),o=n[0].clientHeight,u=s[0].offsetHeight,a=e('<div class="xdsoft_scrollbar"></div>'),f=e('<div class="xdsoft_scroller"></div>'),l=100,c=!1;a.append(f),n.addClass("xdsoft_scroller_box").append(a),f.on("mousedown.xdsoft_scroller",function(r){o||n.trigger("resize_scroll.xdsoft_scroller",[t]);var s=r.pageY,u=parseInt(f.css("margin-top")),c=a[0].offsetHeight;e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("mouseup.xdsoft_scroller",function h(){e([document.body,window]).off("mouseup.xdsoft_scroller",h).off("mousemove.xdsoft_scroller",i).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",i=function(e){var t=e.pageY-s+u;t<0&&(t=0),t+f[0].offsetHeight>c&&(t=c-f[0].offsetHeight),n.trigger("scroll_element.xdsoft_scroller",[l?t/l:0])})}),n.on("scroll_element.xdsoft_scroller",function(e,t){o||n.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:t<0||isNaN(t)?0:t,f.css("margin-top",l*t),setTimeout(function(){s.css("marginTop",-parseInt((s[0].offsetHeight-o)*t))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,r){o=n[0].clientHeight,u=s[0].offsetHeight;var i=o/u,c=i*a[0].offsetHeight;i>1?f.hide():(f.show(),f.css("height",parseInt(c>10?c:10)),l=a[0].offsetHeight-f[0].offsetHeight,r!==!0&&n.trigger("scroll_element.xdsoft_scroller",[t?t:Math.abs(parseInt(s.css("marginTop")))/(u-o)]))}),n.mousewheel&&n.mousewheel(function(e,t,r,i){var a=Math.abs(parseInt(s.css("marginTop")));return n.trigger("scroll_element.xdsoft_scroller",[(a-t*20)/(u-o)]),e.stopPropagation(),!1}),n.on("touchstart",function(e){c=r(e)}),n.on("touchmove",function(e){if(c){var t=r(e),i=Math.abs(parseInt(s.css("marginTop")));n.trigger("scroll_element.xdsoft_scroller",[(i-(t.y-c.y))/(u-o)]),e.stopPropagation(),e.preventDefault(),c=r(e)}}),n.on("touchend touchcancel",function(e){c=!1})}n.trigger("resize_scroll.xdsoft_scroller",[t])})},e.fn.datetimepicker=function(n){var r=48,i=57,s=96,o=105,u=17,a=46,f=13,l=27,c=8,h=37,p=38,d=39,v=40,m=9,g=116,y=65,b=67,w=86,E=90,S=89,x=!1,T=e.isPlainObject(n)||!n?e.extend(!0,{},t,n):e.extend({},t),N=0,C=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function t(n){if(e.is(":disabled")||e.is(":hidden")||!e.is(":visible")||e.data("xdsoft_datetimepicker"))return;clearTimeout(N),N=setTimeout(function(){e.data("xdsoft_datetimepicker")||k(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",t).trigger("open.xdsoft")},100)})},k=function(t){function X(){var e=!1;return T.startDate?e=j.strToDate(T.startDate):(e=T.value?T.value:t&&t.val&&t.val()?t.val():"",e?e=j.strToDateTime(e):T.defaultDate&&(e=j.strToDate(T.defaultDate))),e&&j.isValidDate(e)?n.data("changed",!0):e="",e?e:0}var n=e("<div "+(T.id?'id="'+T.id+'"':"")+" "+(T.style?'style="'+T.style+'"':"")+' class="xdsoft_datetimepicker xdsoft_noselect '+(T.weeks?" xdsoft_showweeks":"")+T.className+'"></div>'),N=e('<div class="xdsoft_copyright"><a target="_blank" href="https://web.archive.org/web/20151028121945/http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),C=e('<div class="xdsoft_datepicker active"></div>'),k=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span></div><div class="xdsoft_label xdsoft_year"><span></span></div><button type="button" class="xdsoft_next"></button></div>'),L=e('<div class="xdsoft_calendar"></div>'),A=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),O=A.find(".xdsoft_time_box").eq(0),M=e('<div class="xdsoft_time_variant"></div>'),_=e('<div class="xdsoft_scrollbar"></div>'),D=e('<div class="xdsoft_scroller"></div>'),P=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),H=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>');k.find(".xdsoft_month span").after(P),k.find(".xdsoft_year span").after(H),k.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(t){k.find(".xdsoft_select").hide();var n=e(this).find(".xdsoft_select").eq(0),r=0,i=0;j.currentTime&&(r=j.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),n.show();for(var s=n.find("div.xdsoft_option"),o=0;o<s.length;o++){if(s.eq(o).data("value")==r)break;i+=s[0].offsetHeight}return n.xdsoftScroller(i/(n.children()[0].offsetHeight-n[0].clientHeight)),t.stopPropagation(),!1}),k.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(t){j&&j.currentTime&&j.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),n.trigger("xchange.xdsoft"),T.onChangeMonth&&T.onChangeMonth.call&&T.onChangeMonth.call(n,j.currentTime,n.data("input"))}),n.setOptions=function(N){T=e.extend(!0,{},T,N),N.allowTimes&&e.isArray(N.allowTimes)&&N.allowTimes.length&&(T.allowTimes=e.extend(!0,[],N.allowTimes)),N.weekends&&e.isArray(N.weekends)&&N.weekends.length&&(T.weekends=e.extend(!0,[],N.weekends)),(T.open||T.opened)&&!T.inline&&t.trigger("open.xdsoft"),T.inline&&(q=!0,n.addClass("xdsoft_inline"),t.after(n).hide()),T.inverseButton&&(T.next="xdsoft_prev",T.prev="xdsoft_next"),T.datepicker?C.addClass("active"):C.removeClass("active"),T.timepicker?A.addClass("active"):A.removeClass("active"),T.value&&(t&&t.val&&t.val(T.value),j.setCurrentTime(T.value)),isNaN(T.dayOfWeekStart)?T.dayOfWeekStart=0:T.dayOfWeekStart=parseInt(T.dayOfWeekStart)%7,T.timepickerScrollbar||_.hide(),T.minDate&&/^-(.*)$/.test(T.minDate)&&(T.minDate=j.strToDateTime(T.minDate).dateFormat(T.formatDate)),T.maxDate&&/^\+(.*)$/.test(T.maxDate)&&(T.maxDate=j.strToDateTime(T.maxDate).dateFormat(T.formatDate)),k.find(".xdsoft_today_button").css("visibility",T.todayButton?"visible":"hidden");if(T.mask){var L,O=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(n){return 0}},M=function(e,t){e=typeof e=="string"||e instanceof String?document.getElementById(e):e;if(!e)return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd(t),n.moveStart(t),n.select(),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},D=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return RegExp(n).test(t)};t.off("keydown.xdsoft");switch(!0){case T.mask===!0:T.mask=T.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59");case e.type(T.mask)=="string":D(T.mask,t.val())||t.val(T.mask.replace(/[0-9]/g,"_")),t.on("keydown.xdsoft",function(n){var N=this.value,C=n.which;switch(!0){case C>=r&&C<=i||C>=s&&C<=o||C==c||C==a:var k=O(this),L=C!=c&&C!=a?String.fromCharCode(s<=C&&C<=o?C-r:C):"_";(C==c||C==a)&&k&&(k--,L="_");while(/[^0-9_]/.test(T.mask.substr(k,1))&&k<T.mask.length&&k>0)k+=C==c||C==a?-1:1;N=N.substr(0,k)+L+N.substr(k+1);if(e.trim(N)=="")N=T.mask.replace(/[0-9]/g,"_");else if(k==T.mask.length)break;k+=C==c||C==a?0:1;while(/[^0-9_]/.test(T.mask.substr(k,1))&&k<T.mask.length&&k>0)k+=C==c||C==a?-1:1;D(T.mask,N)?(this.value=N,M(this,k)):e.trim(N)==""?this.value=T.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft");break;case!!~[y,b,w,E,S].indexOf(C)&&x:case!!~[l,p,v,h,d,g,u,m,f].indexOf(C):return!0}return n.preventDefault(),!1})}}T.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){T.allowBlank&&!e.trim(e(this).val()).length?(e(this).val(null),n.data("xdsoft_datetime").empty()):Date.parseDate(e(this).val(),T.format)?n.data("xdsoft_datetime").setCurrentTime(e(this).val()):(e(this).val(j.now().dateFormat(T.format)),n.data("xdsoft_datetime").setCurrentTime(e(this).val())),n.trigger("changedatetime.xdsoft")}),T.dayOfWeekStartPrev=T.dayOfWeekStart==0?6:T.dayOfWeekStart-1,n.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},n.data("options",T).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),H.hide(),P.hide(),!1});var B=A.find(".xdsoft_time_box");B.append(M),B.xdsoftScroller(),n.on("afterOpen.xdsoft",function(){B.xdsoftScroller()}),n.append(C).append(A),T.withoutCopyright!==!0&&n.append(N),C.append(k).append(L),e("body").append(n);var j=new function(){var e=this;e.now=function(t){var n=new Date;if(!t&&T.defaultDate){var r=e.strToDate(T.defaultDate);n.setFullYear(r.getFullYear()),n.setMonth(r.getMonth()),n.setDate(r.getDate())}T.yearOffset&&n.setFullYear(n.getFullYear()+T.yearOffset);if(!t&&T.defaultTime){var i=e.strtotime(T.defaultTime);n.setHours(i.getHours()),n.setMinutes(i.getMinutes())}return n},e.isValidDate=function(e){return Object.prototype.toString.call(e)!=="[object Date]"?!1:!isNaN(e.getTime())},e.setCurrentTime=function(t){e.currentTime=typeof t=="string"?e.strToDateTime(t):e.isValidDate(t)?t:e.now(),n.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(t){return e.currentTime},e.nextMonth=function(){var t=e.currentTime.getMonth()+1;return t==12&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),t=0),e.currentTime.setDate(Math.min((new Date(e.currentTime.getFullYear(),t+1,0)).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(t),T.onChangeMonth&&T.onChangeMonth.call&&T.onChangeMonth.call(n,j.currentTime,n.data("input")),n.trigger("xchange.xdsoft"),t},e.prevMonth=function(){var t=e.currentTime.getMonth()-1;return t==-1&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),t=11),e.currentTime.setDate(Math.min((new Date(e.currentTime.getFullYear(),t+1,0)).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(t),T.onChangeMonth&&T.onChangeMonth.call&&T.onChangeMonth.call(n,j.currentTime,n.data("input")),n.trigger("xchange.xdsoft"),t},e.strToDateTime=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=[],r,i;return(n=/^(\+|\-)(.*)$/.exec(t))&&(n[2]=Date.parseDate(n[2],T.formatDate))?(r=n[2].getTime()-n[2].getTimezoneOffset()*6e4,i=new Date(j.now().getTime()+parseInt(n[1]+"1")*r)):i=t?Date.parseDate(t,T.format):e.now(),e.isValidDate(i)||(i=e.now()),i},e.strToDate=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?Date.parseDate(t,T.formatDate):e.now(!0);return e.isValidDate(n)||(n=e.now(!0)),n},e.strtotime=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var n=t?Date.parseDate(t,T.formatTime):e.now();return e.isValidDate(n)||(n=e.now(!0)),n},e.str=function(){return e.currentTime.dateFormat(T.format)},e.currentTime=this.now()};k.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){n.data("changed",!0),j.setCurrentTime(0),n.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){t.val(j.str()),n.trigger("close.xdsoft")}),k.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,r=!1;(function i(e){var s=j.currentTime.getMonth();t.hasClass(T.next)?j.nextMonth():t.hasClass(T.prev)&&j.prevMonth(),T.monthChangeSpinner&&!r&&(n=setTimeout(i,e?e:100))})(500),e([document.body,window]).on("mouseup.xdsoft",function s(){clearTimeout(n),r=!0,e([document.body,window]).off("mouseup.xdsoft",s)})}),A.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,r=!1,i=110;(function s(e){var o=O[0].clientHeight,u=M[0].offsetHeight,a=Math.abs(parseInt(M.css("marginTop")));t.hasClass(T.next)&&u-o-T.timeHeightInTimePicker>=a?M.css("marginTop","-"+(a+T.timeHeightInTimePicker)+"px"):t.hasClass(T.prev)&&a-T.timeHeightInTimePicker>=0&&M.css("marginTop","-"+(a-T.timeHeightInTimePicker)+"px"),O.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(M.css("marginTop"))/(u-o))]),i=i>10?10:i-10,!r&&(n=setTimeout(s,e?e:i))})(500),e([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(n),r=!0,e([document.body,window]).off("mouseup.xdsoft",o)})});var F=0;n.on("xchange.xdsoft",function(t){clearTimeout(F),F=setTimeout(function(){var t="",r=new Date(j.currentTime.getFullYear(),j.currentTime.getMonth(),1,12,0,0),i=0,s=j.now();while(r.getDay()!=T.dayOfWeekStart)r.setDate(r.getDate()-1);t+="<table><thead><tr>",T.weeks&&(t+="<th></th>");for(var o=0;o<7;o++)t+="<th>"+T.i18n[T.lang].dayOfWeek[(o+T.dayOfWeekStart)%7]+"</th>";t+="</tr></thead>",t+="<tbody>";var u=!1,a=!1;T.maxDate!==!1&&(u=j.strToDate(T.maxDate),u=new Date(u.getFullYear(),u.getMonth(),u.getDate(),23,59,59,999)),T.minDate!==!1&&(a=j.strToDate(T.minDate),a=new Date(a.getFullYear(),a.getMonth(),a.getDate()));var f,l,c,h,p=[],d,v=!0;while(i<j.currentTime.countDaysInMonth()||r.getDay()!=T.dayOfWeekStart||j.currentTime.getMonth()==r.getMonth())p=[],i++,f=r.getDate(),l=r.getFullYear(),c=r.getMonth(),h=r.getWeekOfYear(),p.push("xdsoft_date"),T.beforeShowDay&&T.beforeShowDay.call?d=T.beforeShowDay.call(n,r):d=null,(u!==!1&&r>u||a!==!1&&r<a||d&&d[0]===!1)&&p.push("xdsoft_disabled"),d&&d[1]!=""&&p.push(d[1]),j.currentTime.getMonth()!=c&&p.push("xdsoft_other_month"),(T.defaultSelect||n.data("changed"))&&j.currentTime.dateFormat(T.formatDate)==r.dateFormat(T.formatDate)&&p.push("xdsoft_current"),s.dateFormat(T.formatDate)==r.dateFormat(T.formatDate)&&p.push("xdsoft_today"),(r.getDay()==0||r.getDay()==6||~T.weekends.indexOf(r.dateFormat(T.formatDate)))&&p.push("xdsoft_weekend"),T.beforeShowDay&&typeof T.beforeShowDay=="function"&&p.push(T.beforeShowDay(r)),v&&(t+="<tr>",v=!1,T.weeks&&(t+="<th>"+h+"</th>")),t+='<td data-date="'+f+'" data-month="'+c+'" data-year="'+l+'"'+' class="xdsoft_date xdsoft_day_of_week'+r.getDay()+" "+p.join(" ")+'">'+"<div>"+f+"</div>"+"</td>",r.getDay()==T.dayOfWeekStartPrev&&(t+="</tr>",v=!0),r.setDate(f+1);t+="</tbody></table>",L.html(t),k.find(".xdsoft_label span").eq(0).text(T.i18n[T.lang].months[j.currentTime.getMonth()]),k.find(".xdsoft_label span").eq(1).text(j.currentTime.getFullYear());var m="",g="",c="",y=function(t,r){var i=j.now();i.setHours(t),t=parseInt(i.getHours()),i.setMinutes(r),r=parseInt(i.getMinutes()),p=[],(T.maxTime!==!1&&j.strtotime(T.maxTime).getTime()<i.getTime()||T.minTime!==!1&&j.strtotime(T.minTime).getTime()>i.getTime())&&p.push("xdsoft_disabled"),(T.initTime||T.defaultSelect||n.data("changed"))&&parseInt(j.currentTime.getHours())==parseInt(t)&&(T.step>59||Math[T.roundTime](j.currentTime.getMinutes()/T.step)*T.step==parseInt(r))&&(T.defaultSelect||n.data("changed")?p.push("xdsoft_current"):T.initTime&&p.push("xdsoft_init_time")),parseInt(s.getHours())==parseInt(t)&&parseInt(s.getMinutes())==parseInt(r)&&p.push("xdsoft_today"),m+='<div class="xdsoft_time '+p.join(" ")+'" data-hour="'+t+'" data-minute="'+r+'">'+i.dateFormat(T.formatTime)+"</div>"};if(!T.allowTimes||!e.isArray(T.allowTimes)||!T.allowTimes.length)for(var i=0,o=0;i<(T.hours12?12:24);i++)for(o=0;o<60;o+=T.step)g=(i<10?"0":"")+i,c=(o<10?"0":"")+o,y(g,c);else for(var i=0;i<T.allowTimes.length;i++)g=j.strtotime(T.allowTimes[i]).getHours(),c=j.strtotime(T.allowTimes[i]).getMinutes(),y(g,c);M.html(m);var b="",i=0;for(i=parseInt(T.yearStart,10)+T.yearOffset;i<=parseInt(T.yearEnd,10)+T.yearOffset;i++)b+='<div class="xdsoft_option '+(j.currentTime.getFullYear()==i?"xdsoft_current":"")+'" data-value="'+i+'">'+i+"</div>";H.children().eq(0).html(b);for(i=0,b="";i<=11;i++)b+='<div class="xdsoft_option '+(j.currentTime.getMonth()==i?"xdsoft_current":"")+'" data-value="'+i+'">'+T.i18n[T.lang].months[i]+"</div>";P.children().eq(0).html(b),e(n).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(T.timepicker){var e;M.find(".xdsoft_current").length?e=".xdsoft_current":M.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time");if(e){var t=O[0].clientHeight,n=M[0].offsetHeight,r=M.find(e).index()*T.timeHeightInTimePicker+1;n-t<r&&(r=n-t),O.trigger("scroll_element.xdsoft_scroller",[parseInt(r)/(n-t)])}else O.trigger("scroll_element.xdsoft_scroller",[0])}});var I=0;L.on("click.xdsoft","td",function(r){r.stopPropagation(),I++;var i=e(this),s=j.currentTime;if(s===undefined||s===null)j.currentTime=j.now(),s=j.currentTime;if(i.hasClass("xdsoft_disabled"))return!1;s.setDate(1),s.setFullYear(i.data("year")),s.setMonth(i.data("month")),s.setDate(i.data("date")),n.trigger("select.xdsoft",[s]),t.val(j.str()),(I>1||T.closeOnDateSelect===!0||T.closeOnDateSelect===0&&!T.timepicker)&&!T.inline&&n.trigger("close.xdsoft"),T.onSelectDate&&T.onSelectDate.call&&T.onSelectDate.call(n,j.currentTime,n.data("input")),n.data("changed",!0),n.trigger("xchange.xdsoft"),n.trigger("changedatetime.xdsoft"),setTimeout(function(){I=0},200)}),M.on("click.xdsoft","div",function(t){t.stopPropagation();var r=e(this),i=j.currentTime;if(i===undefined||i===null)j.currentTime=j.now(),i=j.currentTime;if(r.hasClass("xdsoft_disabled"))return!1;i.setHours(r.data("hour")),i.setMinutes(r.data("minute")),n.trigger("select.xdsoft",[i]),n.data("input").val(j.str()),!T.inline&&n.trigger("close.xdsoft"),T.onSelectTime&&T.onSelectTime.call&&T.onSelectTime.call(n,j.currentTime,n.data("input")),n.data("changed",!0),n.trigger("xchange.xdsoft"),n.trigger("changedatetime.xdsoft")}),n.mousewheel&&C.mousewheel(function(e,t,n,r){return T.scrollMonth?(t<0?j.nextMonth():j.prevMonth(),!1):!0}),n.mousewheel&&O.unmousewheel().mousewheel(function(e,t,n,r){if(!T.scrollTime)return!0;var i=O[0].clientHeight,s=M[0].offsetHeight,o=Math.abs(parseInt(M.css("marginTop"))),u=!0;return t<0&&s-i-T.timeHeightInTimePicker>=o?(M.css("marginTop","-"+(o+T.timeHeightInTimePicker)+"px"),u=!1):t>0&&o-T.timeHeightInTimePicker>=0&&(M.css("marginTop","-"+(o-T.timeHeightInTimePicker)+"px"),u=!1),O.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(M.css("marginTop"))/(s-i))]),e.stopPropagation(),u});var q=!1;n.on("changedatetime.xdsoft",function(){if(T.onChangeDateTime&&T.onChangeDateTime.call){var e=n.data("input");T.onChangeDateTime.call(n,j.currentTime,e),delete T.value,e.trigger("change")}}).on("generate.xdsoft",function(){T.onGenerate&&T.onGenerate.call&&T.onGenerate.call(n,j.currentTime,n.data("input")),q&&(n.trigger("afterOpen.xdsoft"),q=!1)}).on("click.xdsoft",function(e){e.stopPropagation()});var R=0;t.mousewheel&&t.mousewheel(function(e,r,i,s){if(!T.scrollInput)return!0;if(!T.datepicker&&T.timepicker)return R=M.find(".xdsoft_current").length?M.find(".xdsoft_current").eq(0).index():0,R+r>=0&&R+r<M.children().length&&(R+=r),M.children().eq(R).length&&M.children().eq(R).trigger("mousedown"),!1;if(T.datepicker&&!T.timepicker)return C.trigger(e,[r,i,s]),t.val&&t.val(j.str()),n.trigger("changedatetime.xdsoft"),!1});var U=function(){var t=n.data("input").offset(),r=t.top+n.data("input")[0].offsetHeight-1,i=t.left,s="absolute";T.fixed?(r-=e(window).scrollTop(),i-=e(window).scrollLeft(),s="fixed"):(r+n[0].offsetHeight>e(window).height()+e(window).scrollTop()&&(r=t.top-n[0].offsetHeight+1),r<0&&(r=0),i+n[0].offsetWidth>e(window).width()&&(i=t.left-n[0].offsetWidth+n.data("input")[0].offsetWidth)),n.css({left:i,top:r,position:s})};n.on("open.xdsoft",function(){var t=!0;T.onShow&&T.onShow.call&&(t=T.onShow.call(n,j.currentTime,n.data("input"))),t!==!1&&(n.show(),U(),e(window).off("resize.xdsoft",U).on("resize.xdsoft",U),T.closeOnWithoutClick&&e([document.body,window]).on("mousedown.xdsoft",function r(){n.trigger("close.xdsoft"),e([document.body,window]).off("mousedown.xdsoft",r)}))}).on("close.xdsoft",function(e){var t=!0;T.onClose&&T.onClose.call&&(t=T.onClose.call(n,j.currentTime,n.data("input"))),t!==!1&&!T.opened&&!T.inline&&n.hide(),e.stopPropagation()}).data("input",t);var z=0,W=0;n.data("xdsoft_datetime",j),n.setOptions(T),j.setCurrentTime(X()),t.data("xdsoft_datetimepicker",n).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(e){if(t.is(":disabled")||t.is(":hidden")||!t.is(":visible")||t.data("xdsoft_datetimepicker").is(":visible")&&T.closeOnInputClick)return;clearTimeout(z),z=setTimeout(function(){if(t.is(":disabled")||t.is(":hidden")||!t.is(":visible"))return;q=!0,j.setCurrentTime(X()),n.trigger("open.xdsoft")},100)}).on("keydown.xdsoft",function(t){var r=this.value,i=t.which;switch(!0){case!!~[f].indexOf(i):var s=e("input:visible,textarea:visible");return n.trigger("close.xdsoft"),s.eq(s.index(this)+1).focus(),!1;case!!~[m].indexOf(i):return n.trigger("close.xdsoft"),!0}})},L=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off("open.xdsoft focusin.xdsoft focusout.xdsoft mousedown.xdsoft blur.xdsoft keydown.xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft"),t.unmousewheel&&t.unmousewheel())};return e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode==u&&(x=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode==u&&(x=!1)}),this.each(function(){var t;if(t=e(this).data("xdsoft_datetimepicker")){if(e.type(n)==="string")switch(n){case"show":e(this).select().focus(),t.trigger("open.xdsoft");break;case"hide":t.trigger("close.xdsoft");break;case"destroy":L(e(this));break;case"reset":this.value=this.defaultValue,(!this.value||!t.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,T.format)))&&t.data("changed",!1),t.data("xdsoft_datetime").setCurrentTime(this.value)}else t.setOptions(n);return 0}e.type(n)!=="string"&&(!T.lazyInit||T.open||T.inline?k(e(this)):C(e(this)))})},e.fn.datetimepicker.defaults=t}(jQuery),function(e){typeof define=="function"&&define.amd?define("datetimepicker",["jquery"],e):typeof exports=="object"?module.exports=e:e(jQuery)}(function(e){function o(t){var n=t||window.event,s=[].slice.call(arguments,1),o=0,u=0,a=0,f=0,l=0,c;t=e.event.fix(n),t.type="mousewheel",n.wheelDelta&&(o=n.wheelDelta),n.detail&&(o=n.detail*-1),n.deltaY&&(a=n.deltaY*-1,o=a),n.deltaX&&(u=n.deltaX,o=u*-1),n.wheelDeltaY!==undefined&&(a=n.wheelDeltaY),n.wheelDeltaX!==undefined&&(u=n.wheelDeltaX*-1),f=Math.abs(o);if(!r||f<r)r=f;l=Math.max(Math.abs(a),Math.abs(u));if(!i||l<i)i=l;return c=o>0?"floor":"ceil",o=Math[c](o/r),u=Math[c](u/i),a=Math[c](a/i),s.unshift(t,o,u,a),(e.event.dispatch||e.event.handle).apply(this,s)}var t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],n="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r,i;if(e.event.fixHooks)for(var s=t.length;s;)e.event.fixHooks[t[--s]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],o,!1);else this.onmousewheel=o},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],o,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){if(e=="unixtime")return parseInt(this.getTime()/1e3);Date.formatFunctions[e]==null&&Date.createNewFormat(e);var t=Date.formatFunctions[e];return this[t]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;var code="Date.prototype."+funcName+" = function() {return ",special=!1,ch="";for(var i=0;i<format.length;++i)ch=format.charAt(i),!special&&ch=="\\"?special=!0:special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch);eval(code.substring(0,code.length-3)+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){if(t=="unixtime")return new Date(isNaN(parseInt(e))?0:parseInt(e)*1e3);Date.parseFunctions[t]==null&&Date.createParser(t);var n=Date.parseFunctions[t];return Date[n](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="";for(var i=0;i<format.length;++i)ch=format.charAt(i),!special&&ch=="\\"?special=!0:special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c));code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+t+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),n=7-t.getDay()+4;return String.leftPad(Math.ceil((e-n)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return(e&3)==0&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return e<0?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return e<0?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,n){var r=new String(e);n==null&&(n=" ");while(r.length<t)r=n+r;return r},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"},define("views/TimeMachine",["require","constants/Elements","underscore","views/BaseView","templates/ui/timeMachine","utils/getCookie","datetimepicker"],function(e){var t=e("constants/Elements"),n=e("underscore"),r=e("views/BaseView"),i=e("templates/ui/timeMachine"),s=e("utils/getCookie"),o=e("datetimepicker"),u=r.extend({template:i,dateFormat:"Y/m/d g:i a",initialize:function(){n.bindAll(this),this.render()},events:{"click .tardis-action":"setDate"},render:function(){var e=s("effectiveDate")||"now";if(e!="now"){var t=new Date(e.replace(/"/g,""));t.setMinutes(t.getMinutes()+t.getTimezoneOffset()),e=t.dateFormat(this.dateFormat)}return this.$el.html(this.template({effectiveDate:e})),e=="now"&&this.$(".tardis-action").removeClass("icon_multiply").removeClass("icon_arrow_sm_right"),this.$("input").css("width",this.$("input").val()=="now"?"3em":"12em").datetimepicker({onChangeDateTime:function(e,t){t.css("color","#C00").css("width",t.val()=="now"?"3em":"12em")},onClose:n.bind(function(e,t){this.$(".tardis-action").hasClass("icon_arrow_sm_right")||this.$(".tardis-action").removeClass("icon_multiply").addClass("icon_arrow_sm_right")},this),format:this.dateFormat}),this},setDate:function(){var e="";if(this.$(".tardis-action").hasClass("icon_arrow_sm_right")){var t=new Date(this.$("input").val());t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),e=t.toISOString().split(".")[0]}window.location=document.URL+document.URL.split("?").length>1?"&":"?_set_effective_date="+e}});return u}),define("views/ABTestWidgetView",["require","jquery","underscore","backbone","globalize","TweenMax","views/BaseView","utils/getCookie","utils/setCookie"],function(e){var t=e("jquery"),n=e("underscore"),r=e("backbone"),i=e("globalize"),s=e("TweenMax"),o=e("views/BaseView"),u=e("utils/getCookie"),a=e("utils/setCookie"),f=o.extend({testGroups:{},testGroup:null,className:"div.abtest",initialize:function(e){e=e||{},n.bindAll(this),this._buildTestGroups(),this._selectVariant()},_buildTestGroups:function(){var e=this;t(this.className).each(function(n,r){e.testGroup=t(r).data("test-group"),e.testGroups.hasOwnProperty(e.testGroup)?e.testGroups[e.testGroup].push(r):e.testGroups[e.testGroup]=[r]})},_selectVariant:function(){for(var e in this.testGroups){var n=u(e),r=!1;if(n!=null)t('div[data-test-id="'+n+'"]').show(),r=!0;else{var i=this.testGroups[e].length,s=Math.floor(Math.random()*i),o=this.testGroups[e][s];t(o).show(),n=t(o).data("test-id"),a(e,n,14),a(e+"-clicked","",-1)}r||gDataLayer.push({event:"abtest",abgroup:e,variant:n,cookie:r});var f=t('div[data-test-id="'+n+'"] a').first();f.length&&f.on("click",{group:e,variant:n,cookie:r},t.proxy(this._abclickHandler,this))}},_abclickHandler:function(e){var t=u(e.data.group+"-clicked");t||(gDataLayer.push({event:"abtileClicked",abgroup:e.data.group,variant:e.data.variant,cookie:e.data.cookie}),a(e.data.group+"-clicked",!0,14))}});return f}),function(e,t,n){function s(t,n){this.element=t,this.options=e.extend({},i,n),this._defaults=i,this._name=r,this.modal=null,this.screen=null,this.init()}var r="GlobalUtilityStrip",i={};s.prototype.init=function(){var t=this,n=e(t.element).data("site"),r=e(t.element).data("locale"),i=e(t.element).data("api");i=i+n+"/"+r+"/",t.highest_z_index=0,e.each(e("*"),function(){var n=parseInt(e(this).css("z-index"),10);n>t.highest_z_index&&(t.highest_z_index=n)}),e.ajaxPrefilter(function(e){e.crossDomain={crossDomain:!0},e.xhrFields={withCredentials:!0}}),e.get(i).done(function(e){t.render(e,!1),t.initExitWarning(e,"gus-exit-link","gus-modal"),t.initExitWarning(e,"gus-pokemon-center-link","gus-pokemon-center-modal"),t.initFlyout(),t.addEventHandlers(),t.highlightTCGO()}).fail(function(){var e='"promotions":[],"localized":{"external_link_title":"","external_link_content":"","pokemon_center_link_title":"","pokemon_center_link_content":"","continue":"Continue","cancel":"Cancel"},"user_info":{"enabled":false}}',n='{"en":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/pokemon-tcg/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"de":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/de/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/de/pokemon-sammelkartenspiel/online-spielen/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"es":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/es/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/es/jcc-pokemon/jugar-en-linea/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"it":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/it/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/it/gcc/gioca/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"fr":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/fr/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/fr/jcc-pokemon/jouer-en-ligne/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"en-gb":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/uk/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/uk/pokemon-tcg/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"da":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/dk/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/dk/pokemon-tcg/spil-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"fi":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/fi/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/fi/pokemon-tcg/pelaa-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"nl":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/nl/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/nl/pokemon-tcg/online-spelen/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"nb":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/no/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/no/pokemon-tcg/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"ru":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/ru/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/ru/pokemon-tcg/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"sv":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/se/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/se/pokemon-tcg/spela-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"pt-br":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/br/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/br/pokemon-estampas-ilustradas/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"en-ca":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/ca/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/ca/pokemon-tcg/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"en-au":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/au/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/au/pokemon-tcg/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"es-la":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/pokemon-tcg/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"fr-ca":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/pokemon-tcg/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"fr-be":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/pokemon-tcg/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"nl-be":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/pokemon-tcg/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+',"pt":{"buttons":[{"site_slug":"pcom","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pokemon-79x45.png","external_type":""},{"site_slug":"tcgo","link_url":"https://web.archive.org/web/20151028121945/http://www.pokemon.com/us/pokemon-tcg/play-online/","image_url":"assets/cms2/img/misc/gus/buttons/logo-tcgo-79x45.png","external_type":""},{"site_slug":"pgl","link_url":"https://web.archive.org/web/20151028121945/http://3ds.pokemon-gl.com/","image_url":"assets/cms2/img/misc/gus/buttons/logo-pgl-79x45.png","external_type":""}],'+e+"}",i=JSON.parse(n);t.render(i[r],!0),t.initExitWarning(i,"gus-exit-link","gus-modal"),t.initFlyout(),t.addEventHandlers(),t.highlightTCGO()})},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new s(this,t))})},s.prototype.addEventHandlers=function(){var t=this;t.screen.on("click",e.proxy(t.onScreenClick,this))},s.prototype.initFlyout=function(){var t=this,n=e(this.element);n.find("li.gus-button.gus-active").prev().css("padding-right","0"),n.find(".nav-toggle a, .gus-close").click(function(e){e.preventDefault(),n.toggleClass("gus-opened")}),n.find(".flyout-wrapper").css("z-index",t.highest_z_index+1)},s.prototype.initExitWarning=function(n,r,i){var s=this;e(this.element).find("a."+r).each(function(){var t=e(this).attr("href");e(this).removeAttr("href"),e(this).attr("rel",t),e(this).on("click",function(){s.showExternalWarning(e(this).attr("rel"),i)})}),e(t).on("resize",function(e){s.centerPopup(s.modal),s.resizeScreen()})},s.prototype.showExternalWarning=function(t,n){var r=this;r.modal=e(this.element).find("#"+n),r.modal.find("a.continueBtn").attr("href",t),r.modal.find("a.closeBtn").on("click",function(e){e.preventDefault(),r.modal.hide(),r.screen.hide()}),this.centerPopup(r.modal),r.screen.show(),r.screen.css("z-index",r.highest_z_index+2),r.modal.show(),r.modal.css("z-index",r.highest_z_index+3)},s.prototype.highlightTCGO=function(n){var r=this;if(e(r.element).data("site")==="pcom"){var i=t.location.pathname.split("/").slice(0,4);if(i[2]&&i[3]){var s=e('li.gus-button a[href*="'+i.join("/")+'"]');s.length>0&&(e("li.gus-button").removeClass("gus-active"),s.parent("li").addClass("gus-active"))}}},s.prototype.centerPopup=function(n){if(n===null)return;var r=t.innerWidth?t.innerWidth:e(t).width(),i=t.innerHeight?t.innerHeight:e(t).height(),s=n.outerWidth(),o=n.outerHeight(),u,a,f,l,c=/matrix\((-?\d*\.?\d+),\s*0,\s*0,\s*(-?\d*\.?\d+),\s*0,\s*0\)/,h=e("body").css("transform")?e("body").css("transform").match(c):null,p=n.css("transform")?n.css("transform").match(c):null;f=parseInt(n.css("top"),10),u=(r-s)*.5,a=(i-o)*.5,l=i-o>0,h&&(h[1]&&h[1]!=="0"&&h[1]!=="0.0"&&(u/=h[1]),h[2]&&h[2]!=="0"&&h[2]!=="0.0"&&(a/=h[2])),p&&(p[1]&&(u*=h[1]),p[2]&&(a*=h[2])),this.shouldCenterVertically&&l?f=a:l||(f=e(t).scrollTop()+parseInt(this.initPositionTop,10)),n.css({left:u,top:isNaN(f)?0:f,position:l?"fixed":"absolute"})},s.prototype.resizeScreen=function(){var r,i;r=e(n).height(),i=t.innerWidth?t.innerWidth:e(t).width(),this.screen.css({height:r,width:i})},s.prototype.onScreenClick=function(e){e.preventDefault(),this.screen.fadeOut(300),this.modal.hide()},s.prototype.render=function(t,n){var r=this,i=e(r.element).data("site"),s=e(r.element).data("domain"),o=e(r.element).data("width")?' style="max-width: '+e(r.element).data("width")+'"':"",u=n?"https://web.archive.org/web/20151028121945/http://assets.pokemon.com/":"";s=s===undefined?u:s;var a=t.user_info,f=a.enabled?"auth-active":"",l="gus";a.enabled&&(l+=" auth-active"),t.buttons.length===0&&e(r.element).addClass("gus-no-buttons");var c="";c+='<div class="outer-container">',c+='    <div class="inner-container"'+o+">",c+='        <ul class="'+l+'">',e.each(t.buttons,function(e,t){var n=e>2?"gus-mobile-button":"";c+=r._renderButton(t,i,s,n)}),c+='          <span class="promotion-wrapper">',e.each(t.promotions,function(e,t){c+=r._renderPromotion(t,s)}),c+="			</span>",c+="        </ul>",a.enabled&&(c+='    <ul class="auth">',c+="      "+r._renderAuth(a,t),c+="    </ul>"),c+="    </div>",c+="    <!-- #inner-container -->",c+="</div>",c+="<!-- #outer-container -->",c+='<div class="nav-toggle">',c+='    <a href="#"></a>',c+="</div>",c+='<div class="flyout-wrapper">',c+='    <div class="flyout">',c+='<div class="gus-close">',c+='    <a href="#"></a>',c+="</div>",c+="<div class='gus-flyout-contents'>",a.enabled&&(c+='   <ul class="flyout-auth">',c+="      "+r._renderAuth(a,t),c+="    </ul>"),c+='        <ul class="flyout-gus">',e.each(t.buttons,function(e,t){var n=e>2?"gus-mobile-button":"";c+=r._renderButton(t,i,s,n)}),c+='            <span class="promotion-wrapper">',e.each(t.promotions,function(e,t){c+=r._renderPromotion(t,s)}),c+="            </span>",c+="        </ul>",c+="    </div>",c+="</div>",c+="</div>",c+=r._renderExitModal(t),c+=r._renderPokemonCenterExitModal(t),e(r.element).html(c),e(r.element).append('<div class="gus-popup-screen"></div>'),r.screen=e(r.element).find(".gus-popup-screen"),t.buttons.length===0&&t.promotions.length===0&&!a.enabled&&e(r.element).remove()},s.prototype._renderButton=function(e,t,n,r){var i=e.site_slug===t?"gus-active":"",s="";return s+='<li class="gus-button '+i+" "+r+" "+t+'">',s+='  <a href="'+e.link_url+'" class="gus-'+e.external_type+'">',s+='      <img src="'+n+e.image_url+'" alt="'+e.site_slug+'" class="bounce"/>',s+="  </a>",s+="</li>",s},s.prototype._renderPromotion=function(e,t){var n="";return n+='<li class="promotion">',n+='  <a href="'+e.link_url+'" class="gus-'+e.external_type+'">',n+='      <img src="'+t+e.image_url+'" alt="'+e.site_slug+'"/>',n+="</a>",n+="          </li>",n},s.prototype._renderAuth=function(e,t){var n="";return e.logged_in?(n+='<li class="user profile">',n+='    <a href="'+e.profile_url+'">',n+='      <div class="avatar-icon-wrapper"> ',n+='          <img class="avatar-icon" src="'+e.avatar+'"/>',n+="      </div>",n+="         "+e.screen_name,n+="    </a>",n+="</li>",n+='<li class="user signout">',n+='    <a href="'+e.logout_url+'">',n+="         "+t.localized.logout,n+="    </a>",n+="</li>"):(n+='<li class="user signin">',n+='    <a href="'+e.login_url+'">',n+='      <div class="avatar-icon-wrapper"> ',n+='          <img class="avatar-icon" src="'+e.login_img+'" alt="'+t.localized.login+'"/>',n+="      </div>",n+="         "+t.localized.login,n+="    </a>",n+="</li>",n+='<li class="user create-account">',n+='    <a href="'+e.signup_url+'">',n+="         "+t.localized.create_account,n+="    </a>",n+="</li>"),n},s.prototype._renderExitModal=function(e){var t="";return t+='<div id="gus-modal" class="gus-popup" style="display:none;">',t+='	<div class="externalLink">',t+="	    <h6>"+e.localized.external_link_title+"</h6>",t+="		<p>"+e.localized.external_link_content+"</p>",t+='		<div class="gus-buttons-wrapper">',t+='			<a href="#" class="gus-button gus-button-green continueBtn">',t+="                "+e.localized.continue,t+="            </a>",t+='			<a href="#" class="gus-button gus-button-darkgray closeBtn">',t+="                "+e.localized.cancel,t+="            </a>",t+="		</div>",t+="	</div>",t+="</div>",t},s.prototype._renderPokemonCenterExitModal=function(e){var t="";return t+='<div id="gus-pokemon-center-modal" class="gus-popup" style="display:none;">',t+='	<div class="externalLink centerLink">',t+="	    <h6>"+e.localized.pokemon_center_link_title+"</h6>",t+="		<h6>"+e.localized.pokemon_center_link_content+"</h6>",t+='		<div class="gus-buttons-wrapper">',t+='			<a href="#" class="gus-button gus-button-green continueBtn">',t+="                "+e.localized.continue,t+="            </a>",t+='			<a href="#" class="gus-button gus-button-darkgray closeBtn">',t+="                "+e.localized.cancel,t+="            </a>",t+="		</div>",t+="	</div>",t+="</div>",t}}(jQuery,window,document),define("gus",function(){}),define("modules/Application",["require","jquery","underscore","backbone.super","globalize","handlebars","TweenMax","ScrollTo","breakpoint","typeahead","nouislider","tiny-pubsub","controllers/ContentRatingController","controllers/CustomSelectList","controllers/CustomScrollbar","controllers/DateInputController","controllers/ExternalLinkController","controllers/HoverController","controllers/MatchHeightController","controllers/ModalVideoController","controllers/TooltipController","controllers/TrackingController","controllers/TileTrackingController","constants/Layout","constants/RegionsToCulturesMap","constants/Region","constants/Strings","detection/imageCrossOrigin","events/LayoutEvent","events/ScrollEvent","events/UserEvent","widgets/Toastr","views/DashboardView","views/FooterView","views/GenericSliderView","views/MosaicView","views/ModalBaseView","views/NavigationView","views/SearchView","views/InMaintenanceStatusIndicatorView","views/TCGGameServerStatusIndicatorView","utils/websocket","utils/VideoEmbedder","views/TimeMachine","views/ABTestWidgetView","gus"],function(e){var t=e("jquery"),n=e("underscore"),r=e("backbone.super"),i=e("globalize"),s=e("handlebars"),o=e("TweenMax"),u=e("ScrollTo"),a=e("breakpoint"),f=e("typeahead"),l=e("nouislider"),c=e("tiny-pubsub"),h=e("controllers/ContentRatingController"),p=e("controllers/CustomSelectList"),d=e("controllers/CustomScrollbar"),v=e("controllers/DateInputController"),m=e("controllers/ExternalLinkController"),g=e("controllers/HoverController"),y=e("controllers/MatchHeightController"),b=e("controllers/ModalVideoController"),w=e("controllers/TooltipController"),E=e("controllers/TrackingController"),S=e("controllers/TileTrackingController"),x=e("constants/Layout"),T=e("constants/RegionsToCulturesMap"),N=e("constants/Region"),C=e("constants/Strings"),k=e("detection/imageCrossOrigin"),L=e("events/LayoutEvent"),A=e("events/ScrollEvent"),O=e("events/UserEvent"),M=e("widgets/Toastr"),_=e("views/DashboardView"),D=e("views/FooterView"),P=e("views/GenericSliderView"),H=e("views/MosaicView"),B=e("views/ModalBaseView"),j=e("views/NavigationView"),F=e("views/SearchView"),I=e("views/InMaintenanceStatusIndicatorView"),q=e("views/TCGGameServerStatusIndicatorView"),R=e("utils/websocket"),U=e("utils/VideoEmbedder"),z=e("views/TimeMachine"),W=e("views/ABTestWidgetView"),X=e("gus"),V={initialize:function(r){r=r||{},this.model=r.model,this._highlightNav(),this._initViews(),this._initGenericSliders(),this._initControllers(),this._addEventHandlers(this.model);var s=T[N],o,u=this;s?(o=C.CULTURES_PREFIX+s,e([o],function(){i.culture(s),u.model.set("initialized",!0),u._initDashboard()})):(this.model.set("initialized",!0),this._initDashboard()),Modernizr.touch&&this.model.get("isMobile")&&n.defer(function(){window.scrollTo(0,1)}),R.initialize(),this._initHeroVideo(),t(".pokemon-gus-container").GlobalUtilityStrip()},_highlightNav:function(){if(this.model.get("isMobile")){var e=t('nav.main a[href="'+window.location.pathname+'"]'),n=e.parents("ul.subnav");n&&n.addClass("open animate").css({height:"100%",background:"#424242"})}else{var r=window.location.pathname.split("/").slice(0,3);r[2]?t('nav.main a[href*="'+r.join("/")+'"]').addClass("active"):t("nav.main li.home a").addClass("active")}},_addEventHandlers:function(e){n.bindAll(this);var r=t("img.breakpoint"),i=e.get("isMobile"),s=e.get("scrollTop"),o=e.get("height"),u=e.get("width");e.on("change:orientation",this._onOrientationChange),e.on("change:width change:height",this._onResize),e.on("change:isMobile",this._onLayoutChange),e.on("change:scrollTop",this._onScrollChange),t.publish(L.RESIZE,u,o),t.publish(L.CHANGE,i),t.publish(A.CHANGE,s),r.length?r.breakpoint():t.window.trigger(L.BREAKPOINT)},_initDashboard:function(){var e=t(".profile-nav");if(e.length)var n=new _},_initViews:function(){var e=new j,n=new I,r=new q,i=new F;if(window.pokemonUI.timeMachine)var s=new z({el:t("#time-machine")});var o=t(".mosaic");if(o.length)var u=new H({initializeAnimations:this.model.get("initialized")});var a=new D,f=new W},_initControllers:function(){d.initialize(),p.initialize(),v.initialize(),m.initialize(),g.initialize(),b.initialize(),y.initialize(),h.initialize(),E.initialize(),S.initialize(),M.initialize()},_initGenericSliders:function(){var e=t(".generic-slider");e.each(function(){var e=new P({el:t(this),highlightItemOnLoad:0})})},_onLayoutChange:function(e,n){t.publish(L.CHANGE,n)},_onOrientationChange:function(e,n){t.publish(L.ORIENTATION,n)},_onResize:function(e){var n=e.get("height"),r=e.get("width");t.publish(L.RESIZE,r,n)},_onScrollChange:function(e,n){t.publish(A.CHANGE,n)},__embedVideo:function(e,n,r){if(!t("#takeover-video-container"+n).length)return;window.limelightPlayerSections&&window.limelightPlayerSections.length>0?window.limelightPlayerSections.push("section#video_takeover_section"+n):window.limelightPlayerSections=["section#video_takeover_section"+n],window.limelightPlayerCallback=function(e,n,r){if(n=="onPlayerLoad")for(var i in window.limelightPlayerSections)t(window.limelightPlayerSections[i]+" div.loader").remove(),t(window.limelightPlayerSections[i]).attr("style",""),t(window.limelightPlayerSections[i]+" div.offscreen").removeClass("offscreen")},window.limelightPlayerContainers&&window.limelightPlayerContainers.length>0?window.limelightPlayerContainers.push("#takeover-video-container"+n):window.limelightPlayerContainers=["#takeover-video-container"+n];var i=function(){for(var e in window.limelightPlayerContainers){var n=t(window.limelightPlayerContainers[e]),r=n.width();n.height(Math.ceil(r*.5625+50))}};i(),t(window).bind("resize",i);var s=new U(e,t("#takeover-video-container"+n),"https://web.archive.org/web/20151028121945/http://assets12.pokemon.com/static2/_ui/img/chrome/video-embed-bg.png",{playerType:"delve",shouldAutoPlay:r,playerForm:"d615ffb1cf9841eb9ecb460c4603db4c",startingBitrate:1200});s.embed()},_initHeroVideo:function(){var e=window.homeVideoTakeoverMediaId;if(!e)return;var t=!0;e=e.split(",");for(var n in e){var r="";n>0&&(r=(Number(n)+1).toString(),t=!1),this.__embedVideo(e[n],r,t)}}};return V}),define("models/applicationState",["require","constants/Elements","underscore","backbone","constants/Layout"],function(e){var t=e("constants/Elements"),n=e("underscore"),r=e("backbone"),i=e("constants/Layout"),s=r.Model.extend({defaults:{height:0,initialized:!1,isMobile:!0,orientation:i.PORTRAIT,scrollTop:0,width:0},initialize:function(e){e=e||{},n.bindAll(this),this._addEventHandlers(),t.ajaxPrefilter(function(e,t,n){e.crossDomain={crossDomain:!0},e.xhrFields={withCredentials:!0}})},_addEventHandlers:function(){var e=n.throttle(this._onResize,500);this.lastScrollTop=t.window.scrollTop(),t.window.on("resize",e),t.window.trigger("resize"),Modernizr.touch&&(t.body.on("touchmove",this._onScroll),t.body.trigger("touchmove")),t.window.on("scroll",this._onScroll),t.window.trigger("scroll")},_getIsMobile:function(e){return e<i.BREAKPOINT},_getOrientation:function(){switch(window.orientation){case-90:case 90:return i.LANDSCAPE;default:return i.PORTRAIT}},_onResize:function(e){var n=t.window.innerWidth(),r=t.window.innerHeight(),i=this._getIsMobile(n),s=this._getOrientation();this.set({height:r,isMobile:i,width:n,orientation:s})},_onScroll:function(e){var n=t.window.scrollTop();this.set({scrollTop:n})}});return new s}),define("vendor/plugins/domReady",[],function(){function u(e){var t;for(t=0;t<e.length;t+=1)e[t](s)}function a(){var e=o;i&&e.length&&(o=[],u(e))}function f(){i||(i=!0,n&&clearInterval(n),a())}function c(e){return i?e(s):o.push(e),c}var e,t,n,r=typeof window!="undefined"&&window.document,i=!r,s=r?document:null,o=[];if(r){if(document.addEventListener)document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1);else if(window.attachEvent){window.attachEvent("onload",f),t=document.createElement("div");try{e=window.frameElement===null}catch(l){}t.doScroll&&e&&window.external&&(n=setInterval(function(){try{t.doScroll(),f()}catch(e){}},30))}document.readyState==="complete"&&f()}return c.version="2.0.1",c.load=function(e,t,n,r){r.isBuild?n(null):c(n)},c});

}
/*
     FILE ARCHIVED ON 12:19:45 Oct 28, 2015 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 08:13:57 Apr 29, 2023.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 86.876
  exclusion.robots: 0.141
  exclusion.robots.policy: 0.128
  RedisCDXSource: 0.831
  esindex: 0.009
  LoadShardBlock: 63.267 (3)
  PetaboxLoader3.datanode: 63.683 (4)
  load_resource: 58.504
  PetaboxLoader3.resolve: 29.543
*/